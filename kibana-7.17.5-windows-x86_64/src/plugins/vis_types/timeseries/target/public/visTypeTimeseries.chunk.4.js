(window.visTypeTimeseries_bundle_jsonpfunction=window.visTypeTimeseries_bundle_jsonpfunction||[]).push([[4],Array(38).concat([function(e,t){var i=function(){};i.prototype.toCSS=function(e){var t=[];return this.genCSS(e,{add:function(e,i,s){t.push(e)},isEmpty:function(){return 0===t.length}}),t.join("")},i.prototype.genCSS=function(e,t){t.add(this.value)},i.prototype.accept=function(e){this.value=e.visit(this.value)},i.prototype.eval=function(){return this},i.prototype._operate=function(e,t,i,s){switch(t){case"+":return i+s;case"-":return i-s;case"*":return i*s;case"/":return i/s}},i.prototype.fround=function(e,t){var i=e&&e.numPrecision;return null==i?t:Number((t+2e-16).toFixed(i))},i.compare=function(e,t){if(e.compare&&"Quoted"!==t.type&&"Anonymous"!==t.type)return e.compare(t);if(t.compare)return-t.compare(e);if(e.type===t.type){if(e=e.value,t=t.value,!Array.isArray(e))return e===t?0:void 0;if(e.length===t.length){for(var s=0;s<e.length;s++)if(0!==i.compare(e[s],t[s]))return;return 0}}},i.numericCompare=function(e,t){return e<t?-1:e===t?0:e>t?1:void 0},i.prototype.blocksVisibility=function(){return null==this.visibilityBlocks&&(this.visibilityBlocks=0),0!==this.visibilityBlocks},i.prototype.addVisibilityBlock=function(){null==this.visibilityBlocks&&(this.visibilityBlocks=0),this.visibilityBlocks=this.visibilityBlocks+1},i.prototype.removeVisibilityBlock=function(){null==this.visibilityBlocks&&(this.visibilityBlocks=0),this.visibilityBlocks=this.visibilityBlocks-1},i.prototype.ensureVisibility=function(){this.nodeVisible=!0},i.prototype.ensureInvisibility=function(){this.nodeVisible=!1},i.prototype.isVisible=function(){return this.nodeVisible},i.prototype.visibilityInfo=function(){return{visibilityBlocks:this.visibilityBlocks,nodeVisible:this.nodeVisible}},i.prototype.copyVisibilityInfo=function(e){e&&(this.visibilityBlocks=e.visibilityBlocks,this.nodeVisible=e.nodeVisible)},e.exports=i},function(e,t,i){var s=i(85),n=i(10),a=n;a.v1=s,a.v4=n,e.exports=a},function(e,t,i){"use strict";var s,n=function(){return void 0===s&&(s=Boolean(window&&document&&document.all&&!window.atob)),s},a=function(){var e={};return function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}e[t]=i}return e[t]}}(),r=[];function o(e){for(var t=-1,i=0;i<r.length;i++)if(r[i].identifier===e){t=i;break}return t}function l(e,t){for(var i={},s=[],n=0;n<e.length;n++){var a=e[n],l=t.base?a[0]+t.base:a[0],u=i[l]||0,c="".concat(l," ").concat(u);i[l]=u+1;var d=o(c),p={css:a[1],media:a[2],sourceMap:a[3]};-1!==d?(r[d].references++,r[d].updater(p)):r.push({identifier:c,updater:b(p,t),references:1}),s.push(c)}return s}function u(e){var t=document.createElement("style"),s=e.attributes||{};if(void 0===s.nonce){var n=i.nc;n&&(s.nonce=n)}if(Object.keys(s).forEach((function(e){t.setAttribute(e,s[e])})),"function"==typeof e.insert)e.insert(t);else{var r=a(e.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(t)}return t}var c,d=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function p(e,t,i,s){var n=i?"":s.media?"@media ".concat(s.media," {").concat(s.css,"}"):s.css;if(e.styleSheet)e.styleSheet.cssText=d(t,n);else{var a=document.createTextNode(n),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(a,r[t]):e.appendChild(a)}}function g(e,t,i){var s=i.css,n=i.media,a=i.sourceMap;if(n?e.setAttribute("media",n):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=s;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(s))}}var h=null,m=0;function b(e,t){var i,s,n;if(t.singleton){var a=m++;i=h||(h=u(t)),s=p.bind(null,i,a,!1),n=p.bind(null,i,a,!0)}else i=u(t),s=g.bind(null,i,t),n=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(i)};return s(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;s(e=t)}else n()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=n());var i=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var s=0;s<i.length;s++){var n=o(i[s]);r[n].references--}for(var a=l(e,t),u=0;u<i.length;u++){var c=o(i[u]);0===r[c].references&&(r[c].updater(),r.splice(c,1))}i=a}}}},function(e,t,i){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=function(e,t){var i=e[1]||"",s=e[3];if(!s)return i;if(t&&"function"==typeof btoa){var n=(r=s,o=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(o),"/*# ".concat(l," */")),a=s.sources.map((function(e){return"/*# sourceURL=".concat(s.sourceRoot||"").concat(e," */")}));return[i].concat(a).concat([n]).join("\n")}var r,o,l;return[i].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(i,"}"):i})).join("")},t.i=function(e,i,s){"string"==typeof e&&(e=[[null,e,""]]);var n={};if(s)for(var a=0;a<this.length;a++){var r=this[a][0];null!=r&&(n[r]=!0)}for(var o=0;o<e.length;o++){var l=[].concat(e[o]);s&&n[l[0]]||(i&&(l[2]?l[2]="".concat(i," and ").concat(l[2]):l[2]=i),t.push(l))}},t}},,,function(e,t){e.exports=function e(t){return{_data:{},add:function(e,t){e=e.toLowerCase(),this._data.hasOwnProperty(e),this._data[e]=t},addMultiple:function(e){Object.keys(e).forEach(function(t){this.add(t,e[t])}.bind(this))},get:function(e){return this._data[e]||t&&t.get(e)},inherit:function(){return e(this)}}}(null)},function(e,t,i){"use strict";var s=i(57);i.d(t,"a",(function(){return s.b})),i.d(t,"c",(function(){return s.c})),i.d(t,"d",(function(){return s.d})),i.d(t,"e",(function(){return s.e})),i.d(t,"f",(function(){return s.f})),i.d(t,"g",(function(){return s.g}));var n=i(66);i.d(t,"b",(function(){return n.a}))},,,function(e,t,i){e.exports=i(21)(1075)},function(e,t,i){var s=i(38),n=i(90),a=i(113),r=i(58),o=function(e,t){this.value=parseFloat(e),this.unit=t&&t instanceof a?t:new a(t?[t]:void 0)};(o.prototype=new s).type="Dimension",o.prototype.accept=function(e){this.unit=e.visit(this.unit)},o.prototype.eval=function(e){return this},o.prototype.toColor=function(){return new r([this.value,this.value,this.value])},o.prototype.genCSS=function(e,t){if(e&&e.strictUnits&&!this.unit.isSingular())throw new Error("Multiple units in dimension. Correct the units or use the unit function. Bad unit: "+this.unit.toString());var i=this.fround(e,this.value),s=String(i);if(0!==i&&i<1e-6&&i>-1e-6&&(s=i.toFixed(20).replace(/0+$/,"")),e&&e.compress){if(0===i&&this.unit.isLength())return void t.add(s);i>0&&i<1&&(s=s.substr(1))}t.add(s),this.unit.genCSS(e,t)},o.prototype.operate=function(e,t,i){var s=this._operate(e,t,this.value,i.value),n=this.unit.clone();if("+"===t||"-"===t)if(0===n.numerator.length&&0===n.denominator.length)n=i.unit.clone(),this.unit.backupUnit&&(n.backupUnit=this.unit.backupUnit);else if(0===i.unit.numerator.length&&0===n.denominator.length);else{if(i=i.convertTo(this.unit.usedUnits()),e.strictUnits&&i.unit.toString()!==n.toString())throw new Error("Incompatible units. Change the units or use the unit function. Bad units: '"+n.toString()+"' and '"+i.unit.toString()+"'.");s=this._operate(e,t,this.value,i.value)}else"*"===t?(n.numerator=n.numerator.concat(i.unit.numerator).sort(),n.denominator=n.denominator.concat(i.unit.denominator).sort(),n.cancel()):"/"===t&&(n.numerator=n.numerator.concat(i.unit.denominator).sort(),n.denominator=n.denominator.concat(i.unit.numerator).sort(),n.cancel());return new o(s,n)},o.prototype.compare=function(e){var t,i;if(e instanceof o){if(this.unit.isEmpty()||e.unit.isEmpty())t=this,i=e;else if(t=this.unify(),i=e.unify(),0!==t.unit.compare(i.unit))return;return s.numericCompare(t.value,i.value)}},o.prototype.unify=function(){return this.convertTo({length:"px",duration:"s",angle:"rad"})},o.prototype.convertTo=function(e){var t,i,s,a,r,l=this.value,u=this.unit.clone(),c={};if("string"==typeof e){for(t in n)n[t].hasOwnProperty(e)&&((c={})[t]=e);e=c}for(i in r=function(e,t){return s.hasOwnProperty(e)?(t?l/=s[e]/s[a]:l*=s[e]/s[a],a):e},e)e.hasOwnProperty(i)&&(a=e[i],s=n[i],u.map(r));return u.cancel(),new o(l,u)},e.exports=o},function(e,t){var i={};e.exports=i;var s=function(e,t,i){if(e)for(var s=0;s<i.length;s++)e.hasOwnProperty(i[s])&&(t[i[s]]=e[i[s]])},n=["paths","relativeUrls","rootpath","strictImports","insecure","dumpLineNumbers","compress","syncImport","chunkInput","mime","useFileCache","processImports","pluginManager"];i.Parse=function(e){s(e,this,n),"string"==typeof this.paths&&(this.paths=[this.paths])};var a=["paths","compress","ieCompat","strictMath","strictUnits","sourceMap","importMultiple","urlArgs","javascriptEnabled","pluginManager","importantScope"];i.Eval=function(e,t){s(e,this,a),"string"==typeof this.paths&&(this.paths=[this.paths]),this.frames=t||[],this.importantScope=this.importantScope||[]},i.Eval.prototype.inParenthesis=function(){this.parensStack||(this.parensStack=[]),this.parensStack.push(!0)},i.Eval.prototype.outOfParenthesis=function(){this.parensStack.pop()},i.Eval.prototype.isMathOn=function(){return!this.strictMath||this.parensStack&&this.parensStack.length},i.Eval.prototype.isPathRelative=function(e){return!/^(?:[a-z-]+:|\/|#)/i.test(e)},i.Eval.prototype.normalizePath=function(e){var t,i=e.split("/").reverse();for(e=[];0!==i.length;)switch(t=i.pop()){case".":break;case"..":0===e.length||".."===e[e.length-1]?e.push(t):e.pop();break;default:e.push(t)}return e.join("/")}},function(e,t,i){var s=i(38),n=i(114),a=i(81),r=function(e,t,i,s,n){this.escaped=null==i||i,this.value=t||"",this.quote=e.charAt(0),this.index=s,this.currentFileInfo=n};(r.prototype=new n).type="Quoted",r.prototype.genCSS=function(e,t){this.escaped||t.add(this.quote,this.currentFileInfo,this.index),t.add(this.value),this.escaped||t.add(this.quote)},r.prototype.containsVariables=function(){return this.value.match(/(`([^`]+)`)|@\{([\w-]+)\}/)},r.prototype.eval=function(e){var t=this,i=this.value;function s(e,t,i){var s=e;do{s=(e=s).replace(t,i)}while(e!==s);return s}return i=s(i,/`([^`]+)`/g,(function(i,s){return String(t.evaluateJavaScript(s,e))})),i=s(i,/@\{([\w-]+)\}/g,(function(i,s){var n=new a("@"+s,t.index,t.currentFileInfo).eval(e,!0);return n instanceof r?n.value:n.toCSS()})),new r(this.quote+i+this.quote,i,this.escaped,this.index,this.currentFileInfo)},r.prototype.compare=function(e){return"Quoted"!==e.type||this.escaped||e.escaped?e.toCSS&&this.toCSS()===e.toCSS()?0:void 0:s.numericCompare(this.value,e.value)},e.exports=r},function(e,t,i){var s=i(38),n=function(e,t,i,s,n,a){this.value=e,this.index=t,this.mapLines=s,this.currentFileInfo=i,this.rulesetLike=void 0!==n&&n,this.allowRoot=!0,this.copyVisibilityInfo(a)};(n.prototype=new s).type="Anonymous",n.prototype.eval=function(){return new n(this.value,this.index,this.currentFileInfo,this.mapLines,this.rulesetLike,this.visibilityInfo())},n.prototype.compare=function(e){return e.toCSS&&this.toCSS()===e.toCSS()?0:void 0},n.prototype.isRulesetLike=function(){return this.rulesetLike},n.prototype.genCSS=function(e,t){t.add(this.value,this.currentFileInfo,this.index,this.mapLines)},e.exports=n},,function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));const s=["#68BC00","#009CE0","#B0BC00","#16A5A5","#D33115","#E27300","#FCC400","#7B64FF","#FA28FF","#333333","#808080","#194D33","#0062B1","#808900","#0C797D","#9F0500","#C45100","#FB9E00","#653294","#AB149E","#0F1419","#666666"]},function(e,t,i){"use strict";i.d(t,"a",(function(){return a}));var s=i(56),n=i.n(s);const a=e=>{let t=new n.a(e);const i=t.hsl().object();return i.l-=100*t.luminosity(),t=n.a.hsl(i),t.rgb().toString()}},,function(e,t,i){"use strict";i.d(t,"a",(function(){return s})),i.d(t,"b",(function(){return n})),i.d(t,"e",(function(){return a})),i.d(t,"d",(function(){return r})),i.d(t,"g",(function(){return o})),i.d(t,"f",(function(){return l})),i.d(t,"c",(function(){return u}));const s={LINE_COLOR:"rgba(105,112,125,0.2)",TEXT_COLOR:"rgba(0,0,0,0.4)",TEXT_COLOR_REVERSED:"rgba(255,255,255,0.5)",VALUE_COLOR:"rgba(0,0,0,0.7)",VALUE_COLOR_REVERSED:"rgba(255,255,255,0.8)"},n={stroke:"rgba(125,125,125,0.1)"},a=0,r=[0],o=[1],l=[2],u={NONE:"none",PERCENT:"percent",STACKED:"stacked",STACKED_WITHIN_SERIES:"stacked_within_series"}},function(e,t,i){var s=i(38),n=i(108),a=function(e,t,i){Array.isArray(e)?this.rgb=e:6==e.length?this.rgb=e.match(/.{2}/g).map((function(e){return parseInt(e,16)})):this.rgb=e.split("").map((function(e){return parseInt(e+e,16)})),this.alpha="number"==typeof t?t:1,void 0!==i&&(this.value=i)};function r(e,t){return Math.min(Math.max(e,0),t)}function o(e){return"#"+e.map((function(e){return((e=r(Math.round(e),255))<16?"0":"")+e.toString(16)})).join("")}(a.prototype=new s).type="Color",a.prototype.luma=function(){var e=this.rgb[0]/255,t=this.rgb[1]/255,i=this.rgb[2]/255;return.2126*(e=e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t=t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(i=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4))},a.prototype.genCSS=function(e,t){t.add(this.toCSS(e))},a.prototype.toCSS=function(e,t){var i,s,n=e&&e.compress&&!t;if(this.value)return this.value;if((s=this.fround(e,this.alpha))<1)return"rgba("+this.rgb.map((function(e){return r(Math.round(e),255)})).concat(r(s,1)).join(","+(n?"":" "))+")";if(i=this.toRGB(),n){var a=i.split("");a[1]===a[2]&&a[3]===a[4]&&a[5]===a[6]&&(i="#"+a[1]+a[3]+a[5])}return i},a.prototype.operate=function(e,t,i){for(var s=[],n=this.alpha*(1-i.alpha)+i.alpha,r=0;r<3;r++)s[r]=this._operate(e,t,this.rgb[r],i.rgb[r]);return new a(s,n)},a.prototype.toRGB=function(){return o(this.rgb)},a.prototype.toHSL=function(){var e,t,i=this.rgb[0]/255,s=this.rgb[1]/255,n=this.rgb[2]/255,a=this.alpha,r=Math.max(i,s,n),o=Math.min(i,s,n),l=(r+o)/2,u=r-o;if(r===o)e=t=0;else{switch(t=l>.5?u/(2-r-o):u/(r+o),r){case i:e=(s-n)/u+(s<n?6:0);break;case s:e=(n-i)/u+2;break;case n:e=(i-s)/u+4}e/=6}return{h:360*e,s:t,l:l,a:a}},a.prototype.toHSV=function(){var e,t,i=this.rgb[0]/255,s=this.rgb[1]/255,n=this.rgb[2]/255,a=this.alpha,r=Math.max(i,s,n),o=Math.min(i,s,n),l=r,u=r-o;if(t=0===r?0:u/r,r===o)e=0;else{switch(r){case i:e=(s-n)/u+(s<n?6:0);break;case s:e=(n-i)/u+2;break;case n:e=(i-s)/u+4}e/=6}return{h:360*e,s:t,v:l,a:a}},a.prototype.toARGB=function(){return o([255*this.alpha].concat(this.rgb))},a.prototype.compare=function(e){return e.rgb&&e.rgb[0]===this.rgb[0]&&e.rgb[1]===this.rgb[1]&&e.rgb[2]===this.rgb[2]&&e.alpha===this.alpha?0:void 0},a.fromKeyword=function(e){var t,i=e.toLowerCase();if(n.hasOwnProperty(i)?t=new a(n[i].slice(1)):"transparent"===i&&(t=new a([0,0,0],0)),t)return t.value=e,t},e.exports=a},function(e,t,i){var s=i(38),n=i(78),a=function(e,t,i,s,n,a){this.elements=e,this.extendList=t,this.condition=i,this.currentFileInfo=n||{},i||(this.evaldCondition=!0),this.copyVisibilityInfo(a)};(a.prototype=new s).type="Selector",a.prototype.accept=function(e){this.elements&&(this.elements=e.visitArray(this.elements)),this.extendList&&(this.extendList=e.visitArray(this.extendList)),this.condition&&(this.condition=e.visit(this.condition))},a.prototype.createDerived=function(e,t,i){var s=this.visibilityInfo();i=null!=i?i:this.evaldCondition;var n=new a(e,t||this.extendList,null,this.index,this.currentFileInfo,s);return n.evaldCondition=i,n.mediaEmpty=this.mediaEmpty,n},a.prototype.createEmptySelectors=function(){var e=new n("","&",this.index,this.currentFileInfo),t=[new a([e],null,null,this.index,this.currentFileInfo)];return t[0].mediaEmpty=!0,t},a.prototype.match=function(e){var t,i,s=this.elements,n=s.length;if(e.CacheElements(),0===(t=e._elements.length)||n<t)return 0;for(i=0;i<t;i++)if(s[i].value!==e._elements[i])return 0;return t},a.prototype.CacheElements=function(){if(!this._elements){var e=this.elements.map((function(e){return e.combinator.value+(e.value.value||e.value)})).join("").match(/[,&#\*\.\w-]([\w-]|(\\.))*/g);e?"&"===e[0]&&e.shift():e=[],this._elements=e}},a.prototype.isJustParentSelector=function(){return!this.mediaEmpty&&1===this.elements.length&&"&"===this.elements[0].value&&(" "===this.elements[0].combinator.value||""===this.elements[0].combinator.value)},a.prototype.eval=function(e){var t=this.condition&&this.condition.eval(e),i=this.elements,s=this.extendList;return i=i&&i.map((function(t){return t.eval(e)})),s=s&&s.map((function(t){return t.eval(e)})),this.createDerived(i,s,t)},a.prototype.genCSS=function(e,t){var i;if(e&&e.firstSelector||""!==this.elements[0].combinator.value||t.add(" ",this.currentFileInfo,this.index),!this._css)for(i=0;i<this.elements.length;i++)this.elements[i].genCSS(e,t)},a.prototype.getIsOutput=function(){return this.evaldCondition},e.exports=a},,,,function(e,t,i){var s={};s.Node=i(38),s.Alpha=i(161),s.Color=i(58),s.Directive=i(109),s.DetachedRuleset=i(112),s.Operation=i(94),s.Dimension=i(49),s.Unit=i(113),s.Keyword=i(80),s.Variable=i(81),s.Ruleset=i(70),s.Element=i(78),s.Attribute=i(162),s.Combinator=i(110),s.Selector=i(59),s.Quoted=i(51),s.Expression=i(71),s.Rule=i(91),s.Call=i(163),s.URL=i(72),s.Import=i(164),s.mixin={Call:i(165),Definition:i(118)},s.Comment=i(115),s.Anonymous=i(52),s.Value=i(92),s.JavaScript=i(119),s.Assignment=i(166),s.Condition=i(167),s.Paren=i(79),s.Media=i(117),s.UnicodeDescriptor=i(168),s.Negative=i(169),s.Extend=i(170),s.RulesetCall=i(171),e.exports=s},function(e,t,i){"use strict";var s=i(124);function n(){}var a=null,r={};function o(e){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("Promise constructor's argument is not a function");this._40=0,this._65=0,this._55=null,this._72=null,e!==n&&g(e,this)}function l(e,t){for(;3===e._65;)e=e._55;if(o._37&&o._37(e),0===e._65)return 0===e._40?(e._40=1,void(e._72=t)):1===e._40?(e._40=2,void(e._72=[e._72,t])):void e._72.push(t);!function(e,t){s((function(){var i=1===e._65?t.onFulfilled:t.onRejected;if(null!==i){var s=function(e,t){try{return e(t)}catch(e){return a=e,r}}(i,e._55);s===r?c(t.promise,a):u(t.promise,s)}else 1===e._65?u(t.promise,e._55):c(t.promise,e._55)}))}(e,t)}function u(e,t){if(t===e)return c(e,new TypeError("A promise cannot be resolved with itself."));if(t&&("object"==typeof t||"function"==typeof t)){var i=function(e){try{return e.then}catch(e){return a=e,r}}(t);if(i===r)return c(e,a);if(i===e.then&&t instanceof o)return e._65=3,e._55=t,void d(e);if("function"==typeof i)return void g(i.bind(t),e)}e._65=1,e._55=t,d(e)}function c(e,t){e._65=2,e._55=t,o._87&&o._87(e,t),d(e)}function d(e){if(1===e._40&&(l(e,e._72),e._72=null),2===e._40){for(var t=0;t<e._72.length;t++)l(e,e._72[t]);e._72=null}}function p(e,t,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=i}function g(e,t){var i=!1,s=function(e,t,i){try{e(t,i)}catch(e){return a=e,r}}(e,(function(e){i||(i=!0,u(t,e))}),(function(e){i||(i=!0,c(t,e))}));i||s!==r||(i=!0,c(t,a))}e.exports=o,o._37=null,o._87=null,o._61=n,o.prototype.then=function(e,t){if(this.constructor!==o)return function(e,t,i){return new e.constructor((function(s,a){var r=new o(n);r.then(s,a),l(e,new p(t,i,r))}))}(this,e,t);var i=new o(n);return l(this,new p(e,t,i)),i}},,function(e,t,i){"use strict";i.d(t,"a",(function(){return n}));i(4);var s=i(1);const n={["fa-asterisk"]:"asterisk",["fa-bell"]:"bell",["fa-bolt"]:"bolt",["fa-bomb"]:()=>Object(s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},Object(s.jsx)("path",{d:"M3.92176768,4.53361616 L3.46466635,5.59664282 L2.65302767,4.14840719 L0.999875397,3.99598886 L2.12641918,2.77654518 L1.76052549,1.15720408 L3.26840652,1.85178207 L4.69542405,1.00339256 L4.500802,2.65210905 L5.74864103,3.7471166 L4.73514583,3.9490388 L5.61669633,5.03766301 C6.0459022,4.69009896 6.67559863,4.75628272 7.02316269,5.18548858 L7.15815921,5.3521954 C7.8837785,5.06498672 8.68754455,4.943927 9.51742529,5.03115098 C12.2637217,5.31979836 14.2560398,7.78010639 13.9673924,10.5264028 C13.6787451,13.2726992 11.218437,15.2650173 8.47214065,14.9763699 C5.72584427,14.6877226 3.73352611,12.2274145 4.02217349,9.48111814 C4.10939747,8.6512374 4.39492411,7.8902053 4.82672133,7.24015658 L4.6917248,7.07344975 C4.34416075,6.64424389 4.41034451,6.01454746 4.83955037,5.6669834 L3.92176768,4.53361616 Z M5.46887076,6.44412936 L6.12580983,7.24015658 C6.03489722,7.30663504 5.87952666,7.491071 5.65969815,7.79346445 C5.30650784,8.32517447 5.08508565,8.93495668 5.01669539,9.5856466 C4.78577748,11.7826837 6.37963201,13.7509301 8.57666912,13.981848 C10.7737062,14.2127659 12.7419526,12.6189114 12.9728706,10.4218743 C13.2037885,8.2248372 11.6099339,6.25659078 9.41289682,6.02567287 C8.7622069,5.95728261 8.11971364,6.04708534 7.52619036,6.28200886 C7.24048061,6.40187373 7.0242157,6.5121707 6.87739563,6.61289978 L6.24601673,5.81480897 L5.46887076,6.44412936 Z M3.34009664,3.61834468 C3.6160708,3.60870745 3.83197954,3.37717367 3.82234231,3.10119951 C3.81270508,2.82522536 3.5811713,2.60931662 3.30519715,2.61895385 C3.02922299,2.62859108 2.81331425,2.86012485 2.82295148,3.13609901 C2.83258871,3.41207317 3.06412249,3.62798191 3.34009664,3.61834468 Z M9.2038399,8.01471666 C8.92921026,7.98585193 8.72997844,7.73982112 8.75884318,7.46519148 C8.78770792,7.19056185 9.03373872,6.99133003 9.30836836,7.02019477 C10.7411945,7.17079087 11.8319627,8.30660625 11.9782919,9.68376241 C11.9842403,9.72621687 11.9855849,9.77015886 11.9808868,9.81485847 C11.9520221,10.0894881 11.7059913,10.2887199 11.4313616,10.2598552 C11.1835304,10.2338071 10.9971003,10.0309074 10.9842889,9.78973323 C10.8859009,8.87197536 10.1588372,8.11509093 9.2038399,8.01471666 Z"})),["fa-bug"]:"bug",["fa-comment"]:"editorComment",["fa-exclamation-circle"]:"alert",["fa-exclamation-triangle"]:"alert",["fa-fire"]:()=>Object(s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},Object(s.jsx)("path",{d:"M10.4285489,13.2131862 C11.3850613,12.5116211 12,11.4062861 12,10.1681623 C12,8.88948911 11.7647926,7.64522527 11.315853,6.48027409 L10.7184365,8.07936372 L9.62838732,6.51595716 C8.65161637,5.11502026 7.41222171,3.90368767 5.9820674,2.94508952 C5.99399825,3.12925457 6,3.31436795 6,3.50022638 C6,5.08794888 5.48443413,6.95085436 4.74437685,7.94154468 C4.26219055,8.5870316 4,9.35779518 4,10.1681623 C4,11.4427639 4.65170744,12.5766371 5.65687647,13.2741368 C5.73557697,13.041105 5.84196228,12.8229717 5.97161458,12.624616 C6.26836682,12.1706132 6.5,11.2280234 6.5,10.4287008 C6.5,9.92871906 6.42479348,9.44813694 6.28619258,9 C7.47628141,9.64169048 8.4897566,10.6210605 9.22434324,11.8251557 C9.23213615,11.8013168 9.2406884,11.7775998 9.25,11.7540048 C9.39656041,11.3826304 9.5,11.0805724 9.5,10.6495848 C9.5,10.6240812 9.49971537,10.5986511 9.49914944,10.5732981 C9.96875289,11.3529062 10.2928315,12.2486386 10.4285489,13.2131862 Z M10.4486865,5.94402249 C10.4642723,5.90230435 10.4813768,5.86079967 10.5,5.81950846 C10.7931208,5.16960326 11,4.64100165 11,3.88677339 C11,3.84214218 10.9994307,3.79763944 10.9982989,3.7532716 C12.2630338,5.59045545 13,7.7961396 13,10.1681623 C13,12.8367126 10.7614237,15 8,15 C5.23857625,15 3,12.8367126 3,10.1681623 C3,9.11340491 3.34972471,8.13758287 3.94322917,7.34307798 C4.53673363,6.54857309 5,4.8990409 5,3.50022638 C5,2.62525836 4.84958695,1.78423964 4.57238517,1 C6.95256283,2.12295834 8.97951321,3.83685594 10.4486865,5.94402249 Z"})),["fa-flag"]:"flag",["fa-heart"]:"heart",["fa-map-marker"]:"mapMarker",["fa-map-pin"]:"pinFilled",["fa-star"]:"starFilled",["fa-tag"]:"tag"}},function(e,t,i){"use strict";i.d(t,"a",(function(){return m})),i.d(t,"d",(function(){return b})),i.d(t,"c",(function(){return f})),i.d(t,"e",(function(){return v})),i.d(t,"b",(function(){return j}));var s=i(29),n=i.n(s),a=i(7),r=i(9),o=i(17),l=i(88),u=i.n(l);const c=new RegExp(`^>=([\\d\\.]+\\s*(${u.a.units.join("|")}))$`);new RegExp(`^([\\d\\.]+)\\s*(${u.a.units.join("|")})$`);var d=i(8),p=i(18);const{parseEsInterval:g}=o.search.aggs,h={s:a.i18n.translate("visTypeTimeseries.getInterval.secondsLabel",{defaultMessage:"seconds"}),m:a.i18n.translate("visTypeTimeseries.getInterval.minutesLabel",{defaultMessage:"minutes"}),h:a.i18n.translate("visTypeTimeseries.getInterval.hoursLabel",{defaultMessage:"hours"}),d:a.i18n.translate("visTypeTimeseries.getInterval.daysLabel",{defaultMessage:"days"}),w:a.i18n.translate("visTypeTimeseries.getInterval.weeksLabel",{defaultMessage:"weeks"}),M:a.i18n.translate("visTypeTimeseries.getInterval.monthsLabel",{defaultMessage:"months"}),y:a.i18n.translate("visTypeTimeseries.getInterval.yearsLabel",{defaultMessage:"years"})},m=(e,t=!0)=>{const i=Object.keys(h).reverse(),s=n.a.duration(e,"ms");for(let e=0;e<i.length;e++){const n=s.as(i[e]);if(Math.abs(n)>1)return{unitValue:Math.round(Math.abs(n)),unitString:t?h[i[e]]:i[e]}}},b=e=>c.test(e),f=e=>!e||e===d.b,v=e=>{const t={};try{g(e)}catch({message:e}){t.errorMessage=e}finally{t.isValid=!t.errorMessage}return t},j=(e,t)=>Object(r.get)(e,Object(p.a)(e)?"series[0].series":`${t.id}.series`,[]).reduce(((e,t)=>{if(t.data.length>1&&"number"==typeof t.data[1][0]&&"number"==typeof t.data[0][0]){const i=t.data[1][0]-t.data[0][0];if(!e||i<e)return i}return e}),0)},,function(e,t,i){"use strict";i.d(t,"a",(function(){return n})),i.d(t,"b",(function(){return o})),i.d(t,"c",(function(){return l}));var s=i(9);let n;!function(e){e.Gte="gte",e.Lte="lte",e.Gt="gt",e.Lt="lt",e.Empty="empty"}(n||(n={}));const a={[n.Gte]:s.gte,[n.Lte]:s.lte,[n.Gt]:s.gt,[n.Lt]:s.lt,[n.Empty]:s.isNull},r={[n.Empty]:!0},o=e=>a[e],l=(e,t)=>Object(s.isNull)(e.value)&&r[e.operator]||!Object(s.isNull)(e.value)&&!Object(s.isNull)(t)},function(e,t,i){var s=i(38),n=i(91),a=i(59),r=i(78),o=i(79),l=i(50),u=i(44),c=i(93),d=i(111),p=function(e,t,i,s){this.selectors=e,this.rules=t,this._lookups={},this.strictImports=i,this.copyVisibilityInfo(s),this.allowRoot=!0};(p.prototype=new s).type="Ruleset",p.prototype.isRuleset=!0,p.prototype.isRulesetLike=!0,p.prototype.accept=function(e){this.paths?this.paths=e.visitArray(this.paths,!0):this.selectors&&(this.selectors=e.visitArray(this.selectors)),this.rules&&this.rules.length&&(this.rules=e.visitArray(this.rules))},p.prototype.eval=function(e){var t,i,s,a,r=this.selectors,o=!1;if(r&&(i=r.length)){for(t=[],c.error({type:"Syntax",message:"it is currently only allowed in parametric mixin guards,"}),a=0;a<i;a++)s=r[a].eval(e),t.push(s),s.evaldCondition&&(o=!0);c.reset()}else o=!0;var l,d,g=this.rules?this.rules.slice(0):null,h=new p(t,g,this.strictImports,this.visibilityInfo());h.originalRuleset=this,h.root=this.root,h.firstRoot=this.firstRoot,h.allowImports=this.allowImports,this.debugInfo&&(h.debugInfo=this.debugInfo),o||(g.length=0),h.functionRegistry=function(e){for(var t,i=0,s=e.length;i!==s;++i)if(t=e[i].functionRegistry)return t;return u}(e.frames).inherit();var m=e.frames;m.unshift(h);var b=e.selectors;b||(e.selectors=b=[]),b.unshift(this.selectors),(h.root||h.allowImports||!h.strictImports)&&h.evalImports(e);var f=h.rules,v=f?f.length:0;for(a=0;a<v;a++)f[a].evalFirst&&(f[a]=f[a].eval(e));var j=e.mediaBlocks&&e.mediaBlocks.length||0;for(a=0;a<v;a++)"MixinCall"===f[a].type?(g=f[a].eval(e).filter((function(e){return!(e instanceof n&&e.variable)||!h.variable(e.name)})),f.splice.apply(f,[a,1].concat(g)),v+=g.length-1,a+=g.length-1,h.resetCache()):"RulesetCall"===f[a].type&&(g=f[a].eval(e).rules.filter((function(e){return!(e instanceof n&&e.variable)})),f.splice.apply(f,[a,1].concat(g)),v+=g.length-1,a+=g.length-1,h.resetCache());for(a=0;a<f.length;a++)(l=f[a]).evalFirst||(f[a]=l=l.eval?l.eval(e):l);for(a=0;a<f.length;a++)if((l=f[a])instanceof p&&l.selectors&&1===l.selectors.length&&l.selectors[0].isJustParentSelector()){f.splice(a--,1);for(var x=0;x<l.rules.length;x++)(d=l.rules[x]).copyVisibilityInfo(l.visibilityInfo()),d instanceof n&&d.variable||f.splice(++a,0,d)}if(m.shift(),b.shift(),e.mediaBlocks)for(a=j;a<e.mediaBlocks.length;a++)e.mediaBlocks[a].bubbleSelectors(t);return h},p.prototype.evalImports=function(e){var t,i,s=this.rules;if(s)for(t=0;t<s.length;t++)"Import"===s[t].type&&((i=s[t].eval(e))&&(i.length||0===i.length)?(s.splice.apply(s,[t,1].concat(i)),t+=i.length-1):s.splice(t,1,i),this.resetCache())},p.prototype.makeImportant=function(){return new p(this.selectors,this.rules.map((function(e){return e.makeImportant?e.makeImportant():e})),this.strictImports,this.visibilityInfo())},p.prototype.matchArgs=function(e){return!e||0===e.length},p.prototype.matchCondition=function(e,t){var i=this.selectors[this.selectors.length-1];return!!i.evaldCondition&&!(i.condition&&!i.condition.eval(new l.Eval(t,t.frames)))},p.prototype.resetCache=function(){this._rulesets=null,this._variables=null,this._lookups={}},p.prototype.variables=function(){return this._variables||(this._variables=this.rules?this.rules.reduce((function(e,t){if(t instanceof n&&!0===t.variable&&(e[t.name]=t),"Import"===t.type&&t.root&&t.root.variables){var i=t.root.variables();for(var s in i)i.hasOwnProperty(s)&&(e[s]=i[s])}return e}),{}):{}),this._variables},p.prototype.variable=function(e){return this.variables()[e]},p.prototype.rulesets=function(){if(!this.rules)return[];var e,t,i=[],s=this.rules,n=s.length;for(e=0;e<n;e++)(t=s[e]).isRuleset&&i.push(t);return i},p.prototype.prependRule=function(e){var t=this.rules;t?t.unshift(e):this.rules=[e]},p.prototype.find=function(e,t,i){t=t||this;var s,n,r=[],o=e.toCSS();return o in this._lookups?this._lookups[o]:(this.rulesets().forEach((function(o){if(o!==t)for(var l=0;l<o.selectors.length;l++)if(s=e.match(o.selectors[l])){if(e.elements.length>s){if(!i||i(o)){n=o.find(new a(e.elements.slice(s)),t,i);for(var u=0;u<n.length;++u)n[u].path.push(o);Array.prototype.push.apply(r,n)}}else r.push({rule:o,path:[]});break}})),this._lookups[o]=r,r)},p.prototype.genCSS=function(e,t){var i,s,n,a,r,o=[];e.tabLevel=e.tabLevel||0,this.root||e.tabLevel++;var l,u=e.compress?"":Array(e.tabLevel+1).join("  "),c=e.compress?"":Array(e.tabLevel).join("  ");function p(e){return"boolean"==typeof e.isRulesetLike?e.isRulesetLike:"function"==typeof e.isRulesetLike&&e.isRulesetLike()}var g=0,h=0;for(i=0;i<this.rules.length;i++)"Comment"===(a=this.rules[i]).type?(h===i&&h++,o.push(a)):a.isCharset&&a.isCharset()?(o.splice(g,0,a),g++,h++):"Import"===a.type?(o.splice(h,0,a),h++):o.push(a);if(o=[].concat(o),!this.root){(n=d(e,this,c))&&(t.add(n),t.add(c));var m,b=this.paths,f=b.length;for(l=e.compress?",":",\n"+c,i=0;i<f;i++)if(m=(r=b[i]).length)for(i>0&&t.add(l),e.firstSelector=!0,r[0].genCSS(e,t),e.firstSelector=!1,s=1;s<m;s++)r[s].genCSS(e,t);t.add((e.compress?"{":" {\n")+u)}for(i=0;i<o.length;i++){a=o[i],i+1===o.length&&(e.lastRule=!0);var v=e.lastRule;p(a)&&(e.lastRule=!1),a.genCSS?a.genCSS(e,t):a.value&&t.add(a.value.toString()),e.lastRule=v,e.lastRule?e.lastRule=!1:t.add(e.compress?"":"\n"+u)}this.root||(t.add(e.compress?"}":"\n"+c+"}"),e.tabLevel--),t.isEmpty()||e.compress||!this.firstRoot||t.add("\n")},p.prototype.joinSelectors=function(e,t,i){for(var s=0;s<i.length;s++)this.joinSelector(e,t,i[s])},p.prototype.joinSelector=function(e,t,i){function s(e,t){var i,s;if(0===e.length)i=new o(e[0]);else{var n=[];for(s=0;s<e.length;s++)n.push(new r(null,e[s],t.index,t.currentFileInfo));i=new o(new a(n))}return i}function n(e,t){var i;return i=new r(null,e,t.index,t.currentFileInfo),new a([i])}function l(e,t,i,s){var n,a,o;if(n=[],e.length>0?(a=(n=e.slice(0)).pop(),o=s.createDerived(a.elements.slice(0))):o=s.createDerived([]),t.length>0){var l=i.combinator,u=t[0].elements[0];l.emptyOrWhitespace&&!u.combinator.emptyOrWhitespace&&(l=u.combinator),o.elements.push(new r(l,u.value,i.index,i.currentFileInfo)),o.elements=o.elements.concat(t[0].elements.slice(1))}if(0!==o.elements.length&&n.push(o),t.length>1){var c=t.slice(1);c=c.map((function(e){return e.createDerived(e.elements,[])})),n=n.concat(c)}return n}function u(e,t,i,s,n){var a;for(a=0;a<e.length;a++){var r=l(e[a],t,i,s);n.push(r)}return n}function c(e,t){var i,s;if(0!==e.length)if(0!==t.length)for(i=0;i<t.length;i++)(s=t[i]).length>0?s[s.length-1]=s[s.length-1].createDerived(s[s.length-1].elements.concat(e)):s.push(new a(e));else t.push([new a(e)])}function d(e,t){var i=t.createDerived(t.elements,t.extendList,t.evaldCondition);return i.copyVisibilityInfo(e),i}var p,g,h;if(h=function e(t,i,a){var o,d,p,g,h,m,b,f,v,j,x,y,O=!1;for(g=[],h=[[]],o=0;o<a.elements.length;o++)if("&"!==(f=a.elements[o]).value){var T=(y=void 0,"Paren"!==(x=f).value.type||"Selector"!==(y=x.value.value).type?null:y);if(null!=T){c(g,h);var E,w=[],C=[];for(E=e(w,i,T),O=O||E,p=0;p<w.length;p++){u(h,[n(s(w[p],f),f)],f,a,C)}h=C,g=[]}else g.push(f)}else{for(O=!0,m=[],c(g,h),d=0;d<h.length;d++)if(b=h[d],0===i.length)b.length>0&&b[0].elements.push(new r(f.combinator,"",f.index,f.currentFileInfo)),m.push(b);else for(p=0;p<i.length;p++){var M=l(b,i[p],f,a);m.push(M)}h=m,g=[]}for(c(g,h),o=0;o<h.length;o++)(v=h[o].length)>0&&(t.push(h[o]),j=h[o][v-1],h[o][v-1]=j.createDerived(j.elements,a.extendList));return O}(g=[],t,i),!h)if(t.length>0)for(g=[],p=0;p<t.length;p++){var m=t[p].map(d.bind(this,i.visibilityInfo()));m.push(i),g.push(m)}else g=[[i]];for(p=0;p<g.length;p++)e.push(g[p])},e.exports=p},function(e,t,i){var s=i(38),n=i(79),a=i(115),r=function(e){if(this.value=e,!e)throw new Error("Expression requires an array parameter")};(r.prototype=new s).type="Expression",r.prototype.accept=function(e){this.value=e.visitArray(this.value)},r.prototype.eval=function(e){var t,i=this.parens&&!this.parensInOp,s=!1;return i&&e.inParenthesis(),this.value.length>1?t=new r(this.value.map((function(t){return t.eval(e)}))):1===this.value.length?(this.value[0].parens&&!this.value[0].parensInOp&&(s=!0),t=this.value[0].eval(e)):t=this,i&&e.outOfParenthesis(),this.parens&&this.parensInOp&&!e.isMathOn()&&!s&&(t=new n(t)),t},r.prototype.genCSS=function(e,t){for(var i=0;i<this.value.length;i++)this.value[i].genCSS(e,t),i+1<this.value.length&&t.add(" ")},r.prototype.throwAwayComments=function(){this.value=this.value.filter((function(e){return!(e instanceof a)}))},e.exports=r},function(e,t,i){var s=i(38),n=function(e,t,i,s){this.value=e,this.currentFileInfo=i,this.index=t,this.isEvald=s};(n.prototype=new s).type="Url",n.prototype.accept=function(e){this.value=e.visit(this.value)},n.prototype.genCSS=function(e,t){t.add("url("),this.value.genCSS(e,t),t.add(")")},n.prototype.eval=function(e){var t,i=this.value.eval(e);if(!this.isEvald&&((t=this.currentFileInfo&&this.currentFileInfo.rootpath)&&"string"==typeof i.value&&e.isPathRelative(i.value)&&(i.quote||(t=t.replace(/[\(\)'"\s]/g,(function(e){return"\\"+e}))),i.value=t+i.value),i.value=e.normalizePath(i.value),e.urlArgs&&!i.value.match(/^\s*data:/))){var s=(-1===i.value.indexOf("?")?"?":"&")+e.urlArgs;-1!==i.value.indexOf("#")?i.value=i.value.replace("#",s+"#"):i.value+=s}return new n(i,this.index,this.currentFileInfo,!0)},e.exports=n},function(e,t){e.exports={error:function(e){this._fireEvent("error",e)},warn:function(e){this._fireEvent("warn",e)},info:function(e){this._fireEvent("info",e)},debug:function(e){this._fireEvent("debug",e)},addListener:function(e){this._listeners.push(e)},removeListener:function(e){for(var t=0;t<this._listeners.length;t++)if(this._listeners[t]===e)return void this._listeners.splice(t,1)},_fireEvent:function(e,t){for(var i=0;i<this._listeners.length;i++){var s=this._listeners[i][e];s&&s(t)}},_listeners:[]}},function(e,t,i){var s=i(63),n={visitDeeper:!0},a=!1;function r(e){return e}function o(e,t){var i,s;for(i in e)if(e.hasOwnProperty(i))switch(typeof(s=e[i])){case"function":s.prototype&&s.prototype.type&&(s.prototype.typeIndex=t++);break;case"object":t=o(s,t)}return t}var l=function(e){this._implementation=e,this._visitFnCache=[],a||(o(s,1),a=!0)};l.prototype={visit:function(e){if(!e)return e;var t=e.typeIndex;if(!t)return e;var i,s=this._visitFnCache,a=this._implementation,o=t<<1,l=1|o,u=s[o],c=s[l],d=n;if(d.visitDeeper=!0,u||(u=a[i="visit"+e.type]||r,c=a[i+"Out"]||r,s[o]=u,s[l]=c),u!==r){var p=u.call(a,e,d);a.isReplacing&&(e=p)}return d.visitDeeper&&e&&e.accept&&e.accept(this),c!=r&&c.call(a,e),e},visitArray:function(e,t){if(!e)return e;var i,s=e.length;if(t||!this._implementation.isReplacing){for(i=0;i<s;i++)this.visit(e[i]);return e}var n=[];for(i=0;i<s;i++){var a=this.visit(e[i]);void 0!==a&&(a.splice?a.length&&this.flatten(a,n):n.push(a))}return n},flatten:function(e,t){var i,s,n,a,r,o;for(t||(t=[]),s=0,i=e.length;s<i;s++)if(void 0!==(n=e[s]))if(n.splice)for(r=0,a=n.length;r<a;r++)void 0!==(o=n[r])&&(o.splice?o.length&&this.flatten(o,t):t.push(o));else t.push(n);return t}},e.exports=l},,,,function(e,t,i){var s=i(38),n=i(79),a=i(110),r=function(e,t,i,s,n){this.combinator=e instanceof a?e:new a(e),this.value="string"==typeof t?t.trim():t||"",this.index=i,this.currentFileInfo=s,this.copyVisibilityInfo(n)};(r.prototype=new s).type="Element",r.prototype.accept=function(e){var t=this.value;this.combinator=e.visit(this.combinator),"object"==typeof t&&(this.value=e.visit(t))},r.prototype.eval=function(e){return new r(this.combinator,this.value.eval?this.value.eval(e):this.value,this.index,this.currentFileInfo,this.visibilityInfo())},r.prototype.clone=function(){return new r(this.combinator,this.value,this.index,this.currentFileInfo,this.visibilityInfo())},r.prototype.genCSS=function(e,t){t.add(this.toCSS(e),this.currentFileInfo,this.index)},r.prototype.toCSS=function(e){e=e||{};var t=this.value,i=e.firstSelector;return t instanceof n&&(e.firstSelector=!0),t=t.toCSS?t.toCSS(e):t,e.firstSelector=i,""===t&&"&"===this.combinator.value.charAt(0)?"":this.combinator.toCSS(e)+t},e.exports=r},function(e,t,i){var s=i(38),n=function(e){this.value=e};(n.prototype=new s).type="Paren",n.prototype.genCSS=function(e,t){t.add("("),this.value.genCSS(e,t),t.add(")")},n.prototype.eval=function(e){return new n(this.value.eval(e))},e.exports=n},function(e,t,i){var s=i(38),n=function(e){this.value=e};(n.prototype=new s).type="Keyword",n.prototype.genCSS=function(e,t){if("%"===this.value)throw{type:"Syntax",message:"Invalid % without number"};t.add(this.value)},n.True=new n("true"),n.False=new n("false"),e.exports=n},function(e,t,i){var s=i(38),n=function(e,t,i){this.name=e,this.index=t,this.currentFileInfo=i||{}};(n.prototype=new s).type="Variable",n.prototype.eval=function(e){var t,i=this.name;if(0===i.indexOf("@@")&&(i="@"+new n(i.slice(1),this.index,this.currentFileInfo).eval(e).value),this.evaluating)throw{type:"Name",message:"Recursive variable definition for "+i,filename:this.currentFileInfo.filename,index:this.index};if(this.evaluating=!0,t=this.find(e.frames,(function(t){var s=t.variable(i);if(s){if(s.important)e.importantScope[e.importantScope.length-1].important=s.important;return s.value.eval(e)}})))return this.evaluating=!1,t;throw{type:"Name",message:"variable "+i+" is undefined",filename:this.currentFileInfo.filename,index:this.index}},n.prototype.find=function(e,t){for(var i,s=0;s<e.length;s++)if(i=t.call(e,e[s]))return i;return null},e.exports=n},,,,function(e,t,i){var s,n,a=i(22),r=i(23),o=0,l=0;e.exports=function(e,t,i){var u=t&&i||0,c=t||[],d=(e=e||{}).node||s,p=void 0!==e.clockseq?e.clockseq:n;if(null==d||null==p){var g=a();null==d&&(d=s=[1|g[0],g[1],g[2],g[3],g[4],g[5]]),null==p&&(p=n=16383&(g[6]<<8|g[7]))}var h=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:l+1,b=h-o+(m-l)/1e4;if(b<0&&void 0===e.clockseq&&(p=p+1&16383),(b<0||h>o)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");o=h,l=m,n=p;var f=(1e4*(268435455&(h+=122192928e5))+m)%4294967296;c[u++]=f>>>24&255,c[u++]=f>>>16&255,c[u++]=f>>>8&255,c[u++]=255&f;var v=h/4294967296*1e4&268435455;c[u++]=v>>>8&255,c[u++]=255&v,c[u++]=v>>>24&15|16,c[u++]=v>>>16&255,c[u++]=p>>>8|128,c[u++]=255&p;for(var j=0;j<6;++j)c[u+j]=d[j];return t||r(c)}},function(e,t,i){"use strict";i.d(t,"a",(function(){return s}));const s=["count","avg","max","min","sum","std_deviation","variance","sum_of_squares","value_count","cardinality"]},,function(e,t,i){e.exports=i(21)(114)},function(e,t){e.exports={extractId:function(e){return e.replace(/^[a-z-]+:\/+?[^\/]+/,"").replace(/[\?\&]livereload=\w+/,"").replace(/^\//,"").replace(/\.[a-zA-Z]+$/,"").replace(/[^\.\w-]+/g,"-").replace(/\./g,":")},addDataAttr:function(e,t){for(var i in t.dataset)if(t.dataset.hasOwnProperty(i))if("env"===i||"dumpLineNumbers"===i||"rootpath"===i||"errorReporting"===i)e[i]=t.dataset[i];else try{e[i]=JSON.parse(t.dataset[i])}catch(e){}}}},function(e,t){e.exports={length:{m:1,cm:.01,mm:.001,in:.0254,px:.0254/96,pt:.0254/72,pc:.0254/72*12},duration:{s:1,ms:.001},angle:{rad:1/(2*Math.PI),deg:1/360,grad:1/400,turn:1}}},function(e,t,i){var s=i(38),n=i(92),a=i(80),r=function(e,t,i,a,r,o,l,u){this.name=e,this.value=t instanceof s?t:new n([t]),this.important=i?" "+i.trim():"",this.merge=a,this.index=r,this.currentFileInfo=o,this.inline=l||!1,this.variable=void 0!==u?u:e.charAt&&"@"===e.charAt(0),this.allowRoot=!0};(r.prototype=new s).type="Rule",r.prototype.genCSS=function(e,t){t.add(this.name+(e.compress?":":": "),this.currentFileInfo,this.index);try{this.value.genCSS(e,t)}catch(e){throw e.index=this.index,e.filename=this.currentFileInfo.filename,e}t.add(this.important+(this.inline||e.lastRule&&e.compress?"":";"),this.currentFileInfo,this.index)},r.prototype.eval=function(e){var t,i=!1,s=this.name,n=this.variable;"string"!=typeof s&&(s=1===s.length&&s[0]instanceof a?s[0].value:function(e,t){var i,s="",n=t.length,a={add:function(e){s+=e}};for(i=0;i<n;i++)t[i].eval(e).genCSS(e,a);return s}(e,s),n=!1),"font"!==s||e.strictMath||(i=!0,e.strictMath=!0);try{if(e.importantScope.push({}),t=this.value.eval(e),!this.variable&&"DetachedRuleset"===t.type)throw{message:"Rulesets cannot be evaluated on a property.",index:this.index,filename:this.currentFileInfo.filename};var o=this.important,l=e.importantScope.pop();return!o&&l.important&&(o=l.important),new r(s,t,o,this.merge,this.index,this.currentFileInfo,this.inline,n)}catch(e){throw"number"!=typeof e.index&&(e.index=this.index,e.filename=this.currentFileInfo.filename),e}finally{i&&(e.strictMath=!1)}},r.prototype.makeImportant=function(){return new r(this.name,this.value,"!important",this.merge,this.index,this.currentFileInfo,this.inline)},e.exports=r},function(e,t,i){var s=i(38),n=function(e){if(this.value=e,!e)throw new Error("Value requires an array argument")};(n.prototype=new s).type="Value",n.prototype.accept=function(e){this.value&&(this.value=e.visitArray(this.value))},n.prototype.eval=function(e){return 1===this.value.length?this.value[0].eval(e):new n(this.value.map((function(t){return t.eval(e)})))},n.prototype.genCSS=function(e,t){var i;for(i=0;i<this.value.length;i++)this.value[i].genCSS(e,t),i+1<this.value.length&&t.add(e&&e.compress?",":", ")},e.exports=n},function(e,t,i){var s=i(80),n={eval:function(){var e=this.value_,t=this.error_;if(t)throw t;if(null!=e)return e?s.True:s.False},value:function(e){this.value_=e},error:function(e){this.error_=e},reset:function(){this.value_=this.error_=null}};i(44).add("default",n.eval.bind(n)),e.exports=n},function(e,t,i){var s=i(38),n=i(58),a=i(49),r=function(e,t,i){this.op=e.trim(),this.operands=t,this.isSpaced=i};(r.prototype=new s).type="Operation",r.prototype.accept=function(e){this.operands=e.visit(this.operands)},r.prototype.eval=function(e){var t=this.operands[0].eval(e),i=this.operands[1].eval(e);if(e.isMathOn()){if(t instanceof a&&i instanceof n&&(t=t.toColor()),i instanceof a&&t instanceof n&&(i=i.toColor()),!t.operate)throw{type:"Operation",message:"Operation on an invalid type"};return t.operate(e,this.op,i)}return new r(this.op,[t,i],this.isSpaced)},r.prototype.genCSS=function(e,t){this.operands[0].genCSS(e,t),this.isSpaced&&t.add(" "),t.add(this.op),this.isSpaced&&t.add(" "),this.operands[1].genCSS(e,t)},e.exports=r},function(e,t,i){var s={Visitor:i(74),ImportVisitor:i(173),MarkVisibleSelectorsVisitor:i(175),ExtendVisitor:i(176),JoinSelectorVisitor:i(177),ToCSSVisitor:i(178)};e.exports=s},function(e,t,i){var s=i(97),n=i(63),a=i(95),r=i(179),o=i(98),l=function e(t,i,l){var u,c=r();function d(e,t){throw new s({index:c.i,filename:l.filename,type:t||"Syntax",message:e},i)}function p(e,t,i){var s=e instanceof Function?e.call(u):c.$re(e);if(s)return s;d(t||("string"==typeof e?"expected '"+e+"' got '"+c.currentChar()+"'":"unexpected token"))}function g(e,t){if(c.$char(e))return e;d(t||"expected '"+e+"' got '"+c.currentChar()+"'")}function h(e){var t=l.filename;return{lineNumber:o.getLocation(e,c.getInput()).line+1,fileName:t}}return{parse:function(r,o,u){var d,p,g,h,m=null,b="";if(p=u&&u.globalVars?e.serializeVars(u.globalVars)+"\n":"",g=u&&u.modifyVars?"\n"+e.serializeVars(u.modifyVars):"",t.pluginManager)for(var f=t.pluginManager.getPreProcessors(),v=0;v<f.length;v++)r=f[v].process(r,{context:t,imports:i,fileInfo:l});(p||u&&u.banner)&&(b=(u&&u.banner?u.banner:"")+p,(h=i.contentsIgnoredChars)[l.filename]=h[l.filename]||0,h[l.filename]+=b.length),r=b+(r=r.replace(/\r\n?/g,"\n")).replace(/^\uFEFF/,"")+g,i.contents[l.filename]=r;try{c.start(r,t.chunkInput,(function(e,t){throw new s({index:t,type:"Parse",message:e,filename:l.filename},i)})),(d=new n.Ruleset(null,this.parsers.primary())).root=!0,d.firstRoot=!0}catch(e){return o(new s(e,i,l.filename))}var j=c.end();if(!j.isFinished){var x=j.furthestPossibleErrorMessage;x||(x="Unrecognised input","}"===j.furthestChar?x+=". Possibly missing opening '{'":")"===j.furthestChar?x+=". Possibly missing opening '('":j.furthestReachedEnd&&(x+=". Possibly missing something")),m=new s({type:"Parse",message:x,index:j.furthest,filename:l.filename},i)}var y=function(e){return(e=m||e||i.error)?(e instanceof s||(e=new s(e,i,l.filename)),o(e)):o(null,d)};if(!1===t.processImports)return y();new a.ImportVisitor(i,y).run(d)},parsers:u={primary:function(){for(var e,t=this.mixin,i=[];;){for(;e=this.comment();)i.push(e);if(c.finished)break;if(c.peek("}"))break;if(e=this.extendRule())i=i.concat(e);else if(e=t.definition()||this.rule()||this.ruleset()||t.call()||this.rulesetCall()||this.entities.call()||this.directive())i.push(e);else{for(var s=!1;c.$char(";");)s=!0;if(!s)break}}return i},comment:function(){if(c.commentStore.length){var e=c.commentStore.shift();return new n.Comment(e.text,e.isLineComment,e.index,l)}},entities:{quoted:function(){var e,t=c.i,i=!1;if(c.save(),c.$char("~")&&(i=!0),e=c.$quoted())return c.forget(),new n.Quoted(e.charAt(0),e.substr(1,e.length-2),i,t,l);c.restore()},keyword:function(){var e=c.$char("%")||c.$re(/^[_A-Za-z-][_A-Za-z0-9-]*/);if(e)return n.Color.fromKeyword(e)||new n.Keyword(e)},call:function(){var e,t,i,s=c.i;if(!c.peek(/^url\(/i))if(c.save(),e=c.$re(/^([\w-]+|%|progid:[\w\.]+)\(/)){if("alpha"===(e=e[1]).toLowerCase()&&(i=u.alpha()))return c.forget(),i;if(t=this.arguments(),c.$char(")"))return c.forget(),new n.Call(e,t,s,l);c.restore("Could not parse call arguments or missing ')'")}else c.forget()},arguments:function(){var e,t,i,s=[],a=[],r=[];for(c.save();i=u.detachedRuleset()||this.assignment()||u.expression();)t=i,i.value&&1==i.value.length&&(t=i.value[0]),t&&r.push(t),a.push(t),c.$char(",")||(c.$char(";")||e)&&(e=!0,r.length>1&&(t=new n.Value(r)),s.push(t),r=[]);return c.forget(),e?s:a},literal:function(){return this.dimension()||this.color()||this.quoted()||this.unicodeDescriptor()},assignment:function(){var e,t;if(c.save(),e=c.$re(/^\w+(?=\s?=)/i))if(c.$char("=")){if(t=u.entity())return c.forget(),new n.Assignment(e,t);c.restore()}else c.restore();else c.restore()},url:function(){var e,t=c.i;if(c.autoCommentAbsorb=!1,c.$str("url("))return e=this.quoted()||this.variable()||c.$re(/^(?:(?:\\[\(\)'"])|[^\(\)'"])+/)||"",c.autoCommentAbsorb=!0,g(")"),new n.URL(null!=e.value||e instanceof n.Variable?e:new n.Anonymous(e),t,l);c.autoCommentAbsorb=!0},variable:function(){var e,t=c.i;if("@"===c.currentChar()&&(e=c.$re(/^@@?[\w-]+/)))return new n.Variable(e,t,l)},variableCurly:function(){var e,t=c.i;if("@"===c.currentChar()&&(e=c.$re(/^@\{([\w-]+)\}/)))return new n.Variable("@"+e[1],t,l)},color:function(){var e;if("#"===c.currentChar()&&(e=c.$re(/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})/))){var t=e.input.match(/^#([\w]+).*/);return(t=t[1]).match(/^[A-Fa-f0-9]+$/)||d("Invalid HEX color code"),new n.Color(e[1],void 0,"#"+t)}},colorKeyword:function(){c.save();var e=c.autoCommentAbsorb;c.autoCommentAbsorb=!1;var t=c.$re(/^[_A-Za-z-][_A-Za-z0-9-]+/);if(c.autoCommentAbsorb=e,t){c.restore();var i=n.Color.fromKeyword(t);return i?(c.$str(t),i):void 0}c.forget()},dimension:function(){if(!c.peekNotNumeric()){var e=c.$re(/^([+-]?\d*\.?\d+)(%|[a-z_]+)?/i);return e?new n.Dimension(e[1],e[2]):void 0}},unicodeDescriptor:function(){var e;if(e=c.$re(/^U\+[0-9a-fA-F?]+(\-[0-9a-fA-F?]+)?/))return new n.UnicodeDescriptor(e[0])},javascript:function(){var e,t=c.i;c.save();var i=c.$char("~");if(c.$char("`")){if(e=c.$re(/^[^`]*`/))return c.forget(),new n.JavaScript(e.substr(0,e.length-1),Boolean(i),t,l);c.restore("invalid javascript definition")}else c.restore()}},variable:function(){var e;if("@"===c.currentChar()&&(e=c.$re(/^(@[\w-]+)\s*:/)))return e[1]},rulesetCall:function(){var e;if("@"===c.currentChar()&&(e=c.$re(/^(@[\w-]+)\(\s*\)\s*;/)))return new n.RulesetCall(e[1])},extend:function(e){var t,i,s,a,r,o=c.i;if(c.$str(e?"&:extend(":":extend(")){do{for(s=null,t=null;!(s=c.$re(/^(all)(?=\s*(\)|,))/))&&(i=this.element());)t?t.push(i):t=[i];s=s&&s[1],t||d("Missing target selector for :extend()."),r=new n.Extend(new n.Selector(t),s,o,l),a?a.push(r):a=[r]}while(c.$char(","));return p(/^\)/),e&&p(/^;/),a}},extendRule:function(){return this.extend(!0)},mixin:{call:function(){var e,t,i,s,a,r,o=c.currentChar(),d=!1,p=c.i;if("."===o||"#"===o){for(c.save();e=c.i,s=c.$re(/^[#.](?:[\w-]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/);)i=new n.Element(a,s,e,l),t?t.push(i):t=[i],a=c.$char(">");if(t&&(c.$char("(")&&(r=this.args(!0).args,g(")")),u.important()&&(d=!0),u.end()))return c.forget(),new n.mixin.Call(t,r,p,l,d);c.restore()}},args:function(e){var t,i,s,a,r,o,l,p=u.entities,g={args:null,variadic:!1},h=[],m=[],b=[];for(c.save();;){if(e)o=u.detachedRuleset()||u.expression();else{if(c.commentStore.length=0,c.$str("...")){g.variadic=!0,c.$char(";")&&!t&&(t=!0),(t?m:b).push({variadic:!0});break}o=p.variable()||p.literal()||p.keyword()}if(!o)break;a=null,o.throwAwayComments&&o.throwAwayComments(),r=o;var f=null;if(e?o.value&&1==o.value.length&&(f=o.value[0]):f=o,f&&f instanceof n.Variable)if(c.$char(":")){if(h.length>0&&(t&&d("Cannot mix ; and , as delimiter types"),i=!0),!(r=u.detachedRuleset()||u.expression())){if(!e)return c.restore(),g.args=[],g;d("could not understand value for named argument")}a=s=f.name}else if(c.$str("...")){if(!e){g.variadic=!0,c.$char(";")&&!t&&(t=!0),(t?m:b).push({name:o.name,variadic:!0});break}l=!0}else e||(s=a=f.name,r=null);r&&h.push(r),b.push({name:a,value:r,expand:l}),c.$char(",")||(c.$char(";")||t)&&(i&&d("Cannot mix ; and , as delimiter types"),t=!0,h.length>1&&(r=new n.Value(h)),m.push({name:s,value:r,expand:l}),s=null,h=[],i=!1)}return c.forget(),g.args=t?m:b,g},definition:function(){var e,t,i,s,a=[],r=!1;if(!("."!==c.currentChar()&&"#"!==c.currentChar()||c.peek(/^[^{]*\}/)))if(c.save(),t=c.$re(/^([#.](?:[\w-]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+)\s*\(/)){e=t[1];var o=this.args(!1);if(a=o.args,r=o.variadic,!c.$char(")"))return void c.restore("Missing closing ')'");if(c.commentStore.length=0,c.$str("when")&&(s=p(u.conditions,"expected condition")),i=u.block())return c.forget(),new n.mixin.Definition(e,a,i,s,r);c.restore()}else c.forget()}},entity:function(){var e=this.entities;return this.comment()||e.literal()||e.variable()||e.url()||e.call()||e.keyword()||e.javascript()},end:function(){return c.$char(";")||c.peek("}")},alpha:function(){var e;if(c.$re(/^opacity=/i))return(e=c.$re(/^\d+/))||(e=p(this.entities.variable,"Could not parse alpha")),g(")"),new n.Alpha(e)},element:function(){var e,t,i,s=c.i;if(t=this.combinator(),(e=c.$re(/^(?:\d+\.\d+|\d+)%/)||c.$re(/^(?:[.#]?|:*)(?:[\w-]|[^\x00-\x9f]|\\(?:[A-Fa-f0-9]{1,6} ?|[^A-Fa-f0-9]))+/)||c.$char("*")||c.$char("&")||this.attribute()||c.$re(/^\([^&()@]+\)/)||c.$re(/^[\.#:](?=@)/)||this.entities.variableCurly())||(c.save(),c.$char("(")?(i=this.selector())&&c.$char(")")?(e=new n.Paren(i),c.forget()):c.restore("Missing closing ')'"):c.forget()),e)return new n.Element(t,e,s,l)},combinator:function(){var e=c.currentChar();if("/"===e){c.save();var t=c.$re(/^\/[a-z]+\//i);if(t)return c.forget(),new n.Combinator(t);c.restore()}if(">"===e||"+"===e||"~"===e||"|"===e||"^"===e){for(c.i++,"^"===e&&"^"===c.currentChar()&&(e="^^",c.i++);c.isWhitespace();)c.i++;return new n.Combinator(e)}return c.isWhitespace(-1)?new n.Combinator(" "):new n.Combinator(null)},lessSelector:function(){return this.selector(!0)},selector:function(e){for(var t,i,s,a,r,o,u,g=c.i;(e&&(i=this.extend())||e&&(o=c.$str("when"))||(a=this.element()))&&(o?u=p(this.conditions,"expected condition"):u?d("CSS guard can only be used at the end of selector"):i?r=r?r.concat(i):i:(r&&d("Extend can only be used at the end of selector"),s=c.currentChar(),t?t.push(a):t=[a],a=null),"{"!==s&&"}"!==s&&";"!==s&&","!==s&&")"!==s););if(t)return new n.Selector(t,r,u,g,l);r&&d("Extend must be used to extend a selector, it cannot be used on its own")},attribute:function(){if(c.$char("[")){var e,t,i,s=this.entities;return(e=s.variableCurly())||(e=p(/^(?:[_A-Za-z0-9-\*]*\|)?(?:[_A-Za-z0-9-]|\\.)+/)),(i=c.$re(/^[|~*$^]?=/))&&(t=s.quoted()||c.$re(/^[0-9]+%/)||c.$re(/^[\w-]+/)||s.variableCurly()),g("]"),new n.Attribute(e,i,t)}},block:function(){var e;if(c.$char("{")&&(e=this.primary())&&c.$char("}"))return e},blockRuleset:function(){var e=this.block();return e&&(e=new n.Ruleset(null,e)),e},detachedRuleset:function(){var e=this.blockRuleset();if(e)return new n.DetachedRuleset(e)},ruleset:function(){var e,i,s,a;for(c.save(),t.dumpLineNumbers&&(a=h(c.i));(i=this.lessSelector())&&(e?e.push(i):e=[i],c.commentStore.length=0,i.condition&&e.length>1&&d("Guards are only currently allowed on a single selector."),c.$char(","));)i.condition&&d("Guards are only currently allowed on a single selector."),c.commentStore.length=0;if(e&&(s=this.block())){c.forget();var r=new n.Ruleset(e,s,t.strictImports);return t.dumpLineNumbers&&(r.debugInfo=a),r}c.restore()},rule:function(e){var i,s,a,r,o,u=c.i,d=c.currentChar();if("."!==d&&"#"!==d&&"&"!==d&&":"!==d)if(c.save(),i=this.variable()||this.ruleProperty()){if((o="string"==typeof i)&&(s=this.detachedRuleset()),c.commentStore.length=0,!s){r=!o&&i.length>1&&i.pop().value;var p=!e&&(t.compress||o);if(p&&(s=this.value()),!s&&(s=this.anonymousValue()))return c.forget(),new n.Rule(i,s,!1,r,u,l);p||s||(s=this.value()),a=this.important()}if(s&&this.end())return c.forget(),new n.Rule(i,s,a,r,u,l);if(c.restore(),s&&!e)return this.rule(!0)}else c.forget()},anonymousValue:function(){var e=c.$re(/^([^@+\/'"*`(;{}-]*);/);if(e)return new n.Anonymous(e[1])},import:function(){var e,t,i=c.i,s=c.$re(/^@import?\s+/);if(s){var a=(s?this.importOptions():null)||{};if(e=this.entities.quoted()||this.entities.url())return t=this.mediaFeatures(),c.$char(";")||(c.i=i,d("missing semi-colon or unrecognised media features on import")),t=t&&new n.Value(t),new n.Import(e,t,a,i,l);c.i=i,d("malformed import statement")}},importOptions:function(){var e,t,i,s={};if(!c.$char("("))return null;do{if(e=this.importOption()){switch(i=!0,t=e){case"css":t="less",i=!1;break;case"once":t="multiple",i=!1}if(s[t]=i,!c.$char(","))break}}while(e);return g(")"),s},importOption:function(){var e=c.$re(/^(less|css|multiple|once|inline|reference|optional)/);if(e)return e[1]},mediaFeature:function(){var e,t,i=this.entities,s=[];c.save();do{(e=i.keyword()||i.variable())?s.push(e):c.$char("(")&&(t=this.property(),e=this.value(),c.$char(")")?t&&e?s.push(new n.Paren(new n.Rule(t,e,null,null,c.i,l,!0))):e?s.push(new n.Paren(e)):d("badly formed media feature definition"):d("Missing closing ')'","Parse"))}while(e);if(c.forget(),s.length>0)return new n.Expression(s)},mediaFeatures:function(){var e,t=this.entities,i=[];do{if(e=this.mediaFeature()){if(i.push(e),!c.$char(","))break}else if((e=t.variable())&&(i.push(e),!c.$char(",")))break}while(e);return i.length>0?i:null},media:function(){var e,i,s,a,r=c.i;if(t.dumpLineNumbers&&(a=h(r)),c.save(),c.$str("@media"))return e=this.mediaFeatures(),(i=this.block())||d("media definitions require block statements after any features"),c.forget(),s=new n.Media(i,e,r,l),t.dumpLineNumbers&&(s.debugInfo=a),s;c.restore()},plugin:function(){var e,t=c.i;if(c.$re(/^@plugin?\s+/)){if(e=this.entities.quoted()||this.entities.url())return c.$char(";")||(c.i=t,d("missing semi-colon on plugin")),new n.Import(e,null,{plugin:!0},t,l);c.i=t,d("malformed plugin statement")}},directive:function(){var e,i,s,a,r,o,u,p=c.i,g=!0,m=!0;if("@"===c.currentChar()){if(i=this.import()||this.plugin()||this.media())return i;if(c.save(),e=c.$re(/^@[a-z-]+/)){switch(a=e,"-"==e.charAt(1)&&e.indexOf("-",2)>0&&(a="@"+e.slice(e.indexOf("-",2)+1)),a){case"@charset":r=!0,g=!1;break;case"@namespace":o=!0,g=!1;break;case"@keyframes":case"@counter-style":r=!0;break;case"@document":case"@supports":u=!0,m=!1;break;default:u=!0}if(c.commentStore.length=0,r?(i=this.entity())||d("expected "+e+" identifier"):o?(i=this.expression())||d("expected "+e+" expression"):u&&(i=(c.$re(/^[^{;]+/)||"").trim(),g="{"==c.currentChar(),i&&(i=new n.Anonymous(i))),g&&(s=this.blockRuleset()),s||!g&&i&&c.$char(";"))return c.forget(),new n.Directive(e,i,s,p,l,t.dumpLineNumbers?h(p):null,m);c.restore("directive options not recognised")}}},value:function(){var e,t=[];do{if((e=this.expression())&&(t.push(e),!c.$char(",")))break}while(e);if(t.length>0)return new n.Value(t)},important:function(){if("!"===c.currentChar())return c.$re(/^! *important/)},sub:function(){var e,t;if(c.save(),c.$char("("))return(e=this.addition())&&c.$char(")")?(c.forget(),(t=new n.Expression([e])).parens=!0,t):void c.restore("Expected ')'");c.restore()},multiplication:function(){var e,t,i,s,a;if(e=this.operand()){for(a=c.isWhitespace(-1);!c.peek(/^\/[*\/]/);){if(c.save(),!(i=c.$char("/")||c.$char("*"))){c.forget();break}if(!(t=this.operand())){c.restore();break}c.forget(),e.parensInOp=!0,t.parensInOp=!0,s=new n.Operation(i,[s||e,t],a),a=c.isWhitespace(-1)}return s||e}},addition:function(){var e,t,i,s,a;if(e=this.multiplication()){for(a=c.isWhitespace(-1);(i=c.$re(/^[-+]\s+/)||!a&&(c.$char("+")||c.$char("-")))&&(t=this.multiplication());)e.parensInOp=!0,t.parensInOp=!0,s=new n.Operation(i,[s||e,t],a),a=c.isWhitespace(-1);return s||e}},conditions:function(){var e,t,i,s=c.i;if(e=this.condition()){for(;c.peek(/^,\s*(not\s*)?\(/)&&c.$char(",")&&(t=this.condition());)i=new n.Condition("or",i||e,t,s);return i||e}},condition:function(){var e,t,i;if(e=this.conditionAnd(this)){if(t=c.$str("or")){if(!(i=this.condition()))return;e=new n.Condition(t,e,i)}return e}},conditionAnd:function(){var e,t,i,s;if(e=(s=this).negatedCondition()||s.parenthesisCondition()){if(t=c.$str("and")){if(!(i=this.conditionAnd()))return;e=new n.Condition(t,e,i)}return e}},negatedCondition:function(){if(c.$str("not")){var e=this.parenthesisCondition();return e&&(e.negate=!e.negate),e}},parenthesisCondition:function(){var e;if(c.save(),c.$str("(")){if(e=function(e){var t;if(c.save(),t=e.condition()){if(c.$char(")"))return c.forget(),t;c.restore()}else c.restore()}(this))return c.forget(),e;if(e=this.atomicCondition()){if(c.$char(")"))return c.forget(),e;c.restore("expected ')' got '"+c.currentChar()+"'")}else c.restore()}else c.restore()},atomicCondition:function(){var e,t,i,s,a=this.entities,r=c.i;if(e=this.addition()||a.keyword()||a.quoted())return c.$char(">")?s=c.$char("=")?">=":">":c.$char("<")?s=c.$char("=")?"<=":"<":c.$char("=")&&(s=c.$char(">")?"=>":c.$char("<")?"=<":"="),s?(t=this.addition()||a.keyword()||a.quoted())?i=new n.Condition(s,e,t,r,!1):d("expected expression"):i=new n.Condition("=",e,new n.Keyword("true"),r,!1),i},operand:function(){var e,t=this.entities;c.peek(/^-[@\(]/)&&(e=c.$char("-"));var i=this.sub()||t.dimension()||t.color()||t.variable()||t.call()||t.colorKeyword();return e&&(i.parensInOp=!0,i=new n.Negative(i)),i},expression:function(){var e,t,i=[];do{(e=this.comment())?i.push(e):(e=this.addition()||this.entity())&&(i.push(e),c.peek(/^\/[\/*]/)||(t=c.$char("/"))&&i.push(new n.Anonymous(t)))}while(e);if(i.length>0)return new n.Expression(i)},property:function(){var e=c.$re(/^(\*?-?[_a-zA-Z0-9-]+)\s*:/);if(e)return e[1]},ruleProperty:function(){var e,t,i=[],s=[];c.save();var a=c.$re(/^([_a-zA-Z0-9-]+)\s*:/);if(a)return i=[new n.Keyword(a[1])],c.forget(),i;function r(e){var t=c.i,n=c.$re(e);if(n)return s.push(t),i.push(n[1])}for(r(/^(\*?)/);r(/^((?:[\w-]+)|(?:@\{[\w-]+\}))/););if(i.length>1&&r(/^((?:\+_|\+)?)\s*:/)){for(c.forget(),""===i[0]&&(i.shift(),s.shift()),t=0;t<i.length;t++)e=i[t],i[t]="@"!==e.charAt(0)?new n.Keyword(e):new n.Variable("@"+e.slice(2,-1),s[t],l);return i}c.restore()}}}};l.serializeVars=function(e){var t="";for(var i in e)if(Object.hasOwnProperty.call(e,i)){var s=e[i];t+=("@"===i[0]?"":"@")+i+": "+s+(";"===String(s).slice(-1)?"":";")}return t},e.exports=l},function(e,t,i){var s=i(98),n=e.exports=function(e,t,i){Error.call(this);var n=e.filename||i;if(t&&n){var a=t.contents[n],r=s.getLocation(e.index,a),o=r.line,l=r.column,u=e.call&&s.getLocation(e.call,a).line,c=a.split("\n");this.type=e.type||"Syntax",this.filename=n,this.index=e.index,this.line="number"==typeof o?o+1:null,this.callLine=u+1,this.callExtract=c[u],this.column=l,this.extract=[c[o-1],c[o],c[o+1]]}this.message=e.message,this.stack=e.stack};if(void 0===Object.create){var a=function(){};a.prototype=Error.prototype,n.prototype=new a}else n.prototype=Object.create(Error.prototype);n.prototype.constructor=n},function(e,t){e.exports={getLocation:function(e,t){for(var i=e+1,s=null,n=-1;--i>=0&&"\n"!==t.charAt(i);)n++;return"number"==typeof e&&(s=(t.slice(0,e).match(/\n/g)||"").length),{line:s,column:n}}}},,function(e,t,i){"use strict";i.d(t,"a",(function(){return h}));var s=i(34),n=i(9),a=i(2),r=i(47),o=i(43),l=i(53),u=i(60),c=i(61),d=i(65),p=i(29),g=i.n(p);const h=(e,t,i=null,p)=>{var h;const m={},b=null!==(h=null==i?void 0:i("dateFormat"))&&void 0!==h?h:"lll";return t.series.forEach((t=>{e.filter((e=>Object(n.startsWith)(e.id,t.id))).forEach((e=>{let h=Object(o.b)(e.label);h!==o.a&&(h=Object(n.snakeCase)(h));const f=[h,Object(n.snakeCase)(t.var_name)].filter((e=>e)).join("."),v=t.formatter===a.b.DEFAULT?Object(c.a)(Object(u.a)(t.metrics),p):Object(l.a)(t.formatter,t.value_template,i),j=Object(r.b)(e.data),x={last:{raw:j,formatted:v(j)},data:{raw:e.data,formatted:e.data.map((e=>[g()(e[0]).format(b),v(e[1])]))}},y=t.split_mode===a.a.TERMS?Object(c.a)(t.terms_field,p)(e.label):e.label;if(Object(s.set)(m,f,x),Object(s.set)(m,`${h}.label`,y),e.labelFormatted){const t=Object(d.a)(e.labelFormatted,b);Object(s.set)(m,`${h}.formatted`,t)}}))})),m}},,,,,,,function(e,t,i){var s=i(89);e.exports={createCSS:function(e,t,i){var n=i.href||"",a="less:"+(i.title||s.extractId(n)),r=e.getElementById(a),o=!1,l=e.createElement("style");l.setAttribute("type","text/css"),i.media&&l.setAttribute("media",i.media),l.id=a,l.styleSheet||(l.appendChild(e.createTextNode(t)),o=null!==r&&r.childNodes.length>0&&l.childNodes.length>0&&r.firstChild.nodeValue===l.firstChild.nodeValue);var u=e.getElementsByTagName("head")[0];if(null===r||!1===o){var c=i&&i.nextSibling||null;c?c.parentNode.insertBefore(l,c):u.appendChild(l)}if(r&&!1===o&&r.parentNode.removeChild(r),l.styleSheet)try{l.styleSheet.cssText=t}catch(e){throw new Error("Couldn't reassign styleSheet.cssText.")}},currentScript:function(e){var t,i=e.document;return i.currentScript||(t=i.getElementsByTagName("script"))[t.length-1]}}},function(e,t){e.exports={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},function(e,t,i){var s=i(38),n=i(59),a=i(70),r=function(e,t,i,s,a,r,o,l){var u;if(this.name=e,this.value=t,i)for(Array.isArray(i)?this.rules=i:(this.rules=[i],this.rules[0].selectors=new n([],null,null,this.index,a).createEmptySelectors()),u=0;u<this.rules.length;u++)this.rules[u].allowImports=!0;this.index=s,this.currentFileInfo=a,this.debugInfo=r,this.isRooted=o||!1,this.copyVisibilityInfo(l),this.allowRoot=!0};(r.prototype=new s).type="Directive",r.prototype.accept=function(e){var t=this.value,i=this.rules;i&&(this.rules=e.visitArray(i)),t&&(this.value=e.visit(t))},r.prototype.isRulesetLike=function(){return this.rules||!this.isCharset()},r.prototype.isCharset=function(){return"@charset"===this.name},r.prototype.genCSS=function(e,t){var i=this.value,s=this.rules;t.add(this.name,this.currentFileInfo,this.index),i&&(t.add(" "),i.genCSS(e,t)),s?this.outputRuleset(e,t,s):t.add(";")},r.prototype.eval=function(e){var t,i,s=this.value,n=this.rules;return t=e.mediaPath,i=e.mediaBlocks,e.mediaPath=[],e.mediaBlocks=[],s&&(s=s.eval(e)),n&&((n=[n[0].eval(e)])[0].root=!0),e.mediaPath=t,e.mediaBlocks=i,new r(this.name,s,n,this.index,this.currentFileInfo,this.debugInfo,this.isRooted,this.visibilityInfo())},r.prototype.variable=function(e){if(this.rules)return a.prototype.variable.call(this.rules[0],e)},r.prototype.find=function(){if(this.rules)return a.prototype.find.apply(this.rules[0],arguments)},r.prototype.rulesets=function(){if(this.rules)return a.prototype.rulesets.apply(this.rules[0])},r.prototype.outputRuleset=function(e,t,i){var s,n=i.length;if(e.tabLevel=1+(0|e.tabLevel),e.compress){for(t.add("{"),s=0;s<n;s++)i[s].genCSS(e,t);return t.add("}"),void e.tabLevel--}var a="\n"+Array(e.tabLevel).join("  "),r=a+"  ";if(n){for(t.add(" {"+r),i[0].genCSS(e,t),s=1;s<n;s++)t.add(r),i[s].genCSS(e,t);t.add(a+"}")}else t.add(" {"+a+"}");e.tabLevel--},e.exports=r},function(e,t,i){var s=i(38),n=function(e){" "===e?(this.value=" ",this.emptyOrWhitespace=!0):(this.value=e?e.trim():"",this.emptyOrWhitespace=""===this.value)};(n.prototype=new s).type="Combinator";var a={"":!0," ":!0,"|":!0};n.prototype.genCSS=function(e,t){var i=e.compress||a[this.value]?"":" ";t.add(i+this.value+i)},e.exports=n},function(e,t){var i=function(e,t,s){var n="";if(e.dumpLineNumbers&&!e.compress)switch(e.dumpLineNumbers){case"comments":n=i.asComment(t);break;case"mediaquery":n=i.asMediaQuery(t);break;case"all":n=i.asComment(t)+(s||"")+i.asMediaQuery(t)}return n};i.asComment=function(e){return"/* line "+e.debugInfo.lineNumber+", "+e.debugInfo.fileName+" */\n"},i.asMediaQuery=function(e){var t=e.debugInfo.fileName;return/^[a-z]+:\/\//i.test(t)||(t="file://"+t),"@media -sass-debug-info{filename{font-family:"+t.replace(/([.:\/\\])/g,(function(e){return"\\"==e&&(e="/"),"\\"+e}))+"}line{font-family:\\00003"+e.debugInfo.lineNumber+"}}\n"},e.exports=i},function(e,t,i){var s=i(38),n=i(50),a=function(e,t){this.ruleset=e,this.frames=t};(a.prototype=new s).type="DetachedRuleset",a.prototype.evalFirst=!0,a.prototype.accept=function(e){this.ruleset=e.visit(this.ruleset)},a.prototype.eval=function(e){var t=this.frames||e.frames.slice(0);return new a(this.ruleset,t)},a.prototype.callEval=function(e){return this.ruleset.eval(this.frames?new n.Eval(e,this.frames.concat(e.frames)):e)},e.exports=a},function(e,t,i){var s=i(38),n=i(90),a=function(e,t,i){this.numerator=e?e.slice(0).sort():[],this.denominator=t?t.slice(0).sort():[],i?this.backupUnit=i:e&&e.length&&(this.backupUnit=e[0])};(a.prototype=new s).type="Unit",a.prototype.clone=function(){return new a(this.numerator.slice(0),this.denominator.slice(0),this.backupUnit)},a.prototype.genCSS=function(e,t){var i=e&&e.strictUnits;1===this.numerator.length?t.add(this.numerator[0]):!i&&this.backupUnit?t.add(this.backupUnit):!i&&this.denominator.length&&t.add(this.denominator[0])},a.prototype.toString=function(){var e,t=this.numerator.join("*");for(e=0;e<this.denominator.length;e++)t+="/"+this.denominator[e];return t},a.prototype.compare=function(e){return this.is(e.toString())?0:void 0},a.prototype.is=function(e){return this.toString().toUpperCase()===e.toUpperCase()},a.prototype.isLength=function(){return Boolean(this.toCSS().match(/px|em|%|in|cm|mm|pc|pt|ex/))},a.prototype.isEmpty=function(){return 0===this.numerator.length&&0===this.denominator.length},a.prototype.isSingular=function(){return this.numerator.length<=1&&0===this.denominator.length},a.prototype.map=function(e){var t;for(t=0;t<this.numerator.length;t++)this.numerator[t]=e(this.numerator[t],!1);for(t=0;t<this.denominator.length;t++)this.denominator[t]=e(this.denominator[t],!0)},a.prototype.usedUnits=function(){var e,t,i,s={};for(i in t=function(t){return e.hasOwnProperty(t)&&!s[i]&&(s[i]=t),t},n)n.hasOwnProperty(i)&&(e=n[i],this.map(t));return s},a.prototype.cancel=function(){var e,t,i={};for(t=0;t<this.numerator.length;t++)i[e=this.numerator[t]]=(i[e]||0)+1;for(t=0;t<this.denominator.length;t++)i[e=this.denominator[t]]=(i[e]||0)-1;for(e in this.numerator=[],this.denominator=[],i)if(i.hasOwnProperty(e)){var s=i[e];if(s>0)for(t=0;t<s;t++)this.numerator.push(e);else if(s<0)for(t=0;t<-s;t++)this.denominator.push(e)}this.numerator.sort(),this.denominator.sort()},e.exports=a},function(e,t,i){var s=i(38),n=i(81),a=function(){};(a.prototype=new s).evaluateJavaScript=function(e,t){var i,s=this,a={};if(void 0!==t.javascriptEnabled&&!t.javascriptEnabled)throw{message:"You are using JavaScript, which has been disabled.",filename:this.currentFileInfo.filename,index:this.index};e=e.replace(/@\{([\w-]+)\}/g,(function(e,i){return s.jsify(new n("@"+i,s.index,s.currentFileInfo).eval(t))}));try{e=new Function("return ("+e+")")}catch(t){throw{message:"JavaScript evaluation error: "+t.message+" from `"+e+"`",filename:this.currentFileInfo.filename,index:this.index}}var r=t.frames[0].variables();for(var o in r)r.hasOwnProperty(o)&&(a[o.slice(1)]={value:r[o].value,toJS:function(){return this.value.eval(t).toCSS()}});try{i=e.call(a)}catch(e){throw{message:"JavaScript evaluation error: '"+e.name+": "+e.message.replace(/["]/g,"'")+"'",filename:this.currentFileInfo.filename,index:this.index}}return i},a.prototype.jsify=function(e){return Array.isArray(e.value)&&e.value.length>1?"["+e.value.map((function(e){return e.toCSS()})).join(", ")+"]":e.toCSS()},e.exports=a},function(e,t,i){var s=i(38),n=i(111),a=function(e,t,i,s){this.value=e,this.isLineComment=t,this.index=i,this.currentFileInfo=s,this.allowRoot=!0};(a.prototype=new s).type="Comment",a.prototype.genCSS=function(e,t){this.debugInfo&&t.add(n(e,this),this.currentFileInfo,this.index),t.add(this.value)},a.prototype.isSilent=function(e){var t=e.compress&&"!"!==this.value[2];return this.isLineComment||t},e.exports=a},function(e,t,i){var s=i(71),n=function(e,t,i,s){this.name=e.toLowerCase(),this.index=i,this.context=t,this.currentFileInfo=s,this.func=t.frames[0].functionRegistry.get(this.name)};n.prototype.isValid=function(){return Boolean(this.func)},n.prototype.call=function(e){return Array.isArray(e)&&(e=e.filter((function(e){return"Comment"!==e.type})).map((function(e){if("Expression"===e.type){var t=e.value.filter((function(e){return"Comment"!==e.type}));return 1===t.length?t[0]:new s(t)}return e}))),this.func.apply(this,e)},e.exports=n},function(e,t,i){var s=i(70),n=i(92),a=i(59),r=i(52),o=i(71),l=i(109),u=function(e,t,i,r,o){this.index=i,this.currentFileInfo=r;var l=new a([],null,null,this.index,this.currentFileInfo).createEmptySelectors();this.features=new n(t),this.rules=[new s(l,e)],this.rules[0].allowImports=!0,this.copyVisibilityInfo(o),this.allowRoot=!0};(u.prototype=new l).type="Media",u.prototype.isRulesetLike=!0,u.prototype.accept=function(e){this.features&&(this.features=e.visit(this.features)),this.rules&&(this.rules=e.visitArray(this.rules))},u.prototype.genCSS=function(e,t){t.add("@media ",this.currentFileInfo,this.index),this.features.genCSS(e,t),this.outputRuleset(e,t,this.rules)},u.prototype.eval=function(e){e.mediaBlocks||(e.mediaBlocks=[],e.mediaPath=[]);var t=new u(null,[],this.index,this.currentFileInfo,this.visibilityInfo());this.debugInfo&&(this.rules[0].debugInfo=this.debugInfo,t.debugInfo=this.debugInfo);var i=!1;e.strictMath||(i=!0,e.strictMath=!0);try{t.features=this.features.eval(e)}finally{i&&(e.strictMath=!1)}return e.mediaPath.push(t),e.mediaBlocks.push(t),this.rules[0].functionRegistry=e.frames[0].functionRegistry.inherit(),e.frames.unshift(this.rules[0]),t.rules=[this.rules[0].eval(e)],e.frames.shift(),e.mediaPath.pop(),0===e.mediaPath.length?t.evalTop(e):t.evalNested(e)},u.prototype.evalTop=function(e){var t=this;if(e.mediaBlocks.length>1){var i=new a([],null,null,this.index,this.currentFileInfo).createEmptySelectors();(t=new s(i,e.mediaBlocks)).multiMedia=!0,t.copyVisibilityInfo(this.visibilityInfo())}return delete e.mediaBlocks,delete e.mediaPath,t},u.prototype.evalNested=function(e){var t,i,a=e.mediaPath.concat([this]);for(t=0;t<a.length;t++)i=a[t].features instanceof n?a[t].features.value:a[t].features,a[t]=Array.isArray(i)?i:[i];return this.features=new n(this.permute(a).map((function(e){for(e=e.map((function(e){return e.toCSS?e:new r(e)})),t=e.length-1;t>0;t--)e.splice(t,0,new r("and"));return new o(e)}))),new s([],[])},u.prototype.permute=function(e){if(0===e.length)return[];if(1===e.length)return e[0];for(var t=[],i=this.permute(e.slice(1)),s=0;s<i.length;s++)for(var n=0;n<e[0].length;n++)t.push([e[0][n]].concat(i[s]));return t},u.prototype.bubbleSelectors=function(e){e&&(this.rules=[new s(e.slice(0),[this.rules[0]])])},e.exports=u},function(e,t,i){var s=i(59),n=i(78),a=i(70),r=i(91),o=i(71),l=i(50),u=function(e,t,i,a,r,o,l){this.name=e,this.selectors=[new s([new n(null,e,this.index,this.currentFileInfo)])],this.params=t,this.condition=a,this.variadic=r,this.arity=t.length,this.rules=i,this._lookups={};var u=[];this.required=t.reduce((function(e,t){return!t.name||t.name&&!t.value?e+1:(u.push(t.name),e)}),0),this.optionalParameters=u,this.frames=o,this.copyVisibilityInfo(l),this.allowRoot=!0};(u.prototype=new a).type="MixinDefinition",u.prototype.evalFirst=!0,u.prototype.accept=function(e){this.params&&this.params.length&&(this.params=e.visitArray(this.params)),this.rules=e.visitArray(this.rules),this.condition&&(this.condition=e.visit(this.condition))},u.prototype.evalParams=function(e,t,i,s){var n,u,c,d,p,g,h,m,b=new a(null,null),f=this.params.slice(0),v=0;if(t.frames&&t.frames[0]&&t.frames[0].functionRegistry&&(b.functionRegistry=t.frames[0].functionRegistry.inherit()),t=new l.Eval(t,[b].concat(t.frames)),i)for(v=(i=i.slice(0)).length,c=0;c<v;c++)if(g=(u=i[c])&&u.name){for(h=!1,d=0;d<f.length;d++)if(!s[d]&&g===f[d].name){s[d]=u.value.eval(e),b.prependRule(new r(g,u.value.eval(e))),h=!0;break}if(h){i.splice(c,1),c--;continue}throw{type:"Runtime",message:"Named argument for "+this.name+" "+i[c].name+" not found"}}for(m=0,c=0;c<f.length;c++)if(!s[c]){if(u=i&&i[m],g=f[c].name)if(f[c].variadic){for(n=[],d=m;d<v;d++)n.push(i[d].value.eval(e));b.prependRule(new r(g,new o(n).eval(e)))}else{if(p=u&&u.value)p=p.eval(e);else{if(!f[c].value)throw{type:"Runtime",message:"wrong number of arguments for "+this.name+" ("+v+" for "+this.arity+")"};p=f[c].value.eval(t),b.resetCache()}b.prependRule(new r(g,p)),s[c]=p}if(f[c].variadic&&i)for(d=m;d<v;d++)s[d]=i[d].value.eval(e);m++}return b},u.prototype.makeImportant=function(){var e=this.rules?this.rules.map((function(e){return e.makeImportant?e.makeImportant(!0):e})):this.rules;return new u(this.name,this.params,e,this.condition,this.variadic,this.frames)},u.prototype.eval=function(e){return new u(this.name,this.params,this.rules,this.condition,this.variadic,this.frames||e.frames.slice(0))},u.prototype.evalCall=function(e,t,i){var s,n,u=[],c=this.frames?this.frames.concat(e.frames):e.frames,d=this.evalParams(e,new l.Eval(e,c),t,u);return d.prependRule(new r("@arguments",new o(u).eval(e))),s=this.rules.slice(0),(n=new a(null,s)).originalRuleset=this,n=n.eval(new l.Eval(e,[this,d].concat(c))),i&&(n=n.makeImportant()),n},u.prototype.matchCondition=function(e,t){return!(this.condition&&!this.condition.eval(new l.Eval(t,[this.evalParams(t,new l.Eval(t,this.frames?this.frames.concat(t.frames):t.frames),e,[])].concat(this.frames||[]).concat(t.frames))))},u.prototype.matchArgs=function(e,t){var i,s=e&&e.length||0,n=this.optionalParameters,a=e?e.reduce((function(e,t){return n.indexOf(t.name)<0?e+1:e}),0):0;if(this.variadic){if(a<this.required-1)return!1}else{if(a<this.required)return!1;if(s>this.params.length)return!1}i=Math.min(a,this.arity);for(var r=0;r<i;r++)if(!this.params[r].name&&!this.params[r].variadic&&e[r].value.eval(t).toCSS()!=this.params[r].value.eval(t).toCSS())return!1;return!0},e.exports=u},function(e,t,i){var s=i(114),n=i(49),a=i(51),r=i(52),o=function(e,t,i,s){this.escaped=t,this.expression=e,this.index=i,this.currentFileInfo=s};(o.prototype=new s).type="JavaScript",o.prototype.eval=function(e){var t=this.evaluateJavaScript(this.expression,e);return"number"==typeof t?new n(t):"string"==typeof t?new a('"'+t+'"',t,this.escaped,this.index):Array.isArray(t)?new r(t.join(", ")):new r(t)},e.exports=o},function(e,t){var i=function(){};i.prototype.getPath=function(e){var t=e.lastIndexOf("?");return t>0&&(e=e.slice(0,t)),(t=e.lastIndexOf("/"))<0&&(t=e.lastIndexOf("\\")),t<0?"":e.slice(0,t+1)},i.prototype.tryAppendExtension=function(e,t){return/(\.[a-z]*$)|([\?;].*)$/.test(e)?e:e+t},i.prototype.tryAppendLessExtension=function(e){return this.tryAppendExtension(e,".less")},i.prototype.supportsSync=function(){return!1},i.prototype.alwaysMakePathsAbsolute=function(){return!1},i.prototype.isPathAbsolute=function(e){return/^(?:[a-z-]+:|\/|\\|#)/i.test(e)},i.prototype.join=function(e,t){return e?e+t:t},i.prototype.pathDiff=function(e,t){var i,s,n,a,r=this.extractUrlParts(e),o=this.extractUrlParts(t),l="";if(r.hostPart!==o.hostPart)return"";for(s=Math.max(o.directories.length,r.directories.length),i=0;i<s&&o.directories[i]===r.directories[i];i++);for(a=o.directories.slice(i),n=r.directories.slice(i),i=0;i<a.length-1;i++)l+="../";for(i=0;i<n.length-1;i++)l+=n[i]+"/";return l},i.prototype.extractUrlParts=function(e,t){var i,s,n=/^((?:[a-z-]+:)?\/{2}(?:[^\/\?#]*\/)|([\/\\]))?((?:[^\/\\\?#]*[\/\\])*)([^\/\\\?#]*)([#\?].*)?$/i,a=e.match(n),r={},o=[];if(!a)throw new Error("Could not parse sheet href - '"+e+"'");if(t&&(!a[1]||a[2])){if(!(s=t.match(n)))throw new Error("Could not parse page url - '"+t+"'");a[1]=a[1]||s[1]||"",a[2]||(a[3]=s[3]+a[3])}if(a[3]){for(o=a[3].replace(/\\/g,"/").split("/"),i=0;i<o.length;i++)"."===o[i]&&(o.splice(i,1),i-=1);for(i=0;i<o.length;i++)".."===o[i]&&i>0&&(o.splice(i-1,2),i-=2)}return r.hostPart=a[1],r.directories=o,r.path=(a[1]||"")+o.join("/"),r.fileUrl=r.path+(a[4]||""),r.url=r.fileUrl+(a[5]||""),r},e.exports=i},function(e,t,i){var s=i(49),n=function(){};n._math=function(e,t,i){if(!(i instanceof s))throw{type:"Argument",message:"argument must be a number"};return null==t?t=i.unit:i=i.unify(),new s(e(parseFloat(i.value)),t)},e.exports=n},function(e,t,i){var s=i(50),n=i(95),a=i(63);e.exports=function(e,t){var i,r=(t=t||{}).variables,o=new s.Eval(t);"object"!=typeof r||Array.isArray(r)||(r=Object.keys(r).map((function(e){var t=r[e];return t instanceof a.Value||(t instanceof a.Expression||(t=new a.Expression([t])),t=new a.Value([t])),new a.Rule("@"+e,t,!1,null,0)})),o.frames=[new a.Ruleset(null,r)]);var l,u=[],c=[new n.JoinSelectorVisitor,new n.MarkVisibleSelectorsVisitor(!0),new n.ExtendVisitor,new n.ToCSSVisitor({compress:Boolean(t.compress)})];if(t.pluginManager){var d=t.pluginManager.getVisitors();for(l=0;l<d.length;l++){var p=d[l];p.isPreEvalVisitor?u.push(p):p.isPreVisitor?c.splice(0,0,p):c.push(p)}}for(l=0;l<u.length;l++)u[l].run(e);for(i=e.eval(o),l=0;l<c.length;l++)c[l].run(i);return i}},function(e,t,i){"use strict";e.exports=i(195)},function(e,t,i){"use strict";(function(t){function i(e){n.length||(s(),!0),n[n.length]=e}e.exports=i;var s,n=[],a=0;function r(){for(;a<n.length;){var e=a;if(a+=1,n[e].call(),a>1024){for(var t=0,i=n.length-a;t<i;t++)n[t]=n[t+a];n.length-=a,a=0}}n.length=0,a=0,!1}var o,l,u,c=void 0!==t?t:self,d=c.MutationObserver||c.WebKitMutationObserver;function p(e){return function(){var t=setTimeout(s,0),i=setInterval(s,50);function s(){clearTimeout(t),clearInterval(i),e()}}}"function"==typeof d?(o=1,l=new d(r),u=document.createTextNode(""),l.observe(u,{characterData:!0}),s=function(){o=-o,u.data=o}):s=p(r),i.requestFlush=s,i.makeRequestCallFromTimer=p}).call(this,i(82))},function(e,t){var i=function(e){this.less=e,this.visitors=[],this.preProcessors=[],this.postProcessors=[],this.installedPlugins=[],this.fileManagers=[]};i.prototype.addPlugins=function(e){if(e)for(var t=0;t<e.length;t++)this.addPlugin(e[t])},i.prototype.addPlugin=function(e){this.installedPlugins.push(e),e.install(this.less,this)},i.prototype.addVisitor=function(e){this.visitors.push(e)},i.prototype.addPreProcessor=function(e,t){var i;for(i=0;i<this.preProcessors.length&&!(this.preProcessors[i].priority>=t);i++);this.preProcessors.splice(i,0,{preProcessor:e,priority:t})},i.prototype.addPostProcessor=function(e,t){var i;for(i=0;i<this.postProcessors.length&&!(this.postProcessors[i].priority>=t);i++);this.postProcessors.splice(i,0,{postProcessor:e,priority:t})},i.prototype.addFileManager=function(e){this.fileManagers.push(e)},i.prototype.getPreProcessors=function(){for(var e=[],t=0;t<this.preProcessors.length;t++)e.push(this.preProcessors[t].preProcessor);return e},i.prototype.getPostProcessors=function(){for(var e=[],t=0;t<this.postProcessors.length;t++)e.push(this.postProcessors[t].postProcessor);return e},i.prototype.getVisitors=function(){return this.visitors},i.prototype.getFileManagers=function(){return this.fileManagers},e.exports=i},,,,,,,,,,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(33),n=i(4),a=s.__importDefault(i(141));t.default=function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=[]);var s=a.default(e,t),r=s[0],o=s[1],l=s[2];return n.useEffect(l,i),[r,o]}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(4);t.default=function(e,t){void 0===t&&(t=0);var i=s.useRef(!1),n=s.useRef(),a=s.useRef(e),r=s.useCallback((function(){return i.current}),[]),o=s.useCallback((function(){i.current=!1,n.current&&clearTimeout(n.current),n.current=setTimeout((function(){i.current=!0,a.current()}),t)}),[t]),l=s.useCallback((function(){i.current=null,n.current&&clearTimeout(n.current)}),[]);return s.useEffect((function(){a.current=e}),[e]),s.useEffect((function(){return o(),l}),[t]),[r,l,o]}},function(e,t,i){switch(window.__kbnThemeTag__){case"v7dark":return i(143);case"v7light":return i(145);case"v8dark":return i(147);case"v8light":return i(149)}},function(e,t,i){var s=i(40),n=i(144);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};s(n,a);e.exports=n.locals||{}},function(e,t,i){(t=i(41)(!1)).push([e.i,".tvbLastValueModePopover{height:auto}.tvbLastValueModePopoverBody{width:360px}\n",""]),e.exports=t},function(e,t,i){var s=i(40),n=i(146);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};s(n,a);e.exports=n.locals||{}},function(e,t,i){(t=i(41)(!1)).push([e.i,".tvbLastValueModePopover{height:auto}.tvbLastValueModePopoverBody{width:360px}\n",""]),e.exports=t},function(e,t,i){var s=i(40),n=i(148);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};s(n,a);e.exports=n.locals||{}},function(e,t,i){(t=i(41)(!1)).push([e.i,".tvbLastValueModePopover{height:auto}.tvbLastValueModePopoverBody{width:360px}\n",""]),e.exports=t},function(e,t,i){var s=i(40),n=i(150);"string"==typeof(n=n.__esModule?n.default:n)&&(n=[[e.i,n,""]]);var a={insert:"head",singleton:!1};s(n,a);e.exports=n.locals||{}},function(e,t,i){(t=i(41)(!1)).push([e.i,".tvbLastValueModePopover{height:auto}.tvbLastValueModePopoverBody{width:360px}\n",""]),e.exports=t},,,,,,,,function(e,t,i){var s=i(89).addDataAttr,n=i(107);e.exports=function(e,t){var a=e.document,r=i(159)();r.options=t;var o=r.environment,l=i(203)(t,r.logger),u=new l;o.addFileManager(u),r.FileManager=l,i(204)(r,t);var c=i(205)(e,r,t),d=r.cache=t.cache||i(206)(e,t,r.logger);i(207)(r.environment),t.functions&&r.functions.functionRegistry.addMultiple(t.functions);var p=/^text\/(x-)?less$/;function g(e){var t={};for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function h(e,t){var i=Array.prototype.slice.call(arguments,2);return function(){var s=i.concat(Array.prototype.slice.call(arguments,0));return e.apply(t,s)}}function m(e){for(var i,s=a.getElementsByTagName("style"),n=0;n<s.length;n++)if((i=s[n]).type.match(p)){var o=g(t);o.modifyVars=e;var l=i.innerHTML||"";o.filename=a.location.href.replace(/#.*$/,""),r.render(l,o,h((function(e,t,i){t?c.add(t,"inline"):(e.type="text/css",e.styleSheet?e.styleSheet.cssText=i.css:e.innerHTML=i.css)}),null,i))}}function b(e,i,n,a,l){var p=g(t);function h(s){var o=s.contents,l=s.filename,g=s.webInfo,h={currentDirectory:u.getPath(l),filename:l,rootFilename:l,relativeUrls:p.relativeUrls};if(h.entryPath=h.currentDirectory,h.rootpath=p.rootpath||h.currentDirectory,g){g.remaining=a;var m=d.getCSS(l,g,p.modifyVars);if(!n&&m)return g.local=!0,void i(null,m,o,e,g,l)}c.remove(l),p.rootFileInfo=h,r.render(o,p,(function(s,n){var a;s?(s.href=l,i(s)):(n.css=(a=n.css,t.postProcessor&&"function"==typeof t.postProcessor&&(a=t.postProcessor.call(a,a)||a),a),d.setCSS(e.href,g.lastModified,p.modifyVars,n.css),i(null,n.css,o,e,g,l))}))}s(p,e),p.mime=e.type,l&&(p.modifyVars=l),u.loadFile(e.href,null,p,o,(function(e,t){e?i(e):h(t)}))}function f(e,t,i){for(var s=0;s<r.sheets.length;s++)b(r.sheets[s],e,t,r.sheets.length-(s+1),i)}return r.watch=function(){return r.watchMode||(r.env="development","development"===r.env&&(r.watchTimer=setInterval((function(){r.watchMode&&(u.clearFileCache(),f((function(t,i,s,a,r){t?c.add(t,t.href||a.href):i&&n.createCSS(e.document,i,a)})))}),t.poll))),this.watchMode=!0,!0},r.unwatch=function(){return clearInterval(r.watchTimer),this.watchMode=!1,!1},r.registerStylesheetsImmediately=function(){var e=a.getElementsByTagName("link");r.sheets=[];for(var t=0;t<e.length;t++)("stylesheet/less"===e[t].rel||e[t].rel.match(/stylesheet/)&&e[t].type.match(p))&&r.sheets.push(e[t])},r.registerStylesheets=function(){return new Promise((function(e,t){r.registerStylesheetsImmediately(),e()}))},r.modifyVars=function(e){return r.refresh(!0,e,!1)},r.refresh=function(t,i,s){return(t||s)&&!1!==s&&u.clearFileCache(),new Promise((function(s,a){var o,l,u,d;o=l=new Date,0===(d=r.sheets.length)?(l=new Date,u=l-o,r.logger.info("Less has finished and no sheets were loaded."),s({startTime:o,endTime:l,totalMilliseconds:u,sheets:r.sheets.length})):f((function(t,i,p,g,h){if(t)return c.add(t,t.href||g.href),void a(t);h.local?r.logger.info("Loading "+g.href+" from cache."):r.logger.info("Rendered "+g.href+" successfully."),n.createCSS(e.document,i,g),r.logger.info("CSS for "+g.href+" generated in "+(new Date-l)+"ms"),0===--d&&(u=new Date-o,r.logger.info("Less has finished. CSS generated in "+u+"ms"),s({startTime:o,endTime:l,totalMilliseconds:u,sheets:r.sheets.length})),l=new Date}),t,i),m(i)}))},r.refreshStyles=m,r}},function(e,t,i){e.exports=function(e,t){var s,n,a,r,o;return{version:[2,7,3],data:i(160),tree:i(63),Environment:o=i(172),AbstractFileManager:i(120),environment:e=new o(e,t),visitors:i(95),Parser:i(96),functions:i(181)(e),contexts:i(50),SourceMapOutput:s=i(190)(e),SourceMapBuilder:n=i(191)(s,e),ParseTree:a=i(192)(n),ImportManager:r=i(193)(e),render:i(194)(e,a,r),parse:i(202)(e,a,r),LessError:i(97),transformTree:i(122),utils:i(98),PluginManager:i(125),logger:i(73)}}},function(e,t,i){e.exports={colors:i(108),unitConversions:i(90)}},function(e,t,i){var s=i(38),n=function(e){this.value=e};(n.prototype=new s).type="Alpha",n.prototype.accept=function(e){this.value=e.visit(this.value)},n.prototype.eval=function(e){return this.value.eval?new n(this.value.eval(e)):this},n.prototype.genCSS=function(e,t){t.add("alpha(opacity="),this.value.genCSS?this.value.genCSS(e,t):t.add(this.value),t.add(")")},e.exports=n},function(e,t,i){var s=i(38),n=function(e,t,i){this.key=e,this.op=t,this.value=i};(n.prototype=new s).type="Attribute",n.prototype.eval=function(e){return new n(this.key.eval?this.key.eval(e):this.key,this.op,this.value&&this.value.eval?this.value.eval(e):this.value)},n.prototype.genCSS=function(e,t){t.add(this.toCSS(e))},n.prototype.toCSS=function(e){var t=this.key.toCSS?this.key.toCSS(e):this.key;return this.op&&(t+=this.op,t+=this.value.toCSS?this.value.toCSS(e):this.value),"["+t+"]"},e.exports=n},function(e,t,i){var s=i(38),n=i(116),a=function(e,t,i,s){this.name=e,this.args=t,this.index=i,this.currentFileInfo=s};(a.prototype=new s).type="Call",a.prototype.accept=function(e){this.args&&(this.args=e.visitArray(this.args))},a.prototype.eval=function(e){var t,i=this.args.map((function(t){return t.eval(e)})),s=new n(this.name,e,this.index,this.currentFileInfo);if(s.isValid()){try{t=s.call(i)}catch(e){throw{type:e.type||"Runtime",message:"error evaluating function `"+this.name+"`"+(e.message?": "+e.message:""),index:this.index,filename:this.currentFileInfo.filename}}if(null!=t)return t.index=this.index,t.currentFileInfo=this.currentFileInfo,t}return new a(this.name,i,this.index,this.currentFileInfo)},a.prototype.genCSS=function(e,t){t.add(this.name+"(",this.currentFileInfo,this.index);for(var i=0;i<this.args.length;i++)this.args[i].genCSS(e,t),i+1<this.args.length&&t.add(", ");t.add(")")},e.exports=a},function(e,t,i){var s=i(38),n=i(117),a=i(72),r=i(51),o=i(70),l=i(52),u=function(e,t,i,s,n,a){if(this.options=i,this.index=s,this.path=e,this.features=t,this.currentFileInfo=n,this.allowRoot=!0,void 0!==this.options.less||this.options.inline)this.css=!this.options.less||this.options.inline;else{var r=this.getPath();r&&/[#\.\&\?\/]css([\?;].*)?$/.test(r)&&(this.css=!0)}this.copyVisibilityInfo(a)};(u.prototype=new s).type="Import",u.prototype.accept=function(e){this.features&&(this.features=e.visit(this.features)),this.path=e.visit(this.path),this.options.plugin||this.options.inline||!this.root||(this.root=e.visit(this.root))},u.prototype.genCSS=function(e,t){this.css&&void 0===this.path.currentFileInfo.reference&&(t.add("@import ",this.currentFileInfo,this.index),this.path.genCSS(e,t),this.features&&(t.add(" "),this.features.genCSS(e,t)),t.add(";"))},u.prototype.getPath=function(){return this.path instanceof a?this.path.value.value:this.path.value},u.prototype.isVariableImport=function(){var e=this.path;return e instanceof a&&(e=e.value),!(e instanceof r)||e.containsVariables()},u.prototype.evalForImport=function(e){var t=this.path;return t instanceof a&&(t=t.value),new u(t.eval(e),this.features,this.options,this.index,this.currentFileInfo,this.visibilityInfo())},u.prototype.evalPath=function(e){var t=this.path.eval(e),i=this.currentFileInfo&&this.currentFileInfo.rootpath;if(!(t instanceof a)){if(i){var s=t.value;s&&e.isPathRelative(s)&&(t.value=i+s)}t.value=e.normalizePath(t.value)}return t},u.prototype.eval=function(e){var t=this.doEval(e);return(this.options.reference||this.blocksVisibility())&&(t.length||0===t.length?t.forEach((function(e){e.addVisibilityBlock()})):t.addVisibilityBlock()),t},u.prototype.doEval=function(e){var t,i,s=this.features&&this.features.eval(e);if(this.options.plugin)return(i=e.frames[0]&&e.frames[0].functionRegistry)&&this.root&&this.root.functions&&i.addMultiple(this.root.functions),[];if(this.skip&&("function"==typeof this.skip&&(this.skip=this.skip()),this.skip))return[];if(this.options.inline){var a=new l(this.root,0,{filename:this.importedFilename,reference:this.path.currentFileInfo&&this.path.currentFileInfo.reference},!0,!0);return this.features?new n([a],this.features.value):[a]}if(this.css){var r=new u(this.evalPath(e),s,this.options,this.index);if(!r.css&&this.error)throw this.error;return r}return(t=new o(null,this.root.rules.slice(0))).evalImports(e),this.features?new n(t.rules,this.features.value):t.rules},e.exports=u},function(e,t,i){var s=i(38),n=i(59),a=i(118),r=i(93),o=function(e,t,i,s,a){this.selector=new n(e),this.arguments=t||[],this.index=i,this.currentFileInfo=s,this.important=a,this.allowRoot=!0};(o.prototype=new s).type="MixinCall",o.prototype.accept=function(e){this.selector&&(this.selector=e.visit(this.selector)),this.arguments.length&&(this.arguments=e.visitArray(this.arguments))},o.prototype.eval=function(e){var t,i,s,n,o,l,u,c,d,p,g,h,m,b,f,v=[],j=[],x=!1,y=[],O=[];function T(t,i){var s,n,a;for(s=0;s<2;s++){for(O[s]=!0,r.value(s),n=0;n<i.length&&O[s];n++)(a=i[n]).matchCondition&&(O[s]=O[s]&&a.matchCondition(null,e));t.matchCondition&&(O[s]=O[s]&&t.matchCondition(v,e))}return O[0]||O[1]?O[0]!=O[1]?O[1]?1:2:0:-1}for(l=0;l<this.arguments.length;l++)if(o=(n=this.arguments[l]).value.eval(e),n.expand&&Array.isArray(o.value))for(o=o.value,u=0;u<o.length;u++)v.push({value:o[u]});else v.push({name:n.name,value:o});for(f=function(t){return t.matchArgs(null,e)},l=0;l<e.frames.length;l++)if((t=e.frames[l].find(this.selector,null,f)).length>0){for(p=!0,u=0;u<t.length;u++){for(i=t[u].rule,s=t[u].path,d=!1,c=0;c<e.frames.length;c++)if(!(i instanceof a)&&i===(e.frames[c].originalRuleset||e.frames[c])){d=!0;break}d||i.matchArgs(v,e)&&(-1!==(g={mixin:i,group:T(i,s)}).group&&y.push(g),x=!0)}for(r.reset(),m=[0,0,0],u=0;u<y.length;u++)m[y[u].group]++;if(m[0]>0)h=2;else if(h=1,m[1]+m[2]>1)throw{type:"Runtime",message:"Ambiguous use of `default()` found when matching for `"+this.format(v)+"`",index:this.index,filename:this.currentFileInfo.filename};for(u=0;u<y.length;u++)if(0===(g=y[u].group)||g===h)try{(i=y[u].mixin)instanceof a||(b=i.originalRuleset||i,(i=new a("",[],i.rules,null,!1,null,b.visibilityInfo())).originalRuleset=b);var E=i.evalCall(e,v,this.important).rules;this._setVisibilityToReplacement(E),Array.prototype.push.apply(j,E)}catch(e){throw{message:e.message,index:this.index,filename:this.currentFileInfo.filename,stack:e.stack}}if(x)return j}throw p?{type:"Runtime",message:"No matching definition was found for `"+this.format(v)+"`",index:this.index,filename:this.currentFileInfo.filename}:{type:"Name",message:this.selector.toCSS().trim()+" is undefined",index:this.index,filename:this.currentFileInfo.filename}},o.prototype._setVisibilityToReplacement=function(e){var t;if(this.blocksVisibility())for(t=0;t<e.length;t++)e[t].addVisibilityBlock()},o.prototype.format=function(e){return this.selector.toCSS().trim()+"("+(e?e.map((function(e){var t="";return e.name&&(t+=e.name+":"),e.value.toCSS?t+=e.value.toCSS():t+="???",t})).join(", "):"")+")"},e.exports=o},function(e,t,i){var s=i(38),n=function(e,t){this.key=e,this.value=t};(n.prototype=new s).type="Assignment",n.prototype.accept=function(e){this.value=e.visit(this.value)},n.prototype.eval=function(e){return this.value.eval?new n(this.key,this.value.eval(e)):this},n.prototype.genCSS=function(e,t){t.add(this.key+"="),this.value.genCSS?this.value.genCSS(e,t):t.add(this.value)},e.exports=n},function(e,t,i){var s=i(38),n=function(e,t,i,s,n){this.op=e.trim(),this.lvalue=t,this.rvalue=i,this.index=s,this.negate=n};(n.prototype=new s).type="Condition",n.prototype.accept=function(e){this.lvalue=e.visit(this.lvalue),this.rvalue=e.visit(this.rvalue)},n.prototype.eval=function(e){var t=function(e,t,i){switch(e){case"and":return t&&i;case"or":return t||i;default:switch(s.compare(t,i)){case-1:return"<"===e||"=<"===e||"<="===e;case 0:return"="===e||">="===e||"=<"===e||"<="===e;case 1:return">"===e||">="===e;default:return!1}}}(this.op,this.lvalue.eval(e),this.rvalue.eval(e));return this.negate?!t:t},e.exports=n},function(e,t,i){var s=i(38),n=function(e){this.value=e};(n.prototype=new s).type="UnicodeDescriptor",e.exports=n},function(e,t,i){var s=i(38),n=i(94),a=i(49),r=function(e){this.value=e};(r.prototype=new s).type="Negative",r.prototype.genCSS=function(e,t){t.add("-"),this.value.genCSS(e,t)},r.prototype.eval=function(e){return e.isMathOn()?new n("*",[new a(-1),this.value]).eval(e):new r(this.value.eval(e))},e.exports=r},function(e,t,i){var s=i(38),n=i(59),a=function e(t,i,s,n,a){if(this.selector=t,this.option=i,this.index=s,this.object_id=e.next_id++,this.parent_ids=[this.object_id],this.currentFileInfo=n||{},this.copyVisibilityInfo(a),this.allowRoot=!0,"all"===i)this.allowBefore=!0,this.allowAfter=!0;else this.allowBefore=!1,this.allowAfter=!1};a.next_id=0,(a.prototype=new s).type="Extend",a.prototype.accept=function(e){this.selector=e.visit(this.selector)},a.prototype.eval=function(e){return new a(this.selector.eval(e),this.option,this.index,this.currentFileInfo,this.visibilityInfo())},a.prototype.clone=function(e){return new a(this.selector,this.option,this.index,this.currentFileInfo,this.visibilityInfo())},a.prototype.findSelfSelectors=function(e){var t,i,s=[];for(t=0;t<e.length;t++)i=e[t].elements,t>0&&i.length&&""===i[0].combinator.value&&(i[0].combinator.value=" "),s=s.concat(e[t].elements);this.selfSelectors=[new n(s)],this.selfSelectors[0].copyVisibilityInfo(this.visibilityInfo())},e.exports=a},function(e,t,i){var s=i(38),n=i(81),a=function(e){this.variable=e,this.allowRoot=!0};(a.prototype=new s).type="RulesetCall",a.prototype.eval=function(e){return new n(this.variable).eval(e).callEval(e)},e.exports=a},function(e,t,i){var s=i(73),n=function(e,t){this.fileManagers=t||[],e=e||{};for(var i=[],s=i.concat(["encodeBase64","mimeLookup","charsetLookup","getSourceMapGenerator"]),n=0;n<s.length;n++){var a=s[n],r=e[a];r?this[a]=r.bind(e):n<i.length&&this.warn("missing required function in environment - "+a)}};n.prototype.getFileManager=function(e,t,i,n,a){e||s.warn("getFileManager called with no filename.. Please report this issue. continuing."),null==t&&s.warn("getFileManager called with null directory.. Please report this issue. continuing.");var r=this.fileManagers;i.pluginManager&&(r=[].concat(r).concat(i.pluginManager.getFileManagers()));for(var o=r.length-1;o>=0;o--){var l=r[o];if(l[a?"supportsSync":"supports"](e,t,i,n))return l}return null},n.prototype.addFileManager=function(e){this.fileManagers.push(e)},n.prototype.clearFileManagers=function(){this.fileManagers=[]},e.exports=n},function(e,t,i){var s=i(50),n=i(74),a=i(174),r=function(e,t){this._visitor=new n(this),this._importer=e,this._finish=t,this.context=new s.Eval,this.importCount=0,this.onceFileDetectionMap={},this.recursionDetector={},this._sequencer=new a(this._onSequencerEmpty.bind(this))};r.prototype={isReplacing:!1,run:function(e){try{this._visitor.visit(e)}catch(e){this.error=e}this.isFinished=!0,this._sequencer.tryRun()},_onSequencerEmpty:function(){this.isFinished&&this._finish(this.error)},visitImport:function(e,t){var i=e.options.inline;if(!e.css||i){var n=new s.Eval(this.context,this.context.frames.slice(0)),a=n.frames[0];this.importCount++,e.isVariableImport()?this._sequencer.addVariableImport(this.processImportNode.bind(this,e,n,a)):this.processImportNode(e,n,a)}t.visitDeeper=!1},processImportNode:function(e,t,i){var s,n=e.options.inline;try{s=e.evalForImport(t)}catch(t){t.filename||(t.index=e.index,t.filename=e.currentFileInfo.filename),e.css=!0,e.error=t}if(!s||s.css&&!n)this.importCount--,this.isFinished&&this._sequencer.tryRun();else{s.options.multiple&&(t.importMultiple=!0);for(var a=void 0===s.css,r=0;r<i.rules.length;r++)if(i.rules[r]===e){i.rules[r]=s;break}var o=this.onImported.bind(this,s,t),l=this._sequencer.addImport(o);this._importer.push(s.getPath(),a,s.currentFileInfo,s.options,l)}},onImported:function(e,t,i,s,n,a){i&&(i.filename||(i.index=e.index,i.filename=e.currentFileInfo.filename),this.error=i);var r=this,o=e.options.inline,l=e.options.plugin,u=e.options.optional,c=n||a in r.recursionDetector;if(t.importMultiple||(e.skip=!!c||function(){return a in r.onceFileDetectionMap||(r.onceFileDetectionMap[a]=!0,!1)}),!a&&u&&(e.skip=!0),s&&(e.root=s,e.importedFilename=a,!o&&!l&&(t.importMultiple||!c))){r.recursionDetector[a]=!0;var d=this.context;this.context=t;try{this._visitor.visit(s)}catch(i){this.error=i}this.context=d}r.importCount--,r.isFinished&&r._sequencer.tryRun()},visitRule:function(e,t){"DetachedRuleset"===e.value.type?this.context.frames.unshift(e):t.visitDeeper=!1},visitRuleOut:function(e){"DetachedRuleset"===e.value.type&&this.context.frames.shift()},visitDirective:function(e,t){this.context.frames.unshift(e)},visitDirectiveOut:function(e){this.context.frames.shift()},visitMixinDefinition:function(e,t){this.context.frames.unshift(e)},visitMixinDefinitionOut:function(e){this.context.frames.shift()},visitRuleset:function(e,t){this.context.frames.unshift(e)},visitRulesetOut:function(e){this.context.frames.shift()},visitMedia:function(e,t){this.context.frames.unshift(e.rules[0])},visitMediaOut:function(e){this.context.frames.shift()}},e.exports=r},function(e,t){function i(e){this.imports=[],this.variableImports=[],this._onSequencerEmpty=e,this._currentDepth=0}i.prototype.addImport=function(e){var t=this,i={callback:e,args:null,isReady:!1};return this.imports.push(i),function(){i.args=Array.prototype.slice.call(arguments,0),i.isReady=!0,t.tryRun()}},i.prototype.addVariableImport=function(e){this.variableImports.push(e)},i.prototype.tryRun=function(){this._currentDepth++;try{for(;;){for(;this.imports.length>0;){var e=this.imports[0];if(!e.isReady)return;this.imports=this.imports.slice(1),e.callback.apply(null,e.args)}if(0===this.variableImports.length)break;var t=this.variableImports[0];this.variableImports=this.variableImports.slice(1),t()}}finally{this._currentDepth--}0===this._currentDepth&&this._onSequencerEmpty&&this._onSequencerEmpty()},e.exports=i},function(e,t){var i=function(e){this.visible=e};i.prototype.run=function(e){this.visit(e)},i.prototype.visitArray=function(e){if(!e)return e;var t,i=e.length;for(t=0;t<i;t++)this.visit(e[t]);return e},i.prototype.visit=function(e){return e?e.constructor===Array?this.visitArray(e):(!e.blocksVisibility||e.blocksVisibility()||(this.visible?e.ensureVisibility():e.ensureInvisibility(),e.accept(this)),e):e},e.exports=i},function(e,t,i){var s=i(63),n=i(74),a=i(73),r=function(){this._visitor=new n(this),this.contexts=[],this.allExtendsStack=[[]]};r.prototype={run:function(e){return(e=this._visitor.visit(e)).allExtends=this.allExtendsStack[0],e},visitRule:function(e,t){t.visitDeeper=!1},visitMixinDefinition:function(e,t){t.visitDeeper=!1},visitRuleset:function(e,t){if(!e.root){var i,n,a,r,o=[],l=e.rules,u=l?l.length:0;for(i=0;i<u;i++)e.rules[i]instanceof s.Extend&&(o.push(l[i]),e.extendOnEveryPath=!0);var c=e.paths;for(i=0;i<c.length;i++){var d=c[i],p=d[d.length-1].extendList;for((r=p?p.slice(0).concat(o):o)&&(r=r.map((function(e){return e.clone()}))),n=0;n<r.length;n++)this.foundExtends=!0,(a=r[n]).findSelfSelectors(d),a.ruleset=e,0===n&&(a.firstExtendOnThisSelectorPath=!0),this.allExtendsStack[this.allExtendsStack.length-1].push(a)}this.contexts.push(e.selectors)}},visitRulesetOut:function(e){e.root||(this.contexts.length=this.contexts.length-1)},visitMedia:function(e,t){e.allExtends=[],this.allExtendsStack.push(e.allExtends)},visitMediaOut:function(e){this.allExtendsStack.length=this.allExtendsStack.length-1},visitDirective:function(e,t){e.allExtends=[],this.allExtendsStack.push(e.allExtends)},visitDirectiveOut:function(e){this.allExtendsStack.length=this.allExtendsStack.length-1}};var o=function(){this._visitor=new n(this)};o.prototype={run:function(e){var t=new r;if(this.extendIndices={},t.run(e),!t.foundExtends)return e;e.allExtends=e.allExtends.concat(this.doExtendChaining(e.allExtends,e.allExtends)),this.allExtendsStack=[e.allExtends];var i=this._visitor.visit(e);return this.checkExtendsForNonMatched(e.allExtends),i},checkExtendsForNonMatched:function(e){var t=this.extendIndices;e.filter((function(e){return!e.hasFoundMatches&&1==e.parent_ids.length})).forEach((function(e){var i="_unknown_";try{i=e.selector.toCSS({})}catch(e){}t[e.index+" "+i]||(t[e.index+" "+i]=!0,a.warn("extend '"+i+"' has no matches"))}))},doExtendChaining:function(e,t,i){var n,a,r,o,l,u,c,d,p=[],g=this;for(i=i||0,n=0;n<e.length;n++)for(a=0;a<t.length;a++)u=e[n],c=t[a],u.parent_ids.indexOf(c.object_id)>=0||(l=[c.selfSelectors[0]],(r=g.findMatch(u,l)).length&&(u.hasFoundMatches=!0,u.selfSelectors.forEach((function(e){var t=c.visibilityInfo();o=g.extendSelector(r,l,e,u.isVisible()),(d=new s.Extend(c.selector,c.option,0,c.currentFileInfo,t)).selfSelectors=o,o[o.length-1].extendList=[d],p.push(d),d.ruleset=c.ruleset,d.parent_ids=d.parent_ids.concat(c.parent_ids,u.parent_ids),c.firstExtendOnThisSelectorPath&&(d.firstExtendOnThisSelectorPath=!0,c.ruleset.paths.push(o))}))));if(p.length){if(this.extendChainCount++,i>100){var h="{unable to calculate}",m="{unable to calculate}";try{h=p[0].selfSelectors[0].toCSS(),m=p[0].selector.toCSS()}catch(e){}throw{message:"extend circular reference detected. One of the circular extends is currently:"+h+":extend("+m+")"}}return p.concat(g.doExtendChaining(p,t,i+1))}return p},visitRule:function(e,t){t.visitDeeper=!1},visitMixinDefinition:function(e,t){t.visitDeeper=!1},visitSelector:function(e,t){t.visitDeeper=!1},visitRuleset:function(e,t){if(!e.root){var i,s,n,a,r=this.allExtendsStack[this.allExtendsStack.length-1],o=[],l=this;for(n=0;n<r.length;n++)for(s=0;s<e.paths.length;s++)if(a=e.paths[s],!e.extendOnEveryPath){var u=a[a.length-1].extendList;u&&u.length||(i=this.findMatch(r[n],a)).length&&(r[n].hasFoundMatches=!0,r[n].selfSelectors.forEach((function(e){var t;t=l.extendSelector(i,a,e,r[n].isVisible()),o.push(t)})))}e.paths=e.paths.concat(o)}},findMatch:function(e,t){var i,s,n,a,r,o,l,u=e.selector.elements,c=[],d=[];for(i=0;i<t.length;i++)for(s=t[i],n=0;n<s.elements.length;n++)for(a=s.elements[n],(e.allowBefore||0===i&&0===n)&&c.push({pathIndex:i,index:n,matched:0,initialCombinator:a.combinator}),o=0;o<c.length;o++)l=c[o],""===(r=a.combinator.value)&&0===n&&(r=" "),!this.isElementValuesEqual(u[l.matched].value,a.value)||l.matched>0&&u[l.matched].combinator.value!==r?l=null:l.matched++,l&&(l.finished=l.matched===u.length,l.finished&&!e.allowAfter&&(n+1<s.elements.length||i+1<t.length)&&(l=null)),l?l.finished&&(l.length=u.length,l.endPathIndex=i,l.endPathElementIndex=n+1,c.length=0,d.push(l)):(c.splice(o,1),o--);return d},isElementValuesEqual:function(e,t){if("string"==typeof e||"string"==typeof t)return e===t;if(e instanceof s.Attribute)return e.op===t.op&&e.key===t.key&&(e.value&&t.value?(e=e.value.value||e.value)===(t=t.value.value||t.value):!e.value&&!t.value);if(e=e.value,t=t.value,e instanceof s.Selector){if(!(t instanceof s.Selector)||e.elements.length!==t.elements.length)return!1;for(var i=0;i<e.elements.length;i++){if(e.elements[i].combinator.value!==t.elements[i].combinator.value&&(0!==i||(e.elements[i].combinator.value||" ")!==(t.elements[i].combinator.value||" ")))return!1;if(!this.isElementValuesEqual(e.elements[i].value,t.elements[i].value))return!1}return!0}return!1},extendSelector:function(e,t,i,n){var a,r,o,l,u,c=0,d=0,p=[];for(a=0;a<e.length;a++)r=t[(l=e[a]).pathIndex],o=new s.Element(l.initialCombinator,i.elements[0].value,i.elements[0].index,i.elements[0].currentFileInfo),l.pathIndex>c&&d>0&&(p[p.length-1].elements=p[p.length-1].elements.concat(t[c].elements.slice(d)),d=0,c++),u=r.elements.slice(d,l.index).concat([o]).concat(i.elements.slice(1)),c===l.pathIndex&&a>0?p[p.length-1].elements=p[p.length-1].elements.concat(u):(p=p.concat(t.slice(c,l.pathIndex))).push(new s.Selector(u)),c=l.endPathIndex,(d=l.endPathElementIndex)>=t[c].elements.length&&(d=0,c++);return c<t.length&&d>0&&(p[p.length-1].elements=p[p.length-1].elements.concat(t[c].elements.slice(d)),c++),p=(p=p.concat(t.slice(c,t.length))).map((function(e){var t=e.createDerived(e.elements);return n?t.ensureVisibility():t.ensureInvisibility(),t}))},visitMedia:function(e,t){var i=e.allExtends.concat(this.allExtendsStack[this.allExtendsStack.length-1]);i=i.concat(this.doExtendChaining(i,e.allExtends)),this.allExtendsStack.push(i)},visitMediaOut:function(e){var t=this.allExtendsStack.length-1;this.allExtendsStack.length=t},visitDirective:function(e,t){var i=e.allExtends.concat(this.allExtendsStack[this.allExtendsStack.length-1]);i=i.concat(this.doExtendChaining(i,e.allExtends)),this.allExtendsStack.push(i)},visitDirectiveOut:function(e){var t=this.allExtendsStack.length-1;this.allExtendsStack.length=t}},e.exports=o},function(e,t,i){var s=i(74),n=function(){this.contexts=[[]],this._visitor=new s(this)};n.prototype={run:function(e){return this._visitor.visit(e)},visitRule:function(e,t){t.visitDeeper=!1},visitMixinDefinition:function(e,t){t.visitDeeper=!1},visitRuleset:function(e,t){var i,s=this.contexts[this.contexts.length-1],n=[];this.contexts.push(n),e.root||((i=e.selectors)&&(i=i.filter((function(e){return e.getIsOutput()})),e.selectors=i.length?i:i=null,i&&e.joinSelectors(n,s,i)),i||(e.rules=null),e.paths=n)},visitRulesetOut:function(e){this.contexts.length=this.contexts.length-1},visitMedia:function(e,t){var i=this.contexts[this.contexts.length-1];e.rules[0].root=0===i.length||i[0].multiMedia},visitDirective:function(e,t){var i=this.contexts[this.contexts.length-1];e.rules&&e.rules.length&&(e.rules[0].root=e.isRooted||0===i.length||null)}},e.exports=n},function(e,t,i){var s=i(63),n=i(74),a=function(e){this._visitor=new n(this),this._context=e};a.prototype={containsSilentNonBlockedChild:function(e){var t;if(null==e)return!1;for(var i=0;i<e.length;i++)if((t=e[i]).isSilent&&t.isSilent(this._context)&&!t.blocksVisibility())return!0;return!1},keepOnlyVisibleChilds:function(e){null!=e&&null!=e.rules&&(e.rules=e.rules.filter((function(e){return e.isVisible()})))},isEmpty:function(e){return null==e||null==e.rules||0===e.rules.length},hasVisibleSelector:function(e){return null!=e&&null!=e.paths&&e.paths.length>0},resolveVisibility:function(e,t){if(!e.blocksVisibility()){if(this.isEmpty(e)&&!this.containsSilentNonBlockedChild(t))return;return e}var i=e.rules[0];if(this.keepOnlyVisibleChilds(i),!this.isEmpty(i))return e.ensureVisibility(),e.removeVisibilityBlock(),e},isVisibleRuleset:function(e){return!!e.firstRoot||!this.isEmpty(e)&&!(!e.root&&!this.hasVisibleSelector(e))}};var r=function(e){this._visitor=new n(this),this._context=e,this.utils=new a(e)};r.prototype={isReplacing:!0,run:function(e){return this._visitor.visit(e)},visitRule:function(e,t){if(!e.blocksVisibility()&&!e.variable)return e},visitMixinDefinition:function(e,t){e.frames=[]},visitExtend:function(e,t){},visitComment:function(e,t){if(!e.blocksVisibility()&&!e.isSilent(this._context))return e},visitMedia:function(e,t){var i=e.rules[0].rules;return e.accept(this._visitor),t.visitDeeper=!1,this.utils.resolveVisibility(e,i)},visitImport:function(e,t){if(!e.blocksVisibility())return e},visitDirective:function(e,t){return e.rules&&e.rules.length?this.visitDirectiveWithBody(e,t):this.visitDirectiveWithoutBody(e,t)},visitDirectiveWithBody:function(e,t){var i=function(e){var t=e.rules;return function(e){var t=e.rules;return 1===t.length&&(!t[0].paths||0===t[0].paths.length)}(e)?t[0].rules:t}(e);return e.accept(this._visitor),t.visitDeeper=!1,this.utils.isEmpty(e)||this._mergeRules(e.rules[0].rules),this.utils.resolveVisibility(e,i)},visitDirectiveWithoutBody:function(e,t){if(!e.blocksVisibility()){if("@charset"===e.name){if(this.charset){if(e.debugInfo){var i=new s.Comment("/* "+e.toCSS(this._context).replace(/\n/g,"")+" */\n");return i.debugInfo=e.debugInfo,this._visitor.visit(i)}return}this.charset=!0}return e}},checkValidNodes:function(e,t){if(e)for(var i=0;i<e.length;i++){var n=e[i];if(t&&n instanceof s.Rule&&!n.variable)throw{message:"Properties must be inside selector blocks. They cannot be in the root",index:n.index,filename:n.currentFileInfo&&n.currentFileInfo.filename};if(n instanceof s.Call)throw{message:"Function '"+n.name+"' is undefined",index:n.index,filename:n.currentFileInfo&&n.currentFileInfo.filename};if(n.type&&!n.allowRoot)throw{message:n.type+" node returned by a function is not valid here",index:n.index,filename:n.currentFileInfo&&n.currentFileInfo.filename}}},visitRuleset:function(e,t){var i,s=[];if(this.checkValidNodes(e.rules,e.firstRoot),e.root)e.accept(this._visitor),t.visitDeeper=!1;else{this._compileRulesetPaths(e);for(var n=e.rules,a=n?n.length:0,r=0;r<a;)(i=n[r])&&i.rules?(s.push(this._visitor.visit(i)),n.splice(r,1),a--):r++;a>0?e.accept(this._visitor):e.rules=null,t.visitDeeper=!1}return e.rules&&(this._mergeRules(e.rules),this._removeDuplicateRules(e.rules)),this.utils.isVisibleRuleset(e)&&(e.ensureVisibility(),s.splice(0,0,e)),1===s.length?s[0]:s},_compileRulesetPaths:function(e){e.paths&&(e.paths=e.paths.filter((function(e){var t;for(" "===e[0].elements[0].combinator.value&&(e[0].elements[0].combinator=new s.Combinator("")),t=0;t<e.length;t++)if(e[t].isVisible()&&e[t].getIsOutput())return!0;return!1})))},_removeDuplicateRules:function(e){if(e){var t,i,n,a={};for(n=e.length-1;n>=0;n--)if((i=e[n])instanceof s.Rule)if(a[i.name]){(t=a[i.name])instanceof s.Rule&&(t=a[i.name]=[a[i.name].toCSS(this._context)]);var r=i.toCSS(this._context);-1!==t.indexOf(r)?e.splice(n,1):t.push(r)}else a[i.name]=i}},_mergeRules:function(e){if(e){for(var t,i,n,a={},r=0;r<e.length;r++)(i=e[r])instanceof s.Rule&&i.merge&&(n=[i.name,i.important?"!":""].join(","),a[n]?e.splice(r--,1):a[n]=[],a[n].push(i));Object.keys(a).map((function(e){function n(e){return new s.Expression(e.map((function(e){return e.value})))}if((t=a[e]).length>1){i=t[0];var r=[],o=[];t.map((function(e){"+"===e.merge&&(o.length>0&&r.push(n(o)),o=[]),o.push(e)})),r.push(n(o)),i.value=(l=r,new s.Value(l.map((function(e){return e}))))}var l}))}},visitAnonymous:function(e,t){if(!e.blocksVisibility())return e.accept(this._visitor),e}},e.exports=r},function(e,t,i){var s=i(180);e.exports=function(){var e,t,i,n,a,r,o,l=[],u={};function c(i){for(var s,n,l,d=u.i,p=t,g=u.i-o,h=u.i+r.length-g,m=u.i+=i,b=e;u.i<h;u.i++){if(s=b.charCodeAt(u.i),u.autoCommentAbsorb&&47===s){if("/"===(n=b.charAt(u.i+1))){l={index:u.i,isLineComment:!0};var f=b.indexOf("\n",u.i+2);f<0&&(f=h),u.i=f,l.text=b.substr(l.index,u.i-l.index),u.commentStore.push(l);continue}if("*"===n){var v=b.indexOf("*/",u.i+2);if(v>=0){l={index:u.i,text:b.substr(u.i,v+2-u.i),isLineComment:!1},u.i+=l.text.length-1,u.commentStore.push(l);continue}}break}if(32!==s&&10!==s&&9!==s&&13!==s)break}if(r=r.slice(i+u.i-m+g),o=u.i,!r.length){if(t<a.length-1)return r=a[++t],c(0),!0;u.finished=!0}return d!==u.i||p!==t}return u.save=function(){o=u.i,l.push({current:r,i:u.i,j:t})},u.restore=function(e){(u.i>i||u.i===i&&e&&!n)&&(i=u.i,n=e);var s=l.pop();r=s.current,o=u.i=s.i,t=s.j},u.forget=function(){l.pop()},u.isWhitespace=function(t){var i=u.i+(t||0),s=e.charCodeAt(i);return 32===s||13===s||9===s||10===s},u.$re=function(e){u.i>o&&(r=r.slice(u.i-o),o=u.i);var t=e.exec(r);return t?(c(t[0].length),"string"==typeof t?t:1===t.length?t[0]:t):null},u.$char=function(t){return e.charAt(u.i)!==t?null:(c(1),t)},u.$str=function(t){for(var i=t.length,s=0;s<i;s++)if(e.charAt(u.i+s)!==t.charAt(s))return null;return c(i),t},u.$quoted=function(){var t=e.charAt(u.i);if("'"===t||'"'===t){for(var i=e.length,s=u.i,n=1;n+s<i;n++){switch(e.charAt(n+s)){case"\\":n++;continue;case"\r":case"\n":break;case t:var a=e.substr(s,n+1);return c(n+1),a}}return null}},u.autoCommentAbsorb=!0,u.commentStore=[],u.finished=!1,u.peek=function(t){if("string"==typeof t){for(var i=0;i<t.length;i++)if(e.charAt(u.i+i)!==t.charAt(i))return!1;return!0}return t.test(r)},u.peekChar=function(t){return e.charAt(u.i)===t},u.currentChar=function(){return e.charAt(u.i)},u.getInput=function(){return e},u.peekNotNumeric=function(){var t=e.charCodeAt(u.i);return t>57||t<43||47===t||44===t},u.start=function(n,l,d){e=n,u.i=t=o=i=0,a=l?s(n,d):[n],r=a[0],c(0)},u.end=function(){var t,s=u.i>=e.length;return u.i<i&&(t=n,u.i=i),{isFinished:s,furthest:u.i,furthestPossibleErrorMessage:t,furthestReachedEnd:u.i>=e.length-1,furthestChar:e[u.i]}},u}},function(e,t){e.exports=function(e,t){var i,s,n,a,r,o,l,u,c,d=e.length,p=0,g=0,h=[],m=0;function b(t){var i=r-m;i<512&&!t||!i||(h.push(e.slice(m,r+1)),m=r+1)}for(r=0;r<d;r++)if(!((l=e.charCodeAt(r))>=97&&l<=122||l<34))switch(l){case 40:g++,s=r;continue;case 41:if(--g<0)return t("missing opening `(`",r);continue;case 59:g||b();continue;case 123:p++,i=r;continue;case 125:if(--p<0)return t("missing opening `{`",r);p||g||b();continue;case 92:if(r<d-1){r++;continue}return t("unescaped `\\`",r);case 34:case 39:case 96:for(c=0,o=r,r+=1;r<d;r++)if(!((u=e.charCodeAt(r))>96)){if(u==l){c=1;break}if(92==u){if(r==d-1)return t("unescaped `\\`",r);r++}}if(c)continue;return t("unmatched `"+String.fromCharCode(l)+"`",o);case 47:if(g||r==d-1)continue;if(47==(u=e.charCodeAt(r+1)))for(r+=2;r<d&&(!((u=e.charCodeAt(r))<=13)||10!=u&&13!=u);r++);else if(42==u){for(n=o=r,r+=2;r<d-1&&(125==(u=e.charCodeAt(r))&&(a=r),42!=u||47!=e.charCodeAt(r+1));r++);if(r==d-1)return t("missing closing `*/`",o);r++}continue;case 42:if(r<d-1&&47==e.charCodeAt(r+1))return t("unmatched `/*`",r);continue}return 0!==p?t(n>i&&a>n?"missing closing `}` or `*/`":"missing closing `}`",i):0!==g?t("missing closing `)`",s):(b(!0),h)}},function(e,t,i){e.exports=function(e){var t={functionRegistry:i(44),functionCaller:i(116)};return i(93),i(182),i(183),i(184)(e),i(185),i(186),i(187),i(188)(e),i(189),t}},function(e,t,i){var s,n=i(49),a=i(58),r=i(51),o=i(52),l=i(44);function u(e){return Math.min(1,Math.max(0,e))}function c(e){return s.hsla(e.h,e.s,e.l,e.a)}function d(e){if(e instanceof n)return parseFloat(e.unit.is("%")?e.value/100:e.value);if("number"==typeof e)return e;throw{type:"Argument",message:"color functions take numbers as parameters"}}s={rgb:function(e,t,i){return s.rgba(e,t,i,1)},rgba:function(e,t,i,s){var r=[e,t,i].map((function(e){return i=255,(t=e)instanceof n&&t.unit.is("%")?parseFloat(t.value*i/100):d(t);var t,i}));return s=d(s),new a(r,s)},hsl:function(e,t,i){return s.hsla(e,t,i,1)},hsla:function(e,t,i,n){var a,r;function o(e){return 6*(e=e<0?e+1:e>1?e-1:e)<1?a+(r-a)*e*6:2*e<1?r:3*e<2?a+(r-a)*(2/3-e)*6:a}return e=d(e)%360/360,t=u(d(t)),i=u(d(i)),n=u(d(n)),a=2*i-(r=i<=.5?i*(t+1):i+t-i*t),s.rgba(255*o(e+1/3),255*o(e),255*o(e-1/3),n)},hsv:function(e,t,i){return s.hsva(e,t,i,1)},hsva:function(e,t,i,n){var a,r;e=d(e)%360/360*360,t=d(t),i=d(i),n=d(n);var o=[i,i*(1-t),i*(1-(r=e/60-(a=Math.floor(e/60%6)))*t),i*(1-(1-r)*t)],l=[[0,3,1],[2,0,1],[1,0,3],[1,2,0],[3,1,0],[0,1,2]];return s.rgba(255*o[l[a][0]],255*o[l[a][1]],255*o[l[a][2]],n)},hue:function(e){return new n(e.toHSL().h)},saturation:function(e){return new n(100*e.toHSL().s,"%")},lightness:function(e){return new n(100*e.toHSL().l,"%")},hsvhue:function(e){return new n(e.toHSV().h)},hsvsaturation:function(e){return new n(100*e.toHSV().s,"%")},hsvvalue:function(e){return new n(100*e.toHSV().v,"%")},red:function(e){return new n(e.rgb[0])},green:function(e){return new n(e.rgb[1])},blue:function(e){return new n(e.rgb[2])},alpha:function(e){return new n(e.toHSL().a)},luma:function(e){return new n(e.luma()*e.alpha*100,"%")},luminance:function(e){var t=.2126*e.rgb[0]/255+.7152*e.rgb[1]/255+.0722*e.rgb[2]/255;return new n(t*e.alpha*100,"%")},saturate:function(e,t,i){if(!e.rgb)return null;var s=e.toHSL();return void 0!==i&&"relative"===i.value?s.s+=s.s*t.value/100:s.s+=t.value/100,s.s=u(s.s),c(s)},desaturate:function(e,t,i){var s=e.toHSL();return void 0!==i&&"relative"===i.value?s.s-=s.s*t.value/100:s.s-=t.value/100,s.s=u(s.s),c(s)},lighten:function(e,t,i){var s=e.toHSL();return void 0!==i&&"relative"===i.value?s.l+=s.l*t.value/100:s.l+=t.value/100,s.l=u(s.l),c(s)},darken:function(e,t,i){var s=e.toHSL();return void 0!==i&&"relative"===i.value?s.l-=s.l*t.value/100:s.l-=t.value/100,s.l=u(s.l),c(s)},fadein:function(e,t,i){var s=e.toHSL();return void 0!==i&&"relative"===i.value?s.a+=s.a*t.value/100:s.a+=t.value/100,s.a=u(s.a),c(s)},fadeout:function(e,t,i){var s=e.toHSL();return void 0!==i&&"relative"===i.value?s.a-=s.a*t.value/100:s.a-=t.value/100,s.a=u(s.a),c(s)},fade:function(e,t){var i=e.toHSL();return i.a=t.value/100,i.a=u(i.a),c(i)},spin:function(e,t){var i=e.toHSL(),s=(i.h+t.value)%360;return i.h=s<0?360+s:s,c(i)},mix:function(e,t,i){e.toHSL&&t.toHSL||(console.log(t.type),console.dir(t)),i||(i=new n(50));var s=i.value/100,r=2*s-1,o=e.toHSL().a-t.toHSL().a,l=((r*o==-1?r:(r+o)/(1+r*o))+1)/2,u=1-l,c=[e.rgb[0]*l+t.rgb[0]*u,e.rgb[1]*l+t.rgb[1]*u,e.rgb[2]*l+t.rgb[2]*u],d=e.alpha*s+t.alpha*(1-s);return new a(c,d)},greyscale:function(e){return s.desaturate(e,new n(100))},contrast:function(e,t,i,n){if(!e.rgb)return null;if(void 0===i&&(i=s.rgba(255,255,255,1)),void 0===t&&(t=s.rgba(0,0,0,1)),t.luma()>i.luma()){var a=i;i=t,t=a}return n=void 0===n?.43:d(n),e.luma()<n?i:t},argb:function(e){return new o(e.toARGB())},color:function(e){if(e instanceof r&&/^#([a-f0-9]{6}|[a-f0-9]{3})$/i.test(e.value))return new a(e.value.slice(1));if(e instanceof a||(e=a.fromKeyword(e.value)))return e.value=void 0,e;throw{type:"Argument",message:"argument must be a color keyword or 3/6 digit hex e.g. #FFF"}},tint:function(e,t){return s.mix(s.rgb(255,255,255),e,t)},shade:function(e,t){return s.mix(s.rgb(0,0,0),e,t)}},l.addMultiple(s)},function(e,t,i){var s=i(58),n=i(44);function a(e,t,i){var n,a,r,o,l=t.alpha,u=i.alpha,c=[];r=u+l*(1-u);for(var d=0;d<3;d++)o=e(n=t.rgb[d]/255,a=i.rgb[d]/255),r&&(o=(u*a+l*(n-u*(n+a-o)))/r),c[d]=255*o;return new s(c,r)}var r={multiply:function(e,t){return e*t},screen:function(e,t){return e+t-e*t},overlay:function(e,t){return(e*=2)<=1?r.multiply(e,t):r.screen(e-1,t)},softlight:function(e,t){var i=1,s=e;return t>.5&&(s=1,i=e>.25?Math.sqrt(e):((16*e-12)*e+4)*e),e-(1-2*t)*s*(i-e)},hardlight:function(e,t){return r.overlay(t,e)},difference:function(e,t){return Math.abs(e-t)},exclusion:function(e,t){return e+t-2*e*t},average:function(e,t){return(e+t)/2},negation:function(e,t){return 1-Math.abs(e+t-1)}};for(var o in r)r.hasOwnProperty(o)&&(a[o]=a.bind(null,r[o]));n.addMultiple(a)},function(e,t,i){e.exports=function(e){var t=i(51),s=i(72),n=i(44),a=function(e,t){return new s(t,e.index,e.currentFileInfo).eval(e.context)},r=i(73);n.add("data-uri",(function(i,n){n||(n=i,i=null);var o=i&&i.value,l=n.value,u=this.currentFileInfo,c=u.relativeUrls?u.currentDirectory:u.entryPath,d=l.indexOf("#"),p="";-1!==d&&(p=l.slice(d),l=l.slice(0,d));var g=e.getFileManager(l,c,this.context,e,!0);if(!g)return a(this,n);var h=!1;if(i)h=/;base64$/.test(o);else{if("image/svg+xml"===(o=e.mimeLookup(l)))h=!1;else{var m=e.charsetLookup(o);h=["US-ASCII","UTF-8"].indexOf(m)<0}h&&(o+=";base64")}var b=g.loadFileSync(l,c,this.context,e);if(!b.contents)return r.warn("Skipped data-uri embedding of "+l+" because file not found"),a(this,n||i);var f=b.contents;if(h&&!e.encodeBase64)return a(this,n);var v="data:"+o+","+(f=h?e.encodeBase64(f):encodeURIComponent(f))+p;return v.length>=32768&&!1!==this.context.ieCompat?(r.warn("Skipped data-uri embedding of "+l+" because its size ("+v.length+" characters) exceeds IE8-safe 32768 characters!"),a(this,n||i)):new s(new t('"'+v+'"',v,!1,this.index,this.currentFileInfo),this.index,this.currentFileInfo)}))}},function(e,t,i){var s=i(44),n=i(121),a={ceil:null,floor:null,sqrt:null,abs:null,tan:"",sin:"",cos:"",atan:"rad",asin:"rad",acos:"rad"};for(var r in a)a.hasOwnProperty(r)&&(a[r]=n._math.bind(null,Math[r],a[r]));a.round=function(e,t){var i=void 0===t?0:t.value;return n._math((function(e){return e.toFixed(i)}),null,e)},s.addMultiple(a)},function(e,t,i){var s=i(49),n=i(52),a=i(44),r=i(121),o=function(e,t){if(0===(t=Array.prototype.slice.call(t)).length)throw{type:"Argument",message:"one or more arguments required"};var i,a,r,o,l,u,c,d,p=[],g={};for(i=0;i<t.length;i++)if((r=t[i])instanceof s)if(c=""!==(u=""===(o=""===r.unit.toString()&&void 0!==d?new s(r.value,d).unify():r.unify()).unit.toString()&&void 0!==c?c:o.unit.toString())&&void 0===c||""!==u&&""===p[0].unify().unit.toString()?u:c,d=""!==u&&void 0===d?r.unit.toString():d,void 0!==(a=void 0!==g[""]&&""!==u&&u===c?g[""]:g[u]))l=""===p[a].unit.toString()&&void 0!==d?new s(p[a].value,d).unify():p[a].unify(),(e&&o.value<l.value||!e&&o.value>l.value)&&(p[a]=r);else{if(void 0!==c&&u!==c)throw{type:"Argument",message:"incompatible types"};g[u]=p.length,p.push(r)}else Array.isArray(t[i].value)&&Array.prototype.push.apply(t,Array.prototype.slice.call(t[i].value));return 1==p.length?p[0]:(t=p.map((function(e){return e.toCSS(this.context)})).join(this.context.compress?",":", "),new n((e?"min":"max")+"("+t+")"))};a.addMultiple({min:function(){return o(!0,arguments)},max:function(){return o(!1,arguments)},convert:function(e,t){return e.convertTo(t.value)},pi:function(){return new s(Math.PI)},mod:function(e,t){return new s(e.value%t.value,e.unit)},pow:function(e,t){if("number"==typeof e&&"number"==typeof t)e=new s(e),t=new s(t);else if(!(e instanceof s&&t instanceof s))throw{type:"Argument",message:"arguments must be numbers"};return new s(Math.pow(e.value,t.value),e.unit)},percentage:function(e){return r._math((function(e){return 100*e}),"%",e)}})},function(e,t,i){var s=i(51),n=i(52),a=i(119);i(44).addMultiple({e:function(e){return new n(e instanceof a?e.evaluated:e.value)},escape:function(e){return new n(encodeURI(e.value).replace(/=/g,"%3D").replace(/:/g,"%3A").replace(/#/g,"%23").replace(/;/g,"%3B").replace(/\(/g,"%28").replace(/\)/g,"%29"))},replace:function(e,t,i,n){var a=e.value;return i="Quoted"===i.type?i.value:i.toCSS(),a=a.replace(new RegExp(t.value,n?n.value:""),i),new s(e.quote||"",a,e.escaped)},"%":function(e){for(var t=Array.prototype.slice.call(arguments,1),i=e.value,n=0;n<t.length;n++)i=i.replace(/%[sda]/i,(function(e){var i="Quoted"===t[n].type&&e.match(/s/i)?t[n].value:t[n].toCSS();return e.match(/[A-Z]$/)?encodeURIComponent(i):i}));return i=i.replace(/%%/g,"%"),new s(e.quote||"",i,e.escaped)}})},function(e,t,i){e.exports=function(e){var t=i(49),s=i(58),n=i(71),a=i(51),r=i(72);i(44).add("svg-gradient",(function(e){var i,o,l,u,c,d,p,g,h="linear",m='x="0" y="0" width="1" height="1"',b={compress:!1},f=e.toCSS(b);function v(){throw{type:"Argument",message:"svg-gradient expects direction, start_color [start_position], [color position,]..., end_color [end_position] or direction, color list"}}switch(2==arguments.length?(arguments[1].value.length<2&&v(),i=arguments[1].value):arguments.length<3?v():i=Array.prototype.slice.call(arguments,1),f){case"to bottom":o='x1="0%" y1="0%" x2="0%" y2="100%"';break;case"to right":o='x1="0%" y1="0%" x2="100%" y2="0%"';break;case"to bottom right":o='x1="0%" y1="0%" x2="100%" y2="100%"';break;case"to top right":o='x1="0%" y1="100%" x2="100%" y2="0%"';break;case"ellipse":case"ellipse at center":h="radial",o='cx="50%" cy="50%" r="75%"',m='x="-50" y="-50" width="101" height="101"';break;default:throw{type:"Argument",message:"svg-gradient direction must be 'to bottom', 'to right', 'to bottom right', 'to top right' or 'ellipse at center'"}}for(l='<?xml version="1.0" ?><svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="100%" height="100%" viewBox="0 0 1 1" preserveAspectRatio="none"><'+h+'Gradient id="gradient" gradientUnits="userSpaceOnUse" '+o+">",u=0;u<i.length;u+=1)i[u]instanceof n?(c=i[u].value[0],d=i[u].value[1]):(c=i[u],d=void 0),c instanceof s&&((0===u||u+1===i.length)&&void 0===d||d instanceof t)||v(),p=d?d.toCSS(b):0===u?"0%":"100%",g=c.alpha,l+='<stop offset="'+p+'" stop-color="'+c.toRGB()+'"'+(g<1?' stop-opacity="'+g+'"':"")+"/>";return l+="</"+h+"Gradient><rect "+m+' fill="url(#gradient)" /></svg>',l=encodeURIComponent(l),new r(new a("'"+(l="data:image/svg+xml,"+l)+"'",l,!1,this.index,this.currentFileInfo),this.index,this.currentFileInfo)}))}},function(e,t,i){var s=i(80),n=i(112),a=i(49),r=i(58),o=i(51),l=i(52),u=i(72),c=i(94),d=i(44),p=function(e,t){return e instanceof t?s.True:s.False},g=function(e,t){if(void 0===t)throw{type:"Argument",message:"missing the required second argument to isunit."};if("string"!=typeof(t="string"==typeof t.value?t.value:t))throw{type:"Argument",message:"Second argument to isunit should be a unit or a string."};return e instanceof a&&e.unit.is(t)?s.True:s.False},h=function(e){return Array.isArray(e.value)?e.value:Array(e)};d.addMultiple({isruleset:function(e){return p(e,n)},iscolor:function(e){return p(e,r)},isnumber:function(e){return p(e,a)},isstring:function(e){return p(e,o)},iskeyword:function(e){return p(e,s)},isurl:function(e){return p(e,u)},ispixel:function(e){return g(e,"px")},ispercentage:function(e){return g(e,"%")},isem:function(e){return g(e,"em")},isunit:g,unit:function(e,t){if(!(e instanceof a))throw{type:"Argument",message:"the first argument to unit must be a number"+(e instanceof c?". Have you forgotten parenthesis?":"")};return t=t?t instanceof s?t.value:t.toCSS():"",new a(e.value,t)},"get-unit":function(e){return new l(e.unit)},extract:function(e,t){return t=t.value-1,h(e)[t]},length:function(e){return new a(h(e).length)}})},function(e,t){e.exports=function(e){var t=function(t){this._css=[],this._rootNode=t.rootNode,this._contentsMap=t.contentsMap,this._contentsIgnoredCharsMap=t.contentsIgnoredCharsMap,t.sourceMapFilename&&(this._sourceMapFilename=t.sourceMapFilename.replace(/\\/g,"/")),this._outputFilename=t.outputFilename,this.sourceMapURL=t.sourceMapURL,t.sourceMapBasepath&&(this._sourceMapBasepath=t.sourceMapBasepath.replace(/\\/g,"/")),t.sourceMapRootpath?(this._sourceMapRootpath=t.sourceMapRootpath.replace(/\\/g,"/"),"/"!==this._sourceMapRootpath.charAt(this._sourceMapRootpath.length-1)&&(this._sourceMapRootpath+="/")):this._sourceMapRootpath="",this._outputSourceFiles=t.outputSourceFiles,this._sourceMapGeneratorConstructor=e.getSourceMapGenerator(),this._lineNumber=0,this._column=0};return t.prototype.normalizeFilename=function(e){return e=e.replace(/\\/g,"/"),this._sourceMapBasepath&&0===e.indexOf(this._sourceMapBasepath)&&("\\"!==(e=e.substring(this._sourceMapBasepath.length)).charAt(0)&&"/"!==e.charAt(0)||(e=e.substring(1))),(this._sourceMapRootpath||"")+e},t.prototype.add=function(e,t,i,s){if(e){var n,a,r,o,l;if(t){var u=this._contentsMap[t.filename];this._contentsIgnoredCharsMap[t.filename]&&((i-=this._contentsIgnoredCharsMap[t.filename])<0&&(i=0),u=u.slice(this._contentsIgnoredCharsMap[t.filename])),o=(a=(u=u.substring(0,i)).split("\n"))[a.length-1]}if(r=(n=e.split("\n"))[n.length-1],t)if(s)for(l=0;l<n.length;l++)this._sourceMapGenerator.addMapping({generated:{line:this._lineNumber+l+1,column:0===l?this._column:0},original:{line:a.length+l,column:0===l?o.length:0},source:this.normalizeFilename(t.filename)});else this._sourceMapGenerator.addMapping({generated:{line:this._lineNumber+1,column:this._column},original:{line:a.length,column:o.length},source:this.normalizeFilename(t.filename)});1===n.length?this._column+=r.length:(this._lineNumber+=n.length-1,this._column=r.length),this._css.push(e)}},t.prototype.isEmpty=function(){return 0===this._css.length},t.prototype.toCSS=function(e){if(this._sourceMapGenerator=new this._sourceMapGeneratorConstructor({file:this._outputFilename,sourceRoot:null}),this._outputSourceFiles)for(var t in this._contentsMap)if(this._contentsMap.hasOwnProperty(t)){var i=this._contentsMap[t];this._contentsIgnoredCharsMap[t]&&(i=i.slice(this._contentsIgnoredCharsMap[t])),this._sourceMapGenerator.setSourceContent(this.normalizeFilename(t),i)}if(this._rootNode.genCSS(e,this),this._css.length>0){var s,n=JSON.stringify(this._sourceMapGenerator.toJSON());this.sourceMapURL?s=this.sourceMapURL:this._sourceMapFilename&&(s=this._sourceMapFilename),this.sourceMapURL=s,this.sourceMap=n}return this._css.join("")},t}},function(e,t){e.exports=function(e,t){var i=function(e){this.options=e};return i.prototype.toCSS=function(t,i,s){var n=new e({contentsIgnoredCharsMap:s.contentsIgnoredChars,rootNode:t,contentsMap:s.contents,sourceMapFilename:this.options.sourceMapFilename,sourceMapURL:this.options.sourceMapURL,outputFilename:this.options.sourceMapOutputFilename,sourceMapBasepath:this.options.sourceMapBasepath,sourceMapRootpath:this.options.sourceMapRootpath,outputSourceFiles:this.options.outputSourceFiles,sourceMapGenerator:this.options.sourceMapGenerator,sourceMapFileInline:this.options.sourceMapFileInline}),a=n.toCSS(i);return this.sourceMap=n.sourceMap,this.sourceMapURL=n.sourceMapURL,this.options.sourceMapInputFilename&&(this.sourceMapInputFilename=n.normalizeFilename(this.options.sourceMapInputFilename)),a+this.getCSSAppendage()},i.prototype.getCSSAppendage=function(){var e=this.sourceMapURL;if(this.options.sourceMapFileInline){if(void 0===this.sourceMap)return"";e="data:application/json;base64,"+t.encodeBase64(this.sourceMap)}return e?"/*# sourceMappingURL="+e+" */":""},i.prototype.getExternalSourceMap=function(){return this.sourceMap},i.prototype.setExternalSourceMap=function(e){this.sourceMap=e},i.prototype.isInline=function(){return this.options.sourceMapFileInline},i.prototype.getSourceMapURL=function(){return this.sourceMapURL},i.prototype.getOutputFilename=function(){return this.options.sourceMapOutputFilename},i.prototype.getInputFilename=function(){return this.sourceMapInputFilename},i}},function(e,t,i){var s=i(97),n=i(122),a=i(73);e.exports=function(e){var t=function(e,t){this.root=e,this.imports=t};return t.prototype.toCSS=function(t){var i,r,o={};try{i=n(this.root,t)}catch(e){throw new s(e,this.imports)}try{var l=Boolean(t.compress);l&&a.warn("The compress option has been deprecated. We recommend you use a dedicated css minifier, for instance see less-plugin-clean-css.");var u={compress:l,dumpLineNumbers:t.dumpLineNumbers,strictUnits:Boolean(t.strictUnits),numPrecision:8};t.sourceMap?(r=new e(t.sourceMap),o.css=r.toCSS(i,u,this.imports)):o.css=i.toCSS(u)}catch(e){throw new s(e,this.imports)}if(t.pluginManager)for(var c=t.pluginManager.getPostProcessors(),d=0;d<c.length;d++)o.css=c[d].process(o.css,{sourceMap:r,options:t,imports:this.imports});for(var p in t.sourceMap&&(o.map=r.getExternalSourceMap()),o.imports=[],this.imports.files)this.imports.files.hasOwnProperty(p)&&p!==this.imports.rootFilename&&o.imports.push(p);return o},t}},function(e,t,i){var s=i(50),n=i(96);e.exports=function(e){var t=function(e,t){this.rootFilename=t.filename,this.paths=e.paths||[],this.contents={},this.contentsIgnoredChars={},this.mime=e.mime,this.error=null,this.context=e,this.queue=[],this.files={}};return t.prototype.push=function(t,i,a,r,o){var l=this;this.queue.push(t);var u=function(e,i,s){l.queue.splice(l.queue.indexOf(t),1);var n=s===l.rootFilename;r.optional&&e?o(null,{rules:[]},!1,null):(l.files[s]=i,e&&!l.error&&(l.error=e),o(e,i,n,s))},c={relativeUrls:this.context.relativeUrls,entryPath:a.entryPath,rootpath:a.rootpath,rootFilename:a.rootFilename},d=e.getFileManager(t,a.currentDirectory,this.context,e);if(d){i&&(t=d.tryAppendExtension(t,r.plugin?".js":".less"));var p=function(e){var t=e.filename,i=e.contents.replace(/^\uFEFF/,"");c.currentDirectory=d.getPath(t),c.relativeUrls&&(c.rootpath=d.join(l.context.rootpath||"",d.pathDiff(c.currentDirectory,c.entryPath)),!d.isPathAbsolute(c.rootpath)&&d.alwaysMakePathsAbsolute()&&(c.rootpath=d.join(c.entryPath,c.rootpath))),c.filename=t;var o=new s.Parse(l.context);o.processImports=!1,l.contents[t]=i,(a.reference||r.reference)&&(c.reference=!0),r.inline?u(null,i,t):new n(o,l,c).parse(i,(function(e,i){u(e,i,t)}))};if(r.plugin)throw{message:"You are using plugins, which has been disabled.",filename:a.filename};var g=d.loadFile(t,a.currentDirectory,this.context,e,(function(e,t){e?u(e):p(t)}));g&&g.then(p,u)}else u({message:"Could not find a file-manager for "+t})},t}},function(e,t,i){var s;e.exports=function(e,t,n){var a=function(e,n,r){if("function"==typeof n&&(r=n,n={}),!r){s||(s="undefined"==typeof Promise?i(123):Promise);var o=this;return new s((function(t,i){a.call(o,e,n,(function(e,s){e?i(e):t(s)}))}))}this.parse(e,n,(function(e,i,s,n){if(e)return r(e);var a;try{a=new t(i,s).toCSS(n)}catch(e){return r(e)}r(null,a)}))};return a}},function(e,t,i){"use strict";e.exports=i(64),i(196),i(197),i(198),i(199),i(201)},function(e,t,i){"use strict";var s=i(64);e.exports=s,s.prototype.done=function(e,t){var i=arguments.length?this.then.apply(this,arguments):this;i.then(null,(function(e){setTimeout((function(){throw e}),0)}))}},function(e,t,i){"use strict";var s=i(64);e.exports=s,s.prototype.finally=function(e){return this.then((function(t){return s.resolve(e()).then((function(){return t}))}),(function(t){return s.resolve(e()).then((function(){throw t}))}))}},function(e,t,i){"use strict";var s=i(64);e.exports=s;var n=c(!0),a=c(!1),r=c(null),o=c(void 0),l=c(0),u=c("");function c(e){var t=new s(s._61);return t._65=1,t._55=e,t}s.resolve=function(e){if(e instanceof s)return e;if(null===e)return r;if(void 0===e)return o;if(!0===e)return n;if(!1===e)return a;if(0===e)return l;if(""===e)return u;if("object"==typeof e||"function"==typeof e)try{var t=e.then;if("function"==typeof t)return new s(t.bind(e))}catch(e){return new s((function(t,i){i(e)}))}return c(e)},s.all=function(e){var t=Array.prototype.slice.call(e);return new s((function(e,i){if(0===t.length)return e([]);var n=t.length;function a(r,o){if(o&&("object"==typeof o||"function"==typeof o)){if(o instanceof s&&o.then===s.prototype.then){for(;3===o._65;)o=o._55;return 1===o._65?a(r,o._55):(2===o._65&&i(o._55),void o.then((function(e){a(r,e)}),i))}var l=o.then;if("function"==typeof l)return void new s(l.bind(o)).then((function(e){a(r,e)}),i)}t[r]=o,0==--n&&e(t)}for(var r=0;r<t.length;r++)a(r,t[r])}))},s.reject=function(e){return new s((function(t,i){i(e)}))},s.race=function(e){return new s((function(t,i){e.forEach((function(e){s.resolve(e).then(t,i)}))}))},s.prototype.catch=function(e){return this.then(null,e)}},function(e,t,i){"use strict";var s=i(64),n=i(200);e.exports=s,s.denodeify=function(e,t){return"number"==typeof t&&t!==1/0?function(e,t){for(var i=[],n=0;n<t;n++)i.push("a"+n);var r=["return function ("+i.join(",")+") {","var self = this;","return new Promise(function (rs, rj) {","var res = fn.call(",["self"].concat(i).concat([a]).join(","),");","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],r)(s,e)}(e,t):function(e){for(var t=Math.max(e.length-1,3),i=[],n=0;n<t;n++)i.push("a"+n);var r=["return function ("+i.join(",")+") {","var self = this;","var args;","var argLength = arguments.length;","if (arguments.length > "+t+") {","args = new Array(arguments.length + 1);","for (var i = 0; i < arguments.length; i++) {","args[i] = arguments[i];","}","}","return new Promise(function (rs, rj) {","var cb = "+a+";","var res;","switch (argLength) {",i.concat(["extra"]).map((function(e,t){return"case "+t+":res = fn.call("+["self"].concat(i.slice(0,t)).concat("cb").join(",")+");break;"})).join(""),"default:","args[argLength] = cb;","res = fn.apply(self, args);","}","if (res &&",'(typeof res === "object" || typeof res === "function") &&','typeof res.then === "function"',") {rs(res);}","});","};"].join("");return Function(["Promise","fn"],r)(s,e)}(e)};var a="function (err, res) {if (err) { rj(err); } else { rs(res); }}";s.nodeify=function(e){return function(){var t=Array.prototype.slice.call(arguments),i="function"==typeof t[t.length-1]?t.pop():null,a=this;try{return e.apply(this,arguments).nodeify(i,a)}catch(e){if(null==i)return new s((function(t,i){i(e)}));n((function(){i.call(a,e)}))}}},s.prototype.nodeify=function(e,t){if("function"!=typeof e)return this;this.then((function(i){n((function(){e.call(t,null,i)}))}),(function(i){n((function(){e.call(t,i)}))}))}},function(e,t,i){"use strict";var s=i(124),n=[],a=[],r=s.makeRequestCallFromTimer((function(){if(a.length)throw a.shift()}));function o(e){var t;(t=n.length?n.pop():new l).task=e,s(t)}function l(){this.task=null}e.exports=o,l.prototype.call=function(){try{this.task.call()}catch(e){o.onerror?o.onerror(e):(a.push(e),r())}finally{this.task=null,n[n.length]=this}}},function(e,t,i){"use strict";var s=i(64);e.exports=s,s.enableSynchronous=function(){s.prototype.isPending=function(){return 0==this.getState()},s.prototype.isFulfilled=function(){return 1==this.getState()},s.prototype.isRejected=function(){return 2==this.getState()},s.prototype.getValue=function(){if(3===this._65)return this._55.getValue();if(!this.isFulfilled())throw new Error("Cannot get a value of an unfulfilled promise.");return this._55},s.prototype.getReason=function(){if(3===this._65)return this._55.getReason();if(!this.isRejected())throw new Error("Cannot get a rejection reason of a non-rejected promise.");return this._55},s.prototype.getState=function(){return 3===this._65?this._55.getState():-1===this._65||-2===this._65?0:this._65}},s.disableSynchronous=function(){s.prototype.isPending=void 0,s.prototype.isFulfilled=void 0,s.prototype.isRejected=void 0,s.prototype.getValue=void 0,s.prototype.getReason=void 0,s.prototype.getState=void 0}},function(e,t,i){var s,n=i(50),a=i(96),r=i(125);e.exports=function(e,t,o){var l=function(e,t,u){if("function"==typeof(t=t||{})&&(u=t,t={}),!u){s||(s="undefined"==typeof Promise?i(123):Promise);var c=this;return new s((function(i,s){l.call(c,e,t,(function(e,t){e?s(e):i(t)}))}))}var d,p,g=new r(this);if(g.addPlugins(t.plugins),t.pluginManager=g,d=new n.Parse(t),t.rootFileInfo)p=t.rootFileInfo;else{var h=t.filename||"input",m=h.replace(/[^\/\\]*$/,"");(p={filename:h,relativeUrls:d.relativeUrls,rootpath:d.rootpath||"",currentDirectory:m,entryPath:m,rootFilename:h}).rootpath&&"/"!==p.rootpath.slice(-1)&&(p.rootpath+="/")}var b=new o(d,p);new a(d,b,p).parse(e,(function(e,i){if(e)return u(e);u(null,i,b,t)}),t)};return l}},function(e,t,i){e.exports=function(e,t){var s=i(120),n={};var a=function(){};return(a.prototype=new s).alwaysMakePathsAbsolute=function(){return!0},a.prototype.join=function(e,t){return e?this.extractUrlParts(t,e).path:t},a.prototype.doXHR=function(i,s,n,a){var r=function(){if(window.XMLHttpRequest&&("file:"!==window.location.protocol||!("ActiveXObject"in window)))return new XMLHttpRequest;try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){return t.error("browser doesn't support AJAX."),null}}(),o=!e.isFileProtocol||e.fileAsync;function l(e,t,s){e.status>=200&&e.status<300?t(e.responseText,e.getResponseHeader("Last-Modified")):"function"==typeof s&&s(e.status,i)}"function"==typeof r.overrideMimeType&&r.overrideMimeType("text/css"),t.debug("XHR: Getting '"+i+"'"),r.open("GET",i,o),r.setRequestHeader("Accept",s||"text/x-less, text/css; q=0.9, */*; q=0.5"),r.send(null),e.isFileProtocol&&!e.fileAsync?0===r.status||r.status>=200&&r.status<300?n(r.responseText):a(r.status,i):o?r.onreadystatechange=function(){4==r.readyState&&l(r,n,a)}:l(r,n,a)},a.prototype.supports=function(e,t,i,s){return!0},a.prototype.clearFileCache=function(){n={}},a.prototype.loadFile=function(e,t,i,s,a){t&&!this.isPathAbsolute(e)&&(e=t+e),i=i||{};var r=this.extractUrlParts(e,window.location.href).url;if(i.useFileCache&&n[r])try{var o=n[r];a(null,{contents:o,filename:r,webInfo:{lastModified:new Date}})}catch(e){a({filename:r,message:"Error loading file "+r+" error was "+e.message})}else this.doXHR(r,i.mime,(function(e,t){n[r]=e,a(null,{contents:e,filename:r,webInfo:{lastModified:t}})}),(function(e,t){a({type:"File",message:"'"+t+"' wasn't found ("+e+")",href:r})}))},a}},function(e,t){e.exports=function(e,t){t.logLevel=void 0!==t.logLevel?t.logLevel:"development"===t.env?3:1,t.loggers||(t.loggers=[{debug:function(e){t.logLevel>=4&&console.log(e)},info:function(e){t.logLevel>=3&&console.log(e)},warn:function(e){t.logLevel>=2&&console.warn(e)},error:function(e){t.logLevel>=1&&console.error(e)}}]);for(var i=0;i<t.loggers.length;i++)e.logger.addListener(t.loggers[i])}},function(e,t,i){var s=i(89),n=i(107);e.exports=function(e,t,i){return{add:function(a,r){i.errorReporting&&"html"!==i.errorReporting?"console"===i.errorReporting?function(e,s){var n=e.filename||s,a=[],r=(e.type||"Syntax")+"Error: "+(e.message||"There is an error in your .less file")+" in "+n+" ",o=function(e,t,i){void 0!==e.extract[t]&&a.push("{line} {content}".replace(/\{line\}/,(parseInt(e.line,10)||0)+(t-1)).replace(/\{class\}/,i).replace(/\{content\}/,e.extract[t]))};e.extract&&(o(e,0,""),o(e,1,"line"),o(e,2,""),r+="on line "+e.line+", column "+(e.column+1)+":\n"+a.join("\n")),e.stack&&(e.extract||i.logLevel>=4)&&(r+="\nStack Trace\n"+e.stack),t.logger.error(r)}(a,r):"function"==typeof i.errorReporting&&i.errorReporting("add",a,r):function(t,a){var r,o,l="less-error-message:"+s.extractId(a||""),u=e.document.createElement("div"),c=[],d=t.filename||a,p=d.match(/([^\/]+(\?.*)?)$/)[1];u.id=l,u.className="less-error-message",o="<h3>"+(t.type||"Syntax")+"Error: "+(t.message||"There is an error in your .less file")+'</h3><p>in <a href="'+d+'">'+p+"</a> ";var g=function(e,t,i){void 0!==e.extract[t]&&c.push('<li><label>{line}</label><pre class="{class}">{content}</pre></li>'.replace(/\{line\}/,(parseInt(e.line,10)||0)+(t-1)).replace(/\{class\}/,i).replace(/\{content\}/,e.extract[t]))};t.extract&&(g(t,0,""),g(t,1,"line"),g(t,2,""),o+="on line "+t.line+", column "+(t.column+1)+":</p><ul>"+c.join("")+"</ul>"),t.stack&&(t.extract||i.logLevel>=4)&&(o+="<br/>Stack Trace</br />"+t.stack.split("\n").slice(1).join("<br/>")),u.innerHTML=o,n.createCSS(e.document,[".less-error-message ul, .less-error-message li {","list-style-type: none;","margin-right: 15px;","padding: 4px 0;","margin: 0;","}",".less-error-message label {","font-size: 12px;","margin-right: 15px;","padding: 4px 0;","color: #cc7777;","}",".less-error-message pre {","color: #dd6666;","padding: 4px 0;","margin: 0;","display: inline-block;","}",".less-error-message pre.line {","color: #ff0000;","}",".less-error-message h3 {","font-size: 20px;","font-weight: bold;","padding: 15px 0 5px 0;","margin: 0;","}",".less-error-message a {","color: #10a","}",".less-error-message .error {","color: red;","font-weight: bold;","padding-bottom: 2px;","border-bottom: 1px dashed red;","}"].join("\n"),{title:"error-message"}),u.style.cssText=["font-family: Arial, sans-serif","border: 1px solid #e00","background-color: #eee","border-radius: 5px","-webkit-border-radius: 5px","-moz-border-radius: 5px","color: #e00","padding: 15px","margin-bottom: 15px"].join(";"),"development"===i.env&&(r=setInterval((function(){var t=e.document,i=t.body;i&&(t.getElementById(l)?i.replaceChild(u,t.getElementById(l)):i.insertBefore(u,i.firstChild),clearInterval(r))}),10))}(a,r)},remove:function(t){i.errorReporting&&"html"!==i.errorReporting?"console"===i.errorReporting||"function"==typeof i.errorReporting&&i.errorReporting("remove",t):function(t){var i=e.document.getElementById("less-error-message:"+s.extractId(t));i&&i.parentNode.removeChild(i)}(t)}}}},function(e,t){e.exports=function(e,t,i){var s=null;if("development"!==t.env)try{s=void 0===e.localStorage?null:e.localStorage}catch(e){}return{setCSS:function(e,t,n,a){if(s){i.info("saving "+e+" to cache.");try{s.setItem(e,a),s.setItem(e+":timestamp",t),n&&s.setItem(e+":vars",JSON.stringify(n))}catch(t){i.error('failed to save "'+e+'" to local storage for caching.')}}},getCSS:function(e,t,i){var n=s&&s.getItem(e),a=s&&s.getItem(e+":timestamp"),r=s&&s.getItem(e+":vars");if(i=i||{},a&&t.lastModified&&new Date(t.lastModified).valueOf()===new Date(a).valueOf()&&(!i&&!r||JSON.stringify(i)===r))return n}}}},function(e,t,i){e.exports=function(){function e(){throw{type:"Runtime",message:"Image size functions are not supported in browser version of less"}}var t={"image-size":function(t){return e(),-1},"image-width":function(t){return e(),-1},"image-height":function(t){return e(),-1}};i(44).addMultiple(t)}},function(e,t){ace.define("ace/mode/css_highlight_rules",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text_highlight_rules"],(function(e,t,i){"use strict";var s=e("../lib/oop"),n=(e("../lib/lang"),e("./text_highlight_rules").TextHighlightRules),a=t.supportType="align-content|align-items|align-self|all|animation|animation-delay|animation-direction|animation-duration|animation-fill-mode|animation-iteration-count|animation-name|animation-play-state|animation-timing-function|backface-visibility|background|background-attachment|background-blend-mode|background-clip|background-color|background-image|background-origin|background-position|background-repeat|background-size|border|border-bottom|border-bottom-color|border-bottom-left-radius|border-bottom-right-radius|border-bottom-style|border-bottom-width|border-collapse|border-color|border-image|border-image-outset|border-image-repeat|border-image-slice|border-image-source|border-image-width|border-left|border-left-color|border-left-style|border-left-width|border-radius|border-right|border-right-color|border-right-style|border-right-width|border-spacing|border-style|border-top|border-top-color|border-top-left-radius|border-top-right-radius|border-top-style|border-top-width|border-width|bottom|box-shadow|box-sizing|caption-side|clear|clip|color|column-count|column-fill|column-gap|column-rule|column-rule-color|column-rule-style|column-rule-width|column-span|column-width|columns|content|counter-increment|counter-reset|cursor|direction|display|empty-cells|filter|flex|flex-basis|flex-direction|flex-flow|flex-grow|flex-shrink|flex-wrap|float|font|font-family|font-size|font-size-adjust|font-stretch|font-style|font-variant|font-weight|hanging-punctuation|height|justify-content|left|letter-spacing|line-height|list-style|list-style-image|list-style-position|list-style-type|margin|margin-bottom|margin-left|margin-right|margin-top|max-height|max-width|min-height|min-width|nav-down|nav-index|nav-left|nav-right|nav-up|opacity|order|outline|outline-color|outline-offset|outline-style|outline-width|overflow|overflow-x|overflow-y|padding|padding-bottom|padding-left|padding-right|padding-top|page-break-after|page-break-before|page-break-inside|perspective|perspective-origin|position|quotes|resize|right|tab-size|table-layout|text-align|text-align-last|text-decoration|text-decoration-color|text-decoration-line|text-decoration-style|text-indent|text-justify|text-overflow|text-shadow|text-transform|top|transform|transform-origin|transform-style|transition|transition-delay|transition-duration|transition-property|transition-timing-function|unicode-bidi|vertical-align|visibility|white-space|width|word-break|word-spacing|word-wrap|z-index",r=t.supportFunction="rgb|rgba|url|attr|counter|counters",o=t.supportConstant="absolute|after-edge|after|all-scroll|all|alphabetic|always|antialiased|armenian|auto|avoid-column|avoid-page|avoid|balance|baseline|before-edge|before|below|bidi-override|block-line-height|block|bold|bolder|border-box|both|bottom|box|break-all|break-word|capitalize|caps-height|caption|center|central|char|circle|cjk-ideographic|clone|close-quote|col-resize|collapse|column|consider-shifts|contain|content-box|cover|crosshair|cubic-bezier|dashed|decimal-leading-zero|decimal|default|disabled|disc|disregard-shifts|distribute-all-lines|distribute-letter|distribute-space|distribute|dotted|double|e-resize|ease-in|ease-in-out|ease-out|ease|ellipsis|end|exclude-ruby|fill|fixed|georgian|glyphs|grid-height|groove|hand|hanging|hebrew|help|hidden|hiragana-iroha|hiragana|horizontal|icon|ideograph-alpha|ideograph-numeric|ideograph-parenthesis|ideograph-space|ideographic|inactive|include-ruby|inherit|initial|inline-block|inline-box|inline-line-height|inline-table|inline|inset|inside|inter-ideograph|inter-word|invert|italic|justify|katakana-iroha|katakana|keep-all|last|left|lighter|line-edge|line-through|line|linear|list-item|local|loose|lower-alpha|lower-greek|lower-latin|lower-roman|lowercase|lr-tb|ltr|mathematical|max-height|max-size|medium|menu|message-box|middle|move|n-resize|ne-resize|newspaper|no-change|no-close-quote|no-drop|no-open-quote|no-repeat|none|normal|not-allowed|nowrap|nw-resize|oblique|open-quote|outset|outside|overline|padding-box|page|pointer|pre-line|pre-wrap|pre|preserve-3d|progress|relative|repeat-x|repeat-y|repeat|replaced|reset-size|ridge|right|round|row-resize|rtl|s-resize|scroll|se-resize|separate|slice|small-caps|small-caption|solid|space|square|start|static|status-bar|step-end|step-start|steps|stretch|strict|sub|super|sw-resize|table-caption|table-cell|table-column-group|table-column|table-footer-group|table-header-group|table-row-group|table-row|table|tb-rl|text-after-edge|text-before-edge|text-bottom|text-size|text-top|text|thick|thin|transparent|underline|upper-alpha|upper-latin|upper-roman|uppercase|use-script|vertical-ideographic|vertical-text|visible|w-resize|wait|whitespace|z-index|zero",l=t.supportConstantColor="aliceblue|antiquewhite|aqua|aquamarine|azure|beige|bisque|black|blanchedalmond|blue|blueviolet|brown|burlywood|cadetblue|chartreuse|chocolate|coral|cornflowerblue|cornsilk|crimson|cyan|darkblue|darkcyan|darkgoldenrod|darkgray|darkgreen|darkgrey|darkkhaki|darkmagenta|darkolivegreen|darkorange|darkorchid|darkred|darksalmon|darkseagreen|darkslateblue|darkslategray|darkslategrey|darkturquoise|darkviolet|deeppink|deepskyblue|dimgray|dimgrey|dodgerblue|firebrick|floralwhite|forestgreen|fuchsia|gainsboro|ghostwhite|gold|goldenrod|gray|green|greenyellow|grey|honeydew|hotpink|indianred|indigo|ivory|khaki|lavender|lavenderblush|lawngreen|lemonchiffon|lightblue|lightcoral|lightcyan|lightgoldenrodyellow|lightgray|lightgreen|lightgrey|lightpink|lightsalmon|lightseagreen|lightskyblue|lightslategray|lightslategrey|lightsteelblue|lightyellow|lime|limegreen|linen|magenta|maroon|mediumaquamarine|mediumblue|mediumorchid|mediumpurple|mediumseagreen|mediumslateblue|mediumspringgreen|mediumturquoise|mediumvioletred|midnightblue|mintcream|mistyrose|moccasin|navajowhite|navy|oldlace|olive|olivedrab|orange|orangered|orchid|palegoldenrod|palegreen|paleturquoise|palevioletred|papayawhip|peachpuff|peru|pink|plum|powderblue|purple|rebeccapurple|red|rosybrown|royalblue|saddlebrown|salmon|sandybrown|seagreen|seashell|sienna|silver|skyblue|slateblue|slategray|slategrey|snow|springgreen|steelblue|tan|teal|thistle|tomato|turquoise|violet|wheat|white|whitesmoke|yellow|yellowgreen",u=t.supportConstantFonts="arial|century|comic|courier|cursive|fantasy|garamond|georgia|helvetica|impact|lucida|symbol|system|tahoma|times|trebuchet|utopia|verdana|webdings|sans-serif|serif|monospace",c=t.numRe="\\-?(?:(?:[0-9]+(?:\\.[0-9]+)?)|(?:\\.[0-9]+))",d=t.pseudoElements="(\\:+)\\b(after|before|first-letter|first-line|moz-selection|selection)\\b",p=t.pseudoClasses="(:)\\b(active|checked|disabled|empty|enabled|first-child|first-of-type|focus|hover|indeterminate|invalid|last-child|last-of-type|link|not|nth-child|nth-last-child|nth-last-of-type|nth-of-type|only-child|only-of-type|acequired|root|target|valid|visited)\\b",g=function(){var e=this.createKeywordMapper({"support.function":r,"support.constant":o,"support.type":a,"support.constant.color":l,"support.constant.fonts":u},"text",!0);this.$rules={start:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"ruleset"},{token:"paren.rparen",regex:"\\}"},{token:"string",regex:"@",next:"media"},{token:"keyword",regex:"#[a-z0-9-_]+"},{token:"keyword",regex:"%"},{token:"variable",regex:"\\.[a-z0-9-_]+"},{token:"string",regex:":[a-z0-9-_]+"},{token:"constant.numeric",regex:c},{token:"constant",regex:"[a-z0-9-_]+"},{caseInsensitive:!0}],media:[{include:["strings","url","comments"]},{token:"paren.lparen",regex:"\\{",next:"start"},{token:"paren.rparen",regex:"\\}",next:"start"},{token:"string",regex:";",next:"start"},{token:"keyword",regex:"(?:media|supports|document|charset|import|namespace|media|supports|document|page|font|keyframes|viewport|counter-style|font-feature-values|swash|ornaments|annotation|stylistic|styleset|character-variant)"}],comments:[{token:"comment",regex:"\\/\\*",push:[{token:"comment",regex:"\\*\\/",next:"pop"},{defaultToken:"comment"}]}],ruleset:[{regex:"-(webkit|ms|moz|o)-",token:"text"},{token:"paren.rparen",regex:"\\}",next:"start"},{include:["strings","url","comments"]},{token:["constant.numeric","keyword"],regex:"("+c+")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vm|vw|%)"},{token:"constant.numeric",regex:c},{token:"constant.numeric",regex:"#[a-f0-9]{6}"},{token:"constant.numeric",regex:"#[a-f0-9]{3}"},{token:["punctuation","entity.other.attribute-name.pseudo-element.css"],regex:d},{token:["punctuation","entity.other.attribute-name.pseudo-class.css"],regex:p},{include:"url"},{token:e,regex:"\\-?[a-zA-Z_][a-zA-Z0-9_\\-]*"},{caseInsensitive:!0}],url:[{token:"support.function",regex:"(?:url(:?-prefix)?|domain|regexp)\\(",push:[{token:"support.function",regex:"\\)",next:"pop"},{defaultToken:"string"}]}],strings:[{token:"string.start",regex:"'",push:[{token:"string.end",regex:"'|$",next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]},{token:"string.start",regex:'"',push:[{token:"string.end",regex:'"|$',next:"pop"},{include:"escapes"},{token:"constant.language.escape",regex:/\\$/,consumeLineEnd:!0},{defaultToken:"string"}]}],escapes:[{token:"constant.language.escape",regex:/\\([a-fA-F\d]{1,6}|[^a-fA-F\d])/}]},this.normalizeRules()};s.inherits(g,n),t.CssHighlightRules=g})),ace.define("ace/mode/less_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules","ace/mode/css_highlight_rules"],(function(e,t,i){"use strict";var s=e("../lib/oop"),n=e("./text_highlight_rules").TextHighlightRules,a=e("./css_highlight_rules"),r=function(){var e="@import|@media|@font-face|@keyframes|@-webkit-keyframes|@supports|@charset|@plugin|@namespace|@document|@page|@viewport|@-ms-viewport|or|and|when|not",t=e.split("|"),i=a.supportType.split("|"),s=this.createKeywordMapper({"support.constant":a.supportConstant,keyword:e,"support.constant.color":a.supportConstantColor,"support.constant.fonts":a.supportConstantFonts},"identifier",!0),n="\\-?(?:(?:[0-9]+)|(?:[0-9]*\\.[0-9]+))";this.$rules={start:[{token:"comment",regex:"\\/\\/.*$"},{token:"comment",regex:"\\/\\*",next:"comment"},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:["constant.numeric","keyword"],regex:"("+n+")(ch|cm|deg|em|ex|fr|gd|grad|Hz|in|kHz|mm|ms|pc|pt|px|rad|rem|s|turn|vh|vm|vw|%)"},{token:"constant.numeric",regex:"#[a-f0-9]{6}"},{token:"constant.numeric",regex:"#[a-f0-9]{3}"},{token:"constant.numeric",regex:n},{token:["support.function","paren.lparen","string","paren.rparen"],regex:"(url)(\\()(.*)(\\))"},{token:["support.function","paren.lparen"],regex:"(:extend|[a-z0-9_\\-]+)(\\()"},{token:function(e){return t.indexOf(e.toLowerCase())>-1?"keyword":"variable"},regex:"[@\\$][a-z0-9_\\-@\\$]*\\b"},{token:"variable",regex:"[@\\$]\\{[a-z0-9_\\-@\\$]*\\}"},{token:function(e,t){return i.indexOf(e.toLowerCase())>-1?["support.type.property","text"]:["support.type.unknownProperty","text"]},regex:"([a-z0-9-_]+)(\\s*:)"},{token:"keyword",regex:"&"},{token:s,regex:"\\-?[@a-z_][@a-z0-9_\\-]*"},{token:"variable.language",regex:"#[a-z0-9-_]+"},{token:"variable.language",regex:"\\.[a-z0-9-_]+"},{token:"variable.language",regex:":[a-z_][a-z0-9-_]*"},{token:"constant",regex:"[a-z0-9-_]+"},{token:"keyword.operator",regex:"<|>|<=|>=|=|!=|-|%|\\+|\\*"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"},{caseInsensitive:!0}],comment:[{token:"comment",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]},this.normalizeRules()};s.inherits(r,n),t.LessHighlightRules=r})),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],(function(e,t,i){"use strict";var s=e("../range").Range,n=function(){};(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var i=e.getLine(t).match(/^(\s*\})/);if(!i)return 0;var n=i[1].length,a=e.findMatchingBracket({row:t,column:n});if(!a||a.row==t)return 0;var r=this.$getIndent(e.getLine(a.row));e.replace(new s(t,0,t,n-1),r)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(n.prototype),t.MatchingBraceOutdent=n})),ace.define("ace/mode/behaviour/css",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/mode/behaviour/cstyle","ace/token_iterator"],(function(e,t,i){"use strict";var s=e("../../lib/oop"),n=(e("../behaviour").Behaviour,e("./cstyle").CstyleBehaviour),a=e("../../token_iterator").TokenIterator,r=function(){this.inherit(n),this.add("colon","insertion",(function(e,t,i,s,n){if(":"===n){var r=i.getCursorPosition(),o=new a(s,r.row,r.column),l=o.getCurrentToken();if(l&&l.value.match(/\s+/)&&(l=o.stepBackward()),l&&"support.type"===l.type){var u=s.doc.getLine(r.row);if(":"===u.substring(r.column,r.column+1))return{text:"",selection:[1,1]};if(!u.substring(r.column).match(/^\s*;/))return{text:":;",selection:[1,1]}}}})),this.add("colon","deletion",(function(e,t,i,s,n){var r=s.doc.getTextRange(n);if(!n.isMultiLine()&&":"===r){var o=i.getCursorPosition(),l=new a(s,o.row,o.column),u=l.getCurrentToken();if(u&&u.value.match(/\s+/)&&(u=l.stepBackward()),u&&"support.type"===u.type)if(";"===s.doc.getLine(n.start.row).substring(n.end.column,n.end.column+1))return n.end.column++,n}})),this.add("semicolon","insertion",(function(e,t,i,s,n){if(";"===n){var a=i.getCursorPosition();if(";"===s.doc.getLine(a.row).substring(a.column,a.column+1))return{text:"",selection:[1,1]}}}))};s.inherits(r,n),t.CssBehaviour=r})),ace.define("ace/mode/css_completions",["require","exports","module"],(function(e,t,i){"use strict";var s={background:{"#$0":1},"background-color":{"#$0":1,transparent:1,fixed:1},"background-image":{"url('/$0')":1},"background-repeat":{repeat:1,"repeat-x":1,"repeat-y":1,"no-repeat":1,inherit:1},"background-position":{bottom:2,center:2,left:2,right:2,top:2,inherit:2},"background-attachment":{scroll:1,fixed:1},"background-size":{cover:1,contain:1},"background-clip":{"border-box":1,"padding-box":1,"content-box":1},"background-origin":{"border-box":1,"padding-box":1,"content-box":1},border:{"solid $0":1,"dashed $0":1,"dotted $0":1,"#$0":1},"border-color":{"#$0":1},"border-style":{solid:2,dashed:2,dotted:2,double:2,groove:2,hidden:2,inherit:2,inset:2,none:2,outset:2,ridged:2},"border-collapse":{collapse:1,separate:1},bottom:{px:1,em:1,"%":1},clear:{left:1,right:1,both:1,none:1},color:{"#$0":1,"rgb(#$00,0,0)":1},cursor:{default:1,pointer:1,move:1,text:1,wait:1,help:1,progress:1,"n-resize":1,"ne-resize":1,"e-resize":1,"se-resize":1,"s-resize":1,"sw-resize":1,"w-resize":1,"nw-resize":1},display:{none:1,block:1,inline:1,"inline-block":1,"table-cell":1},"empty-cells":{show:1,hide:1},float:{left:1,right:1,none:1},"font-family":{Arial:2,"Comic Sans MS":2,Consolas:2,"Courier New":2,Courier:2,Georgia:2,Monospace:2,"Sans-Serif":2,"Segoe UI":2,Tahoma:2,"Times New Roman":2,"Trebuchet MS":2,Verdana:1},"font-size":{px:1,em:1,"%":1},"font-weight":{bold:1,normal:1},"font-style":{italic:1,normal:1},"font-variant":{normal:1,"small-caps":1},height:{px:1,em:1,"%":1},left:{px:1,em:1,"%":1},"letter-spacing":{normal:1},"line-height":{normal:1},"list-style-type":{none:1,disc:1,circle:1,square:1,decimal:1,"decimal-leading-zero":1,"lower-roman":1,"upper-roman":1,"lower-greek":1,"lower-latin":1,"upper-latin":1,georgian:1,"lower-alpha":1,"upper-alpha":1},margin:{px:1,em:1,"%":1},"margin-right":{px:1,em:1,"%":1},"margin-left":{px:1,em:1,"%":1},"margin-top":{px:1,em:1,"%":1},"margin-bottom":{px:1,em:1,"%":1},"max-height":{px:1,em:1,"%":1},"max-width":{px:1,em:1,"%":1},"min-height":{px:1,em:1,"%":1},"min-width":{px:1,em:1,"%":1},overflow:{hidden:1,visible:1,auto:1,scroll:1},"overflow-x":{hidden:1,visible:1,auto:1,scroll:1},"overflow-y":{hidden:1,visible:1,auto:1,scroll:1},padding:{px:1,em:1,"%":1},"padding-top":{px:1,em:1,"%":1},"padding-right":{px:1,em:1,"%":1},"padding-bottom":{px:1,em:1,"%":1},"padding-left":{px:1,em:1,"%":1},"page-break-after":{auto:1,always:1,avoid:1,left:1,right:1},"page-break-before":{auto:1,always:1,avoid:1,left:1,right:1},position:{absolute:1,relative:1,fixed:1,static:1},right:{px:1,em:1,"%":1},"table-layout":{fixed:1,auto:1},"text-decoration":{none:1,underline:1,"line-through":1,blink:1},"text-align":{left:1,right:1,center:1,justify:1},"text-transform":{capitalize:1,uppercase:1,lowercase:1,none:1},top:{px:1,em:1,"%":1},"vertical-align":{top:1,bottom:1},visibility:{hidden:1,visible:1},"white-space":{nowrap:1,normal:1,pre:1,"pre-line":1,"pre-wrap":1},width:{px:1,em:1,"%":1},"word-spacing":{normal:1},filter:{"alpha(opacity=$0100)":1},"text-shadow":{"$02px 2px 2px #777":1},"text-overflow":{"ellipsis-word":1,clip:1,ellipsis:1},"-moz-border-radius":1,"-moz-border-radius-topright":1,"-moz-border-radius-bottomright":1,"-moz-border-radius-topleft":1,"-moz-border-radius-bottomleft":1,"-webkit-border-radius":1,"-webkit-border-top-right-radius":1,"-webkit-border-top-left-radius":1,"-webkit-border-bottom-right-radius":1,"-webkit-border-bottom-left-radius":1,"-moz-box-shadow":1,"-webkit-box-shadow":1,transform:{"rotate($00deg)":1,"skew($00deg)":1},"-moz-transform":{"rotate($00deg)":1,"skew($00deg)":1},"-webkit-transform":{"rotate($00deg)":1,"skew($00deg)":1}},n=function(){};(function(){this.completionsDefined=!1,this.defineCompletions=function(){if(document){var e=document.createElement("c").style;for(var t in e)if("string"==typeof e[t]){var i=t.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()}));s.hasOwnProperty(i)||(s[i]=1)}}this.completionsDefined=!0},this.getCompletions=function(e,t,i,s){if(this.completionsDefined||this.defineCompletions(),!t.getTokenAt(i.row,i.column))return[];if("ruleset"===e){var n=t.getLine(i.row).substr(0,i.column);return/:[^;]+$/.test(n)?(/([\w\-]+):[^:]*$/.test(n),this.getPropertyValueCompletions(e,t,i,s)):this.getPropertyCompletions(e,t,i,s)}return[]},this.getPropertyCompletions=function(e,t,i,n){return Object.keys(s).map((function(e){return{caption:e,snippet:e+": $0;",meta:"property",score:Number.MAX_VALUE}}))},this.getPropertyValueCompletions=function(e,t,i,n){var a=t.getLine(i.row).substr(0,i.column),r=(/([\w\-]+):[^:]*$/.exec(a)||{})[1];if(!r)return[];var o=[];return r in s&&"object"==typeof s[r]&&(o=Object.keys(s[r])),o.map((function(e){return{caption:e,snippet:e,meta:"property value",score:Number.MAX_VALUE}}))}}).call(n.prototype),t.CssCompletions=n})),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],(function(e,t,i){"use strict";var s=e("../../lib/oop"),n=e("../../range").Range,a=e("./fold_mode").FoldMode,r=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};s.inherits(r,a),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,i){var s=e.getLine(i);if(this.singleLineBlockCommentRe.test(s)&&!this.startRegionRe.test(s)&&!this.tripleStarBlockCommentRe.test(s))return"";var n=this._getFoldWidgetBase(e,t,i);return!n&&this.startRegionRe.test(s)?"start":n},this.getFoldWidgetRange=function(e,t,i,s){var n,a=e.getLine(i);if(this.startRegionRe.test(a))return this.getCommentRegionBlock(e,a,i);if(n=a.match(this.foldingStartMarker)){var r=n.index;if(n[1])return this.openingBracketBlock(e,n[1],i,r);var o=e.getCommentFoldRange(i,r+n[0].length,1);return o&&!o.isMultiLine()&&(s?o=this.getSectionRange(e,i):"all"!=t&&(o=null)),o}if("markbegin"!==t&&(n=a.match(this.foldingStopMarker))){r=n.index+n[0].length;return n[1]?this.closingBracketBlock(e,n[1],i,r):e.getCommentFoldRange(i,r,-1)}},this.getSectionRange=function(e,t){for(var i=e.getLine(t),s=i.search(/\S/),a=t,r=i.length,o=t+=1,l=e.getLength();++t<l;){var u=(i=e.getLine(t)).search(/\S/);if(-1!==u){if(s>u)break;var c=this.getFoldWidgetRange(e,"all",t);if(c){if(c.start.row<=a)break;if(c.isMultiLine())t=c.end.row;else if(s==u)break}o=t}}return new n(a,r,o,e.getLine(o).length)},this.getCommentRegionBlock=function(e,t,i){for(var s=t.search(/\s*$/),a=e.getLength(),r=i,o=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,l=1;++i<a;){t=e.getLine(i);var u=o.exec(t);if(u&&(u[1]?l--:l++,!l))break}if(i>r)return new n(r,s,i,t.length)}}.call(r.prototype)})),ace.define("ace/mode/less",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/less_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/behaviour/css","ace/mode/css_completions","ace/mode/folding/cstyle"],(function(e,t,i){"use strict";var s=e("../lib/oop"),n=e("./text").Mode,a=e("./less_highlight_rules").LessHighlightRules,r=e("./matching_brace_outdent").MatchingBraceOutdent,o=e("./behaviour/css").CssBehaviour,l=e("./css_completions").CssCompletions,u=e("./folding/cstyle").FoldMode,c=function(){this.HighlightRules=a,this.$outdent=new r,this.$behaviour=new o,this.$completer=new l,this.foldingRules=new u};s.inherits(c,n),function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(e,t,i){var s=this.$getIndent(t),n=this.getTokenizer().getLineTokens(t,e).tokens;return n.length&&"comment"==n[n.length-1].type||t.match(/^.*\{\s*$/)&&(s+=i),s},this.checkOutdent=function(e,t,i){return this.$outdent.checkOutdent(t,i)},this.autoOutdent=function(e,t,i){this.$outdent.autoOutdent(t,i)},this.getCompletions=function(e,t,i,s){return this.$completer.getCompletions("ruleset",t,i,s)},this.$id="ace/mode/less"}.call(c.prototype),t.Mode=c}))},,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i(4),n=i(231),a=function(){};t.default=function(e,t,i){if(!n.isClient)return[t,a,a];if(!e)throw new Error("useLocalStorage key may not be falsy");var r=i?i.raw?function(e){return e}:i.deserializer:JSON.parse,o=s.useState((function(){try{var s=i?i.raw?String:i.serializer:JSON.stringify,n=localStorage.getItem(e);return null!==n?r(n):(t&&localStorage.setItem(e,s(t)),t)}catch(e){return t}})),l=o[0],u=o[1],c=s.useCallback((function(t){try{var s="function"==typeof t?t(l):t;if(void 0===s)return;var n=void 0;n=i?i.raw?"string"==typeof s?s:JSON.stringify(s):i.serializer?i.serializer(s):JSON.stringify(s):JSON.stringify(s),localStorage.setItem(e,n),u(r(n))}catch(e){}}),[e,u]),d=s.useCallback((function(){try{localStorage.removeItem(e),u(void 0)}catch(e){}}),[e,u]);return[l,c,d]}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDeepEqual=t.off=t.on=t.isClient=void 0;var s=i(33).__importDefault(i(232));t.isClient="object"==typeof window,t.on=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return e.addEventListener.apply(e,t)},t.off=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];return e.removeEventListener.apply(e,t)},t.isDeepEqual=s.default},function(e,t,i){"use strict";e.exports=function e(t,i){if(t===i)return!0;if(t&&i&&"object"==typeof t&&"object"==typeof i){if(t.constructor!==i.constructor)return!1;var s,n,a;if(Array.isArray(t)){if((s=t.length)!=i.length)return!1;for(n=s;0!=n--;)if(!e(t[n],i[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===i.source&&t.flags===i.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===i.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===i.toString();if((s=(a=Object.keys(t)).length)!==Object.keys(i).length)return!1;for(n=s;0!=n--;)if(!Object.prototype.hasOwnProperty.call(i,a[n]))return!1;for(n=s;0!=n--;){var r=a[n];if(("_owner"!==r||!t.$$typeof)&&!e(t[r],i[r]))return!1}return!0}return t!=t&&i!=i}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,i){"use strict";i.r(t),i.d(t,"VisEditor",(function(){return vis_editor_VisEditor})),i.d(t,"default",(function(){return vis_editor_VisEditor}));var s=i(16),n=i.n(s),a=i(4),r=i.n(a),o=i(36),l=i(32),u=i(9),c=i.n(u),d=i(27),p=i(3),g=i(13),h=i(14),m=i(1);class vis_editor_visualization_VisEditorVisualizationUI extends a.Component{constructor(e){super(e),n()(this,"handleMouseDown",(()=>{window.addEventListener("mouseup",this.handleMouseUp),this.setState({dragging:!0})})),n()(this,"handleMouseUp",(()=>{window.removeEventListener("mouseup",this.handleMouseUp),this.setState({dragging:!1})})),n()(this,"handleMouseMove",(e=>{this.state.dragging&&this.setState((t=>({height:Math.max(300,t.height+e.movementY)})))})),n()(this,"onSizeHandleKeyDown",(e=>{const{key:t}=e;t!==g.keys.ARROW_UP&&t!==g.keys.ARROW_DOWN||(e.preventDefault(),this.setState((e=>{const i=e.height+(t===g.keys.ARROW_UP?-15:15);return{height:Math.max(300,i)}})))})),this.state={height:300,dragging:!1},this._visEl=r.a.createRef(),this._subscription=null}async _loadVisualization(){if(!this._visEl.current)return;const{onDataChange:e,embeddableHandler:t}=this.props;this._handler=t,await this._handler.render(this._visEl.current),this.props.eventEmitter.emit("embeddableRendered"),this._subscription=this._handler.handler.data$.pipe(Object(l.pluck)("result")).subscribe((t=>e(t.value)))}componentWillUnmount(){window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mouseup",this.handleMouseUp),this._handler&&this._handler.destroy(),this._subscription&&this._subscription.unsubscribe()}componentDidMount(){window.addEventListener("mousemove",this.handleMouseMove),this._loadVisualization()}componentDidUpdate(){if(this._handler){const{timeRange:e,filters:t,query:i}=this.props;this._handler.updateInput({timeRange:e,filters:t,query:i})}}render(){const{dirty:e,autoApply:t,title:i,description:s,onToggleAutoApply:n,onCommit:a}=this.props,r={height:this.state.height};this.state.dragging&&(r.userSelect="none");let o=Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.visEditorVisualization.changesSuccessfullyAppliedMessage",defaultMessage:"The latest changes have been applied."});e&&(o=Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.visEditorVisualization.changesHaveNotBeenAppliedMessage",defaultMessage:"The changes to this visualization have not been applied."})),t&&(o=Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.visEditorVisualization.changesWillBeAutomaticallyAppliedMessage",defaultMessage:"The changes will be automatically applied."}));const l=Object(m.jsx)(g.EuiFlexGroup,{className:"tvbEditorVisualization__apply",alignItems:"center"},Object(m.jsx)(g.EuiFlexItem,{grow:!0},Object(m.jsx)(g.EuiSwitch,{id:"tsvbAutoApplyInput",label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.visEditorVisualization.autoApplyLabel",defaultMessage:"Auto apply"}),checked:t,onChange:n})),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiText,{color:e?"default":"subdued",size:"xs"},Object(m.jsx)("p",null,o))),!t&&Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiButton,{iconType:"play",fill:!0,size:"s",onClick:a,disabled:!e,"data-test-subj":"applyBtn"},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.visEditorVisualization.applyChangesLabel",defaultMessage:"Apply changes"}))));return Object(m.jsx)("div",null,Object(m.jsx)("div",{style:r,className:"tvbEditorVisualization","data-shared-items-container":!0,"data-title":i,"data-description":s,ref:this._visEl}),Object(m.jsx)("div",{className:"tvbEditor--hideForReporting"},l,Object(m.jsx)("button",{className:"tvbEditorVisualization__draghandle",onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onKeyDown:this.onSizeHandleKeyDown,"aria-label":this.props.intl.formatMessage({id:"visTypeTimeseries.colorRules.adjustChartSizeAriaLabel",defaultMessage:"Press up/down to adjust the chart size"})},Object(m.jsx)("i",{className:"fa fa-ellipsis-h"}))))}}const b=Object(h.injectI18n)(vis_editor_visualization_VisEditorVisualizationUI),f=r.a.createContext({}),v=r.a.createContext({}),j=r.a.createContext(null);var x=i(7),y=i(39),O=i.n(y);const T=/[^0-9,]/g;function E({name:e,value:t,disableTrash:i=!1,onChange:s}){const n=null!=t&&t.includes("rgba")?t.replace(T,""):t,[r,o]=Object(a.useState)(n||""),l=t?x.i18n.translate("visTypeTimeseries.colorPicker.notAccessibleWithValueAriaLabel",{defaultMessage:"Color picker ({value}), not accessible",values:{value:t}}):x.i18n.translate("visTypeTimeseries.colorPicker.notAccessibleAriaLabel",{defaultMessage:"Color picker, not accessible"});return Object(m.jsx)("div",{className:"tvbColorPicker","data-test-subj":"tvbColorPicker"},Object(m.jsx)(g.EuiColorPicker,{onChange:(t,{rgba:i,hex:n})=>{o(t),s({[e]:n?`rgba(${i.join(",")})`:""})},color:r,secondaryInputDisplay:"top",showAlpha:!0,button:Object(m.jsx)(g.EuiColorPickerSwatch,{color:r,"aria-label":l})}),!i&&Object(m.jsx)("div",{className:"tvbColorPicker__clear",onClick:()=>{o(""),s({[e]:null})}},Object(m.jsx)(g.EuiIconTip,{size:"s",type:"cross",color:"danger",content:x.i18n.translate("visTypeTimeseries.colorPicker.clearIconLabel",{defaultMessage:"Clear"})})))}function w(e){const{testSubj:t}=e,i=e.disableDelete?null:Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiToolTip,{content:e.deleteTooltip},Object(m.jsx)(g.EuiButtonIcon,{"data-test-subj":`${t}DeleteBtn`,"aria-label":e.deleteTooltip,color:"danger",iconType:"trash",onClick:e.onDelete}))),s=e.disableAdd?null:Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiToolTip,{content:e.addTooltip},Object(m.jsx)(g.EuiButtonIcon,{"data-test-subj":`${t}AddBtn`,"aria-label":e.addTooltip,iconType:"plusInCircle",onClick:e.onAdd}))),n=(()=>{let i=null;return e.onClone&&!e.disableAdd&&(i=Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiToolTip,{content:e.cloneTooltip},Object(m.jsx)(g.EuiButtonIcon,{"data-test-subj":`${t}CloneBtn`,"aria-label":e.cloneTooltip,iconType:"copy",onClick:e.onClone})))),i})(),a=(()=>{let i=null;if(Object(u.isBoolean)(e.isPanelActive)){const s=e.isPanelActive?e.deactivatePanelTooltip:e.activatePanelTooltip,n=e.isPanelActive?"eye":"eyeClosed";i=Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiToolTip,{content:s},Object(m.jsx)(g.EuiButtonIcon,{"data-test-subj":`${t}ActivatePanelBtn`,"aria-label":s,iconType:n,onClick:e.togglePanelActivation})))}return i})();return Object(m.jsx)(g.EuiFlexGroup,{gutterSize:"s",responsive:e.responsive,justifyContent:"flexEnd"},a,n,s,i)}w.defaultProps={testSubj:"Add",activeTooltip:x.i18n.translate("visTypeTimeseries.addDeleteButtons.addButtonDefaultTooltip",{defaultMessage:"Add"}),addTooltip:x.i18n.translate("visTypeTimeseries.addDeleteButtons.addButtonDefaultTooltip",{defaultMessage:"Add"}),deleteTooltip:x.i18n.translate("visTypeTimeseries.addDeleteButtons.deleteButtonDefaultTooltip",{defaultMessage:"Delete"}),cloneTooltip:x.i18n.translate("visTypeTimeseries.addDeleteButtons.cloneButtonDefaultTooltip",{defaultMessage:"Clone"}),activatePanelTooltip:x.i18n.translate("visTypeTimeseries.addDeleteButtons.reEnableTooltip",{defaultMessage:"Re-enable"}),deactivatePanelTooltip:x.i18n.translate("visTypeTimeseries.addDeleteButtons.temporarilyDisableTooltip",{defaultMessage:"Temporarily Disable"})};class series_drag_handler_SeriesDragHandler extends a.PureComponent{render(){const{dragHandleProps:e,hideDragHandler:t}=this.props;return Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)("div",e,!t&&Object(m.jsx)(g.EuiToolTip,{content:x.i18n.translate("visTypeTimeseries.sort.dragToSortTooltip",{defaultMessage:"Drag to sort"})},Object(m.jsx)(g.EuiIcon,{className:"tvbSeries__sortHandle","aria-label":x.i18n.translate("visTypeTimeseries.sort.dragToSortAriaLabel",{defaultMessage:"Drag to sort"}),type:"grab"}))))}}function C(e){let t="eyeClosed",i="subdued";return Object(u.last)(e.siblings).id===e.model.id&&(t="eye",i="text"),Object(m.jsx)("div",{className:"tvbAggRow"},Object(m.jsx)(g.EuiFlexGroup,{"data-test-subj":"aggRow",gutterSize:"s",alignItems:"flexStart",responsive:!1},Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiIcon,{className:"tvbAggRow__visibilityIcon",type:t,color:i})),Object(m.jsx)(g.EuiFlexItem,{className:"tvbAggRow__children"},e.children),Object(m.jsx)(series_drag_handler_SeriesDragHandler,{dragHandleProps:e.dragHandleProps,hideDragHandler:e.disableDelete}),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(w,{testSubj:"addMetric",addTooltip:x.i18n.translate("visTypeTimeseries.aggRow.addMetricButtonTooltip",{defaultMessage:"Add Metric"}),deleteTooltip:x.i18n.translate("visTypeTimeseries.aggRow.deleteMetricButtonTooltip",{defaultMessage:"Delete Metric"}),onAdd:e.onAdd,onDelete:e.onDelete,disableDelete:e.disableDelete}))))}n()(series_drag_handler_SeriesDragHandler,"defaultProps",{hideDragHandler:!0});var M=i(48),F=i.n(M),_=i(2);let S;!function(e){e.WHITE_LISTED_GROUP_BY_FIELDS="whiteListedGroupByFields",e.WHITE_LISTED_METRICS="whiteListedMetrics",e.WHITE_LISTED_TIMERANGE_MODES="whiteListedTimerangeModes"}(S||(S={}));const I={"*":!0},k={[_.e.GAUGE]:1,[_.e.METRIC]:2},L=(e,t=I,i)=>Object(u.get)(t,`${i}.*`,!0)||Boolean(Object(u.get)(t,i,{})[e]),P=(e,t)=>L(e,t,S.WHITE_LISTED_METRICS),A=(e,t)=>L(e,t,S.WHITE_LISTED_GROUP_BY_FIELDS),R=(e,t)=>L(e,t,S.WHITE_LISTED_TIMERANGE_MODES);var D=i(68);const N=({id:e,meta:t})=>({value:e,label:t.label}),{metric:B,parent_pipeline:z,sibling_pipeline:V,special:$}=Object(D.d)(N),H=[...B,...z,...V,...$];function G(e){var t;const{siblings:i,panelType:s,value:n,onChange:r,...o}=e,{uiRestrictions:l}=null!==(t=Object(a.useContext)(v))&&void 0!==t?t:{},u=H.filter((e=>n===e.value&&P(e.value,l)));let c,d=i.some((e=>!!B.find((t=>t.value===e.type))));if(i.length<=1&&(d=!1),"metrics"===s)c=B;else if("filter_ratio"===s)c=Object(D.c)({meta:{isFilterRatioSupported:!0}}).map(N);else if("histogram"===s)c=Object(D.c)({meta:{isHistogramSupported:!0}}).map(N);else{const e=e=>({...e,disabled:!d||!P(e.value,l)});c=[{label:x.i18n.translate("visTypeTimeseries.aggSelect.aggGroups.metricAggLabel",{defaultMessage:"Metric Aggregations"}),options:B.map((e=>({...e,disabled:!P(e.value,l)})))},{label:x.i18n.translate("visTypeTimeseries.aggSelect.aggGroups.parentPipelineAggLabel",{defaultMessage:"Parent Pipeline Aggregations"}),options:z.map(e)},{label:x.i18n.translate("visTypeTimeseries.aggSelect.aggGroups.siblingPipelineAggLabel",{defaultMessage:"Sibling Pipeline Aggregations"}),options:V.map(e)},{label:x.i18n.translate("visTypeTimeseries.aggSelect.aggGroups.specialAggLabel",{defaultMessage:"Special Aggregations"}),options:$.map(e)}]}return Object(m.jsx)("div",{"data-test-subj":"aggSelector"},Object(m.jsx)(g.EuiComboBox,F()({isClearable:!1,placeholder:x.i18n.translate("visTypeTimeseries.aggSelect.selectAggPlaceholder",{defaultMessage:"Select aggregation"}),options:c,selectedOptions:u,onChange:e=>{!e||e.length<=0||r(e)},singleSelection:{asPlainText:!0}},o)))}const q=(e,t)=>{const i=function(e,t){const i=t.id&&[t.id]||[];return e.forEach((e=>{c.a.includes(i,e.field)&&i.push(e.id)})),i}(e,t);return e.filter((e=>!c.a.includes(i,e.id)))};var U=i(28);class UIError extends Error{constructor(e){super(e)}get name(){return this.constructor.name}get errBody(){return this.message}}class errors_FieldNotFoundError extends UIError{constructor(e){super(x.i18n.translate("visTypeTimeseries.errors.fieldNotFound",{defaultMessage:'Field "{field}" not found',values:{field:e}}))}}const W=(e,t,i=!0)=>{if(e.length&&t){const s=e.find((e=>e.name===t));if(s)return s.label||s.name;if(i)throw new errors_FieldNotFoundError(t)}return t};const K=["cumulative_sum","derivative","moving_average","avg_bucket","sum_bucket","min_bucket","max_bucket","std_deviation_bucket","variance_bucket","sum_of_squares_bucket","serial_diff","positive_only"],Y=(e,t=[],i=[],s=!0)=>{if(!e)return x.i18n.translate("visTypeTimeseries.calculateLabel.unknownLabel",{defaultMessage:"Unknown"});if(e.alias)return e.alias;switch(e.type){case U.METRIC_TYPES.COUNT:return x.i18n.translate("visTypeTimeseries.calculateLabel.countLabel",{defaultMessage:"Count"});case _.i.CALCULATION:return x.i18n.translate("visTypeTimeseries.calculateLabel.bucketScriptsLabel",{defaultMessage:"Bucket Script"});case _.i.MATH:return x.i18n.translate("visTypeTimeseries.calculateLabel.mathLabel",{defaultMessage:"Math"});case _.i.SERIES_AGG:return x.i18n.translate("visTypeTimeseries.calculateLabel.seriesAggLabel",{defaultMessage:"Series Agg ({metricFunction})",values:{metricFunction:e.function}});case _.i.FILTER_RATIO:return x.i18n.translate("visTypeTimeseries.calculateLabel.filterRatioLabel",{defaultMessage:"Filter Ratio"});case _.i.POSITIVE_RATE:return x.i18n.translate("visTypeTimeseries.calculateLabel.positiveRateLabel",{defaultMessage:"Counter Rate of {field}",values:{field:W(i,e.field,s)}});case _.i.STATIC:return x.i18n.translate("visTypeTimeseries.calculateLabel.staticValueLabel",{defaultMessage:"Static Value of {metricValue}",values:{metricValue:e.value}})}const n=Object(D.e)(e.type);if(Object(u.includes)(K,e.type)){const a=t.find((t=>Object(u.startsWith)(e.field,t.id))),r=Y(a,t,i,s);if(a&&"percentile"===a.type){const t=/\[([0-9\.]+)\]$/,i=e.field.match(t);if(i)return x.i18n.translate("visTypeTimeseries.calculateLabel.metricTypeOfTargetWithAdditionalLabel",{defaultMessage:"{metricTypeLabel} of {targetLabel} ({additionalLabel})",values:{metricTypeLabel:n,targetLabel:r,additionalLabel:i[1]}})}return x.i18n.translate("visTypeTimeseries.calculateLabel.metricTypeOfTargetLabel",{defaultMessage:"{metricTypeLabel} of {targetLabel}",values:{metricTypeLabel:n,targetLabel:r}})}return x.i18n.translate("visTypeTimeseries.calculateLabel.metricTypeOfMetricFieldRankLabel",{defaultMessage:"{metricTypeLabel} of {metricField}",values:{metricTypeLabel:n,metricField:W(i,e.field,s)}})};var Q=i(86);const X=/\d+\.\d+/,J=e=>X.test(`${e}`)?e:`${e}.0`;function Z(e){const{additionalOptions:t,restrict:i,metric:s,fields:n,metrics:a,onChange:r,value:o,exclude:l,includeSiblings:u,clearable:c,...d}=e,p=a.filter(function(e,t=[]){return i=>!t.includes(i.type)&&("basic"!==e||Q.a.includes(i.type))}(i,l)),h=q(p,s),b=h.filter((e=>/^percentile/.test(e.type))).reduce(((e,t)=>{const i=Y(t,p,n,!1);switch(t.type){case _.i.PERCENTILE_RANK:(t.values||[]).forEach((s=>{const n=J(s);e.push({value:`${t.id}[${n}]`,label:`${i} (${n})`})}));case _.i.PERCENTILE:(t.percentiles||[]).forEach((s=>{if(s.value){const n=J(s.value);e.push({value:`${t.id}[${n}]`,label:`${i} (${n})`})}}))}return e}),[]),f=h.filter(function(e){return t=>e?!/^series/.test(t.type)&&!/^percentile/.test(t.type)&&"math"!==t.type:!/_bucket$/.test(t.type)&&!/^series/.test(t.type)&&!/^percentile/.test(t.type)&&"math"!==t.type}(u)).map((e=>{const t=Y(e,p,n,!1);return{value:e.id,label:t}})),v=[...f,...t,...b],j=v.find((e=>o===e.value)),y=j?[j]:[];return Object(m.jsx)(g.EuiComboBox,F()({placeholder:x.i18n.translate("visTypeTimeseries.metricSelect.selectMetricPlaceholder",{defaultMessage:"Select metric…"}),options:v,selectedOptions:y,onChange:r,singleSelection:{asPlainText:!0},isClearable:c},d))}Z.defaultProps={additionalOptions:[],exclude:[],metric:{},restrict:"none",includeSiblings:!1};const ee=(e,t)=>i=>{const s=c.a.assign({},t,i);e(s)},te=e=>t=>(i=[])=>{var s,n;return null==e?void 0:e({[t]:null!==(s=null===(n=i[0])||void 0===n?void 0:n.value)&&void 0!==s?s:null})},ie=e=>(t,i)=>s=>{var n;return null==e?void 0:e({[t]:Number(null!==(n=s.target.value)&&void 0!==n?n:i)})};var se=i(15);const ne={model_type:_.c.UNWEIGHTED,alpha:.3,beta:.1,gamma:.3,period:1,multiplicative:!0,window:5},ae=({model_type:e,window:t,period:i})=>e===_.c.WEIGHTED_EXPONENTIAL_TRIPLE&&2*i>t,re=e=>(t,i)=>s=>{var n;return e({[t]:null!==(n=s.target.value)&&void 0!==n?n:i})},oe=()=>({id:O.a.v1()});function le(e,t){const{model:i,name:s}=e,n={[s]:(i[s]||[]).map((e=>e.id===t.id?t:e))};e.onChange({...i,...n})}function ue(e,t){var i;const{model:s,name:n}=e,a={[n]:(s[n]||[]).filter((e=>e.id!==t.id))};null===(i=e.onChange)||void 0===i||i.call(e,{...s,...a})}function ce(e,t=oe){var i;const{model:s,name:n}=e,a={[n]:(s[n]||[]).concat([t()])};null===(i=e.onChange)||void 0===i||i.call(e,{...s,...a})}const de={handleAdd:ce,handleDelete:ue,handleChange:le},pe=e=>({id:O.a.v1(),name:"",field:"",...e});class vars_CalculationVars extends a.Component{constructor(e){super(e),this.renderRow=this.renderRow.bind(this)}handleChange(e,t){return i=>{const s=de.handleChange.bind(null,this.props),n={};n[t]=c.a.get(i,"[0].value",c.a.get(i,"target.value")),s(c.a.assign({},e,n))}}renderRow(e,t,i){const s=de.handleAdd.bind(null,this.props,pe),n=de.handleDelete.bind(null,this.props,e);return Object(m.jsx)(g.EuiFlexItem,{key:e.id,"data-test-subj":"varRow"},Object(m.jsx)(g.EuiFlexGroup,{alignItems:"center",responsive:!1,gutterSize:"s"},Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFieldText,{className:"tvbAggs__varName","aria-label":x.i18n.translate("visTypeTimeseries.vars.variableNameAriaLabel",{defaultMessage:"Variable name"}),placeholder:x.i18n.translate("visTypeTimeseries.vars.variableNamePlaceholder",{defaultMessage:"Variable name"}),onChange:this.handleChange(e,"name"),value:e.name})),Object(m.jsx)(g.EuiFlexItem,{className:"tvbAggs__varMetricWrapper"},Object(m.jsx)(Z,{onChange:this.handleChange(e,"field"),metrics:this.props.metrics,metric:this.props.model,value:e.field,fields:this.props.fields[Object(se.c)(this.props.indexPattern)],includeSiblings:this.props.includeSiblings,exclude:this.props.exclude})),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(w,{onAdd:s,onDelete:n,disableDelete:i.length<2,responsive:!1}))))}render(){const{model:e,name:t}=this.props;if(!e[t])return Object(m.jsx)("div",null);const i=e[t].map(this.renderRow);return Object(m.jsx)(g.EuiFlexGroup,{direction:"column",gutterSize:"s"},i)}}vars_CalculationVars.defaultProps={name:"variables",includeSiblings:!1};const ge=x.i18n.translate("visTypeTimeseries.fieldSelect.selectFieldPlaceholder",{defaultMessage:"Select field..."}),he=(e,t)=>{const i=e=>(e.label||"").toLowerCase();return i(e).localeCompare(i(t))};function me({label:e,type:t,fields:i,indexPattern:s="",value:n="",onChange:a,disabled:r=!1,restrict:o=[],placeholder:l=ge,uiRestrictions:u,"data-test-subj":c="metricsIndexPatternFieldsSelect"}){const d=Object(g.htmlIdGenerator)();let p=[],h=l;const b=Object(se.c)(s),f=Object.values((i[b]||[]).reduce(((e,i)=>{var s,a,r;l===(null==i?void 0:i.name)&&(h=null!==(s=i.label)&&void 0!==s?s:i.name);if(a=o,r=i.type,(!a.length||a.includes(r))&&((e,t,i=I)=>!!P(t,i)&&L(e,i[S.WHITE_LISTED_METRICS],t))(i.name,t,u)){var c,d;const t={value:i.name,label:null!==(c=i.label)&&void 0!==c?c:i.name},s=null===(d=e[i.type])||void 0===d?void 0:d.options;s?s.push(t):e[i.type]={options:[t],label:i.type},n===t.value&&p.push(t)}return e}),{}));f.sort(he),f.forEach((e=>{Array.isArray(e.options)&&e.options.sort(he)}));const v=Boolean(n&&i[b]&&!p.length);return n&&!p.length&&(p=[{label:n,id:"INVALID_FIELD"}]),Object(m.jsx)(g.EuiFormRow,{id:d("timeField"),label:e,isInvalid:v,error:x.i18n.translate("visTypeTimeseries.fieldSelect.fieldIsNotValid",{defaultMessage:'The "{fieldParameter}" field is not valid for use with the current index. Please select a new field.',values:{fieldParameter:n}})},Object(m.jsx)(g.EuiComboBox,{"data-test-subj":c,placeholder:h,isDisabled:r,options:f,selectedOptions:p,onChange:a,singleSelection:{asPlainText:!0},isInvalid:v}))}var be=i(17);function fe(e){switch(e){case U.METRIC_TYPES.CARDINALITY:return Object.values(be.KBN_FIELD_TYPES).filter((e=>e!==be.KBN_FIELD_TYPES.HISTOGRAM));case _.i.VALUE_COUNT:return Object.values(be.KBN_FIELD_TYPES);case U.METRIC_TYPES.AVG:case U.METRIC_TYPES.SUM:case U.METRIC_TYPES.MIN:case U.METRIC_TYPES.MAX:return[be.KBN_FIELD_TYPES.NUMBER,be.KBN_FIELD_TYPES.HISTOGRAM];default:return[be.KBN_FIELD_TYPES.NUMBER]}}function ve(e){const{model:t,panel:i,series:s,fields:n,uiRestrictions:a}=e,r=ee(e.onChange,t),o=te(r),l=fe(t.type),u=s.override_index_pattern?s.series_index_pattern:i.index_pattern,c=Object(g.htmlIdGenerator)();return Object(m.jsx)(C,{disableDelete:e.disableDelete,model:e.model,onAdd:e.onAdd,onDelete:e.onDelete,siblings:e.siblings,dragHandleProps:e.dragHandleProps},Object(m.jsx)(g.EuiFlexGroup,{gutterSize:"s"},Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormLabel,{htmlFor:c("aggregation")},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.stdAgg.aggregationLabel",defaultMessage:"Aggregation"})),Object(m.jsx)(g.EuiSpacer,{size:"xs"}),Object(m.jsx)(G,{id:c("aggregation"),panelType:e.panel.type,siblings:e.siblings,value:t.type,onChange:o("type"),fullWidth:!0})),"count"!==t.type?Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(me,{label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.stdAgg.fieldLabel",defaultMessage:"Field"}),fields:n,type:t.type,restrict:l,indexPattern:u,value:t.field,onChange:o("field"),uiRestrictions:a,fullWidth:!0})):null))}var je=i(8);const xe=e=>c.a.assign({id:O.a.v1(),mode:"line",shade:.2,color:je.d},e);class percentile_ui_Percentiles extends a.Component{constructor(...e){super(...e),n()(this,"renderRow",((e,t,i)=>{const s={...{value:"",percentile:"",shade:"",color:je.d},...e},{panel:n,seriesId:a}=this.props,r={minWidth:100},o=n.series.find((e=>e.id===a))||n.series[0],l=n.series.length>0&&"everything"!==o.split_mode,u=Object(m.jsx)(g.EuiFlexItem,{style:r},Object(m.jsx)(g.EuiFormRow,{label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.percentile.percentile",defaultMessage:"Percentile"})},Object(m.jsx)(g.EuiFieldNumber,{"aria-label":x.i18n.translate("visTypeTimeseries.percentile.percentileAriaLabel",{defaultMessage:"Percentile"}),placeholder:0,max:100,min:0,step:1,onChange:this.handleTextChange(s,"value"),value:""===s.value?"":Number(s.value)})));if("table"===n.type)return u;const c=de.handleAdd.bind(null,this.props,xe),d=de.handleDelete.bind(null,this.props,s),p=[{label:x.i18n.translate("visTypeTimeseries.percentile.modeOptions.lineLabel",{defaultMessage:"Line"}),value:"line"},{label:x.i18n.translate("visTypeTimeseries.percentile.modeOptions.bandLabel",{defaultMessage:"Band"}),value:"band"}],b={...r};"line"===s.mode&&(b.display="none");const f=Object(g.htmlIdGenerator)(s.id),v=p.find((e=>s.mode===e.value));return Object(m.jsx)(g.EuiFlexItem,{key:s.id},Object(m.jsx)(g.EuiPanel,null,Object(m.jsx)(g.EuiFlexGroup,{key:s.id,alignItems:"center"},Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFlexGrid,{columns:3},!l&&!["table","metric","markdown"].includes(n.type)&&Object(m.jsx)(g.EuiFlexItem,{grow:!1,style:{justifyContent:"center"}},Object(m.jsx)(E,{disableTrash:!0,onChange:this.handleColorChange(s),value:s.color,name:"color"})),u,Object(m.jsx)(g.EuiFlexItem,{style:r},Object(m.jsx)(g.EuiFormRow,{label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.percentile.modeLabel",defaultMessage:"Mode:"})},Object(m.jsx)(g.EuiComboBox,{isClearable:!1,id:f("mode"),options:p,selectedOptions:v?[v]:[],onChange:this.handleTextChange(s,"mode"),singleSelection:{asPlainText:!0}}))),Object(m.jsx)(g.EuiFlexItem,{style:b},Object(m.jsx)(g.EuiFormRow,{label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.percentile.fillToLabel",defaultMessage:"Fill to:"})},Object(m.jsx)(g.EuiFieldNumber,{id:f("fillTo"),min:0,max:100,step:1,onChange:this.handleTextChange(s,"percentile"),value:Number(s.percentile)}))),Object(m.jsx)(g.EuiFlexItem,{style:b},Object(m.jsx)(g.EuiFormRow,{label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.percentile.shadeLabel",defaultMessage:"Shade (0 to 1):"})},Object(m.jsx)(g.EuiFieldNumber,{id:f("shade"),step:.1,onChange:this.handleTextChange(s,"shade"),value:Number(s.shade)}))))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(w,{onAdd:c,onDelete:d,disableDelete:i.length<2,responsive:!1})))))}))}handleTextChange(e,t){return i=>{const s=de.handleChange.bind(null,this.props),n={};n[t]=c.a.get(i,"[0].value",c.a.get(i,"target.value")),s(c.a.assign({},e,n))}}handleColorChange(e){return t=>{de.handleChange.bind(null,this.props)(c.a.assign({},e,t))}}render(){const{model:e,name:t,panel:i}=this.props;if(!e[t])return Object(m.jsx)("div",null);let s;return s="table"===i.type?this.renderRow(c.a.last(e[t])):e[t].map(this.renderRow),Object(m.jsx)(g.EuiFlexGroup,{direction:"column",gutterSize:"s"},s)}}percentile_ui_Percentiles.defaultProps={name:"percentile"};const ye=({value:e,onChange:t})=>Object(m.jsx)(g.EuiFormRow,{label:Object(m.jsx)(r.a.Fragment,null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.percentileHdr.numberOfSignificantValueDigits",defaultMessage:"Number of significant value digits (HDR histogram)"})," ",Object(m.jsx)(g.EuiIconTip,{position:"right",content:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.percentileHdr.numberOfSignificantValueDigits.hint",defaultMessage:"HDR Histogram (High Dynamic Range Histogram) is an alternative implementation that can be useful when calculating percentile ranks for latency measurements as it can be faster than the t-digest implementation with the trade-off of a larger memory footprint. Number of significant value digits parameter specifies the resolution of values for the histogram in number of significant digits"}),type:"questionInCircle"}))},Object(m.jsx)(g.EuiFieldNumber,{min:1,value:e||"",onChange:t})),Oe=[be.KBN_FIELD_TYPES.NUMBER,be.KBN_FIELD_TYPES.HISTOGRAM];const Te=be.KBN_FIELD_TYPES.NUMBER,Ee=Object(h.injectI18n)((e=>{const{series:t,panel:i,fields:s,intl:n}=e,a={sigma:"",...e.model},r=[{label:n.formatMessage({id:"visTypeTimeseries.stdDeviation.modeOptions.rawLabel",defaultMessage:"Raw"}),value:"raw"},{label:n.formatMessage({id:"visTypeTimeseries.stdDeviation.modeOptions.upperBoundLabel",defaultMessage:"Upper Bound"}),value:"upper"},{label:n.formatMessage({id:"visTypeTimeseries.stdDeviation.modeOptions.lowerBoundLabel",defaultMessage:"Lower Bound"}),value:"lower"}];"table"!==i.type&&r.push({label:n.formatMessage({id:"visTypeTimeseries.stdDeviation.modeOptions.boundsBandLabel",defaultMessage:"Bounds Band"}),value:"band"});const o=ee(e.onChange,a),l=te(o),u=re(o),c=t.override_index_pattern?t.series_index_pattern:i.index_pattern,d=Object(g.htmlIdGenerator)(),p=r.find((e=>a.mode===e.value));return Object(m.jsx)(C,{disableDelete:e.disableDelete,model:e.model,onAdd:e.onAdd,onDelete:e.onDelete,siblings:e.siblings,dragHandleProps:e.dragHandleProps},Object(m.jsx)(g.EuiFlexGroup,{gutterSize:"s"},Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormLabel,{htmlFor:d("aggregation")},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.stdDeviation.aggregationLabel",defaultMessage:"Aggregation"})),Object(m.jsx)(g.EuiSpacer,{size:"xs"}),Object(m.jsx)(G,{id:d("aggregation"),panelType:e.panel.type,siblings:e.siblings,value:a.type,onChange:l("type")})),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(me,{label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.stdDeviation.fieldLabel",defaultMessage:"Field"}),fields:s,type:a.type,restrict:Te,indexPattern:c,value:a.field,onChange:l("field")})),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{id:d("sigma"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.stdDeviation.sigmaLabel",defaultMessage:"Sigma"})},Object(m.jsx)(g.EuiFieldText,{value:a.sigma,onChange:u("sigma")}))),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:d("mode"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.stdDeviation.modeLabel",defaultMessage:"Mode"})},Object(m.jsx)(g.EuiComboBox,{options:r,selectedOptions:p?[p]:[],onChange:l("mode"),singleSelection:{asPlainText:!0}})))))})),we=Object(h.injectI18n)((e=>{const{siblings:t,intl:i,fields:s,indexPattern:n}=e,a={sigma:"",...e.model},r=Object(g.htmlIdGenerator)(),o=ee(e.onChange,a),l=te(o),u=re(o),c={};if("std_deviation_bucket"===a.type){c.sigma=Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{id:r("sigma"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.stdSibling.sigmaLabel",defaultMessage:"Sigma"})},Object(m.jsx)(g.EuiFieldText,{value:a.sigma,onChange:u("sigma")})));const e=[{label:i.formatMessage({id:"visTypeTimeseries.stdSibling.modeOptions.rawLabel",defaultMessage:"Raw"}),value:"raw"},{label:i.formatMessage({id:"visTypeTimeseries.stdSibling.modeOptions.upperBoundLabel",defaultMessage:"Upper Bound"}),value:"upper"},{label:i.formatMessage({id:"visTypeTimeseries.stdSibling.modeOptions.lowerBoundLabel",defaultMessage:"Lower Bound"}),value:"lower"},{label:i.formatMessage({id:"visTypeTimeseries.stdSibling.modeOptions.boundsBandLabel",defaultMessage:"Bounds Band"}),value:"band"}],t=e.find((e=>a.mode===e.value));c.mode=Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:r("mode"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.stdSibling.modeLabel",defaultMessage:"Mode"})},Object(m.jsx)(g.EuiComboBox,{options:e,selectedOptions:t?[t]:[],onChange:l("mode"),singleSelection:{asPlainText:!0}})))}return Object(m.jsx)(C,{disableDelete:e.disableDelete,model:e.model,onAdd:e.onAdd,onDelete:e.onDelete,siblings:e.siblings,dragHandleProps:e.dragHandleProps},Object(m.jsx)(g.EuiFlexGroup,{gutterSize:"s"},Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormLabel,{htmlFor:r("aggregation")},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.stdSibling.aggregationLabel",defaultMessage:"Aggregation"})),Object(m.jsx)(g.EuiSpacer,{size:"xs"}),Object(m.jsx)(G,{id:r("aggregation"),panelType:e.panel.type,siblings:e.siblings,value:a.type,onChange:l("type")})),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:r("metric"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.stdSibling.metricLabel",defaultMessage:"Metric"})},Object(m.jsx)(Z,{onChange:l("field"),exclude:[_.i.PERCENTILE,_.i.TOP_HIT],metrics:t,fields:s[Object(se.c)(n)],metric:a,value:a.field}))),c.sigma,c.mode))}));const Ce=Object(h.injectI18n)((function(e){const{panel:t,model:i,intl:s}=e,n=ee(e.onChange,i),a=te(n),r=Object(g.htmlIdGenerator)(),o=[{label:s.formatMessage({id:"visTypeTimeseries.seriesAgg.functionOptions.sumLabel",defaultMessage:"Sum"}),value:"sum"},{label:s.formatMessage({id:"visTypeTimeseries.seriesAgg.functionOptions.maxLabel",defaultMessage:"Max"}),value:"max"},{label:s.formatMessage({id:"visTypeTimeseries.seriesAgg.functionOptions.minLabel",defaultMessage:"Min"}),value:"min"},{label:s.formatMessage({id:"visTypeTimeseries.seriesAgg.functionOptions.avgLabel",defaultMessage:"Avg"}),value:"mean"},{label:s.formatMessage({id:"visTypeTimeseries.seriesAgg.functionOptions.countLabel",defaultMessage:"Series count"}),value:"count"},{label:s.formatMessage({id:"visTypeTimeseries.seriesAgg.functionOptions.overallSumLabel",defaultMessage:"Overall Sum"}),value:"overall_sum"},{label:s.formatMessage({id:"visTypeTimeseries.seriesAgg.functionOptions.overallMaxLabel",defaultMessage:"Overall Max"}),value:"overall_max"},{label:s.formatMessage({id:"visTypeTimeseries.seriesAgg.functionOptions.overallMinLabel",defaultMessage:"Overall Min"}),value:"overall_min"},{label:s.formatMessage({id:"visTypeTimeseries.seriesAgg.functionOptions.overallAvgLabel",defaultMessage:"Overall Avg"}),value:"overall_avg"},{label:s.formatMessage({id:"visTypeTimeseries.seriesAgg.functionOptions.cumulativeSumLabel",defaultMessage:"Cumulative Sum"}),value:"cumulative_sum"}],l=o.find((e=>i.function===e.value));return"table"===t.type?Object(m.jsx)(C,{disableDelete:e.disableDelete,model:e.model,onAdd:e.onAdd,onDelete:e.onDelete,siblings:e.siblings,dragHandleProps:e.dragHandleProps},Object(m.jsx)(g.EuiTitle,{className:"tvbAggRow__unavailable",size:"xxxs"},Object(m.jsx)("span",null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.seriesAgg.seriesAggIsNotCompatibleLabel",defaultMessage:"Series Agg is not compatible with the table visualization."})))):Object(m.jsx)(C,{disableDelete:e.disableDelete,model:e.model,onAdd:e.onAdd,onDelete:e.onDelete,siblings:e.siblings,dragHandleProps:e.dragHandleProps},Object(m.jsx)(g.EuiFlexGroup,{gutterSize:"s"},Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormLabel,{htmlFor:r("aggregation")},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.seriesAgg.aggregationLabel",defaultMessage:"Aggregation"})),Object(m.jsx)(g.EuiSpacer,{size:"xs"}),Object(m.jsx)(G,{id:r("aggregation"),panelType:t.type,siblings:e.siblings,value:i.type,onChange:a("type")})),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:r("function"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.seriesAgg.functionLabel",defaultMessage:"Function"})},Object(m.jsx)(g.EuiComboBox,{options:o,selectedOptions:l?[l]:[],onChange:a("function"),singleSelection:{asPlainText:!0}})))))}));var Me=i(0);const Fe=r.a.createContext(null);Fe.Provider;function _e({query:e,onChange:t,indexPatterns:i,"data-test-subj":s}){const{indexPatterns:n}=Object(Me.c)(),[r,o]=Object(a.useState)([]),l=Object(a.useContext)(Fe);return Object(a.useEffect)((()=>{!async function(){const e=[];for(const t of null!=i?i:[])if(t){if(Object(se.d)(t))e.push(t);else if(null!=t&&t.id){const{indexPattern:i}=await Object(se.b)(t,n);i&&e.push(i)}}else{const t=await n.getDefault();t&&e.push(t)}o(e)}()}),[i,n]),Object(m.jsx)(be.QueryStringInput,F()({query:e,onChange:t,indexPatterns:r},l,{dataTestSubj:s}))}const Se=(e,t,i)=>{const s=e[Object(se.c)(t)];if(!s)return!1;const n=s.find((e=>e.name===i));return!!n&&n.type===be.KBN_FIELD_TYPES.HISTOGRAM},Ie=({model:e,onChange:t,onDelete:i,onAdd:s,disableAdd:n,disableDelete:a,enableColorPicker:r})=>Object(m.jsx)(g.EuiPanel,{paddingSize:"s",className:"tvbAggRow__multiValueRow"},Object(m.jsx)(g.EuiFlexGroup,{alignItems:"center",gutterSize:"s"},r&&Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(E,{disableTrash:!0,onChange:i=>t({...e,color:(null==i?void 0:i.color)||je.d}),value:e.color,name:"color"})),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFieldNumber,{value:""===e.value?"":Number(e.value),placeholder:"0",onChange:i=>t({...e,value:Object(u.get)(i,"target.value")})})),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(w,{onAdd:s,onDelete:()=>i(e),disableDelete:a,disableAdd:n,responsive:!1}))));Ie.defaultProps={model:{id:null,value:""}};const ke=e=>{const t=e.values||[],i=e.colors||[],{onChange:s,disableAdd:n,disableDelete:a,showOnlyLastRow:r,enableColorPicker:o}=e,l=({value:e,id:n,color:a})=>{t[n]=e,i[n]=a,s(t,i)},c=({id:e})=>s(t.filter(((t,i)=>e!==i)),i.filter(((t,i)=>e!==i))),d=()=>s([...t,""],[...i,je.d]),p=({rowModel:e,disableDeleteRow:t,disableAddRow:i})=>Object(m.jsx)(g.EuiFlexItem,{key:`percentileRankValue__item${e.id}`},Object(m.jsx)(Ie,{onAdd:d,onChange:l,onDelete:c,disableDelete:t,disableAdd:i,model:e,enableColorPicker:o}));return Object(m.jsx)(g.EuiFlexGroup,{direction:"column",gutterSize:"s"},r&&p({rowModel:{id:t.length-1,value:Object(u.last)(t)||"",color:Object(u.last)(i)||je.d},disableAddRow:!0,disableDeleteRow:!0}),!r&&t.map(((e,t,s)=>p({rowModel:{id:t,value:e||"",color:i[t]||je.d},disableAddRow:n,disableDeleteRow:a||s.length<2}))))},Le=[be.KBN_FIELD_TYPES.NUMBER,be.KBN_FIELD_TYPES.HISTOGRAM];const Pe="agg_with",Ae=[be.KBN_FIELD_TYPES.DATE],Re=Object(h.injectI18n)((e=>{var t;const{fields:i,series:s,panel:n}=e,r=Object(a.useMemo)((()=>({size:1,order:"desc",[Pe]:"noop",...e.model})),[e.model]),o=s.override_index_pattern?s.series_index_pattern:n.index_pattern,l=[_.e.TABLE,_.e.METRIC,_.e.MARKDOWN].includes(n.type)?[be.KBN_FIELD_TYPES.NUMBER,be.KBN_FIELD_TYPES.STRING,be.KBN_FIELD_TYPES.DATE]:[be.KBN_FIELD_TYPES.NUMBER],u=ee(e.onChange,r),c=te(u),d=re(u),p=Object(se.c)(o),b=((e={},t)=>{if(i=t,s=e.type,!i.length||i.includes(s))switch(e.type){case be.KBN_FIELD_TYPES.NUMBER:return[{label:x.i18n.translate("visTypeTimeseries.topHit.aggWithOptions.averageLabel",{defaultMessage:"Avg"}),value:"avg"},{label:x.i18n.translate("visTypeTimeseries.topHit.aggWithOptions.maxLabel",{defaultMessage:"Max"}),value:"max"},{label:x.i18n.translate("visTypeTimeseries.topHit.aggWithOptions.minLabel",{defaultMessage:"Min"}),value:"min"},{label:x.i18n.translate("visTypeTimeseries.topHit.aggWithOptions.sumLabel",{defaultMessage:"Sum"}),value:"sum"}];case be.KBN_FIELD_TYPES.STRING:case be.KBN_FIELD_TYPES.DATE:return[{label:x.i18n.translate("visTypeTimeseries.topHit.aggWithOptions.concatenate",{defaultMessage:"Concatenate"}),value:"concat"}]}var i,s;return[]})(null==i||null===(t=i[p])||void 0===t?void 0:t.find((e=>e.name===r.field)),l),f=[{label:x.i18n.translate("visTypeTimeseries.topHit.orderOptions.ascLabel",{defaultMessage:"Asc"}),value:"asc"},{label:x.i18n.translate("visTypeTimeseries.topHit.orderOptions.descLabel",{defaultMessage:"Desc"}),value:"desc"}],v=Object(g.htmlIdGenerator)(),j=b.find((e=>r.agg_with===e.value)),y=f.find((e=>r.order===e.value));return Object(a.useEffect)((()=>{var e;const t=null==b||null===(e=b[0])||void 0===e?void 0:e.value,i=r.agg_with;i&&t&&i!==t&&!j&&u({[Pe]:t})}),[r,j,b,u]),Object(m.jsx)(C,{disableDelete:e.disableDelete,model:e.model,onAdd:e.onAdd,onDelete:e.onDelete,siblings:e.siblings,dragHandleProps:e.dragHandleProps},Object(m.jsx)(g.EuiFlexGroup,{gutterSize:"s"},Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormLabel,{htmlFor:v("aggregation")},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.topHit.aggregationLabel",defaultMessage:"Aggregation"})),Object(m.jsx)(g.EuiSpacer,{size:"xs"}),Object(m.jsx)(G,{id:v("aggregation"),panelType:e.panel.type,siblings:e.siblings,value:r.type,onChange:c("type")})),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(me,{label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.topHit.fieldLabel",defaultMessage:"Field"}),fields:i,type:r.type,restrict:l,indexPattern:o,value:r.field,onChange:c("field")}))),Object(m.jsx)(g.EuiSpacer,{size:"m"}),Object(m.jsx)(g.EuiFlexGroup,{gutterSize:"s"},Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{id:v("size"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.topHit.sizeLabel",defaultMessage:"Size"})},Object(m.jsx)("input",{className:"tvbAgg__input",value:r.size,onChange:d("size")}))),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:v(Pe),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.topHit.aggregateWithLabel",defaultMessage:"Aggregate with"})},Object(m.jsx)(g.EuiComboBox,{isClearable:!1,placeholder:x.i18n.translate("visTypeTimeseries.topHit.aggregateWith.selectPlaceholder",{defaultMessage:"Select..."}),options:b,selectedOptions:j?[j]:[],onChange:c(Pe),singleSelection:{asPlainText:!0},"data-test-subj":"topHitAggregateWithComboBox"}))),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(me,{label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.topHit.orderByLabel",defaultMessage:"Order by"}),restrict:Ae,value:r.order_by,onChange:c("order_by"),indexPattern:o,fields:i,"data-test-subj":"topHitOrderByFieldSelect"})),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:v("order"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.topHit.orderLabel",defaultMessage:"Order"})},Object(m.jsx)(g.EuiComboBox,{isClearable:!1,placeholder:x.i18n.translate("visTypeTimeseries.topHit.order.selectPlaceholder",{defaultMessage:"Select..."}),options:f,selectedOptions:y?[y]:[],onChange:c("order"),singleSelection:{asPlainText:!0}})))))})),De=[{label:x.i18n.translate("visTypeTimeseries.units.auto",{defaultMessage:"auto"}),value:""},{label:x.i18n.translate("visTypeTimeseries.units.perMillisecond",{defaultMessage:"per millisecond"}),value:"1ms"},{label:x.i18n.translate("visTypeTimeseries.units.perSecond",{defaultMessage:"per second"}),value:"1s"},{label:x.i18n.translate("visTypeTimeseries.units.perMinute",{defaultMessage:"per minute"}),value:"1m"},{label:x.i18n.translate("visTypeTimeseries.units.perHour",{defaultMessage:"per hour"}),value:"1h"},{label:x.i18n.translate("visTypeTimeseries.units.perDay",{defaultMessage:"per day"}),value:"1d"}],Ne={count:ve,avg:ve,max:ve,min:ve,sum:ve,std_deviation:Ee,sum_of_squares:ve,variance:ve,avg_bucket:we,max_bucket:we,min_bucket:we,sum_bucket:we,variance_bucket:we,sum_of_squares_bucket:we,std_deviation_bucket:we,percentile:function(e){const{series:t,model:i,panel:s,fields:n}=e,r=Object(g.htmlIdGenerator)(),o=ee(e.onChange,i),l=te(o),u=ie(o),c=t.override_index_pattern?t.series_index_pattern:s.index_pattern;return Object(a.useEffect)((()=>{(e=>Array.isArray(e.percentiles))(i)||o({percentiles:[xe({value:50})]})}),[o,i]),Object(m.jsx)(C,{disableDelete:e.disableDelete,model:e.model,onAdd:e.onAdd,onDelete:e.onDelete,siblings:e.siblings,dragHandleProps:e.dragHandleProps},Object(m.jsx)(g.EuiFlexGrid,{gutterSize:"s",columns:2},Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormLabel,{htmlFor:r("aggregation")},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.percentile.aggregationLabel",defaultMessage:"Aggregation"})),Object(m.jsx)(g.EuiSpacer,{size:"xs"}),Object(m.jsx)(G,{id:r("aggregation"),panelType:e.panel.type,siblings:e.siblings,value:i.type,onChange:l("type")})),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(me,{label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.percentile.fieldLabel",defaultMessage:"Field"}),fields:n,type:i.type,restrict:Oe,indexPattern:c,value:i.field,onChange:l("field")})),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.percentile.percents",defaultMessage:"Percents"})},Object(m.jsx)(percentile_ui_Percentiles,{onChange:o,name:"percentiles",model:i,panel:s,seriesId:t.id}))),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(ye,{value:i.numberOfSignificantValueDigits,onChange:u("numberOfSignificantValueDigits")}))))},percentile_rank:e=>{var t;const{panel:i,fields:s,indexPattern:n}=e,a={...{values:[""],colors:[je.d]},...e.model},r=Object(g.htmlIdGenerator)(),o="table"===i.type,l=ee(e.onChange,a),u=te(l),c=ie(l),d=i.series.find((t=>t.id===e.series.id))||i.series[0],p=!(i.series.length>0&&"everything"!==d.split_mode)&&!["table","metric","markdown"].includes(i.type);return Object(m.jsx)(C,{disableDelete:e.disableDelete,model:e.model,onAdd:e.onAdd,onDelete:e.onDelete,siblings:e.siblings,dragHandleProps:e.dragHandleProps},Object(m.jsx)(g.EuiFlexGrid,{gutterSize:"s",columns:2},Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormLabel,{htmlFor:r("aggregation")},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.percentileRank.aggregationLabel",defaultMessage:"Aggregation"})),Object(m.jsx)(g.EuiSpacer,{size:"xs"}),Object(m.jsx)(G,{id:r("aggregation"),panelType:e.panel.type,siblings:e.siblings,value:a.type,onChange:u("type")})),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(me,{label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.percentileRank.fieldLabel",defaultMessage:"Field"}),fields:s,type:a.type,restrict:Le,indexPattern:n,value:null!==(t=a.field)&&void 0!==t?t:"",onChange:u("field")})),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.percentileRank.values",defaultMessage:"Values"})},Object(m.jsx)(ke,{disableAdd:o,disableDelete:o,showOnlyLastRow:o,values:a.values,colors:a.colors,onChange:(e,t)=>{l({...a,values:e,colors:t})},enableColorPicker:p}))),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(ye,{value:a.numberOfSignificantValueDigits,onChange:c("numberOfSignificantValueDigits")}))))},cardinality:ve,value_count:ve,calculation:function(e){const t=Object(g.htmlIdGenerator)(),{siblings:i,model:s,indexPattern:n,fields:r}=e,o=ee(e.onChange,s),l=te(o),u=re(o);return Object(a.useEffect)((()=>{(e=>Array.isArray(e.variables)&&void 0!==e.script)(s)||o({variables:[pe()],script:""})}),[o,s]),Object(m.jsx)(C,{disableDelete:e.disableDelete,model:e.model,onAdd:e.onAdd,onDelete:e.onDelete,siblings:e.siblings,dragHandleProps:e.dragHandleProps},Object(m.jsx)(g.EuiFlexGroup,{direction:"column",gutterSize:"l"},Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormLabel,{htmlFor:t("aggregation")},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.calculation.aggregationLabel",defaultMessage:"Aggregation"})),Object(m.jsx)(g.EuiSpacer,{size:"xs"}),Object(m.jsx)(G,{id:t("aggregation"),panelType:e.panel.type,siblings:e.siblings,value:s.type,onChange:l("type")})),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormLabel,{htmlFor:t("variables")},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.calculation.variablesLabel",defaultMessage:"Variables"})),Object(m.jsx)(g.EuiSpacer,{size:"xs"}),Object(m.jsx)(vars_CalculationVars,{id:t("variables"),metrics:i,indexPattern:n,fields:r,onChange:o,name:"variables",model:s,exclude:[_.i.TOP_HIT]})),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:t("painless"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.calculation.painlessScriptLabel",defaultMessage:"Painless Script"}),fullWidth:!0,helpText:Object(m.jsx)("div",null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.calculation.painlessScriptDescription",defaultMessage:"Variables are keys on the {params} object, i.e. {paramsName}. To access the bucket interval (in milliseconds) use {paramsInterval}.",values:{params:Object(m.jsx)(g.EuiCode,null,"params"),paramsName:Object(m.jsx)(g.EuiCode,null,"params.<name>"),paramsInterval:Object(m.jsx)(g.EuiCode,null,"params._interval")}}))},Object(m.jsx)(g.EuiTextArea,{onChange:u("script"),value:s.script,fullWidth:!0})))))},cumulative_sum:function(e){const{model:t,siblings:i,fields:s,indexPattern:n}=e,a=Object(g.htmlIdGenerator)(),r=ee(e.onChange,t),o=te(r);return Object(m.jsx)(C,{disableDelete:e.disableDelete,model:e.model,onAdd:e.onAdd,onDelete:e.onDelete,siblings:e.siblings,dragHandleProps:e.dragHandleProps},Object(m.jsx)(g.EuiFlexGroup,{gutterSize:"s"},Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormLabel,{htmlFor:a("aggregation")},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.cumulativeSum.aggregationLabel",defaultMessage:"Aggregation"})),Object(m.jsx)(g.EuiSpacer,{size:"xs"}),Object(m.jsx)(G,{id:a("aggregation"),panelType:e.panel.type,siblings:e.siblings,value:t.type,onChange:o("type")})),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:a("metric"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.cumulativeSum.metricLabel",defaultMessage:"Metric"})},Object(m.jsx)(Z,{onChange:o("field"),metrics:i,metric:t,fields:s[Object(se.c)(n)],value:t.field,exclude:[_.i.TOP_HIT]})))))},moving_average:e=>{const{siblings:t,fields:i,indexPattern:s}=e,n={...ne,...e.model},r=[{label:x.i18n.translate("visTypeTimeseries.movingAverage.modelOptions.simpleLabel",{defaultMessage:"Simple"}),value:_.c.UNWEIGHTED},{label:x.i18n.translate("visTypeTimeseries.movingAverage.modelOptions.linearLabel",{defaultMessage:"Linear"}),value:_.c.WEIGHTED_LINEAR},{label:x.i18n.translate("visTypeTimeseries.movingAverage.modelOptions.exponentiallyWeightedLabel",{defaultMessage:"Exponentially Weighted"}),value:_.c.WEIGHTED_EXPONENTIAL},{label:x.i18n.translate("visTypeTimeseries.movingAverage.modelOptions.holtLinearLabel",{defaultMessage:"Holt-Linear"}),value:_.c.WEIGHTED_EXPONENTIAL_DOUBLE},{label:x.i18n.translate("visTypeTimeseries.movingAverage.modelOptions.holtWintersLabel",{defaultMessage:"Holt-Winters"}),value:_.c.WEIGHTED_EXPONENTIAL_TRIPLE}],o=ee(e.onChange,n),l=te(o),u=ie(o),c=Object(g.htmlIdGenerator)(),d=r.find((({value:e})=>n.model_type===e)),p=[{label:x.i18n.translate("visTypeTimeseries.movingAverage.multiplicativeOptions.true",{defaultMessage:"True"}),value:!0},{label:x.i18n.translate("visTypeTimeseries.movingAverage.multiplicativeOptions.false",{defaultMessage:"False"}),value:!1}],h=p.find((({value:e})=>n.multiplicative===e));return Object(m.jsx)(C,{disableDelete:e.disableDelete,model:e.model,onAdd:e.onAdd,onDelete:e.onDelete,siblings:e.siblings,dragHandleProps:e.dragHandleProps},Object(m.jsx)(g.EuiFlexGroup,{gutterSize:"s"},Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormLabel,{htmlFor:c("aggregation")},x.i18n.translate("visTypeTimeseries.movingAverage.aggregationLabel",{defaultMessage:"Aggregation"})),Object(m.jsx)(g.EuiSpacer,{size:"xs"}),Object(m.jsx)(G,{id:c("aggregation"),panelType:e.panel.type,siblings:e.siblings,value:n.type,onChange:l("type")})),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:c("metric"),label:x.i18n.translate("visTypeTimeseries.movingAverage.metricLabel",{defaultMessage:"Metric"})},Object(m.jsx)(Z,{onChange:l("field"),metrics:t,metric:n,fields:i[Object(se.c)(s)],value:n.field,exclude:[_.i.TOP_HIT]})))),Object(m.jsx)(g.EuiSpacer,{size:"m"}),Object(m.jsx)(g.EuiFlexGroup,{gutterSize:"s"},Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:c("model_type"),label:x.i18n.translate("visTypeTimeseries.movingAverage.modelLabel",{defaultMessage:"Model"})},Object(m.jsx)(g.EuiComboBox,{isClearable:!1,placeholder:x.i18n.translate("visTypeTimeseries.movingAverage.model.selectPlaceholder",{defaultMessage:"Select"}),options:r,selectedOptions:d?[d]:[],onChange:l("model_type"),singleSelection:{asPlainText:!0}}))),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:c("windowSize"),label:x.i18n.translate("visTypeTimeseries.movingAverage.windowSizeLabel",{defaultMessage:"Window Size"}),helpText:ae(n)&&x.i18n.translate("visTypeTimeseries.movingAverage.windowSizeHint",{defaultMessage:"Window must always be at least twice the size of your period"})},Object(m.jsx)("input",{className:"tvbAgg__input",type:"text",onChange:u("window"),value:n.window})))),(n.model_type===_.c.WEIGHTED_EXPONENTIAL||n.model_type===_.c.WEIGHTED_EXPONENTIAL_DOUBLE||n.model_type===_.c.WEIGHTED_EXPONENTIAL_TRIPLE)&&Object(m.jsx)(a.Fragment,null,Object(m.jsx)(g.EuiSpacer,{size:"m"}),Object(m.jsx)(g.EuiFlexGroup,{gutterSize:"s"},Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:c("alpha"),label:x.i18n.translate("visTypeTimeseries.movingAverage.alpha",{defaultMessage:"Alpha"})},Object(m.jsx)(g.EuiFieldNumber,{step:.1,onChange:u("alpha"),value:n.alpha}))),(n.model_type===_.c.WEIGHTED_EXPONENTIAL_DOUBLE||n.model_type===_.c.WEIGHTED_EXPONENTIAL_TRIPLE)&&Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:c("beta"),label:x.i18n.translate("visTypeTimeseries.movingAverage.beta",{defaultMessage:"Beta"})},Object(m.jsx)(g.EuiFieldNumber,{step:.1,onChange:u("beta"),value:n.beta}))),n.model_type===_.c.WEIGHTED_EXPONENTIAL_TRIPLE&&Object(m.jsx)(a.Fragment,null,Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:c("gamma"),label:x.i18n.translate("visTypeTimeseries.movingAverage.gamma",{defaultMessage:"Gamma"})},Object(m.jsx)(g.EuiFieldNumber,{step:.1,onChange:u("gamma"),value:n.gamma}))),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:c("period"),label:x.i18n.translate("visTypeTimeseries.movingAverage.period",{defaultMessage:"Period"})},Object(m.jsx)(g.EuiFieldNumber,{step:1,onChange:u("period"),value:n.period}))),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:c("multiplicative"),label:x.i18n.translate("visTypeTimeseries.movingAverage.multiplicative",{defaultMessage:"Multiplicative"})},Object(m.jsx)(g.EuiComboBox,{placeholder:x.i18n.translate("visTypeTimeseries.movingAverage.multiplicative.selectPlaceholder",{defaultMessage:"Select"}),options:p,selectedOptions:h?[h]:[],onChange:l("multiplicative"),singleSelection:{asPlainText:!0}})))))))},derivative:e=>{const{siblings:t,fields:i,indexPattern:s}=e,n={unit:"",...e.model},a=ee(e.onChange,n),r=te(a),o=re(a),l=Object(g.htmlIdGenerator)();return Object(m.jsx)(C,{disableDelete:e.disableDelete,model:e.model,onAdd:e.onAdd,onDelete:e.onDelete,siblings:e.siblings,dragHandleProps:e.dragHandleProps},Object(m.jsx)(g.EuiFlexGroup,{gutterSize:"s"},Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormLabel,{htmlFor:l("aggregation")},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.derivative.aggregationLabel",defaultMessage:"Aggregation"})),Object(m.jsx)(g.EuiSpacer,{size:"xs"}),Object(m.jsx)(G,{id:l("aggregation"),panelType:e.panel.type,siblings:e.siblings,value:n.type,onChange:r("type"),fullWidth:!0})),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:l("metric"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.derivative.metricLabel",defaultMessage:"Metric"}),fullWidth:!0},Object(m.jsx)(Z,{onChange:r("field"),metrics:t,metric:n,fields:i[Object(se.c)(s)],value:n.field,exclude:[_.i.TOP_HIT],fullWidth:!0}))),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:l("units"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.derivative.unitsLabel",defaultMessage:"Units (1s, 1m, etc)",description:"1s and 1m are required values and must not be translated."}),fullWidth:!0},Object(m.jsx)(g.EuiFieldText,{onChange:o("unit"),value:n.unit,fullWidth:!0})))))},series_agg:Ce,serial_diff:e=>{const{siblings:t,fields:i,indexPattern:s,model:n}=e,a=ee(e.onChange,n),r=te(a),o=ie(a),l=Object(g.htmlIdGenerator)();return Object(m.jsx)(C,{disableDelete:e.disableDelete,model:e.model,onAdd:e.onAdd,onDelete:e.onDelete,siblings:e.siblings,dragHandleProps:e.dragHandleProps},Object(m.jsx)(g.EuiFlexGroup,{gutterSize:"s"},Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormLabel,{htmlFor:l("aggregation")},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.serialDiff.aggregationLabel",defaultMessage:"Aggregation"})),Object(m.jsx)(g.EuiSpacer,{size:"xs"}),Object(m.jsx)(G,{id:l("aggregation"),panelType:e.panel.type,siblings:e.siblings,value:n.type,onChange:r("type")})),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:l("metric"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.serialDiff.metricLabel",defaultMessage:"Metric"})},Object(m.jsx)(Z,{onChange:r("field"),metrics:t,metric:n,fields:i[Object(se.c)(s)],value:n.field,exclude:[_.i.TOP_HIT]}))),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:l("lag"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.serialDiff.lagLabel",defaultMessage:"Lag",description:"'Lag' refers to the parameter name of the serial diff translation https://www.elastic.co/guide/en/elasticsearch/reference/current/search-aggregations-pipeline-serialdiff-aggregation.html. This should only be translated if there is a reasaonable word explaining what that parameter does."})},Object(m.jsx)("input",{className:"tvbAgg__input",onChange:o("lag"),value:n.lag,type:"text"})))))},filter_ratio:e=>{const{series:t,fields:i,panel:s}=e,n=Object(a.useMemo)((()=>ee(e.onChange,e.model)),[e.model,e.onChange]),r=te(n),o=Object(a.useCallback)((e=>n({numerator:e})),[n]),l=Object(a.useCallback)((e=>n({denominator:e})),[n]),u=t.override_index_pattern?t.series_index_pattern:s.index_pattern,c={...{numerator:Object(Me.c)().query.queryString.getDefaultQuery(),denominator:Object(Me.c)().query.queryString.getDefaultQuery(),metric_agg:"count"},...e.model},d=Object(g.htmlIdGenerator)();return Object(m.jsx)(C,{disableDelete:e.disableDelete,model:e.model,onAdd:e.onAdd,onDelete:e.onDelete,siblings:e.siblings,dragHandleProps:e.dragHandleProps},Object(m.jsx)(g.EuiFlexGroup,{gutterSize:"s"},Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormLabel,{htmlFor:d("aggregation")},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.filterRatio.aggregationLabel",defaultMessage:"Aggregation"})),Object(m.jsx)(g.EuiSpacer,{size:"xs"}),Object(m.jsx)(G,{id:d("aggregation"),panelType:e.panel.type,siblings:e.siblings,value:c.type,onChange:r("type")})),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:d("numerator"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.filterRatio.numeratorLabel",defaultMessage:"Numerator"})},Object(m.jsx)(_e,{query:c.numerator,onChange:o,indexPatterns:[u],"data-test-subj":"filterRatioNumeratorInput"}))),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:d("denominator"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.filterRatio.denominatorLabel",defaultMessage:"Denominator"})},Object(m.jsx)(_e,{query:c.denominator,onChange:l,indexPatterns:[u],"data-test-subj":"filterRatioDenominatorInput"})))),Object(m.jsx)(g.EuiSpacer,{size:"m"}),Object(m.jsx)(g.EuiFlexGroup,{gutterSize:"s"},Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormLabel,{htmlFor:d("metric")},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.filterRatio.metricAggregationLabel",defaultMessage:"Metric Aggregation"})),Object(m.jsx)(g.EuiSpacer,{size:"xs"}),Object(m.jsx)(G,{id:d("metric"),siblings:e.siblings,panelType:Se(i,u,c.field)?"histogram":"filter_ratio",value:c.metric_agg,onChange:r("metric_agg")})),"count"!==c.metric_agg?Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(me,{label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.filterRatio.fieldLabel",defaultMessage:"Field"}),fields:i,type:c.metric_agg,restrict:fe(c.metric_agg),indexPattern:u,value:c.field,onChange:r("field")})):null))},positive_only:e=>{const{siblings:t,fields:i,indexPattern:s}=e,n={unit:"",...e.model},a=Object(g.htmlIdGenerator)(),r=ee(e.onChange,n),o=te(r);return Object(m.jsx)(C,{disableDelete:e.disableDelete,model:e.model,onAdd:e.onAdd,onDelete:e.onDelete,siblings:e.siblings,dragHandleProps:e.dragHandleProps},Object(m.jsx)(g.EuiFlexGroup,{gutterSize:"s"},Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormLabel,{htmlFor:a("aggregation")},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.positiveOnly.aggregationLabel",defaultMessage:"Aggregation"})),Object(m.jsx)(g.EuiSpacer,{size:"xs"}),Object(m.jsx)(G,{id:a("aggregation"),panelType:e.panel.type,siblings:e.siblings,value:n.type,onChange:o("type")})),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:a("metric"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.positiveOnly.metricLabel",defaultMessage:"Metric"})},Object(m.jsx)(Z,{onChange:o("field"),metrics:t,metric:n,fields:i[Object(se.c)(s)],value:n.field,exclude:[_.i.TOP_HIT]})))))},static:e=>{const t=ee(e.onChange,e.model),i=te(t),s=re(t),n={numerator:"*",denominator:"*",metric_agg:"count",value:"",...e.model},a=Object(g.htmlIdGenerator)();return Object(m.jsx)(C,{disableDelete:e.disableDelete,model:e.model,onAdd:e.onAdd,onDelete:e.onDelete,siblings:e.siblings,dragHandleProps:e.dragHandleProps},Object(m.jsx)(g.EuiFlexGroup,{gutterSize:"s"},Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormLabel,{htmlFor:a("aggregation")},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.static.aggregationLabel",defaultMessage:"Aggregation"})),Object(m.jsx)(g.EuiSpacer,{size:"xs"}),Object(m.jsx)(G,{id:a("aggregation"),panelType:e.panel.type,siblings:e.siblings,value:n.type,onChange:i("type")})),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:a("staticValue"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.static.staticValuesLabel",defaultMessage:"Static Value"})},Object(m.jsx)(g.EuiFieldNumber,{onChange:s("value"),value:""===n.value?"":Number(n.value),step:.1})))))},math:function(e){const{siblings:t,model:i,fields:s,indexPattern:n}=e,r=Object(g.htmlIdGenerator)(),o=ee(e.onChange,i),l=te(o),u=re(o);return Object(a.useEffect)((()=>{(e=>Array.isArray(e.variables)&&void 0!==e.script)(i)||o({variables:[pe()],script:""})}),[o,i]),Object(m.jsx)(C,{disableDelete:e.disableDelete,model:e.model,onAdd:e.onAdd,onDelete:e.onDelete,siblings:e.siblings,dragHandleProps:e.dragHandleProps},Object(m.jsx)(g.EuiFlexGroup,{direction:"column",gutterSize:"l"},Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormLabel,{htmlFor:r("aggregation")},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.math.aggregationLabel",defaultMessage:"Aggregation"})),Object(m.jsx)(g.EuiSpacer,{size:"xs"}),Object(m.jsx)(G,{id:r("aggregation"),siblings:e.siblings,value:i.type,panelType:e.panel.type,onChange:l("type")})),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormLabel,{htmlFor:r("variables")},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.math.variablesLabel",defaultMessage:"Variables"})),Object(m.jsx)(g.EuiSpacer,{size:"xs"}),Object(m.jsx)(vars_CalculationVars,{id:r("variables"),metrics:t,fields:s,indexPattern:n,onChange:o,name:"variables",model:i,includeSiblings:!0})),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:"mathExpressionInput",label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.math.expressionLabel",defaultMessage:"Expression"}),fullWidth:!0,helpText:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.math.expressionDescription",defaultMessage:"This field uses basic math expressions (see {link}) - Variables are keys on the {params} object, i.e. {paramsName} To access all the data use {paramsValues} for an array of the values and {paramsTimestamps} for an array of the timestamps. {paramsTimestamp} is available for the current bucket's timestamp, {paramsIndex} is available for the current bucket's index, and {paramsInterval}s available for the interval in milliseconds.",values:{link:Object(m.jsx)(g.EuiLink,{href:"https://github.com/elastic/kibana/blob/main/packages/kbn-tinymath/docs/functions.md",target:"_blank"},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.math.expressionDescription.tinyMathLinkText",defaultMessage:"TinyMath"})),params:Object(m.jsx)(g.EuiCode,null,"params"),paramsName:Object(m.jsx)(g.EuiCode,null,"params.<name>"),paramsValues:Object(m.jsx)(g.EuiCode,null,"params._all.<name>.values"),paramsTimestamps:Object(m.jsx)(g.EuiCode,null,"params._all.<name>.timestamps"),paramsTimestamp:Object(m.jsx)(g.EuiCode,null,"params._timestamp"),paramsIndex:Object(m.jsx)(g.EuiCode,null,"params._index"),paramsInterval:Object(m.jsx)(g.EuiCode,null,"params._interval")}})},Object(m.jsx)(g.EuiTextArea,{"data-test-subj":"mathExpression",onChange:u("script"),fullWidth:!0,value:i.script})))))},top_hit:Re,positive_rate:e=>{const t={unit:"",...e.model},i=ee(e.onChange,t),s=te(i),n=Object(g.htmlIdGenerator)(),a=e.series.override_index_pattern?e.series.series_index_pattern:e.panel.index_pattern,r=De.filter((e=>e.value===t.unit));return Object(m.jsx)(C,{disableDelete:e.disableDelete,model:e.model,onAdd:e.onAdd,onDelete:e.onDelete,siblings:e.siblings,dragHandleProps:e.dragHandleProps},Object(m.jsx)(g.EuiFlexGroup,{gutterSize:"s"},Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormLabel,{htmlFor:n("aggregation")},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.positiveRate.aggregationLabel",defaultMessage:"Aggregation"})),Object(m.jsx)(g.EuiSpacer,{size:"xs"}),Object(m.jsx)(G,{id:n("aggregation"),panelType:e.panel.type,siblings:e.siblings,value:t.type,onChange:s("type"),fullWidth:!0})),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(me,{label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.postiveRate.fieldLabel",defaultMessage:"Field"}),fields:e.fields,type:t.type,restrict:[be.KBN_FIELD_TYPES.NUMBER],indexPattern:a,value:t.field,onChange:s("field"),uiRestrictions:e.uiRestrictions,fullWidth:!0})),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:n("units"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.positiveRate.unitsLabel",defaultMessage:"Scale"}),fullWidth:!0},Object(m.jsx)(g.EuiComboBox,{placeholder:x.i18n.translate("visTypeTimeseries.positiveRate.unitSelectPlaceholder",{defaultMessage:"Select scale..."}),options:De,onChange:s("unit"),singleSelection:{asPlainText:!0},selectedOptions:r})))),Object(m.jsx)(g.EuiSpacer,{size:"s"}),Object(m.jsx)(g.EuiText,{size:"xs",color:"subdued"},Object(m.jsx)("p",null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.positiveRate.helpText",defaultMessage:"This aggregation should only be applied to {link}, it is a shortcut for applying max, derivative and positive only to a field.",values:{link:Object(m.jsx)(g.EuiLink,{href:"https://en.wikipedia.org/wiki/Monotonic_function",target:"_BLANK"},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.positiveRate.helpTextLink",defaultMessage:"monotonically increasing numbers"}))}}))))}},Be=e=>t=>Object(m.jsx)(C,{disableDelete:t.disableDelete,model:t.model,onAdd:t.onAdd,onDelete:t.onDelete,siblings:t.siblings,dragHandleProps:t.dragHandleProps},Object(m.jsx)(g.EuiTitle,{className:"tvbAggRow__unavailable",size:"xxxs","data-test-subj":"invalid_agg"},Object(m.jsx)("span",null,e))),ze=()=>({id:O.a.v1(),type:U.METRIC_TYPES.COUNT}),Ve=(e,t,i)=>{if((null==e?void 0:e.type)===_.i.TOP_HIT){var s;const n=null===(s=t[Object(se.c)(i)])||void 0===s?void 0:s.find((({name:t})=>t===(null==e?void 0:e.field)));return(null==n?void 0:n.type)===be.KBN_FIELD_TYPES.NUMBER}return!0};var $e=i(87);const He=e=>[_.b.NUMBER,_.b.BYTES,_.b.PERCENT,_.b.DEFAULT].includes(e)?e:e&&Object($e.e)(e)?_.b.DURATION:_.b.CUSTOM;function Ge(e){const{model:t,uiRestrictions:i,series:s,name:n,onModelChange:r,fields:o,siblings:l}=e;let u=Ne[t.type];u?P(t.type,i)||(u=Be(Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.agg.aggIsUnsupportedForPanelConfigDescription",defaultMessage:"The {modelType} aggregation is not supported for existing panel configuration.",values:{modelType:Object(m.jsx)(g.EuiCode,null,e.model.type)}}))):u=Be(Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.agg.aggIsNotSupportedDescription",defaultMessage:"The {modelType} aggregation is no longer supported.",values:{modelType:Object(m.jsx)(g.EuiCode,null,e.model.type)}}));const c={cursor:"default",...e.style},d=e.series.override_index_pattern?e.series.series_index_pattern:e.panel.index_pattern,p=e.panel.use_kibana_indexes||""===d,b=Object(a.useMemo)((()=>((e,t)=>i=>{1!==t.length||Object(D.f)(i)?le.call(null,e,i):ce.call(null,e,(()=>{const e=ze();return e.type=i.type,["calculation","series_agg"].includes(i.type)||(e.field=i.id),e}))})({name:n,model:s,onChange:r},l)),[n,r,l,s]);return Object(a.useEffect)((()=>{var e;if((null===(e=l[l.length-1])||void 0===e?void 0:e.id)===t.id){const e=He(s.formatter),i=Ve(t,o,d);![_.b.DEFAULT,_.b.CUSTOM].includes(e)&&!i&&r({formatter:_.b.DEFAULT}),e!==_.b.DEFAULT||p||r({formatter:i?_.b.NUMBER:""})}}),[d,t,r,o,s.formatter,p,l]),Object(m.jsx)("div",{className:e.className,style:c},Object(m.jsx)(u,{fields:e.fields,disableDelete:e.disableDelete,model:e.model,onAdd:e.onAdd,onChange:b,onDelete:e.onDelete,panel:e.panel,series:e.series,siblings:e.siblings,indexPattern:d,uiRestrictions:e.uiRestrictions,dragHandleProps:e.dragHandleProps}))}class aggs_Aggs extends a.PureComponent{render(){const{panel:e,model:t,fields:i,name:s,uiRestrictions:n,onChange:a}=this.props,r=t.metrics;return Object(m.jsx)(g.EuiDroppable,{droppableId:`aggs_dnd:${t.id}`,type:"MICRO",spacing:"s"},r.map(((o,l)=>Object(m.jsx)(g.EuiDraggable,{spacing:"s",key:o.id,index:l,customDragHandle:!0,draggableId:`aggs_dnd:${t.id}:${o.id}`},(l=>Object(m.jsx)(Ge,{key:o.id,disableDelete:r.length<2,fields:i,name:s,model:o,onAdd:()=>ce(this.props,ze),onModelChange:a,onDelete:()=>ue(this.props,o),panel:e,series:t,siblings:r,uiRestrictions:n,dragHandleProps:l.dragHandleProps}))))))}}const qe="2",Ue="0,0.[000]",We=x.i18n.translate("visTypeTimeseries.dataFormatPicker.defaultLabel",{defaultMessage:"Default"}),Ke=Object(g.htmlIdGenerator)(),Ye=({formatterValue:e,changeModelFormatter:t,shouldIncludeDefaultOption:i,shouldIncludeNumberOptions:s})=>{const n=Object(a.useMemo)((()=>((e,t)=>{const i=[];return e&&i.push({value:_.b.DEFAULT,inputDisplay:We,dropdownDisplay:Object(m.jsx)(r.a.Fragment,null,Object(m.jsx)("span",null,We),Object(m.jsx)(g.EuiText,{size:"s",color:"subdued"},Object(m.jsx)("p",{className:"euiTextColor--subdued"},x.i18n.translate("visTypeTimeseries.dataFormatPicker.defaultLabelDescription",{defaultMessage:"Applies common formatting"})))),"data-test-subj":`tsvbDataFormatPicker-${_.b.DEFAULT}`}),t&&i.push({value:_.b.NUMBER,inputDisplay:x.i18n.translate("visTypeTimeseries.dataFormatPicker.numberLabel",{defaultMessage:"Number"}),"data-test-subj":`tsvbDataFormatPicker-${_.b.NUMBER}`},{value:_.b.BYTES,inputDisplay:x.i18n.translate("visTypeTimeseries.dataFormatPicker.bytesLabel",{defaultMessage:"Bytes"}),"data-test-subj":`tsvbDataFormatPicker-${_.b.BYTES}`},{value:_.b.PERCENT,inputDisplay:x.i18n.translate("visTypeTimeseries.dataFormatPicker.percentLabel",{defaultMessage:"Percent"}),"data-test-subj":`tsvbDataFormatPicker-${_.b.PERCENT}`},{value:_.b.DURATION,inputDisplay:x.i18n.translate("visTypeTimeseries.dataFormatPicker.durationLabel",{defaultMessage:"Duration"}),"data-test-subj":`tsvbDataFormatPicker-${_.b.DURATION}`}),[...i,{value:_.b.CUSTOM,inputDisplay:x.i18n.translate("visTypeTimeseries.dataFormatPicker.customLabel",{defaultMessage:"Custom"}),"data-test-subj":`tsvbDataFormatPicker-${_.b.CUSTOM}`}]})(i,s)),[i,s]),[o,l]=Object(a.useState)(He(e)),[u,c]=Object(a.useState)(o===_.b.CUSTOM?e:""),[d,p]=Object(a.useState)(Object($e.c)(o===_.b.DURATION?e:"ms,ms,"));Object(a.useEffect)((()=>{if(!n.find((({value:e})=>e===o))){const[{value:e}]=n;l(e),t(e)}}),[n,o,t]);const b=Object(a.useCallback)((e=>{if(l(e),e===_.b.DURATION){const{from:e,to:i,decimals:s}=d;t(`${e},${i},${s}`)}else e===_.b.CUSTOM?t(u):t(e)}),[t,u,d]),f=Object(a.useCallback)((e=>{const i=e.target.value;t(i),c(i)}),[t]),v=Object(a.useCallback)(((e,i)=>{const s={...d,[e]:i};p(s);const{from:n,to:a,decimals:r}=s;t(`${n},${a},${r}`)}),[t,d]),j=Object(a.useCallback)((e=>([{value:t}])=>v(e,t)),[v]),y=Object(a.useCallback)((e=>v("decimals",e.target.value)),[v]);let O,T;if(o===_.b.DURATION){const{from:e,to:t,decimals:i=qe}=d,s=$e.a.find((({value:t})=>t===e)),n=$e.b.find((({value:e})=>e===t));O=Object(m.jsx)(r.a.Fragment,null,Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{id:Ke("from"),label:x.i18n.translate("visTypeTimeseries.dataFormatPicker.fromLabel",{defaultMessage:"From"})},Object(m.jsx)(g.EuiComboBox,{isClearable:!1,options:$e.a,selectedOptions:s?[s]:[],onChange:j("from"),singleSelection:{asPlainText:!0},"data-test-subj":"dataFormatPickerDurationFrom"}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{id:Ke("to"),label:x.i18n.translate("visTypeTimeseries.dataFormatPicker.toLabel",{defaultMessage:"To"})},Object(m.jsx)(g.EuiComboBox,{isClearable:!1,options:$e.b,selectedOptions:n?[n]:[],onChange:j("to"),singleSelection:{asPlainText:!0},"data-test-subj":"dataFormatPickerDurationTo"}))),"humanize"!==(null==n?void 0:n.value)&&Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{id:Ke("decimal"),label:x.i18n.translate("visTypeTimeseries.dataFormatPicker.decimalPlacesLabel",{defaultMessage:"Decimal places"})},Object(m.jsx)(g.EuiFieldText,{defaultValue:i,placeholder:qe,onChange:y,"data-test-subj":"dataFormatPickerDurationDecimal"}))))}return o===_.b.CUSTOM&&s&&(T=Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.dataFormatPicker.formatPatternLabel",defaultMessage:"Numeral.js format pattern (Default: {defaultPattern})",values:{defaultPattern:Object(m.jsx)(g.EuiCode,null,Ue)}}),helpText:Object(m.jsx)("span",null,Object(m.jsx)(g.EuiLink,{target:"_blank",href:"http://numeraljs.com/#format"},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.dataFormatPicker.formatPatternHelpText",defaultMessage:"Documentation"})))},Object(m.jsx)(g.EuiFieldText,{placeholder:Ue,value:u,onChange:f})))),Object(m.jsx)(r.a.Fragment,null,Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{label:x.i18n.translate("visTypeTimeseries.defaultDataFormatterLabel",{defaultMessage:"Data formatter"}),fullWidth:!0},Object(m.jsx)(g.EuiSuperSelect,{options:n,valueOfSelected:o,onChange:b,"data-test-subj":"tsvbDataFormatPicker",fullWidth:!0,hasDividers:!0}))),o===_.b.DURATION&&O,o===_.b.CUSTOM&&T)};function Qe({name:e,value:t,disabled:i,"data-test-subj":s,onChange:n}){const r=Object(a.useCallback)((t=>()=>n({[e]:t})),[n,e]),o=Object(g.htmlIdGenerator)(),l=o(e);return Object(m.jsx)("div",null,Object(m.jsx)(g.EuiRadio,{id:o("yes"),"data-test-subj":`${s}-yes`,label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.yesButtonLabel",defaultMessage:"Yes",description:"The 'yes' in a yes/no answer choice."}),className:"eui-displayInlineBlock",name:l,checked:Boolean(t),value:"yes",onChange:r(1),disabled:i})," ",Object(m.jsx)(g.EuiRadio,{id:o("no"),"data-test-subj":`${s}-no`,label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.noButtonLabel",defaultMessage:"No",description:"The 'no' in a yes/no answer choice."}),className:"eui-displayInlineBlock",name:l,checked:!Boolean(t),value:"no",onChange:r(0),disabled:i}))}var Xe=i(140),Je=i.n(Xe);const Ze=({onModeChange:e,useKibanaIndices:t})=>{const[i,s]=Object(a.useState)(!1),n=Object(a.useCallback)((()=>s(!1)),[]),r=Object(a.useCallback)((()=>s((e=>!e))),[]),o=Object(a.useCallback)((()=>{e(!t)}),[e,t]);return Object(m.jsx)(g.EuiPopover,{button:Object(m.jsx)(g.EuiButtonIcon,{iconType:"gear","aria-label":x.i18n.translate("visTypeTimeseries.indexPatternSelect.switchModePopover.areaLabel",{defaultMessage:"Configure index pattern selection mode"}),onClick:r,"data-test-subj":"switchIndexPatternSelectionModePopover"}),isOpen:i,closePopover:n,style:{height:"auto"}},Object(m.jsx)("div",{style:{width:"360px"}},Object(m.jsx)(g.EuiPopoverTitle,null,x.i18n.translate("visTypeTimeseries.indexPatternSelect.switchModePopover.title",{defaultMessage:"Index pattern selection mode"})),Object(m.jsx)(g.EuiText,null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.indexPatternSelect.switchModePopover.text",defaultMessage:"An index pattern identifies one or more Elasticsearch indices that you want to explore. You can use Elasticsearch indices or Kibana index patterns (recommended)."})),Object(m.jsx)(g.EuiSpacer,null),Object(m.jsx)(g.EuiSwitch,{checked:t,label:x.i18n.translate("visTypeTimeseries.indexPatternSelect.switchModePopover.useKibanaIndices",{defaultMessage:"Use only Kibana index patterns"}),onChange:o,"data-test-subj":"switchIndexPatternSelectionMode"})))},et=({fetchedIndex:e,onIndexChange:t,disabled:i,placeholder:s,onModeChange:n,allowSwitchMode:r,"data-test-subj":o})=>{const[l,u]=Object(a.useState)(),{indexPatternString:c}=e,d=Object(a.useCallback)((e=>{u(e.target.value)}),[]);return Object(a.useEffect)((()=>{void 0===l&&u(null!=c?c:"")}),[c,l]),Je()((()=>{(null!=l?l:"")!==(null!=c?c:"")&&t(l)}),150,[l,t]),Object(m.jsx)(g.EuiFieldText,F()({disabled:i,onChange:d,value:null!=l?l:"",placeholder:s,"data-test-subj":o},r&&{append:Object(m.jsx)(Ze,{onModeChange:n,fetchedIndex:e,useKibanaIndices:!1})}))},tt=({fetchedIndex:e,onIndexChange:t,onModeChange:i,disabled:s,placeholder:n,allowSwitchMode:r,"data-test-subj":o})=>{const[l,u]=Object(a.useState)([]),[c,d]=Object(a.useState)([]),p=Object(a.useCallback)((([e])=>{t(e?{id:e.id}:"")}),[t]);return Object(a.useEffect)((()=>{let t=[];const{indexPattern:i,indexPatternString:s}=e;(i||s)&&(t=i?[{id:i.id,label:i.title}]:[{label:null!=s?s:""}]),d(t)}),[e]),Object(a.useEffect)((()=>{!async function(){u(await Object(Me.c)().indexPatterns.getIdsWithTitle())}()}),[]),Object(m.jsx)(g.EuiComboBox,F()({singleSelection:{asPlainText:!0},onChange:p,options:(h=l,h.map((({title:e,id:t})=>({label:e,id:t})))),selectedOptions:c,isDisabled:s,placeholder:n,"data-test-subj":o},r&&{append:Object(m.jsx)(Ze,{onModeChange:i,fetchedIndex:e,useKibanaIndices:!0})}));var h},it=x.i18n.translate("visTypeTimeseries.indexPatternSelect.defaultIndexPatternText",{defaultMessage:"Default index pattern is used."}),st=x.i18n.translate("visTypeTimeseries.indexPatternSelect.queryAllIndexesText",{defaultMessage:"To query all indexes use *"}),nt=x.i18n.translate("visTypeTimeseries.indexPatternSelect.label",{defaultMessage:"Index pattern"}),at=({indexPatternName:e,onChange:t,disabled:i,fetchedIndex:s,allowIndexSwitchingMode:n})=>{var r,o;const l=Object(g.htmlIdGenerator)(),u=Object(a.useContext)(j),c=Boolean(null==u?void 0:u[je.e]),d=c?tt:et,p=Object(a.useCallback)((i=>{t({[e]:i})}),[e,t]),b=Object(a.useCallback)(((i,s)=>{var n;t({[je.e]:i,[e]:null!=s&&null!==(n=s.indexPattern)&&void 0!==n&&n.id?{id:s.indexPattern.id}:""})}),[t,e]),f=Object(a.useCallback)((()=>{var e;Object(Me.b)().application.navigateToApp("management",{path:`/kibana/indexPatterns/create?name=${null!==(e=s.indexPatternString)&&void 0!==e?e:""}`})}),[s]);return s?Object(m.jsx)(g.EuiFormRow,{id:l("indexPattern"),label:nt,helpText:s.defaultIndex&&it+(c?"":st),labelAppend:c||!s.indexPatternString||s.indexPattern?null:Object(m.jsx)(g.EuiLink,{onClick:f},Object(m.jsx)(g.EuiText,{size:"xs"},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.indexPatternSelect.createIndexPatternText",defaultMessage:"Create index pattern"})))},Object(m.jsx)(d,{fetchedIndex:s,disabled:i,allowSwitchMode:n,onIndexChange:p,onModeChange:b,placeholder:null!==(r=null===(o=s.defaultIndex)||void 0===o?void 0:o.title)&&void 0!==r?r:"","data-test-subj":"metricsIndexPatternInput"})):null};i(142);const rt=({isIndicatorDisplayed:e,toggleIndicatorDisplay:t})=>{const[i,s]=Object(a.useState)(!1),n=Object(a.useCallback)((()=>s((e=>!e))),[]),r=Object(a.useCallback)((()=>s(!1)),[]);return Object(m.jsx)(g.EuiPopover,{className:"tvbLastValueModePopover",button:Object(m.jsx)(g.EuiButtonIcon,{iconType:"gear",onClick:n,"aria-label":x.i18n.translate("visTypeTimeseries.lastValueModePopover.gearButton",{defaultMessage:"Change last value indicator display option"})}),isOpen:i,closePopover:r},Object(m.jsx)("div",{className:"tvbLastValueModePopoverBody"},Object(m.jsx)(g.EuiPopoverTitle,null,x.i18n.translate("visTypeTimeseries.lastValueModePopover.title",{defaultMessage:"Last value options"})),Object(m.jsx)(g.EuiSwitch,{checked:e,label:x.i18n.translate("visTypeTimeseries.lastValueModePopover.switch",{defaultMessage:"Show label when using Last value mode"}),onChange:t})))};var ot=i(67);const lt=[be.KBN_FIELD_TYPES.DATE],ut=Object(g.htmlIdGenerator)(),ct=(e,t)=>!t&&e[_.g]===_.f.ENTIRE_TIME_RANGE,dt=({fields:e,prefix:t,onChange:i,disabled:s,model:n,allowLevelOfDetail:o,allowIndexSwitchingMode:l})=>{var c,d,p;const b=Object(Me.f)(),y=`${t}time_field`,O=`${t}index_pattern`,T=`${t}interval`,E=`${t}max_bars`,w=`${t}drop_last_bucket`,C=Object(a.useContext)(f),M=Object(a.useContext)(j),S=Object(u.get)(Object(a.useContext)(v),"uiRestrictions"),I=b.get(U.UI_SETTINGS.HISTOGRAM_MAX_BARS),[k,L]=Object(a.useState)(null),P=M.type===_.e.TIMESERIES,A=Object(a.useCallback)((({target:e})=>{i({[E]:Math.max(1,e.value)})}),[i,E]),D=te(i),N=re(i),B=[{label:x.i18n.translate("visTypeTimeseries.indexPattern.timeRange.entireTimeRange",{defaultMessage:"Entire time range"}),value:_.f.ENTIRE_TIME_RANGE,disabled:!R(_.f.ENTIRE_TIME_RANGE,S)},{label:x.i18n.translate("visTypeTimeseries.indexPattern.timeRange.lastValue",{defaultMessage:"Last value"}),value:_.f.LAST_VALUE,disabled:!R(_.f.LAST_VALUE,S)}],z={...{[O]:"",[T]:je.b,[w]:0,[E]:b.get(U.UI_SETTINGS.HISTOGRAM_BAR_TARGET),[_.g]:B[0].value},...n},V=z[O],$=(H=z[T],Object(ot.d)(H)||Object(ot.c)(H)?{isValid:!0}:Object(ot.e)(H));var H;const G=B.find((({value:e})=>z[_.g]===e)),q=!s&&G&&!R(G.value,S);Object(a.useEffect)((()=>{C(T,$.isValid)}),[T,$.isValid,C]),Object(a.useEffect)((()=>{!async function(){const{indexPatterns:e}=Object(Me.c)();let t={indexPattern:void 0,indexPatternString:void 0};try{t=V?await Object(se.b)(V,e,{fetchKibanaIndexForStringIndexes:!0}):{...t,defaultIndex:await e.getDefault()}}catch{}L(t)}()}),[V]);const W=Object(a.useCallback)((()=>i({hide_last_value_indicator:!z.hide_last_value_indicator})),[z.hide_last_value_indicator,i]);return Object(m.jsx)("div",{className:"index-pattern"},!P&&Object(m.jsx)(g.EuiFlexGroup,null,Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:ut("timeRange"),label:Object(m.jsx)(r.a.Fragment,null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.indexPattern.timeRange.label",defaultMessage:"Data timerange mode"})," ",Object(m.jsx)(g.EuiIconTip,{position:"right",content:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.indexPattern.timeRange.hint",defaultMessage:'This setting controls the timespan used for matching documents. "Entire timerange" will match all the documents selected in the timepicker. "Last value" will match only the documents for the specified interval from the end of the timerange.'}),type:"questionInCircle"})),isInvalid:q,error:x.i18n.translate("visTypeTimeseries.indexPattern.timeRange.error",{defaultMessage:'You cannot use "{mode}" with the current index type.',values:{mode:null==G?void 0:G.label}})},Object(m.jsx)(g.EuiComboBox,F()({"data-test-subj":"dataTimeRangeMode",isClearable:!1,isInvalid:q,placeholder:x.i18n.translate("visTypeTimeseries.indexPattern.timeRange.selectTimeRange",{defaultMessage:"Select"}),options:B,error:x.i18n.translate("visTypeTimeseries.indexPattern.timeRange.entireTimeRange",{defaultMessage:"Entire time range"}),selectedOptions:G?[G]:[],onChange:D(_.g),singleSelection:{asPlainText:!0},isDisabled:s},!ct(z,P)&&{append:Object(m.jsx)(rt,{isIndicatorDisplayed:!z.hide_last_value_indicator,toggleIndicatorDisplay:W})}))))),Object(m.jsx)(g.EuiFlexGroup,null,Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(at,{fetchedIndex:k,indexPatternName:O,onChange:i,disabled:s,allowIndexSwitchingMode:l})),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(me,{label:x.i18n.translate("visTypeTimeseries.indexPattern.timeFieldLabel",{defaultMessage:"Time field"}),restrict:lt,value:z[y],disabled:s,onChange:D(y),indexPattern:z[O],fields:e,placeholder:null!==(c=null==k||null===(d=k.indexPattern)||void 0===d?void 0:d.timeFieldName)&&void 0!==c?c:null==k||null===(p=k.defaultIndex)||void 0===p?void 0:p.timeFieldName})),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{isInvalid:!$.isValid,error:$.errorMessage,id:ut("interval"),label:x.i18n.translate("visTypeTimeseries.indexPattern.intervalLabel",{defaultMessage:"Interval"}),helpText:x.i18n.translate("visTypeTimeseries.indexPattern.intervalHelpText",{defaultMessage:"Examples: auto, 1m, 1d, 7d, 1y, >=1m",description:"auto, 1m, 1d, 7d, 1y, >=1m are required values and must not be translated."})},Object(m.jsx)(g.EuiFieldText,{"data-test-subj":"metricsIndexPatternInterval",isInvalid:!$.isValid,disabled:s||ct(z,P),onChange:N(T,je.b),value:z[T],placeholder:je.b}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{id:ut("dropLastBucket"),label:x.i18n.translate("visTypeTimeseries.indexPattern.dropLastBucketLabel",{defaultMessage:"Drop last bucket?"})},Object(m.jsx)(Qe,{"data-test-subj":"metricsDropLastBucket",value:z[w],name:w,onChange:i,disabled:s||ct(z,P)})))),o&&Object(m.jsx)(g.EuiFlexGroup,null,Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:ut("detailLevel"),label:Object(m.jsx)(r.a.Fragment,null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.indexPattern.detailLevel",defaultMessage:"Level of detail"})," ",Object(m.jsx)(g.EuiIconTip,{position:"right",content:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.indexPattern.detailLevelHelpText",defaultMessage:"Controls the auto and gte intervals based on the time range. The default interval is affected by the advanced settings {histogramTargetBars} and {histogramMaxBars}.",values:{histogramTargetBars:U.UI_SETTINGS.HISTOGRAM_MAX_BARS,histogramMaxBars:U.UI_SETTINGS.HISTOGRAM_BAR_TARGET}}),type:"questionInCircle"}))},Object(m.jsx)(g.EuiFlexGroup,{responsive:!1,alignItems:"center"},Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormLabel,null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.indexPattern.сoarse",defaultMessage:"Coarse"}))),Object(m.jsx)(g.EuiFlexItem,{grow:!0},Object(m.jsx)(g.EuiRange,{id:Object(g.htmlIdGenerator)()(),value:z[E],onChange:A,disabled:s||ct(z,P)||!(Object(ot.c)(z[T])||Object(ot.d)(z[T])),min:0,max:I,step:I/10,"aria-label":x.i18n.translate("visTypeTimeseries.indexPattern.detailLevelAriaLabel",{defaultMessage:"Level of detail"})})),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormLabel,null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.indexPattern.finest",defaultMessage:"Finest"}))))))))};function pt(){return Object(Me.f)().get(be.UI_SETTINGS.SEARCH_QUERY_LANGUAGE)}function gt({panel:e,model:t,onChange:i,indexPatternForQuery:s}){const n=Object(g.htmlIdGenerator)(),a=Object(m.jsx)(Qe,{disabled:e.ignore_global_filter,value:t.ignore_global_filter,name:"ignore_global_filter",onChange:i});return Object(m.jsx)(g.EuiFlexGroup,{margin:"s"},Object(m.jsx)(g.EuiFlexItem,{grow:!0},Object(m.jsx)(g.EuiFormRow,{id:n("filterInput"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.seriesConfig.filterLabel",defaultMessage:"Filter"}),fullWidth:!0},Object(m.jsx)(_e,{query:{language:t.filter&&t.filter.language?t.filter.language:pt(),query:t.filter&&t.filter.query?t.filter.query:""},onChange:e=>i({filter:e}),indexPatterns:[s],"data-test-subj":"seriesConfigQueryBar"}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{id:n("seriesIgnoreGlobalFilter"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.seriesConfig.ignoreGlobalFilterLabel",defaultMessage:"Ignore global filter?"}),fullWidth:!0},e.ignore_global_filter?Object(m.jsx)(g.EuiToolTip,{content:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.seriesConfig.ignoreGlobalFilterDisabledTooltip",defaultMessage:"This is disabled because the global filters are being ignored in the panel options."})},a):a)))}dt.defaultProps={prefix:"",disabled:!1};var ht=i(54),mt=i(55);function bt({activePalette:e,palettes:t,setPalette:i,color:s}){const n=Object(mt.a)(s);return Object(m.jsx)(g.EuiColorPalettePicker,{fullWidth:!0,"data-test-subj":"visEditorPalettePicker",compressed:!0,palettes:[...t.getAll().filter((({internal:e})=>!e)).map((({id:e,title:t,getCategoricalColors:i})=>({value:e,title:t,type:"fixed",palette:i(10)}))),{value:_.d.GRADIENT,title:x.i18n.translate("visTypeTimeseries.timeSeries.gradientLabel",{defaultMessage:"Gradient"}),type:"fixed",palette:t.get("custom").getCategoricalColors(10,{colors:[s,n],gradient:!0})},{value:_.d.RAINBOW,title:x.i18n.translate("visTypeTimeseries.timeSeries.rainbowLabel",{defaultMessage:"Rainbow"}),type:"fixed",palette:t.get("custom").getCategoricalColors(10,{colors:ht.a.slice(0,10),gradient:!1})}],onChange:e=>{e===_.d.RAINBOW?i({type:"palette",name:_.d.RAINBOW,params:{colors:ht.a,gradient:!1}}):e===_.d.GRADIENT?i({type:"palette",name:_.d.GRADIENT,params:{colors:[s,n],gradient:!0}}):i({type:"palette",name:e})},valueOfSelected:(null==e?void 0:e.name)||"default",selectionDisplay:"palette"})}const ft=e=>e<2;var vt=i(57);const jt=Object(h.injectI18n)((function(e){var t;const i=te(e.onChange),s=re(e.onChange),n={...{value_template:"{{value}}",offset_time:"",axis_min:"",axis_max:"",stacked:vt.c.NONE,steps:0},...e.model},r=Object(g.htmlIdGenerator)(),{intl:o}=e,l=[{label:o.formatMessage({id:"visTypeTimeseries.timeSeries.noneLabel",defaultMessage:"None"}),value:vt.c.NONE},{label:o.formatMessage({id:"visTypeTimeseries.timeSeries.stackedLabel",defaultMessage:"Stacked"}),value:vt.c.STACKED},{label:o.formatMessage({id:"visTypeTimeseries.timeSeries.stackedWithinSeriesLabel",defaultMessage:"Stacked within series"}),value:vt.c.STACKED_WITHIN_SERIES},{label:o.formatMessage({id:"visTypeTimeseries.timeSeries.percentLabel",defaultMessage:"Percent"}),value:vt.c.PERCENT,disabled:ft(e.seriesQuantity[n.id])}],c=l.find((e=>n.stacked===e.value)),d=[{label:o.formatMessage({id:"visTypeTimeseries.timeSeries.rightLabel",defaultMessage:"Right"}),value:"right"},{label:o.formatMessage({id:"visTypeTimeseries.timeSeries.leftLabel",defaultMessage:"Left"}),value:"left"}],p=d.find((e=>n.axis_position===e.value)),b=[{label:o.formatMessage({id:"visTypeTimeseries.timeSeries.barLabel",defaultMessage:"Bar"}),value:"bar"},{label:o.formatMessage({id:"visTypeTimeseries.timeSeries.lineLabel",defaultMessage:"Line"}),value:"line"}],f=b.find((e=>n.chart_type===e.value)),{palettes:v}=Object(Me.a)(),[j,y]=Object(a.useState)(null);Object(a.useEffect)((()=>{(async()=>{const e=await v.getPalettes();y(e)})()}),[v]);let O;"line"===n.chart_type&&(O=Object(m.jsx)(g.EuiFlexGroup,{gutterSize:"s",responsive:!1,wrap:!0},Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{id:r("chartType"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.timeSeries.chartLine.chartTypeLabel",defaultMessage:"Chart type"})},Object(m.jsx)(g.EuiComboBox,{isClearable:!1,options:b,selectedOptions:f?[f]:[],onChange:i("chart_type"),singleSelection:{asPlainText:!0},"data-test-subj":"seriesChartTypeComboBox"}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{id:r("stacked"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.timeSeries.chartLine.stackedLabel",defaultMessage:"Stacked"})},Object(m.jsx)(g.EuiComboBox,{isClearable:!1,options:l,selectedOptions:c?[c]:[],onChange:i("stacked"),singleSelection:{asPlainText:!0}}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{id:r("fill"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.timeSeries.chartLine.fillLabel",defaultMessage:"Fill (0 to 1)"})},Object(m.jsx)(g.EuiFieldNumber,{step:.1,onChange:s("fill"),value:Number(n.fill)}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{id:r("lineWidth"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.timeSeries.chartLine.lineWidthLabel",defaultMessage:"Line width"})},Object(m.jsx)(g.EuiFieldNumber,{onChange:s("line_width"),value:Number(n.line_width)}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{id:r("pointSize"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.timeSeries.chartLine.pointSizeLabel",defaultMessage:"Point size"})},Object(m.jsx)(g.EuiFieldNumber,{onChange:s("point_size"),value:Number(n.point_size)}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{label:x.i18n.translate("visTypeTimeseries.timeSeries.chartLine.stepsLabel",{defaultMessage:"Steps"})},Object(m.jsx)(Qe,{value:n.steps,name:"steps",onChange:e.onChange}))))),"bar"===n.chart_type&&(O=Object(m.jsx)(g.EuiFlexGroup,{gutterSize:"s",responsive:!1,wrap:!0},Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{id:r("chartType"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.timeSeries.chartBar.chartTypeLabel",defaultMessage:"Chart type"})},Object(m.jsx)(g.EuiComboBox,{isClearable:!1,options:b,selectedOptions:f?[f]:[],onChange:i("chart_type"),singleSelection:{asPlainText:!0},"data-test-subj":"seriesChartTypeComboBox"}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{id:r("stacked"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.timeSeries.chartBar.stackedLabel",defaultMessage:"Stacked"})},Object(m.jsx)(g.EuiComboBox,{isClearable:!1,options:l,selectedOptions:c?[c]:[],onChange:i("stacked"),singleSelection:{asPlainText:!0}}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{id:r("fill"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.timeSeries.chartBar.fillLabel",defaultMessage:"Fill (0 to 1)"})},Object(m.jsx)(g.EuiFieldNumber,{step:.1,onChange:s("fill"),value:Number(n.fill)}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{id:r("lineWidth"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.timeSeries.chartBar.lineWidthLabel",defaultMessage:"Line width"})},Object(m.jsx)(g.EuiFieldNumber,{onChange:s("line_width"),value:Number(n.line_width)})))));const T=!n.separate_axis,E=e.model.override_index_pattern?e.model.series_index_pattern:e.indexPatternForQuery,w=Object(a.useCallback)((t=>e.onChange({formatter:t})),[e]),C=Object(a.useMemo)((()=>Ve(Object(u.last)(n.metrics),e.fields,E)),[n.metrics,e.fields,E]),M=e.panel.use_kibana_indexes||""===E,S=null!==(t=n.palette)&&void 0!==t?t:{type:"palette",name:"default"},I={...S,name:"kibana"===n.split_color_mode?"kibana_palette":n.split_color_mode||S.name};return Object(m.jsx)("div",{className:"tvbAggRow"},Object(m.jsx)(g.EuiFlexGroup,{gutterSize:"s"},Object(m.jsx)(Ye,{formatterValue:n.formatter,changeModelFormatter:w,shouldIncludeDefaultOption:M,shouldIncludeNumberOptions:C}),Object(m.jsx)(g.EuiFlexItem,{grow:3},Object(m.jsx)(g.EuiFormRow,{id:r("template"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.timeSeries.templateLabel",defaultMessage:"Template"}),helpText:Object(m.jsx)("span",null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.timeSeries.templateHelpText",defaultMessage:"eg.{templateExample}",values:{templateExample:Object(m.jsx)(g.EuiCode,null,"{{value}}/s")}})),fullWidth:!0},Object(m.jsx)(g.EuiFieldText,{onChange:s("value_template"),value:n.value_template,disabled:n.formatter===_.b.DEFAULT,fullWidth:!0,"data-test-subj":"tsvb_series_value"})))),Object(m.jsx)(g.EuiHorizontalRule,{margin:"s"}),Object(m.jsx)(gt,{model:n,onChange:e.onChange,panel:e.panel,indexPatternForQuery:E}),Object(m.jsx)(g.EuiHorizontalRule,{margin:"s"}),O,Object(m.jsx)(g.EuiHorizontalRule,{margin:"s"}),Object(m.jsx)(g.EuiFlexGroup,{responsive:!1,wrap:!0},Object(m.jsx)(g.EuiFlexItem,{grow:!0},Object(m.jsx)(g.EuiFormRow,{id:r("offset"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.timeSeries.offsetSeriesTimeLabel",defaultMessage:"Offset series time by (1m, 1h, 1w, 1d)",description:"1m, 1h, 1w, 1d are required values and must not be translated."})},Object(m.jsx)(g.EuiFieldText,{"data-test-subj":"offsetTimeSeries",onChange:s("offset_time"),value:n.offset_time}))),Object(m.jsx)(g.EuiFlexItem,{grow:!0},Object(m.jsx)(g.EuiFormRow,{label:x.i18n.translate("visTypeTimeseries.timeSeries.hideInLegendLabel",{defaultMessage:"Hide in legend"})},Object(m.jsx)(Qe,{value:n.hide_in_legend,name:"hide_in_legend",onChange:e.onChange}))),j&&Object(m.jsx)(g.EuiFlexItem,{grow:!0},Object(m.jsx)(g.EuiFormRow,{id:r("splitColor"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.timeSeries.splitColorThemeLabel",defaultMessage:"Split color theme"})},Object(m.jsx)(bt,{palettes:j,activePalette:I,setPalette:t=>{e.onChange({split_color_mode:null,palette:t})},color:n.color})))),Object(m.jsx)(g.EuiHorizontalRule,{margin:"s"}),Object(m.jsx)(g.EuiFlexGroup,{responsive:!1,wrap:!0},Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{label:x.i18n.translate("visTypeTimeseries.timeSeries.separateAxisLabel",{defaultMessage:"Separate axis?"})},Object(m.jsx)(Qe,{value:n.separate_axis,name:"separate_axis",onChange:e.onChange}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{id:r("axisMin"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.timeSeries.axisMinLabel",defaultMessage:"Axis min"})},Object(m.jsx)("input",{className:"tvbAgg__input",type:"number",disabled:T,onChange:s("axis_min"),value:n.axis_min}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{id:r("axisMax"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.timeSeries.axisMaxLabel",defaultMessage:"Axis max"})},Object(m.jsx)("input",{className:"tvbAgg__input",disabled:T,onChange:s("axis_max"),value:n.axis_max}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{id:r("axisPos"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.timeSeries.axisPositionLabel",defaultMessage:"Axis position"})},Object(m.jsx)(g.EuiComboBox,{isClearable:!1,isDisabled:T,options:d,selectedOptions:p?[p]:[],onChange:i("axis_position"),singleSelection:{asPlainText:!0}})))),Object(m.jsx)(g.EuiHorizontalRule,{margin:"s"}),Object(m.jsx)(g.EuiFlexGroup,{gutterSize:"s",responsive:!1,wrap:!0},Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{label:x.i18n.translate("visTypeTimeseries.timeSeries.overrideIndexPatternLabel",{defaultMessage:"Override Index Pattern?"})},Object(m.jsx)(Qe,{value:n.override_index_pattern,name:"override_index_pattern",onChange:e.onChange,"data-test-subj":"seriesOverrideIndexPattern"}))),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(dt,F()({},e,{prefix:"series_",disabled:!n.override_index_pattern,allowLevelOfDetail:!0})))))}));const xt=Object(h.injectI18n)((function(e){const{intl:t,uiRestrictions:i}=e,s=[{label:t.formatMessage({id:"visTypeTimeseries.splits.groupBySelect.modeOptions.everythingLabel",defaultMessage:"Everything"}),value:"everything"},{label:t.formatMessage({id:"visTypeTimeseries.splits.groupBySelect.modeOptions.filterLabel",defaultMessage:"Filter"}),value:"filter"},{label:t.formatMessage({id:"visTypeTimeseries.splits.groupBySelect.modeOptions.filtersLabel",defaultMessage:"Filters"}),value:"filters"},{label:t.formatMessage({id:"visTypeTimeseries.splits.groupBySelect.modeOptions.termsLabel",defaultMessage:"Terms"}),value:"terms"}].map((e=>({...e,disabled:!A(e.value,i)}))),n=e.value||"everything",a=s.find((e=>n===e.value));return Object(m.jsx)(g.EuiComboBox,{id:e.id,isClearable:!1,options:s,selectedOptions:[a],onChange:e.onChange,singleSelection:{asPlainText:!0},"data-test-subj":"groupBySelect"})}));var yt=i(45);const Ot={terms_direction:"desc",terms_size:10,terms_order_by:"_count"},Tt=Object(h.injectI18n)((({onChange:e,indexPattern:t,intl:i,model:s,fields:n,uiRestrictions:a,seriesQuantity:r})=>{const o=Object(g.htmlIdGenerator)(),l=re(e),c=te(e),d={...Ot,...s},{metrics:p}=d,b={value:"_count",label:i.formatMessage({id:"visTypeTimeseries.splits.terms.defaultCountLabel",defaultMessage:"Doc Count (default)"})},f={value:"_key",label:i.formatMessage({id:"visTypeTimeseries.splits.terms.termsLabel",defaultMessage:"Terms"})},v=[{value:"desc",label:i.formatMessage({id:"visTypeTimeseries.splits.terms.dirOptions.descendingLabel",defaultMessage:"Descending"})},{value:"asc",label:i.formatMessage({id:"visTypeTimeseries.splits.terms.dirOptions.ascendingLabel",defaultMessage:"Ascending"})}],j=Object(se.c)(t),x=v.find((e=>d.terms_direction===e.value)),y=Object(u.find)(n[j],(({name:e})=>e===d.terms_field)),O=Object(u.get)(y,"type");return r&&d.stacked===yt.c.PERCENT&&ft(r[d.id])&&e({stacked:yt.c.NONE}),Object(m.jsx)("div",null,Object(m.jsx)(g.EuiFlexGroup,null,Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:o("group"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.splits.terms.groupByLabel",defaultMessage:"Group by"})},Object(m.jsx)(xt,{value:d.split_mode,onChange:c("split_mode"),uiRestrictions:a}))),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(me,{label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.splits.terms.byLabel",defaultMessage:"By",description:"This labels a field selector allowing the user to chose 'by' which field to group."}),restrict:[be.KBN_FIELD_TYPES.NUMBER,be.KBN_FIELD_TYPES.BOOLEAN,be.KBN_FIELD_TYPES.DATE,be.KBN_FIELD_TYPES.IP,be.KBN_FIELD_TYPES.STRING],"data-test-subj":"groupByField",indexPattern:t,onChange:c("terms_field"),value:d.terms_field,fields:n,uiRestrictions:a,type:"terms"}))),O===be.KBN_FIELD_TYPES.STRING&&Object(m.jsx)(g.EuiFlexGroup,null,Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:o("include"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.splits.terms.includeLabel",defaultMessage:"Include"})},Object(m.jsx)(g.EuiFieldText,{value:d.terms_include,onChange:l("terms_include"),"data-test-subj":"groupByInclude"}))),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:o("exclude"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.splits.terms.excludeLabel",defaultMessage:"Exclude"})},Object(m.jsx)(g.EuiFieldText,{value:d.terms_exclude,onChange:l("terms_exclude"),"data-test-subj":"groupByExclude"})))),Object(m.jsx)(g.EuiFlexGroup,null,Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:o("top"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.splits.terms.topLabel",defaultMessage:"Top"})},Object(m.jsx)(g.EuiFieldNumber,{placeholder:i.formatMessage({id:"visTypeTimeseries.splits.terms.sizePlaceholder",defaultMessage:"Size"}),value:Number(d.terms_size),onChange:l("terms_size")}))),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:o("order"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.splits.terms.orderByLabel",defaultMessage:"Order by"})},Object(m.jsx)(Z,{metrics:p,clearable:!1,additionalOptions:[b,f],fields:n[j],onChange:c("terms_order_by"),restrict:"basic",value:d.terms_order_by}))),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:o("direction"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.splits.terms.directionLabel",defaultMessage:"Direction"})},Object(m.jsx)(g.EuiComboBox,{isClearable:!1,options:v,selectedOptions:x?[x]:[],onChange:c("terms_direction"),singleSelection:{asPlainText:!0}})))))})),Et=e=>{const{onChange:t,uiRestrictions:i,indexPattern:s}=e,n={...{filter:{language:pt(),query:""}},...e.model},a=Object(g.htmlIdGenerator)(),r=te(t);return Object(m.jsx)(g.EuiFlexGroup,{alignItems:"center"},Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:a("group"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.splits.filter.groupByLabel",defaultMessage:"Group by"})},Object(m.jsx)(xt,{value:n.split_mode,onChange:r("split_mode"),uiRestrictions:i}))),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:a("query"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.splits.filter.queryStringLabel",defaultMessage:"Query string"})},Object(m.jsx)(_e,{query:{language:n.filter.language||pt(),query:n.filter.query||""},onChange:e=>t({filter:e}),indexPatterns:[s]}))))};class filter_items_FilterItemsUi extends a.Component{constructor(e){super(e),n()(this,"handleQueryChange",((e,t)=>{const i={filter:t};de.handleChange(this.props,c.a.assign({},e,i))})),this.renderRow=this.renderRow.bind(this)}handleChange(e,t){return i=>{de.handleChange.bind(null,this.props)(c.a.assign({},e,{[t]:c.a.get(i,"value",c.a.get(i,"target.value"))}))}}renderRow(e,t,i){const s=this.props.indexPatterns,n={filter:"",label:"",...e},a=de.handleAdd.bind(null,this.props,(()=>({color:this.props.model.color,id:O.a.v1(),filter:{language:n.filter.language||pt(),query:""}}))),r=de.handleDelete.bind(null,this.props,n),{intl:o}=this.props;return Object(m.jsx)(g.EuiFlexGroup,{gutterSize:"s",className:"tvbAggRow",alignItems:"center",key:n.id},Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(E,{disableTrash:!0,onChange:e=>{de.handleChange.bind(null,this.props)(c.a.assign({},n,e))},name:"color",value:n.color})),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(_e,{query:{language:n.filter.language||pt(),query:n.filter.query||""},onChange:e=>this.handleQueryChange(n,e),indexPatterns:[s],"data-test-subj":"filterItemsQueryBar"})),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFieldText,{placeholder:o.formatMessage({id:"visTypeTimeseries.splits.filterItems.labelPlaceholder",defaultMessage:"Label"}),"aria-label":o.formatMessage({id:"visTypeTimeseries.splits.filterItems.labelAriaLabel",defaultMessage:"Label"}),onChange:this.handleChange(n,"label"),value:n.label,fullWidth:!0,"data-test-subj":"filterItemsLabel"})),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(w,{onAdd:a,onDelete:r,disableDelete:i.length<2,responsive:!1,testSubj:"filterRow"})))}render(){const{model:e,name:t}=this.props;if(!e[t])return Object(m.jsx)("div",null);const i=e[t].map(this.renderRow);return Object(m.jsx)("div",null,i)}}const wt=Object(h.injectI18n)(filter_items_FilterItemsUi),Ct=e=>{const{onChange:t,model:i,uiRestrictions:s,indexPattern:n}=e,a=Object(g.htmlIdGenerator)(),r=te(t);return Object(m.jsx)("div",null,Object(m.jsx)(g.EuiFlexGroup,{alignItems:"center"},Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:a("group"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.splits.filters.groupByLabel",defaultMessage:"Group by"})},Object(m.jsx)(xt,{value:i.split_mode,onChange:r("split_mode"),uiRestrictions:s})))),Object(m.jsx)(wt,{name:"split_filters",model:i,onChange:t,indexPatterns:n}))},Mt=e=>{const{onChange:t,model:i,uiRestrictions:s}=e,n=Object(g.htmlIdGenerator)(),a=te(t);return Object(m.jsx)(g.EuiFlexGroup,{alignItems:"center"},Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:n("group"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.splits.everything.groupByLabel",defaultMessage:"Group by"})},Object(m.jsx)(xt,{value:i.split_mode,onChange:a("split_mode"),uiRestrictions:s}))))},Ft=e=>{const{onChange:t,model:i,uiRestrictions:s}=e,n=Object(g.htmlIdGenerator)(),a=te(t);return Object(m.jsx)(g.EuiFlexGroup,{alignItems:"center"},Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:n("group"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.splits.everything.groupByLabel",defaultMessage:"Group by"})},Object(m.jsx)(xt,{value:i.split_mode,onChange:a("split_mode"),uiRestrictions:s}))),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiTitle,{className:"tvbAggRow__unavailable",size:"xxxs"},Object(m.jsx)("span",null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.unsupportedSplit.splitIsUnsupportedDescription",defaultMessage:"Split by {modelType} is unsupported.",values:{modelType:Object(m.jsx)(g.EuiCode,null,i.split_mode)}})))))},_t="filters",St="filter",It="terms",kt="everything";class split_Split extends a.Component{UNSAFE_componentWillReceiveProps(e){const{model:t}=e;"filters"!==t.split_mode||t.split_filters||this.props.onChange({split_filters:[{color:t.color,id:O.a.v1(),filter:{query:"",language:pt()}}]})}getComponent(e,t){if(!A(e,t))return Ft;switch(e){case It:return Tt;case St:return Et;case _t:return Ct;default:return Mt}}render(){const{model:e,panel:t,uiRestrictions:i,seriesQuantity:s}=this.props,n=e.override_index_pattern?e.series_index_pattern:t.index_pattern,a=Object(u.get)(this.props,"model.split_mode",kt),r=this.getComponent(a,i);return Object(m.jsx)(r,{model:e,indexPattern:n,fields:this.props.fields,onChange:this.props.onChange,uiRestrictions:i,seriesQuantity:s})}}const Lt=Object(h.injectI18n)((function(e){const{panel:t,fields:i,onAdd:s,onDelete:n,disableDelete:a,disableAdd:r,selectedTab:o,onChange:l,visible:u,intl:c,name:d,uiRestrictions:p,seriesQuantity:b}=e,f={label:"",...e.model},v=re(l);let j="arrowDown";u||(j="arrowRight");let x=null;if(u){let s;s="metrics"===o?Object(m.jsx)("div",null,Object(m.jsx)(aggs_Aggs,{onChange:e.onChange,fields:i,panel:t,model:f,name:d,uiRestrictions:p,dragHandleProps:e.dragHandleProps}),Object(m.jsx)("div",{className:"tvbAggRow tvbAggRow--split"},Object(m.jsx)(split_Split,{onChange:e.onChange,fields:i,panel:t,model:f,uiRestrictions:p,seriesQuantity:b}))):Object(m.jsx)(jt,{fields:e.fields,panel:t,model:f,onChange:e.onChange,indexPatternForQuery:e.indexPatternForQuery,seriesQuantity:b}),x=Object(m.jsx)("div",{className:"tvbSeries__body"},Object(m.jsx)(g.EuiTabs,{size:"s"},Object(m.jsx)(g.EuiTab,{isSelected:"metrics"===o,onClick:()=>e.switchTab("metrics")},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.timeSeries.tab.metricsLabel",defaultMessage:"Metrics"})),Object(m.jsx)(g.EuiTab,{"data-test-subj":"seriesOptions",isSelected:"options"===o,onClick:()=>e.switchTab("options")},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.timeSeries.tab.optionsLabel",defaultMessage:"Options"}))),s)}const y=Object(m.jsx)(E,{disableTrash:!0,onChange:e.onChange,name:"color",value:f.color});return Object(m.jsx)("div",{className:`${e.className}`,style:e.style},Object(m.jsx)(g.EuiFlexGroup,{responsive:!1,gutterSize:"s",alignItems:"center"},Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiButtonIcon,{iconType:j,color:"text",onClick:e.toggleVisible,"aria-label":c.formatMessage({id:"visTypeTimeseries.timeSeries.toggleSeriesEditorAriaLabel",defaultMessage:"Toggle series editor"}),"aria-expanded":e.visible})),Object(m.jsx)(g.EuiFlexItem,{grow:!1},y),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFieldText,{fullWidth:!0,onChange:v("label"),placeholder:c.formatMessage({id:"visTypeTimeseries.timeSeries.labelPlaceholder",defaultMessage:"Label"}),value:f.label})),Object(m.jsx)(series_drag_handler_SeriesDragHandler,{dragHandleProps:e.dragHandleProps,hideDragHandler:e.disableDelete}),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(w,{addTooltip:c.formatMessage({id:"visTypeTimeseries.timeSeries.addSeriesTooltip",defaultMessage:"Add Series"}),deleteTooltip:c.formatMessage({id:"visTypeTimeseries.timeSeries.deleteSeriesTooltip",defaultMessage:"Delete Series"}),cloneTooltip:c.formatMessage({id:"visTypeTimeseries.timeSeries.cloneSeriesTooltip",defaultMessage:"Clone Series"}),onDelete:n,onClone:e.onClone,togglePanelActivation:e.togglePanelActivation,isPanelActive:!f.hidden,onAdd:s,disableDelete:a,disableAdd:r,responsive:!1}))),x)})),Pt=Object(h.injectI18n)(Lt),At=e=>{const t={offset_time:"",value_template:"{{value}}",...e.model},i=re(e.onChange),s=Object(g.htmlIdGenerator)(),n=e.model.override_index_pattern?e.model.series_index_pattern:e.indexPatternForQuery,r=Object(a.useCallback)((t=>e.onChange({formatter:t})),[e]),o=Object(a.useMemo)((()=>Ve(Object(u.last)(t.metrics),e.fields,n)),[t.metrics,e.fields,n]),l=e.panel.use_kibana_indexes||""===n;return Object(m.jsx)("div",{className:"tvbAggRow"},Object(m.jsx)(g.EuiFlexGroup,{gutterSize:"s"},Object(m.jsx)(Ye,{formatterValue:t.formatter,changeModelFormatter:r,shouldIncludeDefaultOption:l,shouldIncludeNumberOptions:o}),Object(m.jsx)(g.EuiFlexItem,{grow:3},Object(m.jsx)(g.EuiFormRow,{id:s("template"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.seriesConfig.templateLabel",defaultMessage:"Template"}),helpText:Object(m.jsx)("span",null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.seriesConfig.templateHelpText",defaultMessage:"eg. {templateExample}",values:{templateExample:Object(m.jsx)(g.EuiCode,null,"{{value}}/s")}})),fullWidth:!0},Object(m.jsx)(g.EuiFieldText,{onChange:i("value_template"),value:t.value_template,disabled:t.formatter===_.b.DEFAULT,fullWidth:!0})))),Object(m.jsx)(g.EuiHorizontalRule,{margin:"s"}),Object(m.jsx)(gt,{model:t,onChange:e.onChange,panel:e.panel,indexPatternForQuery:n}),Object(m.jsx)(g.EuiHorizontalRule,{margin:"s"}),Object(m.jsx)(g.EuiFlexGroup,{gutterSize:"s"},Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:s("offsetSeries"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.seriesConfig.offsetSeriesTimeLabel",defaultMessage:"Offset series time by (1m, 1h, 1w, 1d)",description:"1m, 1h, 1w and 1d are required values and must not be translated."})},Object(m.jsx)(g.EuiFieldText,{"data-test-subj":"offsetTimeSeries",onChange:i("offset_time"),value:t.offset_time})))),Object(m.jsx)(g.EuiHorizontalRule,{margin:"s"}),Object(m.jsx)(g.EuiFlexGroup,{gutterSize:"s",responsive:!1,wrap:!0},Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{label:x.i18n.translate("visTypeTimeseries.seriesConfig.overrideIndexPatternLabel",{defaultMessage:"Override Index Pattern?"})},Object(m.jsx)(Qe,{value:t.override_index_pattern,name:"override_index_pattern",onChange:e.onChange}))),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(dt,{onChange:e.onChange,model:e.model,fields:e.fields,prefix:"series_",disabled:!t.override_index_pattern}))))};const Rt=Object(h.injectI18n)((function(e){const{panel:t,fields:i,name:s,onAdd:n,onChange:a,onDelete:r,disableDelete:o,disableAdd:l,selectedTab:u,visible:c,intl:d,uiRestrictions:p}=e,b={label:"",...e.model},f=re(a);let v="arrowDown";c||(v="arrowRight");let j,x=null;if(c){let n;n="metrics"===u?Object(m.jsx)("div",null,Object(m.jsx)(aggs_Aggs,{onChange:e.onChange,fields:i,panel:t,model:b,name:s,uiRestrictions:p,dragHandleProps:e.dragHandleProps}),Object(m.jsx)("div",{className:"tvbAggRow tvbAggRow--split"},Object(m.jsx)(split_Split,{onChange:e.onChange,fields:i,panel:t,model:b,uiRestrictions:p}))):Object(m.jsx)(At,{panel:t,fields:e.fields,model:e.model,onChange:e.onChange,indexPatternForQuery:e.indexPatternForQuery}),x=Object(m.jsx)("div",{className:"tvbSeries__body"},Object(m.jsx)(g.EuiTabs,{size:"s"},Object(m.jsx)(g.EuiTab,{isSelected:"metrics"===u,onClick:()=>e.switchTab("metrics")},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.metric.dataTab.metricsButtonLabel",defaultMessage:"Metrics"})),Object(m.jsx)(g.EuiTab,{"data-test-subj":"seriesOptions",isSelected:"options"===u,onClick:()=>e.switchTab("options")},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.metric.optionsTab.optionsButtonLabel",defaultMessage:"Options"}))),n)}return e.colorPicker&&(j=Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(E,{disableTrash:!0,onChange:e.onChange,name:"color",value:b.color}))),Object(m.jsx)("div",{className:`${e.className}`,style:e.style},Object(m.jsx)(g.EuiFlexGroup,{responsive:!1,gutterSize:"s",alignItems:"center"},Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiButtonIcon,{iconType:v,color:"text",onClick:e.toggleVisible,"aria-label":d.formatMessage({id:"visTypeTimeseries.metric.editor.toggleEditorAriaLabel",defaultMessage:"Toggle series editor"}),"aria-expanded":e.visible})),j,Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFieldText,{fullWidth:!0,onChange:f("label"),placeholder:d.formatMessage({id:"visTypeTimeseries.metric.editor.labelPlaceholder",defaultMessage:"Label"}),value:b.label})),Object(m.jsx)(series_drag_handler_SeriesDragHandler,{dragHandleProps:e.dragHandleProps,hideDragHandler:e.disableDelete}),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(w,{addTooltip:d.formatMessage({id:"visTypeTimeseries.metric.editor.addSeriesTooltip",defaultMessage:"Add Series"}),deleteTooltip:d.formatMessage({id:"visTypeTimeseries.metric.editor.deleteSeriesTooltip",defaultMessage:"Delete Series"}),cloneTooltip:d.formatMessage({id:"visTypeTimeseries.metric.editor.cloneSeriesTooltip",defaultMessage:"Clone Series"}),onDelete:r,onClone:e.onClone,onAdd:n,togglePanelActivation:e.togglePanelActivation,isPanelActive:!b.hidden,disableDelete:o,disableAdd:l,responsive:!1}))),x)})),Dt=Object(h.injectI18n)((function(e){const{panel:t,model:i,name:s,fields:n,onAdd:a,onChange:r,onDelete:o,disableDelete:l,disableAdd:u,selectedTab:c,visible:d,intl:p,uiRestrictions:b}=e,f=re(r);let v="arrowDown";d||(v="arrowRight");let j=null;if(d){let a;a="metrics"===c?Object(m.jsx)("div",null,Object(m.jsx)(aggs_Aggs,{onChange:e.onChange,fields:n,panel:t,model:i,name:s,uiRestrictions:b,dragHandleProps:e.dragHandleProps}),Object(m.jsx)("div",{className:"tvbAggRow tvbAggRow--split"},Object(m.jsx)(split_Split,{onChange:e.onChange,fields:n,panel:t,model:i,uiRestrictions:b}))):Object(m.jsx)(At,{fields:e.fields,panel:e.panel,model:e.model,onChange:e.onChange,indexPatternForQuery:e.indexPatternForQuery}),j=Object(m.jsx)("div",{className:"tvbSeries__body"},Object(m.jsx)(g.EuiTabs,{size:"s"},Object(m.jsx)(g.EuiTab,{isSelected:"metrics"===c,onClick:()=>e.switchTab("metrics")},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.topN.tab.metricsLabel",defaultMessage:"Metrics"})),Object(m.jsx)(g.EuiTab,{"data-test-subj":"seriesOptions",isSelected:"options"===c,onClick:()=>e.switchTab("options")},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.topN.tab.optionsLabel",defaultMessage:"Options"}))),a)}const x=Object(m.jsx)(E,{disableTrash:!0,onChange:e.onChange,name:"color",value:i.color});return Object(m.jsx)("div",{className:`${e.className}`,style:e.style},Object(m.jsx)(g.EuiFlexGroup,{responsive:!1,gutterSize:"s",alignItems:"center"},Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiButtonIcon,{iconType:v,color:"text",onClick:e.toggleVisible,"aria-label":p.formatMessage({id:"visTypeTimeseries.topN.toggleSeriesEditorAriaLabel",defaultMessage:"Toggle series editor"}),"aria-expanded":e.visible})),Object(m.jsx)(g.EuiFlexItem,{grow:!1},x),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFieldText,{fullWidth:!0,onChange:f("label"),placeholder:p.formatMessage({id:"visTypeTimeseries.topN.labelPlaceholder",defaultMessage:"Label"}),value:i.label})),Object(m.jsx)(series_drag_handler_SeriesDragHandler,{dragHandleProps:e.dragHandleProps,hideDragHandler:e.disableDelete}),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(w,{addTooltip:p.formatMessage({id:"visTypeTimeseries.topN.addSeriesTooltip",defaultMessage:"Add Series"}),deleteTooltip:p.formatMessage({id:"visTypeTimeseries.topN.deleteSeriesTooltip",defaultMessage:"Delete Series"}),cloneTooltip:p.formatMessage({id:"visTypeTimeseries.topN.cloneSeriesTooltip",defaultMessage:"Clone Series"}),onDelete:o,onClone:e.onClone,onAdd:a,togglePanelActivation:e.togglePanelActivation,isPanelActive:!i.hidden,disableDelete:l,disableAdd:u,responsive:!1}))),j)}));var Nt=i(69);const Bt=x.i18n.translate("visTypeTimeseries.colorRules.defaultSecondaryNameLabel",{defaultMessage:"text"}),zt=x.i18n.translate("visTypeTimeseries.colorRules.defaultPrimaryNameLabel",{defaultMessage:"background"}),Vt=[{label:x.i18n.translate("visTypeTimeseries.colorRules.greaterThanLabel",{defaultMessage:"> greater than"}),method:Nt.a.Gt},{label:x.i18n.translate("visTypeTimeseries.colorRules.greaterThanOrEqualLabel",{defaultMessage:">= greater than or equal"}),method:Nt.a.Gte},{label:x.i18n.translate("visTypeTimeseries.colorRules.lessThanLabel",{defaultMessage:"< less than"}),method:Nt.a.Lt},{label:x.i18n.translate("visTypeTimeseries.colorRules.lessThanOrEqualLabel",{defaultMessage:"<= less than or equal"}),method:Nt.a.Lte},{label:x.i18n.translate("visTypeTimeseries.colorRules.emptyLabel",{defaultMessage:"empty"}),method:Nt.a.Empty,hideValueSelector:!0}],$t=Vt.map((e=>({label:e.label,value:e.method})));class color_rules_ColorRules extends a.Component{constructor(e){super(e),n()(this,"handleOperatorChange",(e=>t=>{var i,s;const n=Vt.find((e=>{var i;return(null===(i=t[0])||void 0===i?void 0:i.value)===e.method})),a=null!==(i=null==n?void 0:n.value)&&void 0!==i?i:null;de.handleChange(this.props,{...e,operator:null===(s=t[0])||void 0===s?void 0:s.value,value:a})})),this.renderRow=this.renderRow.bind(this)}handleValueChange(e){return t=>{let i=Number(t.target.value);isNaN(i)&&(i=void 0),de.handleChange(this.props,{...e,value:i})}}renderRow(e,t,i){var s,n,r,o,l;const u={value:0,...e},c=e=>{de.handleChange(this.props,{...u,...e})},d=Object(g.htmlIdGenerator)(u.id),p=$t.find((e=>u.operator===e.value)),b=Vt.find((e=>u.operator===e.method)),f=null!==(s=null==b?void 0:b.hideValueSelector)&&void 0!==s&&s,v={marginBottom:0};let j;if(!this.props.hideSecondary){var y,O;const e=null!==(y=this.props.secondaryVarName)&&void 0!==y?y:"color";j=Object(m.jsx)(a.Fragment,null,Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormLabel,{style:v},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.colorRules.setSecondaryColorLabel",defaultMessage:"and {secondaryName} to",values:{secondaryName:null!==(O=this.props.secondaryName)&&void 0!==O?O:Bt},description:"Part of a larger string: Set {primaryName} to {color} and {secondaryName} to {color} if metric is {greaterOrLessThan} {value}."}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(E,{onChange:c,name:e,value:u[e]})))}return Object(m.jsx)(g.EuiFlexGroup,{wrap:!0,responsive:!1,gutterSize:"s",key:u.id,alignItems:"center",className:"tvbColorRules__rule"},Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormLabel,{style:v},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.colorRules.setPrimaryColorLabel",defaultMessage:"Set {primaryName} to",values:{primaryName:null!==(n=this.props.primaryName)&&void 0!==n?n:zt},description:"Part of a larger string: Set {primaryName} to {color} and {secondaryName} to {color} if metric is {greaterOrLessThan} {value}."}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(E,{onChange:c,name:null!==(r=this.props.primaryVarName)&&void 0!==r?r:"background_color",value:u[null!==(o=this.props.primaryVarName)&&void 0!==o?o:"background_color"]})),j,Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormLabel,{style:v,htmlFor:d("ifMetricIs")},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.colorRules.ifMetricIsLabel",defaultMessage:"if metric is",description:"Part of a larger string: Set {primaryName} to {color} and {secondaryName} to {color} if metric is {greaterOrLessThan} {value}."}))),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiComboBox,{id:d("ifMetricIs"),options:$t,selectedOptions:p?[p]:[],onChange:this.handleOperatorChange(u),singleSelection:{asPlainText:!0},"data-test-subj":"colorRuleOperator",fullWidth:!0})),!f&&Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFieldNumber,{"aria-label":x.i18n.translate("visTypeTimeseries.colorRules.valueAriaLabel",{defaultMessage:"Value"}),value:null!==(l=u.value)&&void 0!==l?l:"",onChange:this.handleValueChange(u),"data-test-subj":"colorRuleValue",fullWidth:!0})),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(w,{onAdd:()=>de.handleAdd(this.props),onDelete:()=>de.handleDelete(this.props,u),disableDelete:i.length<2,responsive:!1})))}render(){const{model:e,name:t}=this.props;return e[t]?Object(m.jsx)("div",null,e[t].map(this.renderRow)):Object(m.jsx)("div",null)}}class config_TableSeriesConfig extends a.Component{constructor(...e){super(...e),n()(this,"changeModelFormatter",(e=>this.props.onChange({formatter:e})))}UNSAFE_componentWillMount(){const{model:e}=this.props;(!e.color_rules||e.color_rules&&0===e.color_rules.length)&&this.props.onChange({color_rules:[{id:O.a.v1()}]})}render(){var e,t;const i={offset_time:"",value_template:"{{value}}",...this.props.model},s=te(this.props.onChange),n=re(this.props.onChange),a=Object(g.htmlIdGenerator)(),r=[{label:x.i18n.translate("visTypeTimeseries.table.sumLabel",{defaultMessage:"Sum"}),value:"sum"},{label:x.i18n.translate("visTypeTimeseries.table.maxLabel",{defaultMessage:"Max"}),value:"max"},{label:x.i18n.translate("visTypeTimeseries.table.minLabel",{defaultMessage:"Min"}),value:"min"},{label:x.i18n.translate("visTypeTimeseries.table.avgLabel",{defaultMessage:"Avg"}),value:"mean"},{label:x.i18n.translate("visTypeTimeseries.table.overallSumLabel",{defaultMessage:"Overall Sum"}),value:"overall_sum"},{label:x.i18n.translate("visTypeTimeseries.table.overallMaxLabel",{defaultMessage:"Overall Max"}),value:"overall_max"},{label:x.i18n.translate("visTypeTimeseries.table.overallMinLabel",{defaultMessage:"Overall Min"}),value:"overall_min"},{label:x.i18n.translate("visTypeTimeseries.table.overallAvgLabel",{defaultMessage:"Overall Avg"}),value:"overall_avg"},{label:x.i18n.translate("visTypeTimeseries.table.cumulativeSumLabel",{defaultMessage:"Cumulative Sum"}),value:"cumulative_sum"}],o=r.find((e=>i.aggregate_function===e.value)),l=Ve(Object(u.last)(i.metrics),this.props.fields,this.props.indexPatternForQuery),c=this.props.panel.use_kibana_indexes||""===this.props.indexPatternForQuery;return Object(m.jsx)("div",{className:"tvbAggRow"},Object(m.jsx)(g.EuiFlexGroup,{gutterSize:"s"},Object(m.jsx)(Ye,{formatterValue:i.formatter,changeModelFormatter:this.changeModelFormatter,shouldIncludeDefaultOption:c,shouldIncludeNumberOptions:l}),Object(m.jsx)(g.EuiFlexItem,{grow:3},Object(m.jsx)(g.EuiFormRow,{id:a("template"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.table.templateLabel",defaultMessage:"Template"}),helpText:Object(m.jsx)("span",null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.table.templateHelpText",defaultMessage:"eg.{templateExample}",values:{templateExample:Object(m.jsx)(g.EuiCode,null,"{{value}}/s")}})),fullWidth:!0},Object(m.jsx)(g.EuiFieldText,{onChange:n("value_template"),value:i.value_template,disabled:i.formatter===_.b.DEFAULT,fullWidth:!0})))),Object(m.jsx)(g.EuiHorizontalRule,{margin:"s"}),Object(m.jsx)(g.EuiFlexGroup,{responsive:!1,wrap:!0},Object(m.jsx)(g.EuiFlexItem,{grow:!0},Object(m.jsx)(g.EuiFormRow,{id:a("filterInput"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.table.filterLabel",defaultMessage:"Filter"}),fullWidth:!0},Object(m.jsx)(_e,{query:{language:(null==i||null===(e=i.filter)||void 0===e?void 0:e.language)||pt(),query:(null==i||null===(t=i.filter)||void 0===t?void 0:t.query)||""},onChange:e=>this.props.onChange({filter:e}),indexPatterns:[this.props.indexPatternForQuery]}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{label:x.i18n.translate("visTypeTimeseries.table.showTrendArrowsLabel",{defaultMessage:"Show trend arrows?"})},Object(m.jsx)(Qe,{value:i.trend_arrows,name:"trend_arrows",onChange:this.props.onChange})))),Object(m.jsx)(g.EuiHorizontalRule,{margin:"s"}),Object(m.jsx)(g.EuiFlexGroup,{responsive:!1,wrap:!0},Object(m.jsx)(g.EuiFlexItem,{grow:!0},Object(m.jsx)(me,{label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.table.fieldLabel",defaultMessage:"Field"}),fields:this.props.fields,indexPattern:this.props.panel.index_pattern,value:i.aggregate_by,onChange:s("aggregate_by"),fullWidth:!0})),Object(m.jsx)(g.EuiFlexItem,{grow:!0},Object(m.jsx)(g.EuiFormRow,{id:a("aggregateFunctionInput"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.table.aggregateFunctionLabel",defaultMessage:"Aggregate function"}),fullWidth:!0},Object(m.jsx)(g.EuiComboBox,{options:r,selectedOptions:o?[o]:[],onChange:s("aggregate_function"),singleSelection:{asPlainText:!0},fullWidth:!0})))),Object(m.jsx)(g.EuiHorizontalRule,{margin:"s"}),Object(m.jsx)(g.EuiTitle,{size:"xxs"},Object(m.jsx)("span",null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.table.colorRulesLabel",defaultMessage:"Color rules"}))),Object(m.jsx)(g.EuiSpacer,{size:"s"}),Object(m.jsx)(color_rules_ColorRules,{primaryName:"text",primaryVarName:"text",hideSecondary:!0,model:i,onChange:this.props.onChange,name:"color_rules"}))}}const Ht={top_n:Dt,table:Object(h.injectI18n)((function(e){const{model:t,onAdd:i,name:s,fields:n,panel:a,onChange:r,onDelete:o,disableDelete:l,disableAdd:u,selectedTab:c,visible:d,intl:p,uiRestrictions:b}=e,f=re(r);let v="arrowDown";d||(v="arrowRight");let j=null;if(d){let i;i="metrics"===c?Object(m.jsx)("div",null,Object(m.jsx)(aggs_Aggs,{onChange:e.onChange,fields:n,panel:a,model:t,name:s,uiRestrictions:b,dragHandleProps:e.dragHandleProps})):Object(m.jsx)(config_TableSeriesConfig,{panel:e.panel,fields:e.fields,model:e.model,onChange:e.onChange,indexPatternForQuery:e.indexPatternForQuery}),j=Object(m.jsx)("div",{className:"tvbSeries__body"},Object(m.jsx)(g.EuiTabs,{size:"s"},Object(m.jsx)(g.EuiTab,{isSelected:"metrics"===c,onClick:()=>e.switchTab("metrics")},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.table.tab.metricsLabel",defaultMessage:"Metrics"})),Object(m.jsx)(g.EuiTab,{"data-test-subj":"seriesOptions",isSelected:"options"===c,onClick:()=>e.switchTab("options")},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.table.tab.optionsLabel",defaultMessage:"Options"}))),i)}return Object(m.jsx)("div",{className:`${e.className}`,style:e.style},Object(m.jsx)(g.EuiFlexGroup,{responsive:!1,gutterSize:"s",alignItems:"center"},Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiButtonIcon,{iconType:v,color:"text",onClick:e.toggleVisible,"aria-label":p.formatMessage({id:"visTypeTimeseries.table.toggleSeriesEditorAriaLabel",defaultMessage:"Toggle series editor"}),"aria-expanded":e.visible})),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFieldText,{fullWidth:!0,"aria-label":p.formatMessage({id:"visTypeTimeseries.table.labelAriaLabel",defaultMessage:"Label"}),onChange:f("label"),placeholder:p.formatMessage({id:"visTypeTimeseries.table.labelPlaceholder",defaultMessage:"Label"}),value:t.label})),Object(m.jsx)(series_drag_handler_SeriesDragHandler,{dragHandleProps:e.dragHandleProps,hideDragHandler:e.disableDelete}),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(w,{addTooltip:p.formatMessage({id:"visTypeTimeseries.table.addSeriesTooltip",defaultMessage:"Add Series"}),deleteTooltip:p.formatMessage({id:"visTypeTimeseries.table.deleteSeriesTooltip",defaultMessage:"Delete Series"}),cloneTooltip:p.formatMessage({id:"visTypeTimeseries.table.cloneSeriesTooltip",defaultMessage:"Clone Series"}),onDelete:o,onClone:e.onClone,onAdd:i,togglePanelActivation:e.togglePanelActivation,isPanelActive:!t.hidden,disableDelete:l,disableAdd:u,responsive:!1}))),j)})),metric:Rt,timeseries:Pt,gauge:Object(h.injectI18n)((function(e){const{panel:t,fields:i,onAdd:s,name:n,onChange:a,onDelete:r,disableDelete:o,disableAdd:l,selectedTab:u,visible:c,intl:d,uiRestrictions:p}=e,b={label:"",...e.model},f=re(a);let v="arrowDown";c||(v="arrowRight");let j=null;if(c){let s;s="metrics"===u?Object(m.jsx)("div",null,Object(m.jsx)(aggs_Aggs,{onChange:e.onChange,fields:i,panel:t,model:b,name:n,uiRestrictions:p,dragHandleProps:e.dragHandleProps}),Object(m.jsx)("div",{className:"tvbAggRow tvbAggRow--split"},Object(m.jsx)(split_Split,{onChange:e.onChange,fields:i,panel:t,model:b,uiRestrictions:p}))):Object(m.jsx)(At,{fields:e.fields,panel:t,model:e.model,onChange:e.onChange,indexPatternForQuery:e.indexPatternForQuery}),j=Object(m.jsx)("div",{className:"tvbSeries__body"},Object(m.jsx)(g.EuiTabs,{size:"s"},Object(m.jsx)(g.EuiTab,{isSelected:"metrics"===u,onClick:()=>e.switchTab("metrics")},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.gauge.dataTab.metricsButtonLabel",defaultMessage:"Metrics"})),Object(m.jsx)(g.EuiTab,{"data-test-subj":"seriesOptions",isSelected:"options"===u,onClick:()=>e.switchTab("options")},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.gauge.optionsTab.optionsButtonLabel",defaultMessage:"Options"}))),s)}const x=Object(m.jsx)(E,{disableTrash:!0,onChange:e.onChange,name:"color",value:b.color});return Object(m.jsx)("div",{className:`${e.className}`,style:e.style},Object(m.jsx)(g.EuiFlexGroup,{responsive:!1,gutterSize:"s",alignItems:"center"},Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiButtonIcon,{iconType:v,color:"text",onClick:e.toggleVisible,"aria-label":d.formatMessage({id:"visTypeTimeseries.gauge.editor.toggleEditorAriaLabel",defaultMessage:"Toggle series editor"}),"aria-expanded":e.visible})),Object(m.jsx)(g.EuiFlexItem,{grow:!1},x),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFieldText,{fullWidth:!0,onChange:f("label"),placeholder:d.formatMessage({id:"visTypeTimeseries.gauge.editor.labelPlaceholder",defaultMessage:"Label"}),value:b.label})),Object(m.jsx)(series_drag_handler_SeriesDragHandler,{dragHandleProps:e.dragHandleProps,hideDragHandler:e.disableDelete}),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(w,{addTooltip:d.formatMessage({id:"visTypeTimeseries.gauge.editor.addSeriesTooltip",defaultMessage:"Add Series"}),deleteTooltip:d.formatMessage({id:"visTypeTimeseries.gauge.editor.deleteSeriesTooltip",defaultMessage:"Delete Series"}),cloneTooltip:d.formatMessage({id:"visTypeTimeseries.gauge.editor.cloneSeriesTooltip",defaultMessage:"Clone Series"}),onDelete:r,onClone:e.onClone,onAdd:s,disableDelete:o,disableAdd:l,responsive:!1}))),j)})),markdown:Object(h.injectI18n)((function(e){const{panel:t,fields:i,onAdd:s,onChange:n,onDelete:a,disableDelete:r,disableAdd:o,selectedTab:l,visible:u,intl:c,name:d,uiRestrictions:p}=e,b={label:"",var_name:"",...e.model},f=re(n);let v="arrowDown";u||(v="arrowRight");let j=null;if(u){let s;s="metrics"===l?Object(m.jsx)("div",null,Object(m.jsx)(aggs_Aggs,{onChange:e.onChange,fields:i,panel:t,model:b,name:d,uiRestrictions:p,dragHandleProps:e.dragHandleProps}),Object(m.jsx)("div",{className:"tvbAggRow tvbAggRow--split"},Object(m.jsx)(split_Split,{onChange:e.onChange,fields:i,panel:t,model:b,uiRestrictions:p}))):Object(m.jsx)(At,{fields:e.fields,panel:t,model:e.model,onChange:e.onChange,indexPatternForQuery:e.indexPatternForQuery}),j=Object(m.jsx)("div",{className:"tvbSeries__body"},Object(m.jsx)(g.EuiTabs,{size:"s"},Object(m.jsx)(g.EuiTab,{isSelected:"metrics"===l,onClick:()=>e.switchTab("metrics")},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.markdown.dataTab.metricsButtonLabel",defaultMessage:"Metrics"})),Object(m.jsx)(g.EuiTab,{"data-test-subj":"seriesOptions",isSelected:"options"===l,onClick:()=>e.switchTab("options")},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.markdown.optionsTab.optionsButtonLabel",defaultMessage:"Options"}))),s)}return Object(m.jsx)("div",{className:`${e.className}`,style:e.style},Object(m.jsx)(g.EuiFlexGroup,{responsive:!1,gutterSize:"s",alignItems:"center"},Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiButtonIcon,{iconType:v,color:"text",onClick:e.toggleVisible,"aria-label":c.formatMessage({id:"visTypeTimeseries.markdown.editor.toggleEditorAriaLabel",defaultMessage:"Toggle series editor"}),"aria-expanded":e.visible})),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFieldText,{fullWidth:!0,onChange:f("label"),placeholder:c.formatMessage({id:"visTypeTimeseries.markdown.editor.labelPlaceholder",defaultMessage:"Label"}),value:b.label})),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFieldText,{fullWidth:!0,onChange:f("var_name"),placeholder:c.formatMessage({id:"visTypeTimeseries.markdown.editor.variableNamePlaceholder",defaultMessage:"Variable name"}),value:b.var_name})),Object(m.jsx)(series_drag_handler_SeriesDragHandler,{dragHandleProps:e.dragHandleProps,hideDragHandler:!0}),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(w,{addTooltip:c.formatMessage({id:"visTypeTimeseries.markdown.editor.addSeriesTooltip",defaultMessage:"Add series"}),deleteTooltip:c.formatMessage({id:"visTypeTimeseries.markdown.editor.deleteSeriesTooltip",defaultMessage:"Delete series"}),cloneTooltip:c.formatMessage({id:"visTypeTimeseries.markdown.editor.cloneSeriesTooltip",defaultMessage:"Clone series"}),onDelete:a,onClone:e.onClone,onAdd:s,disableDelete:r,disableAdd:o,responsive:!1}))),j)}))};class series_Series extends a.Component{constructor(...e){super(...e),n()(this,"state",{visible:!0,selectedTab:"metrics"}),n()(this,"switchTab",(e=>{this.setState({selectedTab:e})})),n()(this,"handleChange",(e=>{if(this.props.onChange){const{model:t}=this.props,i=Object(u.assign)({},t,e);this.props.onChange(i)}})),n()(this,"togglePanelActivation",(()=>{const{model:e}=this.props;this.handleChange({hidden:!e.hidden})})),n()(this,"toggleVisible",(e=>{e.preventDefault(),this.setState({visible:!this.state.visible})}))}render(){const{panel:e}=this.props,t=Ht[e.type];return Boolean(t)?Object(m.jsx)(v.Consumer,null,(i=>{const s=Object(u.get)(i,`${e.id}.series`,[]),n={},a=s.reduce(((e,t)=>(n[t.seriesId]=n[t.seriesId]+1||1,e[t.seriesId]=n[t.seriesId],e)),{});return Object(m.jsx)(t,{className:this.props.className,disableAdd:this.props.disableAdd,uiRestrictions:i.uiRestrictions,seriesQuantity:a,disableDelete:this.props.disableDelete,fields:this.props.fields,name:this.props.name,onAdd:this.props.onAdd,onChange:this.handleChange,onClone:this.props.onClone,onDelete:this.props.onDelete,model:this.props.model,panel:this.props.panel,selectedTab:this.state.selectedTab,style:this.props.style,switchTab:this.switchTab,toggleVisible:this.toggleVisible,togglePanelActivation:this.togglePanelActivation,visible:this.state.visible,dragHandleProps:this.props.dragHandleProps,indexPatternForQuery:e.index_pattern})})):Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.seriesConfig.missingSeriesComponentDescription",defaultMessage:"Missing Series component for panel type: {panelType}",values:{panelType:e.type}})}}series_Series.defaultProps={name:"metrics"};const Gt=(e={})=>c.a.assign({id:O.a.v1(),color:"#68BC00",split_mode:"everything",palette:{type:"palette",name:"default"},metrics:[ze()],separate_axis:0,axis_position:"right",formatter:"default",chart_type:"line",line_width:1,point_size:1,fill:.5,stacked:yt.c.NONE,override_index_pattern:0,series_drop_last_bucket:0},e),qt=(e,t,i)=>{const s=Array.from(e),[n]=s.splice(t,1);return s.splice(i,0,n),s},Ut="series_editor_dnd";class series_editor_SeriesEditor extends a.Component{constructor(...e){super(...e),n()(this,"handleClone",(e=>{const t=(e=>{const t=c.a.cloneDeep(e);return t.id=O.a.v1(),t.metrics.forEach((e=>{const i=O.a.v1(),s=e.id;e.id=i,t.terms_order_by===s&&(t.terms_order_by=i),t.metrics.filter((e=>e.field===s)).forEach((e=>e.field=i)),t.metrics.filter((e=>"calculation"===e.type&&e.variables.some((e=>e.field===s)))).forEach((e=>{e.variables.filter((e=>e.field===s)).forEach((e=>{e.id=O.a.v1(),e.field=i}))}))})),t})(e);ce.call(null,this.props,(()=>t))})),n()(this,"sortHandler",(({destination:e,source:t})=>{if(e&&t){this.getSortFunction({destination:e,source:t})({destination:e,source:t})}})),n()(this,"getSortFunction",(({destination:e,source:t})=>e.droppableId===t.droppableId&&t.droppableId===Ut?this.sortSeries:this.sortAggregations)),n()(this,"sortSeries",(({destination:e,source:t})=>{this.props.onChange({series:qt([...this.props.model.series],t.index,e.index)})})),n()(this,"sortAggregations",(({destination:e,source:t})=>{const i=({droppableId:e})=>e.split(":")[1],s=i(t);if(s===i(e)){const i=[...this.props.model.series],n=Object(u.find)(i,{id:s});n.metrics=qt([...n.metrics],t.index,e.index),this.props.onChange({series:i})}}))}render(){const{limit:e,model:t,name:i,fields:s,colorPicker:n}=this.props,a=t[i].filter(((t,i)=>i<(e||1/0)));return Object(m.jsx)(g.EuiDragDropContext,{onDragEnd:this.sortHandler},Object(m.jsx)(g.EuiDroppable,{droppableId:Ut,spacing:"l",type:"MACRO"},a.map(((a,r)=>Object(m.jsx)(g.EuiDraggable,{spacing:"m",key:a.id,index:r,customDragHandle:!0,draggableId:`series_editor_dnd:${a.id}`,disableInteractiveElementBlocking:!0},(r=>Object(m.jsx)(series_Series,{className:"tvbSeriesEditor",colorPicker:n,disableAdd:t[i].length>=e,disableDelete:t[i].length<2,fields:s,onAdd:()=>ce(this.props,Gt),onChange:e=>le(this.props,e),onClone:()=>this.handleClone(a),onDelete:()=>ue(this.props,a),model:a,panel:t,dragHandleProps:r.dragHandleProps})))))))}}series_editor_SeriesEditor.defaultProps={name:"series",limit:1/0,colorPicker:!0};var Wt=i(66);const Kt=[{value:"fa-asterisk",label:x.i18n.translate("visTypeTimeseries.iconSelect.asteriskLabel",{defaultMessage:"Asterisk"})},{value:"fa-bell",label:x.i18n.translate("visTypeTimeseries.iconSelect.bellLabel",{defaultMessage:"Bell"})},{value:"fa-bolt",label:x.i18n.translate("visTypeTimeseries.iconSelect.boltLabel",{defaultMessage:"Bolt"})},{value:"fa-comment",label:x.i18n.translate("visTypeTimeseries.iconSelect.commentLabel",{defaultMessage:"Comment"})},{value:"fa-map-marker",label:x.i18n.translate("visTypeTimeseries.iconSelect.mapMarkerLabel",{defaultMessage:"Map Marker"})},{value:"fa-map-pin",label:x.i18n.translate("visTypeTimeseries.iconSelect.mapPinLabel",{defaultMessage:"Map Pin"})},{value:"fa-star",label:x.i18n.translate("visTypeTimeseries.iconSelect.starLabel",{defaultMessage:"Star"})},{value:"fa-tag",label:x.i18n.translate("visTypeTimeseries.iconSelect.tagLabel",{defaultMessage:"Tag"})},{value:"fa-bomb",label:x.i18n.translate("visTypeTimeseries.iconSelect.bombLabel",{defaultMessage:"Bomb"})},{value:"fa-bug",label:x.i18n.translate("visTypeTimeseries.iconSelect.bugLabel",{defaultMessage:"Bug"})},{value:"fa-exclamation-circle",label:x.i18n.translate("visTypeTimeseries.iconSelect.exclamationCircleLabel",{defaultMessage:"Exclamation Circle"})},{value:"fa-exclamation-triangle",label:x.i18n.translate("visTypeTimeseries.iconSelect.exclamationTriangleLabel",{defaultMessage:"Exclamation Triangle"})},{value:"fa-fire",label:x.i18n.translate("visTypeTimeseries.iconSelect.fireLabel",{defaultMessage:"Fire"})},{value:"fa-flag",label:x.i18n.translate("visTypeTimeseries.iconSelect.flagLabel",{defaultMessage:"Flag"})},{value:"fa-heart",label:x.i18n.translate("visTypeTimeseries.iconSelect.heartLabel",{defaultMessage:"Heart"})}];function Yt({value:e,label:t}){return Object(m.jsx)("span",null,Object(m.jsx)(g.EuiIcon,{type:Wt.a[e]}),` ${t}`)}function Qt({value:e,onChange:t}){const i=Kt.find((t=>e===t.value))||Kt[0];return Object(m.jsx)(g.EuiComboBox,{isClearable:!1,options:Kt,selectedOptions:[i],onChange:t,singleSelection:{asPlainText:!0},renderOption:Yt})}const Xt=[be.KBN_FIELD_TYPES.DATE],Jt="time_field",Zt=({annotation:e,fields:t,onChange:i,handleAdd:s,handleDelete:n})=>{const r=Object(a.useMemo)((()=>({fields:"",template:"",index_pattern:"",query_string:{query:"",language:pt()},...e})),[e]),o=Object(g.htmlIdGenerator)(r.id),[l,u]=Object(a.useState)(null);Object(a.useEffect)((()=>{(async e=>{const{indexPatterns:t}=Object(Me.c)();let i={indexPattern:void 0,indexPatternString:void 0};try{i=e?await Object(se.b)(e,t,{fetchKibanaIndexForStringIndexes:!0}):{...i,defaultIndex:await t.getDefault()}}catch{}u(i)})(r.index_pattern)}),[r.index_pattern]);const c=Object(a.useCallback)((()=>i({hidden:!r.hidden})),[r.hidden,i]),d=Object(a.useCallback)((e=>t=>{var s;return i({[e]:Array.isArray(t)?null==t||null===(s=t[0])||void 0===s?void 0:s.value:t.target.value})}),[i]),p=Object(a.useCallback)((e=>i({query_string:e})),[i]);return Object(m.jsx)("div",{className:"tvbAnnotationsEditor",key:r.id},Object(m.jsx)(g.EuiFlexGroup,{responsive:!1},Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(E,{disableTrash:!0,onChange:i,name:"color",value:r.color})),Object(m.jsx)(g.EuiFlexItem,{className:"tvbAggRow__children"},Object(m.jsx)(g.EuiFlexGroup,{responsive:!1,wrap:!0,gutterSize:"m"},Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(at,{indexPatternName:"index_pattern",onChange:i,fetchedIndex:l})),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(me,{type:Jt,label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.annotationsEditor.timeFieldLabel",defaultMessage:"Time field (required)"}),restrict:Xt,value:r.time_field,onChange:d(Jt),indexPattern:r.index_pattern,fields:t}))),Object(m.jsx)(g.EuiSpacer,{size:"m"}),Object(m.jsx)(g.EuiFlexGroup,{responsive:!1,wrap:!0,gutterSize:"m"},Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:o("queryString"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.annotationsEditor.queryStringLabel",defaultMessage:"Query string"}),fullWidth:!0},Object(m.jsx)(_e,{query:{language:r.query_string.language||pt(),query:r.query_string.query||""},onChange:p,indexPatterns:[r.index_pattern],"data-test-subj":"annotationQueryBar"}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{label:x.i18n.translate("visTypeTimeseries.annotationsEditor.ignoreGlobalFiltersLabel",{defaultMessage:"Ignore global filters?"})},Object(m.jsx)(Qe,{value:r.ignore_global_filters,name:"ignore_global_filters",onChange:i}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{label:x.i18n.translate("visTypeTimeseries.annotationsEditor.ignorePanelFiltersLabel",{defaultMessage:"Ignore panel filters?"})},Object(m.jsx)(Qe,{value:r.ignore_panel_filters,name:"ignore_panel_filters",onChange:i})))),Object(m.jsx)(g.EuiSpacer,{size:"m"}),Object(m.jsx)(g.EuiFlexGroup,{responsive:!1,wrap:!0,gutterSize:"m"},Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:o("icon"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.annotationsEditor.iconLabel",defaultMessage:"Icon (required)"})},Object(m.jsx)(Qt,{value:r.icon,onChange:d("icon")}))),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:o("fields"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.annotationsEditor.fieldsLabel",defaultMessage:"Fields (required - comma separated paths)"}),fullWidth:!0},Object(m.jsx)(g.EuiFieldText,{onChange:d("fields"),value:r.fields,fullWidth:!0,"data-test-subj":"annotationFieldsInput"}))),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:o("rowTemplate"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.annotationsEditor.rowTemplateLabel",defaultMessage:"Row template (required)"}),helpText:Object(m.jsx)("span",null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.annotationsEditor.rowTemplateHelpText",defaultMessage:"eg.{rowTemplateExample}",values:{rowTemplateExample:Object(m.jsx)(g.EuiCode,null,"{{field}}")}})),fullWidth:!0},Object(m.jsx)(g.EuiFieldText,{onChange:d("template"),value:r.template,fullWidth:!0,"data-test-subj":"annotationRowTemplateInput"}))))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(w,{onAdd:s,onDelete:n,togglePanelActivation:c,isPanelActive:!r.hidden}))))},ei=()=>({id:O.a.v1(),color:"#F00",index_pattern:"",time_field:"",icon:"fa-tag",ignore_global_filters:1,ignore_panel_filters:1}),ti=({handleAdd:e})=>Object(m.jsx)(g.EuiText,{textAlign:"center"},Object(m.jsx)("p",null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.annotationsEditor.howToCreateAnnotationDataSourceDescription",defaultMessage:"Click the button below to create an annotation data source."})),Object(m.jsx)(g.EuiButton,{fill:!0,onClick:e,"data-test-subj":"addDataSourceButton"},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.annotationsEditor.addDataSourceButtonLabel",defaultMessage:"Add data source"}))),ii=e=>({name:"annotations",...e}),si=e=>{const{annotations:t}=e.model,i=Object(a.useCallback)((()=>de.handleAdd(ii(e),ei)),[e]),s=Object(a.useCallback)((t=>()=>de.handleDelete(ii(e),t)),[e]),n=Object(a.useCallback)((t=>i=>de.handleChange(ii(e),{...t,...i})),[e]);return Object(m.jsx)("div",{className:"tvbAnnotationsEditor__container"},null!=t&&t.length?Object(m.jsx)("div",null,Object(m.jsx)(g.EuiTitle,{size:"s"},Object(m.jsx)("span",null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.annotationsEditor.dataSourcesLabel",defaultMessage:"Data sources"}))),Object(m.jsx)(g.EuiSpacer,{size:"m"}),t.map((t=>Object(m.jsx)(Zt,{key:t.id,annotation:t,fields:e.fields,onChange:n(t),handleAdd:i,handleDelete:s(t)})))):Object(m.jsx)(ti,{handleAdd:i}))};let ni;!function(e){e.DATA="data",e.OPTIONS="options",e.ANNOTATIONS="annotations",e.MARKDOWN="markdown"}(ni||(ni={}));const ai=[{label:x.i18n.translate("visTypeTimeseries.timeseries.positionOptions.rightLabel",{defaultMessage:"Right"}),value:"right"},{label:x.i18n.translate("visTypeTimeseries.timeseries.positionOptions.leftLabel",{defaultMessage:"Left"}),value:"left"}],ri=[{label:x.i18n.translate("visTypeTimeseries.timeseries.tooltipOptions.showAll",{defaultMessage:"Show all values"}),value:"show_all"},{label:x.i18n.translate("visTypeTimeseries.timeseries.tooltipOptions.showFocused",{defaultMessage:"Show focused values"}),value:"show_focused"}],oi=[{label:x.i18n.translate("visTypeTimeseries.timeseries.scaleOptions.normalLabel",{defaultMessage:"Normal"}),value:"normal"},{label:x.i18n.translate("visTypeTimeseries.timeseries.scaleOptions.logLabel",{defaultMessage:"Log"}),value:"log"}],li=[{label:x.i18n.translate("visTypeTimeseries.timeseries.legendPositionOptions.rightLabel",{defaultMessage:"Right"}),value:"right"},{label:x.i18n.translate("visTypeTimeseries.timeseries.legendPositionOptions.leftLabel",{defaultMessage:"Left"}),value:"left"},{label:x.i18n.translate("visTypeTimeseries.timeseries.legendPositionOptions.bottomLabel",{defaultMessage:"Bottom"}),value:"bottom"}];class timeseries_TimeseriesPanelConfig extends a.Component{constructor(e){super(e),n()(this,"handleTextChange",(e=>t=>this.props.onChange({[e]:t.target.value}))),this.state={selectedTab:ni.DATA}}switchTab(e){this.setState({selectedTab:e})}render(){const e={...{filter:{query:"",language:pt()},axis_max:"",axis_min:"",legend_position:"right",show_grid:1,tooltip_mode:_.h.SHOW_ALL,ignore_daylight_time:!1},...this.props.model},{selectedTab:t}=this.state,i=te(this.props.onChange),s=Object(g.htmlIdGenerator)(),n=ai.find((t=>e.axis_position===t.value)),a=oi.find((t=>e.axis_scale===t.value)),o=li.find((t=>e.legend_position===t.value)),l=ri.find((t=>e.tooltip_mode===t.value));let u;if(t===ni.DATA)u=Object(m.jsx)(series_editor_SeriesEditor,{fields:this.props.fields,model:this.props.model,onChange:this.props.onChange});else if(t===ni.ANNOTATIONS)u=Object(m.jsx)(si,{fields:this.props.fields,model:this.props.model,onChange:this.props.onChange});else{var c,d,p,b;u=Object(m.jsx)("div",{className:"tvbPanelConfig__container"},Object(m.jsx)(g.EuiPanel,null,Object(m.jsx)(g.EuiTitle,{size:"s"},Object(m.jsx)("span",null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.timeseries.optionsTab.dataLabel",defaultMessage:"Data"}))),Object(m.jsx)(g.EuiSpacer,{size:"m"}),Object(m.jsx)(dt,{fields:this.props.fields,model:this.props.model,onChange:this.props.onChange,allowLevelOfDetail:!0,allowIndexSwitchingMode:!0}),Object(m.jsx)(g.EuiHorizontalRule,null),Object(m.jsx)(g.EuiFlexGroup,{responsive:!1,wrap:!0},Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:s("panelFilter"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.timeseries.optionsTab.panelFilterLabel",defaultMessage:"Panel filter"}),fullWidth:!0},Object(m.jsx)(_e,{query:{language:(null===(c=e.filter)||void 0===c?void 0:c.language)||pt(),query:(null===(d=e.filter)||void 0===d?void 0:d.query)||""},onChange:e=>{this.props.onChange({filter:e})},indexPatterns:[e.index_pattern],"data-test-subj":"panelFilterQueryBar"}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{label:x.i18n.translate("visTypeTimeseries.timeseries.optionsTab.ignoreGlobalFilterLabel",{defaultMessage:"Ignore global filter?"})},Object(m.jsx)(Qe,{value:e.ignore_global_filter,name:"ignore_global_filter",onChange:this.props.onChange}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{label:x.i18n.translate("visTypeTimeseries.timeseries.optionsTab.ignoreDaylightTimeLabel",{defaultMessage:"Ignore daylight time?"})},Object(m.jsx)(Qe,{value:e.ignore_daylight_time,name:"ignore_daylight_time",onChange:this.props.onChange}))))),Object(m.jsx)(g.EuiSpacer,null),Object(m.jsx)(g.EuiPanel,null,Object(m.jsx)(g.EuiTitle,{size:"s"},Object(m.jsx)("span",null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.timeseries.optionsTab.styleLabel",defaultMessage:"Style"}))),Object(m.jsx)(g.EuiSpacer,{size:"m"}),Object(m.jsx)(g.EuiFlexGroup,{responsive:!1,wrap:!0,alignItems:"center"},Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:s("axisMin"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.timeseries.optionsTab.axisMinLabel",defaultMessage:"Axis min"})},Object(m.jsx)(g.EuiFieldText,{onChange:this.handleTextChange("axis_min"),value:null!==(p=e.axis_min)&&void 0!==p?p:""}))),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:s("axisMax"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.timeseries.optionsTab.axisMaxLabel",defaultMessage:"Axis max"})},Object(m.jsx)(g.EuiFieldText,{onChange:this.handleTextChange("axis_max"),value:null!==(b=e.axis_max)&&void 0!==b?b:""}))),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:s("axisPos"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.timeseries.optionsTab.axisPositionLabel",defaultMessage:"Axis position"})},Object(m.jsx)(g.EuiComboBox,{isClearable:!1,options:ai,selectedOptions:n?[n]:[],onChange:i("axis_position"),singleSelection:{asPlainText:!0}}))),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:s("axisScale"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.timeseries.optionsTab.axisScaleLabel",defaultMessage:"Axis scale"})},Object(m.jsx)(g.EuiComboBox,{isClearable:!1,options:oi,selectedOptions:a?[a]:[],onChange:i("axis_scale"),singleSelection:{asPlainText:!0}})))),Object(m.jsx)(g.EuiHorizontalRule,null),Object(m.jsx)(g.EuiFlexGroup,{responsive:!1,wrap:!0,alignItems:"center"},Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormLabel,null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.timeseries.optionsTab.backgroundColorLabel",defaultMessage:"Background color:"}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(E,{onChange:this.props.onChange,name:"background_color",value:e.background_color})),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormLabel,null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.timeseries.optionsTab.displayGridLabel",defaultMessage:"Display grid"}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(Qe,{value:e.show_grid,name:"show_grid",onChange:this.props.onChange})),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormLabel,null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.timeseries.optionsTab.tooltipMode",defaultMessage:"Tooltip"}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiComboBox,{isClearable:!1,id:s("tooltipMode"),options:ri,selectedOptions:l?[l]:[],onChange:i("tooltip_mode"),singleSelection:{asPlainText:!0}}))),Object(m.jsx)(g.EuiFlexGroup,{responsive:!1,wrap:!0,alignItems:"center"},Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormLabel,null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.timeseries.optionsTab.showLegendLabel",defaultMessage:"Show legend?"}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(Qe,{value:e.show_legend,name:"show_legend",onChange:this.props.onChange})),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormLabel,null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.timeseries.optionsTab.truncateLegendLabel",defaultMessage:"Truncate legend?"}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(Qe,{value:e.truncate_legend,name:"truncate_legend",onChange:this.props.onChange,"data-test-subj":"timeSeriesEditorDataTruncateLegendSwitch"})),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormLabel,null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.timeseries.optionsTab.maxLinesLabel",defaultMessage:"Maximum legend lines"}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFieldNumber,{"data-test-subj":"timeSeriesEditorDataMaxLegendLines",value:e.max_lines_legend,min:1,max:5,compressed:!0,disabled:!Boolean(e.truncate_legend),onChange:e=>{const t=Number(e.target.value);this.props.onChange({max_lines_legend:Math.min(5,Math.max(t,1))})}})),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormLabel,{htmlFor:s("legendPos")},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.timeseries.optionsTab.legendPositionLabel",defaultMessage:"Legend position"}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiComboBox,{isClearable:!1,id:s("legendPos"),options:li,selectedOptions:o?[o]:[],onChange:i("legend_position"),singleSelection:{asPlainText:!0}})))))}return Object(m.jsx)(r.a.Fragment,null,Object(m.jsx)(g.EuiTabs,{size:"s"},Object(m.jsx)(g.EuiTab,{isSelected:t===ni.DATA,onClick:()=>this.switchTab(ni.DATA),"data-test-subj":"timeSeriesEditorDataBtn"},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.timeseries.dataTab.dataButtonLabel",defaultMessage:"Data"})),Object(m.jsx)(g.EuiTab,{isSelected:t===ni.OPTIONS,onClick:()=>this.switchTab(ni.OPTIONS),"data-test-subj":"timeSeriesEditorPanelOptionsBtn"},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.timeseries.optionsTab.panelOptionsButtonLabel",defaultMessage:"Panel options"})),Object(m.jsx)(g.EuiTab,{isSelected:t===ni.ANNOTATIONS,onClick:()=>this.switchTab(ni.ANNOTATIONS),"data-test-subj":"timeSeriesEditorAnnotationsBtn"},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.timeseries.annotationsTab.annotationsButtonLabel",defaultMessage:"Annotations"}))),u)}}class metric_MetricPanelConfig extends a.Component{constructor(e){super(e),this.state={selectedTab:ni.DATA}}UNSAFE_componentWillMount(){const{model:e}=this.props;(!e.background_color_rules||e.background_color_rules&&0===e.background_color_rules.length)&&this.props.onChange({background_color_rules:[{id:O.a.v1()}]})}switchTab(e){this.setState({selectedTab:e})}render(){var e,t;const{selectedTab:i}=this.state,s={...{filter:{query:"",language:pt()}},...this.props.model},n=Object(g.htmlIdGenerator)(),a=i===ni.DATA?Object(m.jsx)(series_editor_SeriesEditor,{colorPicker:!1,fields:this.props.fields,limit:k[_.e.METRIC],model:this.props.model,onChange:this.props.onChange}):Object(m.jsx)("div",{className:"tvbPanelConfig__container"},Object(m.jsx)(g.EuiPanel,null,Object(m.jsx)(g.EuiTitle,{size:"s"},Object(m.jsx)("span",null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.metric.optionsTab.dataLabel",defaultMessage:"Data"}))),Object(m.jsx)(g.EuiSpacer,{size:"m"}),Object(m.jsx)(dt,{fields:this.props.fields,model:this.props.model,onChange:this.props.onChange,allowIndexSwitchingMode:!0}),Object(m.jsx)(g.EuiHorizontalRule,null),Object(m.jsx)(g.EuiFlexGroup,{responsive:!1,wrap:!0},Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:n("panelFilter"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.metric.optionsTab.panelFilterLabel",defaultMessage:"Panel filter"}),fullWidth:!0},Object(m.jsx)(_e,{query:{language:(null===(e=s.filter)||void 0===e?void 0:e.language)||pt(),query:(null===(t=s.filter)||void 0===t?void 0:t.query)||""},onChange:e=>{this.props.onChange({filter:e})},indexPatterns:[s.index_pattern]}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{label:x.i18n.translate("visTypeTimeseries.metric.optionsTab.ignoreGlobalFilterLabel",{defaultMessage:"Ignore global filter?"})},Object(m.jsx)(Qe,{value:s.ignore_global_filter,name:"ignore_global_filter",onChange:this.props.onChange}))))),Object(m.jsx)(g.EuiSpacer,null),Object(m.jsx)(g.EuiPanel,null,Object(m.jsx)(g.EuiTitle,{size:"s"},Object(m.jsx)("span",null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.metric.optionsTab.colorRulesLabel",defaultMessage:"Color rules"}))),Object(m.jsx)(g.EuiSpacer,{size:"m"}),Object(m.jsx)(color_rules_ColorRules,{model:s,onChange:this.props.onChange,name:"background_color_rules"})));return Object(m.jsx)(r.a.Fragment,null,Object(m.jsx)(g.EuiTabs,{size:"s"},Object(m.jsx)(g.EuiTab,{isSelected:i===ni.DATA,onClick:()=>this.switchTab(ni.DATA),"data-test-subj":"metricEditorDataBtn"},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.metric.dataTab.dataButtonLabel",defaultMessage:"Data"})),Object(m.jsx)(g.EuiTab,{isSelected:i===ni.OPTIONS,onClick:()=>this.switchTab(ni.OPTIONS),"data-test-subj":"metricEditorPanelOptionsBtn"},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.metric.optionsTab.panelOptionsButtonLabel",defaultMessage:"Panel options"}))),a)}}class top_n_TopNPanelConfig extends a.Component{constructor(e){super(e),n()(this,"handleTextChange",(e=>t=>this.props.onChange({[e]:t.target.value}))),this.state={selectedTab:ni.DATA}}UNSAFE_componentWillMount(){const{model:e}=this.props;e.bar_color_rules&&e.bar_color_rules.length||this.props.onChange({bar_color_rules:[{id:O.a.v1()}]})}switchTab(e){this.setState({selectedTab:e})}render(){var e,t,i;const{selectedTab:s}=this.state,n={...{drilldown_url:"",filter:{query:"",language:pt()}},...this.props.model},a=Object(g.htmlIdGenerator)(),o=s===ni.DATA?Object(m.jsx)(series_editor_SeriesEditor,{colorPicker:!1,fields:this.props.fields,model:this.props.model,onChange:this.props.onChange}):Object(m.jsx)("div",{className:"tvbPanelConfig__container"},Object(m.jsx)(g.EuiPanel,null,Object(m.jsx)(g.EuiTitle,{size:"s"},Object(m.jsx)("span",null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.topN.optionsTab.dataLabel",defaultMessage:"Data"}))),Object(m.jsx)(g.EuiSpacer,{size:"m"}),Object(m.jsx)(g.EuiFormRow,{id:a("itemUrl"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.topN.optionsTab.itemUrlLabel",defaultMessage:"Item url"}),helpText:Object(m.jsx)("span",null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.topN.optionsTab.itemUrlDescription",defaultMessage:"This supports mustache templating. {key} is set to the term.",values:{key:Object(m.jsx)(g.EuiCode,null,"{{key}}")}}))},Object(m.jsx)(g.EuiFieldText,{onChange:this.handleTextChange("drilldown_url"),value:null!==(e=n.drilldown_url)&&void 0!==e?e:""})),Object(m.jsx)(g.EuiHorizontalRule,null),Object(m.jsx)(dt,{fields:this.props.fields,model:this.props.model,onChange:this.props.onChange,allowIndexSwitchingMode:!0}),Object(m.jsx)(g.EuiHorizontalRule,null),Object(m.jsx)(g.EuiFlexGroup,{responsive:!1,wrap:!0},Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:a("panelFilter"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.topN.optionsTab.panelFilterLabel",defaultMessage:"Panel filter"}),fullWidth:!0},Object(m.jsx)(_e,{query:{language:(null===(t=n.filter)||void 0===t?void 0:t.language)||pt(),query:(null===(i=n.filter)||void 0===i?void 0:i.query)||""},onChange:e=>{this.props.onChange({filter:e})},indexPatterns:[n.index_pattern]}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{label:x.i18n.translate("visTypeTimeseries.topN.optionsTab.ignoreGlobalFilterLabel",{defaultMessage:"Ignore global filter?"})},Object(m.jsx)(Qe,{value:n.ignore_global_filter,name:"ignore_global_filter",onChange:this.props.onChange}))))),Object(m.jsx)(g.EuiSpacer,null),Object(m.jsx)(g.EuiPanel,null,Object(m.jsx)(g.EuiTitle,{size:"s"},Object(m.jsx)("span",null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.topN.optionsTab.styleLabel",defaultMessage:"Style"}))),Object(m.jsx)(g.EuiSpacer,{size:"m"}),Object(m.jsx)(g.EuiFlexGroup,{responsive:!1,wrap:!0,alignItems:"center"},Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormLabel,null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.topN.optionsTab.backgroundColorLabel",defaultMessage:"Background color:"}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(E,{onChange:this.props.onChange,name:"background_color",value:n.background_color}))),Object(m.jsx)(g.EuiHorizontalRule,null),Object(m.jsx)(g.EuiTitle,{size:"xxs"},Object(m.jsx)("span",null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.topN.optionsTab.colorRulesLabel",defaultMessage:"Color rules"}))),Object(m.jsx)(g.EuiSpacer,{size:"s"}),Object(m.jsx)(color_rules_ColorRules,{model:n,primaryVarName:"bar_color",primaryName:"bar",hideSecondary:!0,onChange:this.props.onChange,name:"bar_color_rules"})));return Object(m.jsx)(r.a.Fragment,null,Object(m.jsx)(g.EuiTabs,{size:"s"},Object(m.jsx)(g.EuiTab,{isSelected:s===ni.DATA,onClick:()=>this.switchTab(ni.DATA),"data-test-subj":"topNEditorDataBtn"},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.topN.dataTab.dataButtonLabel",defaultMessage:"Data"})),Object(m.jsx)(g.EuiTab,{isSelected:s===ni.OPTIONS,onClick:()=>this.switchTab(ni.OPTIONS),"data-test-subj":"topNEditorPanelOptionsBtn"},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.topN.optionsTab.panelOptionsButtonLabel",defaultMessage:"Panel options"}))),o)}}class table_TablePanelConfig extends a.Component{constructor(e){super(e),n()(this,"handlePivotChange",(e=>{const{fields:t,model:i}=this.props,s=Object(u.get)(e,"[0].value",null),n=t[Object(se.c)(i.index_pattern)].find((e=>e.name===s)),a=Object(u.get)(n,"type",i.pivot_type);this.props.onChange({pivot_id:s,pivot_type:a})})),n()(this,"handleTextChange",(e=>t=>this.props.onChange({[e]:t.target.value}))),this.state={selectedTab:ni.DATA}}UNSAFE_componentWillMount(){const{model:e}=this.props;e.bar_color_rules&&e.bar_color_rules.length||this.props.onChange({bar_color_rules:[{id:O.a.v1()}]})}switchTab(e){this.setState({selectedTab:e})}render(){var e,t,i,s,n;const{selectedTab:a}=this.state,o={...{drilldown_url:"",filter:{query:"",language:pt()},pivot_label:"",pivot_rows:10,pivot_type:""},...this.props.model},l=Object(g.htmlIdGenerator)(),u=a===ni.DATA?Object(m.jsx)("div",null,Object(m.jsx)("div",{className:"tvbPanelConfig__container"},Object(m.jsx)(g.EuiPanel,null,Object(m.jsx)(g.EuiText,null,Object(m.jsx)("p",null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.table.dataTab.defineFieldDescription",defaultMessage:"For the table visualization you need to define a field to group by using a terms aggregation."}))),Object(m.jsx)(g.EuiSpacer,{size:"m"}),Object(m.jsx)(g.EuiFlexGroup,{responsive:!1,wrap:!0},Object(m.jsx)(g.EuiFlexItem,{"data-test-subj":"groupByField"},Object(m.jsx)(me,{label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.table.dataTab.groupByFieldLabel",defaultMessage:"Group by field"}),restrict:[be.KBN_FIELD_TYPES.NUMBER,be.KBN_FIELD_TYPES.BOOLEAN,be.KBN_FIELD_TYPES.DATE,be.KBN_FIELD_TYPES.IP,be.KBN_FIELD_TYPES.STRING],fields:this.props.fields,value:o.pivot_id,indexPattern:o.index_pattern,onChange:this.handlePivotChange,uiRestrictions:this.context.uiRestrictions,type:_.a.TERMS})),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:l("pivotLabelInput"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.table.dataTab.columnLabel",defaultMessage:"Column label"}),fullWidth:!0},Object(m.jsx)(g.EuiFieldText,{"data-test-subj":"columnLabelName",onChange:this.handleTextChange("pivot_label"),value:null!==(e=o.pivot_label)&&void 0!==e?e:"",fullWidth:!0}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{id:l("pivotRowsInput"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.table.dataTab.rowsLabel",defaultMessage:"Rows"})},Object(m.jsx)("input",{className:"tvbAgg__input",type:"number",onChange:this.handleTextChange("pivot_rows"),value:null!==(t=o.pivot_rows)&&void 0!==t?t:""})))))),Object(m.jsx)(series_editor_SeriesEditor,{fields:this.props.fields,model:this.props.model,onChange:this.props.onChange})):Object(m.jsx)("div",{className:"tvbPanelConfig__container"},Object(m.jsx)(g.EuiPanel,null,Object(m.jsx)(g.EuiTitle,{size:"s"},Object(m.jsx)("span",null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.table.optionsTab.dataLabel",defaultMessage:"Data"}))),Object(m.jsx)(g.EuiSpacer,{size:"m"}),Object(m.jsx)(g.EuiFormRow,{id:l("drilldownInput"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.table.optionsTab.itemUrlLabel",defaultMessage:"Item url"}),helpText:Object(m.jsx)("span",null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.table.optionsTab.itemUrlHelpText",defaultMessage:"This supports mustache templating. {key} is set to the term.",values:{key:Object(m.jsx)(g.EuiCode,null,"{{key}}")}}))},Object(m.jsx)(g.EuiFieldText,{onChange:this.handleTextChange("drilldown_url"),value:null!==(i=o.drilldown_url)&&void 0!==i?i:"","data-test-subj":"drilldownUrl"})),Object(m.jsx)(g.EuiHorizontalRule,null),Object(m.jsx)(dt,{fields:this.props.fields,model:this.props.model,onChange:this.props.onChange,allowIndexSwitchingMode:!0}),Object(m.jsx)(g.EuiHorizontalRule,null),Object(m.jsx)(g.EuiFlexGroup,{responsive:!1,wrap:!0},Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:l("panelFilterInput"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.table.optionsTab.panelFilterLabel",defaultMessage:"Panel filter"}),fullWidth:!0},Object(m.jsx)(_e,{query:{language:(null===(s=o.filter)||void 0===s?void 0:s.language)||pt(),query:(null===(n=o.filter)||void 0===n?void 0:n.query)||""},onChange:e=>{this.props.onChange({filter:e})},indexPatterns:[o.index_pattern]}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{label:x.i18n.translate("visTypeTimeseries.table.optionsTab.ignoreGlobalFilterLabel",{defaultMessage:"Ignore global filter?"})},Object(m.jsx)(Qe,{value:o.ignore_global_filter,name:"ignore_global_filter",onChange:this.props.onChange}))))));return Object(m.jsx)(r.a.Fragment,null,Object(m.jsx)(g.EuiTabs,{size:"s"},Object(m.jsx)(g.EuiTab,{isSelected:a===ni.DATA,onClick:()=>this.switchTab(ni.DATA),"data-test-subj":"tableEditorDataBtn"},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.table.dataTab.columnsButtonLabel",defaultMessage:"Columns"})),Object(m.jsx)(g.EuiTab,{isSelected:a===ni.OPTIONS,onClick:()=>this.switchTab(ni.OPTIONS),"data-test-subj":"tableEditorPanelOptionsBtn"},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.table.optionsTab.panelOptionsButtonLabel",defaultMessage:"Panel options"}))),u)}}n()(table_TablePanelConfig,"contextType",v);class gauge_GaugePanelConfig extends a.Component{constructor(e){super(e),n()(this,"handleTextChange",(e=>t=>this.props.onChange({[e]:t.target.value}))),this.state={selectedTab:ni.DATA}}UNSAFE_componentWillMount(){const{model:e}=this.props,t={};e.gauge_color_rules&&e.gauge_color_rules.length||(t.gauge_color_rules=[{id:O.a.v1()}]),null==e.gauge_width&&(t.gauge_width=10),null==e.gauge_inner_width&&(t.gauge_inner_width=10),null==e.gauge_style&&(t.gauge_style="half"),this.props.onChange(t)}switchTab(e){this.setState({selectedTab:e})}render(){var e,t;const{selectedTab:i}=this.state,s={...{gauge_max:"",filter:{query:"",language:pt()},gauge_style:"circle",gauge_inner_width:"",gauge_width:""},...this.props.model},n=te(this.props.onChange),a=[{label:x.i18n.translate("visTypeTimeseries.gauge.styleOptions.circleLabel",{defaultMessage:"Circle"}),value:"circle"},{label:x.i18n.translate("visTypeTimeseries.gauge.styleOptions.halfCircleLabel",{defaultMessage:"Half Circle"}),value:"half"}],o=Object(g.htmlIdGenerator)(),l=a.find((e=>s.gauge_style===e.value)),u=i===ni.DATA?Object(m.jsx)(series_editor_SeriesEditor,{colorPicker:!0,fields:this.props.fields,limit:k[_.e.GAUGE],model:this.props.model,onChange:this.props.onChange}):Object(m.jsx)("div",{className:"tvbPanelConfig__container"},Object(m.jsx)(g.EuiPanel,null,Object(m.jsx)(g.EuiTitle,{size:"s"},Object(m.jsx)("span",null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.gauge.optionsTab.dataLabel",defaultMessage:"Data"}))),Object(m.jsx)(g.EuiSpacer,{size:"m"}),Object(m.jsx)(dt,{fields:this.props.fields,model:this.props.model,onChange:this.props.onChange,allowIndexSwitchingMode:!0}),Object(m.jsx)(g.EuiHorizontalRule,null),Object(m.jsx)(g.EuiFlexGroup,{responsive:!1,wrap:!0},Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:o("panelFilter"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.gauge.optionsTab.panelFilterLabel",defaultMessage:"Panel filter"}),fullWidth:!0},Object(m.jsx)(_e,{query:{language:(null===(e=s.filter)||void 0===e?void 0:e.language)||pt(),query:(null===(t=s.filter)||void 0===t?void 0:t.query)||""},onChange:e=>{this.props.onChange({filter:e})},indexPatterns:[s.index_pattern]}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{label:x.i18n.translate("visTypeTimeseries.gauge.optionsTab.ignoreGlobalFilterLabel",{defaultMessage:"Ignore global filter?"})},Object(m.jsx)(Qe,{value:s.ignore_global_filter,name:"ignore_global_filter",onChange:this.props.onChange}))))),Object(m.jsx)(g.EuiSpacer,null),Object(m.jsx)(g.EuiPanel,null,Object(m.jsx)(g.EuiTitle,{size:"s"},Object(m.jsx)("span",null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.gauge.optionsTab.styleLabel",defaultMessage:"Style"}))),Object(m.jsx)(g.EuiSpacer,{size:"m"}),Object(m.jsx)(g.EuiFlexGroup,{responsive:!1,wrap:!0},Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:o("gaugeMax"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.gauge.optionsTab.gaugeMaxLabel",defaultMessage:"Gauge max (empty for auto)"})},Object(m.jsx)(g.EuiFieldNumber,{onChange:this.handleTextChange("gauge_max"),value:s.gauge_max}))),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:o("gaugeStyle"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.gauge.optionsTab.gaugeStyleLabel",defaultMessage:"Gauge style"})},Object(m.jsx)(g.EuiComboBox,{isClearable:!1,options:a,selectedOptions:l?[l]:[],onChange:n("gauge_style"),singleSelection:{asPlainText:!0}}))),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:o("innerLine"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.gauge.optionsTab.innerLineWidthLabel",defaultMessage:"Inner line width"})},Object(m.jsx)(g.EuiFieldNumber,{onChange:this.handleTextChange("gauge_inner_width"),value:Number(s.gauge_inner_width)}))),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:o("gaugeLine"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.gauge.optionsTab.gaugeLineWidthLabel",defaultMessage:"Gauge line width"})},Object(m.jsx)(g.EuiFieldNumber,{onChange:this.handleTextChange("gauge_width"),value:Number(s.gauge_width)})))),Object(m.jsx)(g.EuiHorizontalRule,null),Object(m.jsx)(g.EuiFlexGroup,{responsive:!1,wrap:!0,alignItems:"center"},Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormLabel,null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.gauge.optionsTab.backgroundColorLabel",defaultMessage:"Background color:"}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(E,{onChange:this.props.onChange,name:"background_color",value:s.background_color})),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormLabel,null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.gauge.optionsTab.innerColorLabel",defaultMessage:"Inner color:"}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(E,{onChange:this.props.onChange,name:"gauge_inner_color",value:s.gauge_inner_color}))),Object(m.jsx)(g.EuiHorizontalRule,null),Object(m.jsx)(g.EuiTitle,{size:"xxs"},Object(m.jsx)("span",null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.gauge.optionsTab.colorRulesLabel",defaultMessage:"Color rules"}))),Object(m.jsx)(g.EuiSpacer,{size:"s"}),Object(m.jsx)(color_rules_ColorRules,{primaryName:"gauge color",primaryVarName:"gauge",secondaryName:"text color",secondaryVarName:"text",model:s,onChange:this.props.onChange,name:"gauge_color_rules"})));return Object(m.jsx)(r.a.Fragment,null,Object(m.jsx)(g.EuiTabs,{size:"s"},Object(m.jsx)(g.EuiTab,{isSelected:i===ni.DATA,onClick:()=>this.switchTab(ni.DATA),"data-test-subj":"gaugeEditorDataBtn"},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.gauge.dataTab.dataButtonLabel",defaultMessage:"Data"})),Object(m.jsx)(g.EuiTab,{isSelected:i===ni.OPTIONS,onClick:()=>this.switchTab(ni.OPTIONS),"data-test-subj":"gaugeEditorPanelOptionsBtn"},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.gauge.optionsTab.panelOptionsButtonLabel",defaultMessage:"Panel options"}))),u)}}var ui=i(158),ci=i.n(ui),di=(i(208),i(53)),pi=i(100);class markdown_editor_MarkdownEditor extends a.Component{constructor(e){super(e),n()(this,"handleChange",(e=>{this.props.onChange({markdown:e})})),n()(this,"handleOnLoad",(e=>{this.editor=e})),n()(this,"handleVarClick",(e=>()=>{if(this.editor){const t=this.editor.getSelection();this.editor.executeEdits("",[{range:t,text:e}])}})),this.state={fieldFormatMap:void 0}}async componentDidMount(){const{indexPatterns:e}=Object(Me.c)(),{indexPattern:t}=await Object(se.b)(this.props.model.index_pattern,e);this.setState({fieldFormatMap:null==t?void 0:t.fieldFormatMap})}render(){const{visData:e,model:t,getConfig:i}=this.props;if(!e)return null;const s=c.a.get(e,`${t.id}.series`,[]),n=Object(pi.a)(s,t,i,this.state.fieldFormatMap),a=[],r=Object(di.a)("0.[0000]",null,i),o=e=>{const t=`{{ ${e} }}`;let i=c.a.get(n,e);/raw$/.test(e)&&(i=r(i)),a.push(Object(m.jsx)("tr",{key:e},Object(m.jsx)("td",null,Object(m.jsx)("a",{onClick:this.handleVarClick(t)},t)),Object(m.jsx)("td",null,Object(m.jsx)("code",null,"“",i,"”"))))},l=e=>{const t=`{{# ${e} }}{{/ ${e} }}`,i=c.a.get(n,`${e}[0][0]`);let s=c.a.get(n,`${e}[0][1]`);/raw$/.test(e)&&(s=r(s)),a.push(Object(m.jsx)("tr",{key:e},Object(m.jsx)("td",null,Object(m.jsx)("a",{onClick:this.handleVarClick(t)},`{{ ${e} }}`)),Object(m.jsx)("td",null,Object(m.jsx)("code",null,"[ [ “",i,"”, “",s,"” ], ... ]"))))};return function e(t,i=[]){for(const s in t)Array.isArray(t[s])?l(i.concat(s).join(".")):c.a.isObject(t[s])?e(t[s],i.concat(s)):o(i.concat(s).join("."))}(n),Object(m.jsx)("div",{className:"tvbMarkdownEditor"},Object(m.jsx)("div",{className:"tvbMarkdownEditor__editor"},Object(m.jsx)(d.CodeEditor,{editorDidMount:this.handleOnLoad,languageId:d.MarkdownLang,options:{fontSize:"14px",wordWrap:"on"},value:t.markdown,onChange:this.handleChange})),Object(m.jsx)("div",{className:"tvbMarkdownEditor__variables"},Object(m.jsx)(g.EuiText,null,Object(m.jsx)("p",null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.markdownEditor.howToUseVariablesInMarkdownDescription",defaultMessage:"The following variables can be used in the Markdown by using the Handlebar (mustache) syntax. {handlebarLink} on the available expressions.",values:{handlebarLink:Object(m.jsx)("a",{href:"https://ela.st/handlebars-docs",target:"_BLANK",rel:"noreferrer noopener"},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.markdownEditor.howUseVariablesInMarkdownDescription.documentationLinkText",defaultMessage:"Click here for documentation"}))}}))),Object(m.jsx)("table",{className:"table","data-test-subj":"tsvbMarkdownVariablesTable"},Object(m.jsx)("thead",null,Object(m.jsx)("tr",null,Object(m.jsx)("th",{scope:"col"},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.markdownEditor.nameLabel",defaultMessage:"Name"})),Object(m.jsx)("th",{scope:"col"},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.markdownEditor.valueLabel",defaultMessage:"Value"})))),Object(m.jsx)("tbody",null,a)),0===a.length&&Object(m.jsx)(g.EuiTitle,{size:"xxs",className:"tsvbMarkdownVariablesTable__noVariables","data-test-subj":"tvbMarkdownEditor__noVariables"},Object(m.jsx)("span",null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.markdownEditor.noVariablesAvailableDescription",defaultMessage:"No variables available for the selected data metrics."}))),Object(m.jsx)(g.EuiSpacer,null),Object(m.jsx)(g.EuiText,null,Object(m.jsx)("p",null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.markdownEditor.howToAccessEntireTreeDescription",defaultMessage:"There is also a special variable named {all} which you can use to access the entire tree. This is useful for creating lists with data from a group by:",values:{all:Object(m.jsx)("code",null,"_all")}}))),Object(m.jsx)(g.EuiSpacer,null),Object(m.jsx)(g.EuiCodeBlock,null,"# All servers:\n\n    {{#each _all}}\n    - {{ label }} {{ last.formatted }}\n    {{/each}}")))}}const gi=ci()(window,{env:"production"});class markdown_MarkdownPanelConfig extends a.Component{constructor(e){super(e),this.state={selectedTab:ni.MARKDOWN},this.handleCSSChange=this.handleCSSChange.bind(this)}switchTab(e){this.setState({selectedTab:e})}handleCSSChange(e){const{model:t}=this.props,i=`#markdown-${t.id} {${e}}`;gi.render(i,{compress:!0,javascriptEnabled:!1},((t,i)=>{const s={markdown_less:e};i&&(s.markdown_css=i.css),this.props.onChange(s)}))}render(){const e={...{filter:{query:"",language:pt()}},...this.props.model},{selectedTab:t}=this.state,i=te(this.props.onChange),s=Object(g.htmlIdGenerator)(),n=[{label:x.i18n.translate("visTypeTimeseries.markdown.alignOptions.topLabel",{defaultMessage:"Top"}),value:"top"},{label:x.i18n.translate("visTypeTimeseries.markdown.alignOptions.middleLabel",{defaultMessage:"Middle"}),value:"middle"},{label:x.i18n.translate("visTypeTimeseries.markdown.alignOptions.bottomLabel",{defaultMessage:"Bottom"}),value:"bottom"}],a=n.find((t=>e.markdown_vertical_align===t.value));let o;if(t===ni.MARKDOWN)o=Object(m.jsx)(v.Consumer,null,(e=>Object(m.jsx)(markdown_editor_MarkdownEditor,F()({visData:e},this.props))));else if(t===ni.DATA)o=Object(m.jsx)(series_editor_SeriesEditor,{colorPicker:!1,fields:this.props.fields,model:this.props.model,onChange:this.props.onChange});else{var l,u,c;o=Object(m.jsx)("div",{className:"tvbPanelConfig__container"},Object(m.jsx)(g.EuiPanel,null,Object(m.jsx)(g.EuiTitle,{size:"s"},Object(m.jsx)("span",null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.markdown.optionsTab.dataLabel",defaultMessage:"Data"}))),Object(m.jsx)(g.EuiSpacer,{size:"m"}),Object(m.jsx)(dt,{fields:this.props.fields,model:this.props.model,onChange:this.props.onChange,allowIndexSwitchingMode:!0}),Object(m.jsx)(g.EuiHorizontalRule,null),Object(m.jsx)(g.EuiFlexGroup,{responsive:!1,wrap:!0},Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiFormRow,{id:s("panelFilter"),label:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.markdown.optionsTab.panelFilterLabel",defaultMessage:"Panel filter"}),fullWidth:!0},Object(m.jsx)(_e,{query:{language:(null===(l=e.filter)||void 0===l?void 0:l.language)||pt(),query:(null===(u=e.filter)||void 0===u?void 0:u.query)||""},onChange:e=>{this.props.onChange({filter:e})},indexPatterns:[e.index_pattern]}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{label:x.i18n.translate("visTypeTimeseries.markdown.optionsTab.ignoreGlobalFilterLabel",{defaultMessage:"Ignore global filter?"})},Object(m.jsx)(Qe,{value:e.ignore_global_filter,name:"ignore_global_filter",onChange:this.props.onChange}))))),Object(m.jsx)(g.EuiSpacer,null),Object(m.jsx)(g.EuiPanel,null,Object(m.jsx)(g.EuiTitle,{size:"s"},Object(m.jsx)("span",null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.markdown.optionsTab.styleLabel",defaultMessage:"Style"}))),Object(m.jsx)(g.EuiSpacer,{size:"m"}),Object(m.jsx)(g.EuiFlexGroup,{responsive:!1,wrap:!0,alignItems:"center"},Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormLabel,null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.markdown.optionsTab.backgroundColorLabel",defaultMessage:"Background color:"}))),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(E,{onChange:this.props.onChange,name:"background_color",value:e.background_color})),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{label:x.i18n.translate("visTypeTimeseries.markdown.optionsTab.showScrollbarsLabel",{defaultMessage:"Show scrollbars?"})},Object(m.jsx)(Qe,{value:e.markdown_scrollbars,name:"markdown_scrollbars",onChange:this.props.onChange}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormRow,{label:x.i18n.translate("visTypeTimeseries.markdown.optionsTab.openLinksInNewTab",{defaultMessage:"Open links in new tab?"})},Object(m.jsx)(Qe,{value:e.markdown_openLinksInNewTab,name:"markdown_openLinksInNewTab",onChange:this.props.onChange}))),Object(m.jsx)(g.EuiFlexItem,{grow:!1},Object(m.jsx)(g.EuiFormLabel,{htmlFor:s("valign")},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.markdown.optionsTab.verticalAlignmentLabel",defaultMessage:"Vertical alignment:"}))),Object(m.jsx)(g.EuiFlexItem,null,Object(m.jsx)(g.EuiComboBox,{id:s("valign"),isClearable:!1,options:n,selectedOptions:a?[a]:[],onChange:i("markdown_vertical_align"),singleSelection:{asPlainText:!0}}))),Object(m.jsx)(g.EuiHorizontalRule,null),Object(m.jsx)(g.EuiTitle,{size:"xxs"},Object(m.jsx)("span",null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.markdown.optionsTab.customCSSLabel",defaultMessage:"Custom CSS (supports Less)",description:"CSS and Less are names of technologies and should not be translated."}))),Object(m.jsx)(g.EuiSpacer,{size:"s"}),Object(m.jsx)(d.CodeEditor,{height:"500px",languageId:d.CssLang,options:{fontSize:14},value:null!==(c=e.markdown_less)&&void 0!==c?c:"",onChange:this.handleCSSChange})))}return Object(m.jsx)(r.a.Fragment,null,Object(m.jsx)(g.EuiTabs,{size:"s"},Object(m.jsx)(g.EuiTab,{isSelected:t===ni.MARKDOWN,onClick:()=>this.switchTab(ni.MARKDOWN),"data-test-subj":"markdown-subtab"},"Markdown"),Object(m.jsx)(g.EuiTab,{"data-test-subj":"data-subtab",isSelected:t===ni.DATA,onClick:()=>this.switchTab(ni.DATA)},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.markdown.dataTab.dataButtonLabel",defaultMessage:"Data"})),Object(m.jsx)(g.EuiTab,{isSelected:t===ni.OPTIONS,onClick:()=>this.switchTab(ni.OPTIONS),"data-test-subj":"options-subtab"},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.markdown.optionsTab.panelOptionsButtonLabel",defaultMessage:"Panel options"}))),o)}}const hi={timeseries:timeseries_TimeseriesPanelConfig,table:table_TablePanelConfig,metric:metric_MetricPanelConfig,top_n:top_n_TopNPanelConfig,gauge:gauge_GaugePanelConfig,markdown:markdown_MarkdownPanelConfig};function mi(e){const{model:t,onChange:i}=e,s=hi[t.type],n=Object(a.useRef)({}),[r,o]=Object(a.useState)({});Object(a.useEffect)((()=>{const t=e.visData$.subscribe(((e={})=>o(e)));return()=>t.unsubscribe()}),[t.id,e.visData$]);const l=Object(a.useCallback)(((e,t)=>{var s;n.current[e]=t,i({isModelInvalid:(s=n.current,!Object.values(s).every((e=>e)))})}),[i]);return s?Object(m.jsx)(f.Provider,{value:l},Object(m.jsx)(j.Provider,{value:t},Object(m.jsx)(v.Provider,{value:r},Object(m.jsx)("div",{"data-test-subj":`tvbPanelConfig__${t.type}`},Object(m.jsx)(s,e))))):Object(m.jsx)("div",null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.missingPanelConfigDescription",defaultMessage:"Missing panel config for “{modelType}”",values:{modelType:t.type}}))}const bi=[{type:_.e.TIMESERIES,label:x.i18n.translate("visTypeTimeseries.visPicker.timeSeriesLabel",{defaultMessage:"Time Series"})},{type:_.e.METRIC,label:x.i18n.translate("visTypeTimeseries.visPicker.metricLabel",{defaultMessage:"Metric"})},{type:_.e.TOP_N,label:x.i18n.translate("visTypeTimeseries.visPicker.topNLabel",{defaultMessage:"Top N"})},{type:_.e.GAUGE,label:x.i18n.translate("visTypeTimeseries.visPicker.gaugeLabel",{defaultMessage:"Gauge"})},{type:_.e.MARKDOWN,label:"Markdown"},{type:_.e.TABLE,label:x.i18n.translate("visTypeTimeseries.visPicker.tableLabel",{defaultMessage:"Table"})}],fi=({onChange:e,currentVisType:t})=>Object(m.jsx)(g.EuiTabs,{size:"l"},bi.map((({label:i,type:s})=>Object(m.jsx)(g.EuiTab,{key:s,isSelected:s===t,onClick:()=>e({type:s}),"data-test-subj":`${s}TsvbTypeBtn`},i))));async function vi(e=[],t){const i=Array.isArray(e)?e:[e],s=Object(Me.b)(),n=Object(Me.c)(),a=s.uiSettings.get("defaultIndex");try{const e=await Promise.all(i.map((async e=>"string"!=typeof e&&null!=e&&e.id?(e=>e.filter((e=>e.aggregatable&&!Object(U.isNestedField)(e))).map((e=>{var t;return{name:e.name,label:null!==(t=e.customLabel)&&void 0!==t?t:e.name,type:e.type}})))((await n.indexPatterns.get(e.id)).getNonScriptedFields()):s.http.get(je.c.FIELDS,{query:{index:`${null!=e?e:""}`},signal:t}))));return i.reduce(((t,i,s)=>{const n=Object(se.c)(i);return{...t,[n]:e[s],...n===a?{"":e[s]}:{}}}),{})}catch(e){"AbortError"!==e.name&&Object(Me.b)().notifications.toasts.addDanger({title:x.i18n.translate("visTypeTimeseries.fetchFields.loadIndexPatternFieldsErrorMessage",{defaultMessage:"Unable to load index_pattern fields"}),text:e.message})}return{}}var ji=i(230),xi=i.n(ji);const yi=()=>{const[e,t]=xi()("TSVB_INDEX_PATTERN_CALLOUT_HIDDEN",!1),i=Object(a.useMemo)((()=>Object(Me.b)().docLinks.links.visualize.tsvbIndexPatternMode),[]),s=Object(a.useCallback)((()=>{t(!0)}),[t]);return e?null:Object(m.jsx)(g.EuiCallOut,{title:Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.visEditorVisualization.indexPatternMode.notificationTitle",defaultMessage:"TSVB now supports index patterns"}),iconType:"cheer",size:"s"},Object(m.jsx)("p",null,Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.visEditorVisualization.indexPatternMode.notificationMessage",defaultMessage:"Great news! You can now visualize the data from Elasticsearch indices or Kibana index patterns. {indexPatternModeLink}.",values:{indexPatternModeLink:Object(m.jsx)(g.EuiLink,{href:i,target:"_blank",external:!0},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.visEditorVisualization.indexPatternMode.link",defaultMessage:"Check it out."}))}})),Object(m.jsx)(g.EuiFlexGroup,{gutterSize:"none"},Object(m.jsx)(g.EuiButton,{size:"s",onClick:s},Object(m.jsx)(h.FormattedMessage,{id:"visTypeTimeseries.visEditorVisualization.indexPatternMode.dismissNoticeButtonText",defaultMessage:"Dismiss"}))))};class vis_editor_VisEditor extends a.Component{constructor(e){super(e),n()(this,"abortControllerFetchFields",void 0),n()(this,"localStorage",void 0),n()(this,"visDataSubject",void 0),n()(this,"visData$",void 0),n()(this,"getConfig",(e=>this.props.config.get(e))),n()(this,"updateVisState",Object(u.debounce)((()=>{this.props.vis.params=this.state.model,this.props.embeddableHandler.reload(),this.props.eventEmitter.emit("dirtyStateChange",{isDirty:!1})}),200)),n()(this,"abortableFetchFields",(e=>{var t;return null===(t=this.abortControllerFetchFields)||void 0===t||t.abort(),this.abortControllerFetchFields=new AbortController,vi(e,this.abortControllerFetchFields.signal)})),n()(this,"handleChange",(e=>{if(Object(u.isEmpty)(e))return;const t=e.type&&this.state.model.type!==e.type;let i=!0;(this.state.autoApply||t)&&(this.updateVisState(),i=!1);const s={...this.state.model,...e},n=Object(se.a)(s,this.getDefaultIndex());Object(u.isEqual)(this.state.extractedIndexPatterns,n)||this.abortableFetchFields(n).then((e=>{this.setState({visFields:e,extractedIndexPatterns:n})})),this.setState({dirty:i,model:s})})),n()(this,"updateModel",(()=>{const{params:e}=this.props.vis.clone();this.setState({model:e})})),n()(this,"handleCommit",(()=>{this.updateVisState(),this.setState({dirty:!1})})),n()(this,"handleAutoApplyToggle",(e=>{this.setState({autoApply:e.target.checked})})),n()(this,"onDataChange",(e=>{this.visDataSubject.next(null==e?void 0:e.visData)})),this.localStorage=new p.Storage(window.localStorage),this.state={autoApply:!0,dirty:!1,model:{[_.g]:this.props.vis.title&&"timeseries"!==this.props.vis.params.type?_.f.LAST_VALUE:_.f.ENTIRE_TIME_RANGE,...this.props.vis.params,series:this.props.vis.params.series.map((e=>({[_.g]:this.props.vis.title&&"timeseries"!==this.props.vis.params.type&&e.override_index_pattern?_.f.LAST_VALUE:_.f.ENTIRE_TIME_RANGE,...e})))},extractedIndexPatterns:[""]},this.visDataSubject=new o.BehaviorSubject(void 0),this.visData$=this.visDataSubject.asObservable().pipe(Object(l.share)())}render(){const{model:e,visFields:t}=this.state;return t?Object(m.jsx)(d.KibanaContextProvider,{services:{appName:"VisEditor",storage:this.localStorage,data:Object(Me.c)(),...Object(Me.b)()}},Object(m.jsx)("div",{className:"tvbEditor","data-test-subj":"tvbVisEditor"},!this.props.vis.params.use_kibana_indexes&&Object(m.jsx)(yi,null),Object(m.jsx)("div",{className:"tvbEditor--hideForReporting"},Object(m.jsx)(fi,{currentVisType:e.type,onChange:this.handleChange})),Object(m.jsx)(b,{dirty:this.state.dirty,autoApply:this.state.autoApply,model:e,embeddableHandler:this.props.embeddableHandler,eventEmitter:this.props.eventEmitter,vis:this.props.vis,timeRange:this.props.timeRange,filters:this.props.filters,query:this.props.query,uiState:this.props.uiState,onCommit:this.handleCommit,onToggleAutoApply:this.handleAutoApplyToggle,title:this.props.vis.title,description:this.props.vis.description,onDataChange:this.onDataChange}),Object(m.jsx)("div",{className:"tvbEditor--hideForReporting"},Object(m.jsx)(mi,{fields:t,model:e,visData$:this.visData$,onChange:this.handleChange,getConfig:this.getConfig})))):null}async componentDidMount(){const e=Object(se.a)(this.props.vis.params,this.getDefaultIndex()),t=await vi(e);this.setState({visFields:t}),this.props.eventEmitter.on("updateEditor",this.updateModel)}componentWillUnmount(){this.updateVisState.cancel(),this.props.eventEmitter.off("updateEditor",this.updateModel)}getDefaultIndex(){var e;return null!==(e=this.props.config.get("defaultIndex"))&&void 0!==e?e:""}}}])]);