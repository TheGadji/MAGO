/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.enterpriseSearch_bundle_jsonpfunction=window.enterpriseSearch_bundle_jsonpfunction||[]).push([[2],{30:function(e,s,t){"use strict";t.d(s,"a",(function(){return u})),t.d(s,"c",(function(){return l})),t.d(s,"b",(function(){return i.a})),t.d(s,"h",(function(){return i.b})),t.d(s,"e",(function(){return d.b})),t.d(s,"i",(function(){return g})),t.d(s,"k",(function(){return h})),t.d(s,"j",(function(){return b})),t.d(s,"g",(function(){return f})),t.d(s,"f",(function(){return m})),t.d(s,"d",(function(){return p}));var r=t(10),n=t(24),a=t(12);const o={success:{color:"success",iconType:"check"},info:{color:"primary",iconType:"iInCircle"},warning:{color:"warning",iconType:"alert"},error:{color:"danger",iconType:"alert"}};var i=t(48),c=t(11);const u=({children:e})=>{const{messages:s}=Object(n.useValues)(i.a);return Object(c.jsx)("div",{"aria-live":"polite","data-test-subj":"FlashMessages"},s.map((({type:e,message:s,description:t},n)=>Object(c.jsx)(r.Fragment,{key:n},Object(c.jsx)(a.EuiCallOut,{color:o[e].color,iconType:o[e].iconType,title:s},t),Object(c.jsx)(a.EuiSpacer,null)))),e)},l=()=>{const{toastMessages:e}=Object(n.useValues)(i.a),{dismissToastMessage:s}=Object(n.useActions)(i.a);return Object(c.jsx)(a.EuiGlobalToastList,{toasts:e,dismissToast:s,toastLifeTimeMs:5e3})};var d=t(75);const g=e=>{i.a.actions.setFlashMessages({type:"error",message:e})},h=e=>{i.a.actions.setQueuedMessages({type:"success",message:e})},b=e=>{i.a.actions.setQueuedMessages({type:"error",message:e})},p=()=>{i.a.actions.clearFlashMessages()},f=(e,s={})=>{i.a.actions.addToastMessage({...o.success,...s,title:e,id:(null==s?void 0:s.id)||`successToast-${Date.now()}`})},m=(e,s={})=>{i.a.actions.addToastMessage({...o.error,...s,title:e,id:(null==s?void 0:s.id)||`errorToast-${Date.now()}`})}},48:function(e,s,t){"use strict";t.d(s,"a",(function(){return o})),t.d(s,"b",(function(){return i}));var r=t(24),n=t(36);const a=e=>Array.isArray(e)?e:[e],o=Object(r.kea)({path:["enterprise_search","flash_messages_logic"],actions:{setFlashMessages:e=>({messages:a(e)}),clearFlashMessages:()=>null,setQueuedMessages:e=>({messages:a(e)}),clearQueuedMessages:()=>null,addToastMessage:e=>({newToast:e}),dismissToastMessage:e=>({removedToast:e}),clearToastMessages:()=>null,setHistoryListener:e=>({historyListener:e})},reducers:{messages:[[],{setFlashMessages:(e,{messages:s})=>s,clearFlashMessages:()=>[]}],queuedMessages:[[],{setQueuedMessages:(e,{messages:s})=>s,clearQueuedMessages:()=>[]}],toastMessages:[[],{addToastMessage:(e,{newToast:s})=>[...e,s],dismissToastMessage:(e,{removedToast:s})=>e.filter((({id:e})=>e!==s.id)),clearToastMessages:()=>[]}],historyListener:[null,{setHistoryListener:(e,{historyListener:s})=>s}]},events:({values:e,actions:s})=>({afterMount:()=>{const t=n.a.values.history.listen((()=>{s.clearFlashMessages(),s.setFlashMessages(e.queuedMessages),s.clearQueuedMessages()}));s.setHistoryListener(t)},beforeUnmount:()=>{const{historyListener:s}=e;s&&s()}})}),i=()=>o.mount()},52:function(e,s,t){"use strict";t.d(s,"a",(function(){return r})),t.d(s,"c",(function(){return n})),t.d(s,"b",(function(){return a})),t.d(s,"d",(function(){return o}));const r={_enterpriseSearchUrl:"",get enterpriseSearchUrl(){return this._enterpriseSearchUrl},set enterpriseSearchUrl(e){this._enterpriseSearchUrl||(this._enterpriseSearchUrl=e)}},n=(e="")=>r.enterpriseSearchUrl+e,a=(e="")=>n("/as"+e),o=(e="")=>n("/ws"+e)},64:function(e,s,t){"use strict";var r=t(52);t.d(s,"a",(function(){return r.a})),t.d(s,"c",(function(){return r.c})),t.d(s,"b",(function(){return r.b})),t.d(s,"d",(function(){return r.d}))},75:function(e,s,t){"use strict";t.d(s,"a",(function(){return a})),t.d(s,"c",(function(){return o})),t.d(s,"b",(function(){return i}));var r=t(1),n=t(48);const a=r.i18n.translate("xpack.enterpriseSearch.shared.flashMessages.defaultErrorMessage",{defaultMessage:"An unexpected error occurred"}),o=e=>{var s,t,r;return Array.isArray(null==e||null===(s=e.body)||void 0===s||null===(t=s.attributes)||void 0===t?void 0:t.errors)?e.body.attributes.errors:[(null==e||null===(r=e.body)||void 0===r?void 0:r.message)||a]},i=(e,{isQueued:s}={})=>{var t;const r=o(e).map((e=>({type:"error",message:e})));if(s?n.a.actions.setQueuedMessages(r):n.a.actions.setFlashMessages(r),null==e||null===(t=e.body)||void 0===t||!t.message)throw e}},895:function(e,s,t){"use strict";t.r(s),t.d(s,"renderApp",(function(){return m})),t.d(s,"renderHeaderActions",(function(){return j}));t(10);var r=t(18),n=t.n(r),a=t(165),o=t(14),i=t(24),c=t(13),u=t(20),l=t(19),d=t(64),g=t(30),h=t(31),b=t(36),p=t(41),f=t(11);const m=(e,{params:s,core:t,plugins:r},{config:m,data:M})=>{var y,v;const{publicUrl:T,errorConnecting:O,...x}=M;d.a.enterpriseSearchUrl=T||m.host||"",Object(i.resetContext)({createStore:!0});const S=Object(i.getContext)().store,w=Object(b.b)({config:m,charts:r.charts,cloud:r.cloud,history:s.history,navigateToUrl:t.application.navigateToUrl,security:r.security,setBreadcrumbs:t.chrome.setBreadcrumbs,setChromeIsVisible:t.chrome.setIsVisible,setDocTitle:t.chrome.docTitle.change,renderHeaderActions:e=>s.setHeaderActionMenu((s=>j(e,S,s)))}),A=Object(p.c)({license$:r.licensing.license$,canManageLicense:null===(y=t.application.capabilities.management)||void 0===y||null===(v=y.stack)||void 0===v?void 0:v.license_management}),U=Object(h.b)({http:t.http,errorConnecting:O,readOnlyMode:x.readOnlyMode}),_=Object(g.h)();return n.a.render(Object(f.jsx)(c.I18nProvider,null,Object(f.jsx)(u.EuiThemeProvider,null,Object(f.jsx)(l.KibanaContextProvider,{services:{...t,...r}},Object(f.jsx)(a.Provider,{store:S},Object(f.jsx)(o.Router,{history:s.history},Object(f.jsx)(e,x),Object(f.jsx)(g.c,null)))))),s.element),()=>{n.a.unmountComponentAtNode(s.element),w(),A(),U(),_()}},j=(e,s,t)=>(n.a.render(Object(f.jsx)(a.Provider,{store:s},Object(f.jsx)(e,null)),t),()=>n.a.unmountComponentAtNode(t))}}]);