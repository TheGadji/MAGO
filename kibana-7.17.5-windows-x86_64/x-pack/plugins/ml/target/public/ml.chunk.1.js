/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.ml_bundle_jsonpfunction=window.ml_bundle_jsonpfunction||[]).push([[1],{107:function(t,e,n){t.exports=n(20)(2393)},142:function(t,e,n){t.exports=n(20)(2398)},150:function(t,e,n){"use strict";n.d(e,"a",(function(){return ce})),n.d(e,"b",(function(){return ue})),n.d(e,"e",(function(){return ie})),n.d(e,"c",(function(){return oe})),n.d(e,"f",(function(){return Kt})),n.d(e,"d",(function(){return zt}));var r={};n.r(r),n.d(r,"buildNode",(function(){return U})),n.d(r,"toElasticsearchQuery",(function(){return D}));var u={};n.r(u),n.d(u,"wildcardSymbol",(function(){return $})),n.d(u,"buildNode",(function(){return Z})),n.d(u,"test",(function(){return V})),n.d(u,"toElasticsearchQuery",(function(){return z})),n.d(u,"toQueryStringQuery",(function(){return X})),n.d(u,"hasLeadingWildcard",(function(){return K}));var o={};n.r(o),n.d(o,"buildNodeParams",(function(){return ut})),n.d(o,"toElasticsearchQuery",(function(){return ot}));var i={};n.r(i),n.d(i,"buildNodeParams",(function(){return it})),n.d(i,"toElasticsearchQuery",(function(){return at}));var a={};n.r(a),n.d(a,"buildNodeParams",(function(){return st})),n.d(a,"toElasticsearchQuery",(function(){return ct}));var s={};n.r(s),n.d(s,"buildNodeParams",(function(){return lt})),n.d(s,"toElasticsearchQuery",(function(){return ft}));var c={};n.r(c),n.d(c,"buildNodeParams",(function(){return ht})),n.d(c,"toElasticsearchQuery",(function(){return vt}));var l={};n.r(l),n.d(l,"buildNodeParams",(function(){return mt})),n.d(l,"toElasticsearchQuery",(function(){return yt}));var f={};n.r(f),n.d(f,"buildNodeParams",(function(){return bt})),n.d(f,"toElasticsearchQuery",(function(){return _t}));var d={};n.r(d),n.d(d,"buildNodeParams",(function(){return xt})),n.d(d,"toElasticsearchQuery",(function(){return At}));var p={};n.r(p),n.d(p,"buildNodeParams",(function(){return wt})),n.d(p,"toElasticsearchQuery",(function(){return jt}));var h={};n.r(h),n.d(h,"buildNode",(function(){return Ot})),n.d(h,"buildNodeWithArgumentNodes",(function(){return St})),n.d(h,"toElasticsearchQuery",(function(){return Et}));var v={};n.r(v),n.d(v,"buildNode",(function(){return qt})),n.d(v,"toElasticsearchQuery",(function(){return Nt}));var g,m,y=n(4),b=n.n(y),_=n(107),x=n.n(_),A=n(8),w=n.n(A),j=n(267),T=n.n(j),O=function(t,e){if("boolean"!=typeof e&&"boolean"===t.type){if([1,"true"].includes(e))return!0;if([0,"false"].includes(e))return!1;throw new Error("".concat(e," is not a valid boolean value for boolean field ").concat(t.name))}return"number"!=typeof e&&"number"===t.type?Number(e):e},S=function(t){var e=Object(A.has)(t,"query.match_phrase"),n=Object(A.get)(t,"query.match",[]),r=void 0!==Object.values(n).find((function(t){return"phrase"===t.type}));return e||r},E=function(t,e){var n=O(t,e);return{script:{source:q(t),lang:t.lang,params:{value:n}}}},q=function(t){return"painless"===t.lang?"boolean compare(Supplier s, def v) {return s.get() == v;}"+"compare(() -> { ".concat(t.script," }, params.value);"):"(".concat(t.script,") == value")};!function(t){t.CUSTOM="custom",t.PHRASES="phrases",t.PHRASE="phrase",t.EXISTS="exists",t.MATCH_ALL="match_all",t.QUERY_STRING="query_string",t.RANGE="range",t.RANGE_FROM_VALUE="range_from_value",t.SPATIAL_FILTER="spatial_filter"}(g||(g={})),function(t){t.APP_STATE="appState",t.GLOBAL_STATE="globalState"}(m||(m={}));var N={gt:">",gte:">=",lte:"<=",lt:"<"},I={gt:"boolean gt(Supplier s, def v) {return s.get() > v}",gte:"boolean gte(Supplier s, def v) {return s.get() >= v}",lte:"boolean lte(Supplier s, def v) {return s.get() <= v}",lt:"boolean lt(Supplier s, def v) {return s.get() < v}"},C={gt:"boolean gt(Supplier s, def v) {return s.get().toInstant().isAfter(Instant.parse(v))}",gte:"boolean gte(Supplier s, def v) {return !s.get().toInstant().isBefore(Instant.parse(v))}",lte:"boolean lte(Supplier s, def v) {return !s.get().toInstant().isAfter(Instant.parse(v))}",lt:"boolean lt(Supplier s, def v) {return s.get().toInstant().isBefore(Instant.parse(v))}"},M=function(t,e){var n=Object(A.mapValues)(Object(A.pickBy)(e,(function(t,e){return e in N})),(function(e){return"number"===t.type&&"string"==typeof e?parseFloat(e):e})),r=Object(A.map)(n,(function(e,n){return"("+t.script+")"+Object(A.get)(N,n)+n})).join(" && ");if("painless"===t.lang){var u="date"===t.type?C:I,o=Object(A.reduce)(n,(function(t,e,n){return t.concat(Object(A.get)(u,n))}),[]).join(" "),i=Object(A.map)(n,(function(e,n){return"".concat(n,"(() -> { ").concat(t.script," }, params.").concat(n,")")})).join(" && ");r="".concat(o).concat(i)}return{script:{source:r,params:n,lang:t.lang}}};var B=function(t){return function(t){return Object(A.has)(t,"query.exists")}(t)?function(t){return t.query.exists&&t.query.exists.field}(t):S(t)?function(t){var e,n,r=null!==(e=null!==(n=t.query.match_phrase)&&void 0!==n?n:t.query.match)&&void 0!==e?e:{};return Object.keys(r)[0]}(t):function(t){var e;return(null==t||null===(e=t.meta)||void 0===e?void 0:e.type)===g.PHRASES}(t)?function(t){return t.meta.key}(t):function(t){return Object(A.has)(t,"query.range")}(t)?function(t){return t.query.range&&Object.keys(t.query.range)[0]}(t):void 0};var k=function(t){return Object(A.get)(t,"meta.disabled",!1)},F=function(t){return Object(A.omit)(t,["meta","$state"])};function R(t,e){if(function(t){var e,n,r=Object.keys(null!==(e=t.match||(null===(n=t.query)||void 0===n?void 0:n.match))&&void 0!==e?e:{})[0];return Boolean(r&&("phrase"===Object(A.get)(t,["query","match",r,"type"])||"phrase"===Object(A.get)(t,["match",r,"type"])))}(t)){var n=t.match||t.query.match,r=Object.keys(n)[0],u=Object(A.get)(n,[r]),o=u.query;if(e){var i=e.fields.find((function(t){return t.name===r}));i&&(o=O(i,u.query))}return{meta:t.meta,$state:t.$state,query:{match_phrase:b()({},r,Object(A.omit)(x()(x()({},u),{},{query:o}),"type"))}}}return t.query||(t.query={}),t.exists&&(t.query.exists=t.exists,delete t.exists),t.range&&(t.query.range=t.range,delete t.range),t.match_all&&(t.query.match_all=t.match_all,delete t.match_all),Object.keys(t).forEach((function(e){"meta"!==e&&"query"!==e&&"$state"!==e&&(t.query[e]=t[e],delete t[e])})),t}var L=n(142),Q=n.n(L),P=n(168),G=n.n(P);function U(t){return{type:"literal",value:t}}function D(t){return t.value}var $="@kuery-wildcard@";function H(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function W(t){return t.replace(/[+-=&|><!(){}[\]^"~*?:\\/]/g,"\\$&")}function Z(t){return t.includes($)?{type:"wildcard",value:t}:Vt(t)}function V(t,e){var n=t.value.split($).map(H).join("[\\s\\S]*");return new RegExp("^".concat(n,"$")).test(e)}function z(t){return t.value.split($).join("*")}function X(t){return t.value.split($).map(W).join("*")}function K(t){var e=t.value;return e.startsWith($)&&e.replace($,"").length>0}function J(t,e){if(!e)return[];if("literal"===t.type){var n=D(t),r=e.fields.find((function(t){return t.name===n}));return r?[r]:[]}return"wildcard"===t.type?e.fields.filter((function(e){return V(t,e.name)})):void 0}var Y=n(48),tt=n.n(Y);function et(t){var e=tt.a.tz.guess();return"Browser"===t?e:t}function nt(t){return function(t){var e,n=null==t?void 0:t.subType;return!(null==n||null===(e=n.nested)||void 0===e||!e.path)}(t)?t.subType:void 0}function rt(t,e,n){var r=x()(x()({},t),{},{value:n?"".concat(n,".").concat(t.value):t.value});if(!e||"wildcard"===r.type&&!n)return r;var u=J(r,e).reduce((function(t,e){var r=nt(e),u=null==r?void 0:r.nested.path;return n&&!u?[].concat(Q()(t),["".concat(e.name,' is not a nested field but is in nested group "').concat(n,'" in the KQL expression.')]):u&&!n?[].concat(Q()(t),["".concat(e.name," is a nested field, but is not in a nested group in the KQL expression.")]):u!==n?[].concat(Q()(t),["Nested field ".concat(e.name," is being queried with the incorrect nested path. The correct path is ").concat(null==r?void 0:r.nested.path,".")]):t}),[]);if(u.length>0)throw new Error(u.join("\n"));return r}function ut(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Object(A.isUndefined)(t))throw new Error("fieldName is a required argument");if(Object(A.isUndefined)(e))throw new Error("value is a required argument");var r="string"==typeof t?Vt(t):U(t),u="string"==typeof e?Vt(e):U(e),o=U(n);return{arguments:[r,u,o]}}function ot(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=G()(t.arguments,3),o=u[0],i=u[1],a=u[2],s="wildcard"===i.type&&i.value===$,c="wildcard"===o.type&&o.value===$,l=s&&c;if(l)return{match_all:{}};var f=rt(o,e,null!=r&&r.nested?r.nested.path:void 0),d=Object(A.isUndefined)(i)?i:Xt(i),p=a.value?"phrase":"best_fields";if(null===f.value)return"wildcard"===i.type?{query_string:{query:X(i)}}:{multi_match:{type:p,query:d,lenient:!0}};var h=e?J(f,e):[];if(h&&0===h.length&&h.push({name:Xt(f),scripted:!1,type:""}),s&&(null==h||!h.length||(null==h?void 0:h.length)===(null==e?void 0:e.fields.length)))return{match_all:{}};var v=h.reduce((function(t,e){var u=function(t){var n=nt(e);return"wildcard"!==f.type||null==n||!n.nested||null!=r&&r.nested?t:{nested:{path:n.nested.path,query:t,score_mode:"none"}}};if(!e.scripted){if(s)return[].concat(Q()(t),[u({exists:{field:e.name}})]);if("wildcard"===i.type)return[].concat(Q()(t),[u({query_string:{fields:[e.name],query:X(i)}})]);if("date"===e.type){var o=n.dateFormatTZ?{time_zone:et(n.dateFormatTZ)}:{};return[].concat(Q()(t),[u({range:b()({},e.name,x()({gte:d,lte:d},o))})])}var a="phrase"===p?"match_phrase":"match";return[].concat(Q()(t),[u(b()({},a,b()({},e.name,d)))])}if(!s)return[].concat(Q()(t),[{script:x()({},E(e,d))}])}),[]);return{bool:{should:v||[],minimum_should_match:1}}}function it(t){return{arguments:t}}function at(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=n.filtersInMustClause,o=t.arguments||[],i=u?"must":"filter";return{bool:b()({},i,o.map((function(t){return Xt(t,e,n,r)})))}}function st(t){return{arguments:t}}function ct(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=t.arguments||[];return{bool:{should:u.map((function(t){return Xt(t,e,n,r)})),minimum_should_match:1}}}function lt(t){return{arguments:[t]}}function ft(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=G()(t.arguments,1),o=u[0];return{bool:{must_not:Xt(o,e,n,r)}}}var dt=n(203),pt=n.n(dt);function ht(t,e){var n=Object(A.pick)(e,"gt","lt","gte","lte","format"),r="string"==typeof t?Vt(t):It.literal.buildNode(t),u=Object(A.map)(n,(function(t,e){return It.namedArg.buildNode(e,t)}));return{arguments:[r].concat(Q()(u))}}function vt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=pt()(t.arguments),o=u[0],i=u.slice(1),a=rt(o,e,null!=r&&r.nested?r.nested.path:void 0),s=e?J(a,e):[],c=gt(i),l=Object(A.mapValues)(c,(function(t){return Xt(t)}));s&&0===s.length&&s.push({name:Xt(a),scripted:!1,type:""});var f=s.map((function(t){var e=function(e){var n=nt(t);return"wildcard"!==a.type||null==n||!n.nested||r.nested?e:{nested:{path:n.nested.path,query:e,score_mode:"none"}}};if(t.scripted)return{script:M(t,l)};if("date"===t.type){var u=n.dateFormatTZ?{time_zone:et(n.dateFormatTZ)}:{};return e({range:b()({},t.name,x()(x()({},l),u))})}return e({range:b()({},t.name,l)})}));return{bool:{should:f,minimum_should_match:1}}}function gt(t){if(t.gt&&t.gte||t.lt&&t.lte)throw new Error("range ends cannot be both inclusive and exclusive");var e=["gte","lte","format"];return t.reduce((function(t,n,r){return"namedArg"===n.type?t[n.name]=n.value:t[e[r]]=n,t}),{})}function mt(t){return{arguments:[U(t)]}}function yt(t,e){var n,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},u=G()(t.arguments,1),o=u[0],i=x()(x()({},o),{},{value:null!=r&&r.nested?"".concat(r.nested.path,".").concat(o.value):o.value}),a=D(i),s=null==e||null===(n=e.fields)||void 0===n?void 0:n.find((function(t){return t.name===a}));if(null!=s&&s.scripted)throw new Error("Exists query does not support scripted fields");return{exists:{field:a}}}function bt(t,e){e=w.a.pick(e,"topLeft","bottomRight");var n=It.literal.buildNode(t),r=w.a.map(e,(function(t,e){var n="".concat(t.lat,", ").concat(t.lon);return It.namedArg.buildNode(e,n)}));return{arguments:[n].concat(Q()(r))}}function _t(t,e){var n,r,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=pt()(t.arguments),i=o[0],a=o.slice(1),s=x()(x()({},i),{},{value:null!=u&&u.nested?"".concat(u.nested.path,".").concat(i.value):i.value}),c=It.literal.toElasticsearchQuery(s),l=null!==(n=null==e?void 0:e.fields)&&void 0!==n?n:[],f=l.find((function(t){return t.name===c})),d=a.reduce((function(t,e){var n=w.a.snakeCase(e.name);return x()(x()({},t),{},b()({},n,Xt(e)))}),{});if(null!=f&&f.scripted)throw new Error("Geo bounding box query does not support scripted fields");return{geo_bounding_box:(r={},b()(r,c,d),b()(r,"ignore_unmapped",!0),r)}}function xt(t,e){var n=It.literal.buildNode(t),r=e.map((function(t){var e="".concat(t.lat,", ").concat(t.lon);return It.literal.buildNode(e)}));return{arguments:[n].concat(Q()(r))}}function At(t,e){var n,r,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=pt()(t.arguments),a=i[0],s=i.slice(1),c=x()(x()({},a),{},{value:null!=o&&o.nested?"".concat(o.nested.path,".").concat(a.value):a.value}),l=It.literal.toElasticsearchQuery(c),f=null!==(n=null==e?void 0:e.fields)&&void 0!==n?n:[],d=f.find((function(t){return t.name===l})),p={points:s.map((function(t){return Xt(t,e,u,o)}))};if(null!=d&&d.scripted)throw new Error("Geo polygon query does not support scripted fields");return{geo_polygon:(r={},b()(r,l,p),b()(r,"ignore_unmapped",!0),r)}}function wt(t,e){return{arguments:["string"==typeof t?Vt(t):U(t),e]}}function jt(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=G()(t.arguments,2),i=o[0],a=o[1],s=Xt(i),c=null!=u&&null!==(n=u.nested)&&void 0!==n&&n.path?"".concat(u.nested.path,".").concat(s):s;return{nested:{path:c,query:Xt(a,e,r,x()(x()({},u),{},{nested:{path:c}})),score_mode:"none"}}}var Tt={is:o,and:i,or:a,not:s,range:c,exists:l,geoBoundingBox:f,geoPolygon:d,nested:p};function Ot(t){var e=Tt[t];if(w.a.isUndefined(e))throw new Error('Unknown function "'.concat(t,'"'));for(var n=arguments.length,r=new Array(n>1?n-1:0),u=1;u<n;u++)r[u-1]=arguments[u];return x()({type:"function",function:t},e.buildNodeParams.apply(e,r))}function St(t,e){if(w.a.isUndefined(Tt[t]))throw new Error('Unknown function "'.concat(t,'"'));return{type:"function",function:t,arguments:e}}function Et(t,e,n,r){return Tt[t.function].toElasticsearchQuery(t,e,n,r)}function qt(t,e){return{type:"namedArg",name:t,value:"literal"===w.a.get(e,"type")?e:It.literal.buildNode(e)}}function Nt(t){return Xt(t.value)}var It={function:h,literal:r,namedArg:v,wildcard:u},Ct=n(401),Mt=n.n(Ct),Bt=n(169),kt=n.n(Bt),Ft=n(402),Rt=n.n(Ft),Lt=n(403),Qt=n.n(Lt),Pt=n(404),Gt=n.n(Pt),Ut=n(2),Dt=Ut.i18n.translate("esQuery.kql.errors.endOfInputText",{defaultMessage:"end of input"}),$t={fieldName:Ut.i18n.translate("esQuery.kql.errors.fieldNameText",{defaultMessage:"field name"}),value:Ut.i18n.translate("esQuery.kql.errors.valueText",{defaultMessage:"value"}),literal:Ut.i18n.translate("esQuery.kql.errors.literalText",{defaultMessage:"literal"}),whitespace:Ut.i18n.translate("esQuery.kql.errors.whitespaceText",{defaultMessage:"whitespace"})},Ht=function(t){Rt()(n,t);var e=Qt()(n);function n(t,r){var u;Mt()(this,n);var o=t.message;if(t.expected){var i=t.expected.map((function(t){var e,n="other"===(e=t).type?e.description:"literal"===e.type?'"'.concat(e.text,'"'):"end"===e.type?"end of input":e.text||e.description||"";return $t[n]||n})),a=Object(A.uniq)(i).filter((function(t){return void 0!==t})).sort().join(", ");o=Ut.i18n.translate("esQuery.kql.errors.syntaxError",{defaultMessage:"Expected {expectedList} but {foundInput} found.",values:{expectedList:a,foundInput:t.found?'"'.concat(t.found,'"'):Dt}})}var s=[o,r,Object(A.repeat)("-",t.location.start.offset)+"^"].join("\n");return u=e.call(this,s),b()(kt()(u),"shortMessage",void 0),u.name="KQLSyntaxError",u.shortMessage=o,u}return n}(Gt()(Error)),Wt=n(268),Zt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wt.parse;if(void 0===t)throw new Error("expression must be a string, got undefined instead");return n(t,x()(x()({},e),{},{helpers:{nodeTypes:It}}))},Vt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Zt(t,x()(x()({},e),{},{startRule:"Literal"}),Wt.parse)},zt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return Zt(t,e,Wt.parse)}catch(e){throw"SyntaxError"===e.name?new Ht(e,t):e}},Xt=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=arguments.length>3?arguments[3]:void 0;if(!e||!e.type||!It[e.type])return t(It.function.buildNode("and",[]),n);var o=It[e.type];return o.toElasticsearchQuery(e,n,r,u)},Kt=function(){return Xt.apply(void 0,arguments)};function Jt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,u=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=e.map((function(t){return zt(t.query,{allowLeadingWildcards:n})}));return Yt(t,o,{dateFormatTZ:r,filtersInMustClause:u})}function Yt(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=It.function.buildNode("and",e),u=Kt(r,t,n);return Object.assign({must:[],filter:[],should:[],must_not:[]},u.bool)}function te(t,e){var n,r;return null===(n=t.meta)||void 0===n||!n.key||!e||("custom"===(null===(r=t.meta)||void 0===r?void 0:r.type)?t.meta.index===e.id:e.fields.some((function(e){return e.name===t.meta.key})))}var ee=function(t,e){if(!e)return t;var n=B(t);if(!n)return t;var r=e.fields.find((function(t){return t.name===n})),u=r&&nt(r);if(!u)return t;var o=F(t);return{meta:t.meta,query:{nested:{path:u.nested.path,query:o.query||o}}}},ne=function(t){return function(e){return Object(A.isUndefined)(e.meta)||Object(A.isUndefined)(e.meta.negate)?!t:e.meta&&e.meta.negate===t}},re=function(t){return t.query||t},ue=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];t=t.filter((function(t){return t&&!k(t)}));var r=function(r){return t.filter((function(t){return!!t})).filter(ne(r)).filter((function(t){return!n||te(t,e)})).map((function(t){return R(t,e)})).map((function(t){return ee(t,e)})).map(F).map(re)};return{must:[],filter:r(!1),should:[],must_not:r(!0)}};function oe(t,e,n){return function(t){return Object(A.has)(t,"query_string.query")}(t)&&("string"==typeof e&&(e=JSON.parse(e)),Object(A.extend)(t.query_string,e),n&&Object(A.defaults)(t.query_string,{time_zone:et(n)})),t}function ie(t){return Object(A.isString)(t)?""===t.trim()?{match_all:{}}:{query_string:{query:t}}:t}function ae(t,e,n){return{must:(t||[]).map((function(t){return oe(ie(t.query),e,n)})),filter:[],should:[],must_not:[]}}function se(t){return t.filter((function(t){return!t||"object"!==T()(t)||!Object(A.isEqual)(t,{match_all:{}})}))}function ce(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{allowLeadingWildcards:!1,queryStringOptions:{},ignoreFilterIfFieldNotInIndex:!1};e=Array.isArray(e)?e:[e],n=Array.isArray(n)?n:[n];var u=e.filter((function(t){return Object(A.has)(t,"query")})),o=Object(A.groupBy)(u,"language"),i=Jt(t,o.kuery,r.allowLeadingWildcards,r.dateFormatTZ,r.filtersInMustClause),a=ae(o.lucene,r.queryStringOptions,r.dateFormatTZ),s=ue(n,t,r.ignoreFilterIfFieldNotInIndex);return{bool:{must:se([].concat(Q()(i.must),Q()(a.must),Q()(s.must))),filter:se([].concat(Q()(i.filter),Q()(a.filter),Q()(s.filter))),should:se([].concat(Q()(i.should),Q()(a.should),Q()(s.should))),must_not:[].concat(Q()(i.must_not),Q()(a.must_not),Q()(s.must_not))}}}},168:function(t,e,n){t.exports=n(20)(2395)},203:function(t,e,n){t.exports=n(20)(2397)},267:function(t,e,n){t.exports=n(20)(833)},268:function(t,e,n){"use strict";function r(t,e,n,u){var o=Error.call(this,t);return Object.setPrototypeOf&&Object.setPrototypeOf(o,r.prototype),o.expected=e,o.found=n,o.location=u,o.name="SyntaxError",o}function u(t,e,n){return n=n||" ",t.length>e?t:(e-=t.length,t+(n+=n.repeat(e)).slice(0,e))}!function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}(r,Error),r.prototype.format=function(t){var e="Error: "+this.message;if(this.location){var n,r=null;for(n=0;n<t.length;n++)if(t[n].source===this.location.source){r=t[n].text.split(/\r\n|\n|\r/g);break}var o=this.location.start,i=this.location.source+":"+o.line+":"+o.column;if(r){var a=this.location.end,s=u("",o.line.toString().length),c=r[o.line-1],l=o.line===a.line?a.column:c.length+1;e+="\n --\x3e "+i+"\n"+s+" |\n"+o.line+" | "+c+"\n"+s+" | "+u("",o.column-1)+u("",l-o.column,"^")}else e+="\n at "+i}return e},r.buildMessage=function(t,e){var n={literal:function(t){return'"'+u(t.text)+'"'},class:function(t){var e=t.parts.map((function(t){return Array.isArray(t)?o(t[0])+"-"+o(t[1]):o(t)}));return"["+(t.inverted?"^":"")+e+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(t){return t.description}};function r(t){return t.charCodeAt(0).toString(16).toUpperCase()}function u(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+r(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+r(t)}))}function o(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+r(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+r(t)}))}function i(t){return n[t.type](t)}return"Expected "+function(t){var e,n,r=t.map(i);if(r.sort(),r.length>0){for(e=1,n=1;e<r.length;e++)r[e-1]!==r[e]&&(r[n]=r[e],n++);r.length=n}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}(t)+" but "+function(t){return t?'"'+u(t)+'"':"end of input"}(e)+" found."},t.exports={SyntaxError:r,parse:function(t,e){var n,u={},o=(e=void 0!==e?e:{}).grammarSource,i={start:bt,Literal:Ct},a=bt,s=":",c="or",l="and",f="not",d='"',p="\\",h="<=",v=">=",g="@kuery-cursor@",m=/^[\\"]/,y=/^[^"]/,b=/^[\\():<>"*{}]/,_=/^[0-9a-f]/i,x=/^[ \t\r\n\xA0]/,A=dt("(",!1),w=dt(")",!1),j=dt(":",!1),T=dt("{",!1),O=dt("}",!1),S=ht("fieldName"),E=ht("value"),q=ht("OR"),N=dt("or",!0),I=ht("AND"),C=dt("and",!0),M=ht("NOT"),B=dt("not",!0),k=ht("literal"),F=dt('"',!1),R=dt("\\",!1),L=pt(["\\",'"'],!1,!1),Q=pt(['"'],!0,!1),P={type:"any"},G=dt("*",!1),U=dt("\\t",!1),D=dt("\\r",!1),$=dt("\\n",!1),H=pt(["\\","(",")",":","<",">",'"',"*","{","}"],!1,!1),W=dt("u",!1),Z=pt([["0","9"],["a","f"]],!1,!0),V=dt("<=",!1),z=dt(">=",!1),X=dt("<",!1),K=dt(">",!1),J=ht("whitespace"),Y=pt([" ","\t","\r","\n"," "],!1,!1),tt=dt("@kuery-cursor@",!1),et=function(t,e){return e},nt=function(t,e){return e},rt=function(t){if("cursor"===t.type)return t;!Wt&&"wildcard"===t.type&&Zt.wildcard.hasLeadingWildcard(t)&&function(t,e){throw e=void 0!==e?e:gt(at,it),function(t,e){return new r(t,null,null,e)}(t,e)}("Leading wildcards are disabled. See query:allowLeadingWildcards in Advanced Settings.");const e=zt(!1);return n=>Vt("is",[n,t,e])},ut=function(){return $t},ot=function(e,n,r){const{start:u,end:o}=gt(at,it);return{type:"cursor",start:u.offset,end:o.offset-n.length,prefix:e.join(""),suffix:r.join(""),text:t.substring(at,it).replace(n,"")}},it=0,at=0,st=[{line:1,column:1}],ct=0,lt=[],ft=0;if("startRule"in e){if(!(e.startRule in i))throw new Error("Can't start parsing from rule \""+e.startRule+'".');a=i[e.startRule]}function dt(t,e){return{type:"literal",text:t,ignoreCase:e}}function pt(t,e,n){return{type:"class",parts:t,inverted:e,ignoreCase:n}}function ht(t){return{type:"other",description:t}}function vt(e){var n,r=st[e];if(r)return r;for(n=e-1;!st[n];)n--;for(r={line:(r=st[n]).line,column:r.column};n<e;)10===t.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return st[e]=r,r}function gt(t,e){var n=vt(t),r=vt(e);return{source:o,start:{offset:t,line:n.line,column:n.column},end:{offset:e,line:r.line,column:r.column}}}function mt(t){it<ct||(it>ct&&(ct=it,lt=[]),lt.push(t))}function yt(t,e,n){return new r(r.buildMessage(t,e),t,e,n)}function bt(){var t,e,n,r,o,i;for(t=it,e=[],n=Ut();n!==u;)e.push(n),n=Ut();return(n=_t())===u&&(n=null),(r=Rt())!==u?(at=t,o=n,t="cursor"===(i=r).type?{...i,suggestionTypes:["conjunction"]}:null!==o?o:Zt.function.buildNode("is","*","*")):(it=t,t=u),t}function _t(){var t,e,n,r,o;if(t=it,(e=xt())!==u){if(n=[],r=it,qt()!==u&&(o=xt())!==u?(at=r,r=et(0,o)):(it=r,r=u),r!==u)for(;r!==u;)n.push(r),r=it,qt()!==u&&(o=xt())!==u?(at=r,r=et(0,o)):(it=r,r=u);else n=u;n!==u?(at=t,t=function(t,e){const n=[t,...e];return $t&&n.find((t=>"cursor"===t.type))||Vt("or",n)}(e,n)):(it=t,t=u)}else it=t,t=u;return t===u&&(t=xt()),t}function xt(){var t,e,n,r,o;if(t=it,(e=At())!==u){if(n=[],r=it,Nt()!==u&&(o=At())!==u?(at=r,r=et(0,o)):(it=r,r=u),r!==u)for(;r!==u;)n.push(r),r=it,Nt()!==u&&(o=At())!==u?(at=r,r=et(0,o)):(it=r,r=u);else n=u;n!==u?(at=t,t=function(t,e){const n=[t,...e];return $t&&n.find((t=>"cursor"===t.type))||Vt("and",n)}(e,n)):(it=t,t=u)}else it=t,t=u;return t===u&&(t=At()),t}function At(){var t,e,n;return t=it,It()!==u&&(e=wt())!==u?(at=t,t="cursor"===(n=e).type?n:Vt("not",[n])):(it=t,t=u),t===u&&(t=wt()),t}function wt(){var e,n,r,o,i,a,c,l;if(e=it,40===t.charCodeAt(it)?(n="(",it++):(n=u,0===ft&&mt(A)),n!==u){for(r=[],o=Ut();o!==u;)r.push(o),o=Ut();(o=_t())!==u&&(i=Rt())!==u?(41===t.charCodeAt(it)?(a=")",it++):(a=u,0===ft&&mt(w)),a!==u?(at=e,c=o,e="cursor"===(l=i).type?{...l,suggestionTypes:["conjunction"]}:c):(it=e,e=u)):(it=e,e=u)}else it=e,e=u;return e===u&&(e=function(){var e,n,r,o,i,a,c,l,f,d;if(e=it,(n=jt())!==u){for(r=[],o=Ut();o!==u;)r.push(o),o=Ut();if(58===t.charCodeAt(it)?(o=":",it++):(o=u,0===ft&&mt(j)),o!==u){for(i=[],a=Ut();a!==u;)i.push(a),a=Ut();if(123===t.charCodeAt(it)?(a="{",it++):(a=u,0===ft&&mt(T)),a!==u){for(c=[],l=Ut();l!==u;)c.push(l),l=Ut();(l=_t())!==u&&(f=Rt())!==u?(125===t.charCodeAt(it)?(d="}",it++):(d=u,0===ft&&mt(O)),d!==u?(at=e,e=function(t,e,n){return"cursor"===e.type?{...e,nestedPath:e.nestedPath?`${t.value}.${e.nestedPath}`:t.value}:"cursor"===n.type?{...n,suggestionTypes:["conjunction"]}:Vt("nested",[t,e])}(n,l,f)):(it=e,e=u)):(it=e,e=u)}else it=e,e=u}else it=e,e=u}else it=e,e=u;e===u&&(e=function(){var e;e=function(){var e,n,r,o,i,a;if(e=it,(n=jt())!==u){for(r=[],o=Ut();o!==u;)r.push(o),o=Ut();if(o=function(){var e,n;e=it,t.substr(it,2)===h?(n=h,it+=2):(n=u,0===ft&&mt(V));n!==u&&(at=e,n="lte");(e=n)===u&&(e=it,t.substr(it,2)===v?(n=v,it+=2):(n=u,0===ft&&mt(z)),n!==u&&(at=e,n="gte"),(e=n)===u&&(e=it,60===t.charCodeAt(it)?(n="<",it++):(n=u,0===ft&&mt(X)),n!==u&&(at=e,n="lt"),(e=n)===u&&(e=it,62===t.charCodeAt(it)?(n=">",it++):(n=u,0===ft&&mt(K)),n!==u&&(at=e,n="gt"),e=n)));return e}(),o!==u){for(i=[],a=Ut();a!==u;)i.push(a),a=Ut();(a=Ct())!==u?(at=e,e=function(t,e,n){if("cursor"===n.type)return{...n,suggestionTypes:["conjunction"]};const r=Kt(e,n);return Vt("range",[t,r])}(n,o,a)):(it=e,e=u)}else it=e,e=u}else it=e,e=u;return e}(),e===u&&(e=function(){var e,n,r,o,i,a;if(e=it,(n=jt())!==u){for(r=[],o=Ut();o!==u;)r.push(o),o=Ut();if(58===t.charCodeAt(it)?(o=s,it++):(o=u,0===ft&&mt(j)),o!==u){for(i=[],a=Ut();a!==u;)i.push(a),a=Ut();(a=Tt())!==u?(at=e,c=n,e="cursor"===(l=a).type?{...l,fieldName:c.value,suggestionTypes:["value","conjunction"]}:l(c)):(it=e,e=u)}else it=e,e=u}else it=e,e=u;var c,l;return e}(),e===u&&(e=function(){var t,e;t=it,(e=Et())!==u&&(at=t,e=function(t){if("cursor"===t.type){const e=`${t.prefix}${t.suffix}`.trim();return{...t,fieldName:e,suggestionTypes:["field","operator","conjunction"]}}return t(zt(null))}(e));return t=e}()));return e}());return e}()),e}function jt(){var t;return ft++,t=Ct(),ft--,t===u&&(u,0===ft&&mt(S)),t}function Tt(){var e,n,r,o,i,a,s,c;if(e=it,40===t.charCodeAt(it)?(n="(",it++):(n=u,0===ft&&mt(A)),n!==u){for(r=[],o=Ut();o!==u;)r.push(o),o=Ut();o=function(){var t,e,n,r,o;if(t=it,(e=Ot())!==u){if(n=[],r=it,qt()!==u&&(o=Ot())!==u?(at=r,r=nt(0,o)):(it=r,r=u),r!==u)for(;r!==u;)n.push(r),r=it,qt()!==u&&(o=Ot())!==u?(at=r,r=nt(0,o)):(it=r,r=u);else n=u;n!==u?(at=t,t=function(t,e){const n=[t,...e],r=$t&&n.find((t=>"cursor"===t.type));return r?{...r,suggestionTypes:["value"]}:t=>Vt("or",n.map((e=>e(t))))}(e,n)):(it=t,t=u)}else it=t,t=u;t===u&&(t=Ot());return t}(),o!==u&&(i=Rt())!==u?(41===t.charCodeAt(it)?(a=")",it++):(a=u,0===ft&&mt(w)),a!==u?(at=e,s=o,e="cursor"===(c=i).type?{...c,suggestionTypes:["conjunction"]}:s):(it=e,e=u)):(it=e,e=u)}else it=e,e=u;return e===u&&(e=Et()),e}function Ot(){var t,e,n,r,o;if(t=it,(e=St())!==u){if(n=[],r=it,Nt()!==u&&(o=St())!==u?(at=r,r=nt(0,o)):(it=r,r=u),r!==u)for(;r!==u;)n.push(r),r=it,Nt()!==u&&(o=St())!==u?(at=r,r=nt(0,o)):(it=r,r=u);else n=u;n!==u?(at=t,t=function(t,e){const n=[t,...e],r=$t&&n.find((t=>"cursor"===t.type));return r?{...r,suggestionTypes:["value"]}:t=>Vt("and",n.map((e=>e(t))))}(e,n)):(it=t,t=u)}else it=t,t=u;return t===u&&(t=St()),t}function St(){var t,e,n;return t=it,It()!==u&&(e=Tt())!==u?(at=t,t="cursor"===(n=e).type?{...list,suggestionTypes:["value"]}:t=>Vt("not",[n(t)])):(it=t,t=u),t===u&&(t=Tt()),t}function Et(){var t,e;return ft++,t=it,(e=Mt())!==u&&(at=t,e=function(t){if("cursor"===t.type)return t;const e=zt(!0);return n=>Vt("is",[n,t,e])}(e)),(t=e)===u&&(t=it,(e=kt())!==u&&(at=t,e=rt(e)),t=e),ft--,t===u&&(e=u,0===ft&&mt(E)),t}function qt(){var e,n,r,o,i;if(ft++,e=it,n=[],(r=Ut())!==u)for(;r!==u;)n.push(r),r=Ut();else n=u;if(n!==u)if("or"===t.substr(it,2).toLowerCase()?(r=t.substr(it,2),it+=2):(r=u,0===ft&&mt(N)),r!==u){if(o=[],(i=Ut())!==u)for(;i!==u;)o.push(i),i=Ut();else o=u;o!==u?e=n=[n,r,o]:(it=e,e=u)}else it=e,e=u;else it=e,e=u;return ft--,e===u&&(n=u,0===ft&&mt(q)),e}function Nt(){var e,n,r,o,i;if(ft++,e=it,n=[],(r=Ut())!==u)for(;r!==u;)n.push(r),r=Ut();else n=u;if(n!==u)if("and"===t.substr(it,3).toLowerCase()?(r=t.substr(it,3),it+=3):(r=u,0===ft&&mt(C)),r!==u){if(o=[],(i=Ut())!==u)for(;i!==u;)o.push(i),i=Ut();else o=u;o!==u?e=n=[n,r,o]:(it=e,e=u)}else it=e,e=u;else it=e,e=u;return ft--,e===u&&(n=u,0===ft&&mt(I)),e}function It(){var e,n,r,o;if(ft++,e=it,"not"===t.substr(it,3).toLowerCase()?(n=t.substr(it,3),it+=3):(n=u,0===ft&&mt(B)),n!==u){if(r=[],(o=Ut())!==u)for(;o!==u;)r.push(o),o=Ut();else r=u;r!==u?e=n=[n,r]:(it=e,e=u)}else it=e,e=u;return ft--,e===u&&(n=u,0===ft&&mt(M)),e}function Ct(){var t;return ft++,(t=Mt())===u&&(t=kt()),ft--,t===u&&(u,0===ft&&mt(k)),t}function Mt(){var e,n,r,o,i,a,s;if(e=it,at=it,(n=(n=ut())?void 0:u)!==u)if(34===t.charCodeAt(it)?(r=d,it++):(r=u,0===ft&&mt(F)),r!==u){for(o=[],i=Bt();i!==u;)o.push(i),i=Bt();if((i=Dt())!==u){for(a=[],s=Bt();s!==u;)a.push(s),s=Bt();34===t.charCodeAt(it)?(s=d,it++):(s=u,0===ft&&mt(F)),s!==u?(at=e,e=ot(o,i,a)):(it=e,e=u)}else it=e,e=u}else it=e,e=u;else it=e,e=u;if(e===u)if(e=it,34===t.charCodeAt(it)?(n=d,it++):(n=u,0===ft&&mt(F)),n!==u){for(r=[],o=Bt();o!==u;)r.push(o),o=Bt();34===t.charCodeAt(it)?(o=d,it++):(o=u,0===ft&&mt(F)),o!==u?(at=e,e=zt(r.join(""))):(it=e,e=u)}else it=e,e=u;return e}function Bt(){var e,n,r;return(e=Lt())===u&&(e=Pt())===u&&(e=it,92===t.charCodeAt(it)?(n=p,it++):(n=u,0===ft&&mt(R)),n!==u?(m.test(t.charAt(it))?(r=t.charAt(it),it++):(r=u,0===ft&&mt(L)),r!==u?(at=e,e=r):(it=e,e=u)):(it=e,e=u),e===u&&(e=it,n=it,ft++,r=Dt(),ft--,r===u?n=void 0:(it=n,n=u),n!==u?(y.test(t.charAt(it))?(r=t.charAt(it),it++):(r=u,0===ft&&mt(Q)),r!==u?(at=e,e=r):(it=e,e=u)):(it=e,e=u))),e}function kt(){var t,e,n,r,o,i;if(t=it,at=it,(e=(e=ut())?void 0:u)!==u){for(n=[],r=Ft();r!==u;)n.push(r),r=Ft();if((r=Dt())!==u){for(o=[],i=Ft();i!==u;)o.push(i),i=Ft();at=t,t=ot(n,r,o)}else it=t,t=u}else it=t,t=u;if(t===u){if(t=it,e=[],(n=Ft())!==u)for(;n!==u;)e.push(n),n=Ft();else e=u;e!==u&&(at=t,e=function(t){const e=t.join("").trim();return"null"===e?zt(null):"true"===e?zt(!0):"false"===e?zt(!1):t.includes(Jt)?Xt(e):zt(e)}(e)),t=e}return t}function Ft(){var e,n,r,o,i;return(e=Lt())===u&&(e=function(){var e,n,r;e=it,92===t.charCodeAt(it)?(n=p,it++):(n=u,0===ft&&mt(R));n!==u&&(r=Qt())!==u?(at=e,e=r):(it=e,e=u);return e}(),e===u&&(e=Pt())===u&&(e=function(){var e,n,r;e=it,92===t.charCodeAt(it)?(n=p,it++):(n=u,0===ft&&mt(R));n!==u?(t.substr(it,2).toLowerCase()===c?(r=t.substr(it,2),it+=2):(r=u,0===ft&&mt(N)),r===u&&(t.substr(it,3).toLowerCase()===l?(r=t.substr(it,3),it+=3):(r=u,0===ft&&mt(C)),r===u&&(t.substr(it,3).toLowerCase()===f?(r=t.substr(it,3),it+=3):(r=u,0===ft&&mt(B)))),r!==u?(at=e,e=r):(it=e,e=u)):(it=e,e=u);return e}(),e===u&&(e=function(){var e,n;e=it,42===t.charCodeAt(it)?(n="*",it++):(n=u,0===ft&&mt(G));n!==u&&(at=e,n=Jt);return e=n}(),e===u&&(e=it,n=it,ft++,r=Qt(),ft--,r===u?n=void 0:(it=n,n=u),n!==u?(r=it,ft++,o=function(){var t;(t=qt())===u&&(t=Nt())===u&&(t=It());return t}(),ft--,o===u?r=void 0:(it=r,r=u),r!==u?(o=it,ft++,i=Dt(),ft--,i===u?o=void 0:(it=o,o=u),o!==u?(t.length>it?(i=t.charAt(it),it++):(i=u,0===ft&&mt(P)),i!==u?(at=e,e=i):(it=e,e=u)):(it=e,e=u)):(it=e,e=u)):(it=e,e=u))))),e}function Rt(){var t,e,n,r,o,i;if(t=it,at=it,(e=(e=ut())?void 0:u)!==u){for(n=[],r=Ut();r!==u;)n.push(r),r=Ut();if((r=Dt())!==u){for(o=[],i=Ut();i!==u;)o.push(i),i=Ut();at=t,t=ot(n,r,o)}else it=t,t=u}else it=t,t=u;if(t===u)for(t=[],e=Ut();e!==u;)t.push(e),e=Ut();return t}function Lt(){var e,n;return e=it,"\\t"===t.substr(it,2)?(n="\\t",it+=2):(n=u,0===ft&&mt(U)),n!==u&&(at=e,n="\t"),(e=n)===u&&(e=it,"\\r"===t.substr(it,2)?(n="\\r",it+=2):(n=u,0===ft&&mt(D)),n!==u&&(at=e,n="\r"),(e=n)===u&&(e=it,"\\n"===t.substr(it,2)?(n="\\n",it+=2):(n=u,0===ft&&mt($)),n!==u&&(at=e,n="\n"),e=n)),e}function Qt(){var e;return b.test(t.charAt(it))?(e=t.charAt(it),it++):(e=u,0===ft&&mt(H)),e}function Pt(){var e,n,r;return e=it,92===t.charCodeAt(it)?(n=p,it++):(n=u,0===ft&&mt(R)),n!==u?(r=function(){var e,n,r,o,i,a,s,c;e=it,117===t.charCodeAt(it)?(n="u",it++):(n=u,0===ft&&mt(W));n!==u?(r=it,o=it,(i=Gt())!==u&&(a=Gt())!==u&&(s=Gt())!==u&&(c=Gt())!==u?o=i=[i,a,s,c]:(it=o,o=u),(r=o!==u?t.substring(r,it):o)!==u?(at=e,l=r,e=String.fromCharCode(parseInt(l,16))):(it=e,e=u)):(it=e,e=u);var l;return e}(),r!==u?(at=e,e=r):(it=e,e=u)):(it=e,e=u),e}function Gt(){var e;return _.test(t.charAt(it))?(e=t.charAt(it),it++):(e=u,0===ft&&mt(Z)),e}function Ut(){var e;return ft++,x.test(t.charAt(it))?(e=t.charAt(it),it++):(e=u,0===ft&&mt(Y)),ft--,e===u&&(u,0===ft&&mt(J)),e}function Dt(){var e,n;return e=it,at=it,(ut()?void 0:u)!==u?(t.substr(it,14)===g?(n=g,it+=14):(n=u,0===ft&&mt(tt)),n!==u?(at=e,e=Ht):(it=e,e=u)):(it=e,e=u),e}const{parseCursor:$t,cursorSymbol:Ht,allowLeadingWildcards:Wt=!0,helpers:{nodeTypes:Zt}}=e,Vt=Zt.function.buildNodeWithArgumentNodes,zt=Zt.literal.buildNode,Xt=Zt.wildcard.buildNode,Kt=Zt.namedArg.buildNode,{wildcardSymbol:Jt}=Zt.wildcard;if((n=a())!==u&&it===t.length)return n;throw n!==u&&it<t.length&&mt({type:"end"}),yt(lt,ct<t.length?t.charAt(ct):null,ct<t.length?gt(ct,ct+1):gt(ct,ct))}}},401:function(t,e,n){t.exports=n(20)(2384)},402:function(t,e,n){t.exports=n(20)(2391)},403:function(t,e,n){t.exports=n(20)(2389)},404:function(t,e,n){t.exports=n(20)(2401)},99:function(t,e,n){"use strict";n.d(e,"c",(function(){return g})),n.d(e,"a",(function(){return m})),n.d(e,"b",(function(){return _}));var r=n(8),u=n(21),o=n.n(u),i=n(31),a=n.n(i);const{duration:s}=o.a;var c=n(26),l=n(22),f=n(43),d=n(60);const p=a.a.unitsDesc,h=p.indexOf("w"),v=function(){const t=[[s(500,"ms"),s(100,"ms")],[s(5,"second"),s(1,"second")],[s(10,"second"),s(5,"second")],[s(15,"second"),s(10,"second")],[s(30,"second"),s(15,"second")],[s(1,"minute"),s(30,"second")],[s(5,"minute"),s(1,"minute")],[s(10,"minute"),s(5,"minute")],[s(15,"minute"),s(10,"minute")],[s(30,"minute"),s(10,"minute")],[s(1,"hour"),s(30,"minute")],[s(2,"hour"),s(1,"hour")],[s(4,"hour"),s(2,"hour")],[s(6,"hour"),s(4,"hour")],[s(8,"hour"),s(6,"hour")],[s(12,"hour"),s(8,"hour")],[s(24,"hour"),s(12,"hour")],[s(2,"d"),s(1,"d")],[s(4,"d"),s(2,"d")],[s(1,"week"),s(4,"d")],[s(1,"month"),s(1,"week")],[s(1,"year"),s(1,"month")],[1/0,s(1,"year")]].slice(0).reverse();function e(t,e,n){return function(r,u){const i=function(r,u){const i=u/r;let a;for(let r=0;r<t.length;r++){const u=t[r],o=e(u[0],u[1],i);if(null==o){if(!n)continue;if(a)return a;break}if(!n)return o;a=o}const s=Math.max(Math.floor(i),1);return o.a.duration(s,"ms")}(r,u);if(i)return o.a.duration(i._data)}}return{near:e(t,(function(t,e,n){if(t>n){if(t===1/0)return e;const r=t.asMilliseconds(),u=e.asMilliseconds();return Math.abs(r-n)<=Math.abs(u)?t:e}}),!0),lessThan:e(t,(function(t,e,n){if(e<n)return t!==1/0?t:e})),atLeast:e(t,(function(t,e,n){if(e<=n)return e}))}}();function g(){const t=Object(l.l)();return new m({[f.UI_SETTINGS.HISTOGRAM_MAX_BARS]:t.get(f.UI_SETTINGS.HISTOGRAM_MAX_BARS),[f.UI_SETTINGS.HISTOGRAM_BAR_TARGET]:t.get(f.UI_SETTINGS.HISTOGRAM_BAR_TARGET),dateFormat:t.get("dateFormat"),"dateFormat:scaled":t.get("dateFormat:scaled")})}function m(t){this._timeBucketsConfig=t,this.barTarget=this._timeBucketsConfig[f.UI_SETTINGS.HISTOGRAM_BAR_TARGET],this.maxBars=this._timeBucketsConfig[f.UI_SETTINGS.HISTOGRAM_MAX_BARS]}function y(t,e){const n=function(t){for(let e=0;e<p.length;e++){const n=p[e],r=t.as(n);if(r>=1&&Math.floor(r)===r){if(e<=h)continue;return{value:r,unit:n,expression:r+n}}}const e=t.as("ms");return{value:e,unit:"ms",expression:e+"ms"}}(t);t.esValue=n.value,t.esUnit=n.unit,t.expression=n.expression,t.overflow=e>t&&o.a.duration(t-e);const r=o.a.normalizeUnits(n.unit);return 1===n.value?t.description=r:t.description=`${n.value} ${r}s`,t}function b(t){return t&&"isValid"in t&&t.isValid()}function _(t,e,n=!1){const r=e.asMilliseconds(),u=Math.floor(t.min.valueOf()/r)*r;let i=Math.ceil(t.max.valueOf()/r)*r;return!1===n&&(i-=1),{min:o()(u),max:o()(i)}}m.prototype.setBarTarget=function(t){this.barTarget=t},m.prototype.setMaxBars=function(t){this.maxBars=t},m.prototype.setBounds=function(t){if(!t)return this.clearBounds();let e;e=Object(r.isPlainObject)(t)?[t.min,t.max]:Array.isArray(t)?t:[];const n=Object(r.sortBy)(e.map(Object(r.ary)(o.a,1)),Number);if(!(2===n.length&&n.every(b)))throw this.clearBounds(),new Error("invalid bounds set: "+t);if(this._lb=n.shift(),this._ub=n.pop(),this.getDuration().asSeconds()<0)throw new TypeError("Intervals must be positive")},m.prototype.clearBounds=function(){this._lb=this._ub=null},m.prototype.hasBounds=function(){return b(this._ub)&&b(this._lb)},m.prototype.getBounds=function(){if(this.hasBounds())return{min:this._lb,max:this._ub}},m.prototype.getDuration=function(){if(this.hasBounds())return o.a.duration(this._ub-this._lb,"ms")},m.prototype.setInterval=function(t){this.originalInterval=t;let e=t;if(e&&"auto"!==e){if(Object(r.isString)(e)&&(t=e,e=Object(c.a)(e),0==+e&&(e=null)),!o.a.isDuration(e))throw new TypeError('"'+t+'" is not a valid interval.');this._i=e}else this._i="auto"},m.prototype.getInterval=function(){const t=this,e=t.getDuration();return y(function(n){if(!t.hasBounds())return n;const u=t.maxBars;let o;if(!(e/n>u))return n;o=v.lessThan(u,e);return+o==+n?n:(y(n,e),Object(r.assign)(o,{preScaled:n,scale:n/o,scaled:!0}))}(function(){const n=t._i;return o.a.isDuration(n)?n:v.near(t.barTarget,e)}()),e)},m.prototype.getIntervalToNearestMultiple=function(t){const e=this.getInterval(),n=e.asSeconds(),r=n%t;if(0===r)return e;let u=r>t/2?n+t-r:n-r;u=0===u?t:u;const i=o.a.duration(u,"seconds");y(i,this.getDuration());const a=e.preScaled;return void 0!==a&&a<i&&(i.preScaled=a,i.scale=a/i,i.scaled=!0),i},m.prototype.getScaledDateFormat=function(){const t=this.getInterval(),e=this._timeBucketsConfig["dateFormat:scaled"];for(let n=e.length-1;n>=0;n--){const r=e[n];if(!r[0]||t>=o.a.duration(r[0]))return r[1]}return this._timeBucketsConfig.dateFormat},m.prototype.getScaledDateFormatter=function(){return new(Object(l.d)().getType(d.FIELD_FORMAT_IDS.DATE))({pattern:this.getScaledDateFormat()},this._timeBucketsConfig)}}}]);