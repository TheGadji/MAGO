/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.cases_bundle_jsonpfunction=window.cases_bundle_jsonpfunction||[]).push([[7],{181:function(e,t,n){"use strict";n.r(t),n.d(t,"CommonUseField",(function(){return ee})),n.d(t,"CreateCase",(function(){return re})),n.d(t,"default",(function(){return re}));var r=n(2),a=n.n(r),c=n(6),s=n(33),o=n.n(s),i=n(46),l=n(62);const u=Object(i.i)({component:i.b}),d=({isLoading:e})=>a.a.createElement(u,{path:"title",componentProps:{idAria:"caseTitle","data-test-subj":"caseTitle",euiFieldProps:{autoFocus:!0,fullWidth:!0,disabled:e}}});d.displayName="TitleComponent";const b=Object(r.memo)(d);var m=n(69),p=n(84);const E="description",g=({isLoading:e})=>{const{draftComment:t,hasIncomingLensState:n,openLensModal:c,clearDraftComment:s}=Object(p.a)(),{setFieldValue:o}=Object(i.k)(),[{title:l,tags:u}]=Object(i.l)({watch:["title","tags"]}),d=Object(r.useRef)();return Object(r.useEffect)((()=>{(null==t?void 0:t.commentId)===E&&d.current&&(o(E,t.comment),t.caseTitle&&o("title",t.caseTitle),t.caseTags&&t.caseTags.length>0&&o("tags",t.caseTags),n?c({editorRef:d.current}):s())}),[s,t,n,c,o]),a.a.createElement(i.e,{path:E,component:m.a,componentProps:{id:E,ref:d,dataTestSubj:"caseDescription",idAria:"caseDescription",isDisabled:e,caseTitle:l,caseTags:u}})};g.displayName="DescriptionComponent";const f=Object(r.memo)(g);var C=n(75);const h=Object(i.i)({component:i.b}),y=({isLoading:e})=>{const{tags:t,isLoading:n}=Object(C.a)(),c=Object(r.useMemo)((()=>t.map((e=>({label:e})))),[t]);return a.a.createElement(h,{path:"tags",componentProps:{idAria:"caseTags","data-test-subj":"caseTags",euiFieldProps:{fullWidth:!0,placeholder:"",disabled:e||n,options:c,noSuggestions:!1}}})};y.displayName="TagsComponent";const j=Object(r.memo)(y);var O=n(3),S=n(85),T=n(86),w=n(80),v=n(102),A=n(48);const I=({connectors:e,isEdit:t,field:n,setErrors:r,hideConnectorServiceNowSir:c=!1})=>{var s;const[{connectorId:o}]=Object(i.l)({watch:["connectorId"]}),{setValue:l}=n;let u=null!==(s=Object(A.a)(o,e))&&void 0!==s?s:null;return u&&c&&u.actionTypeId===O.ConnectorTypes.serviceNowSIR&&(u=null),a.a.createElement(T.a,{connector:u,fields:n.value,isEdit:t,onChange:l})},L=({connectors:e,hideConnectorServiceNowSir:t=!1,isLoading:n,isLoadingConnectors:s})=>{const{getFields:o,setFieldValue:l}=Object(i.k)(),{connector:u}=Object(v.a)(),d=Object(r.useCallback)((()=>{const{fields:e}=o();e.setValue(null)}),[o]),b=Object(r.useMemo)((()=>t&&u.type===O.ConnectorTypes.serviceNowSIR?"none":e.some((e=>e.id===u.id))?u.id:"none"),[u.id,u.type,e,t]);Object(r.useEffect)((()=>l("connectorId",b)),[b,l]);const m=Object(A.c)({config:w.a.connectorId,connectors:e});return a.a.createElement(c.EuiFlexGroup,null,a.a.createElement(c.EuiFlexItem,null,a.a.createElement(i.e,{path:"connectorId",config:m,component:S.a,defaultValue:b,componentProps:{connectors:e,handleChange:d,hideConnectorServiceNowSir:t,dataTestSubj:"caseConnectors",disabled:n||s,idAria:"caseConnectors",isLoading:n||s}})),a.a.createElement(c.EuiFlexItem,null,a.a.createElement(i.e,{path:"fields",component:I,componentProps:{connectors:e,hideConnectorServiceNowSir:t,isEdit:!0}})))};L.displayName="ConnectorComponent";const F=Object(r.memo)(L),_=Object(i.i)({component:i.b}),N=({isLoading:e})=>{const[{syncAlerts:t}]=Object(i.l)({watch:["syncAlerts"]});return a.a.createElement(_,{path:"syncAlerts",componentProps:{idAria:"caseSyncAlerts","data-test-subj":"caseSyncAlerts",label:l.l,euiFieldProps:{disabled:e,label:t?l.n:l.m}}})};N.displayName="SyncAlertsToggleComponent";const R=Object(r.memo)(N),U=o.a.div.attrs((e=>e)).withConfig({displayName:"Container",componentId:"sc-ui4n0f-0"})(["",""],(({big:e,theme:t})=>{var n,r,a,c;return Object(s.css)(["margin-top:",";"],e?null!==(n=null===(r=t.eui)||void 0===r?void 0:r.euiSizeXL)&&void 0!==n?n:"32px":null!==(a=null===(c=t.eui)||void 0===c?void 0:c.euiSize)&&void 0!==a?a:"16px")})),x=o()(c.EuiLoadingSpinner).withConfig({displayName:"MySpinner",componentId:"sc-ui4n0f-1"})(["position:absolute;top:50%;left:50%;z-index:99;"]),H=[],k=a.a.memo((({connectors:e=H,disableAlerts:t=!1,isLoadingConnectors:n=!1,hideConnectorServiceNowSir:s=!1,withSteps:o=!0})=>{const{isSubmitting:u}=Object(i.k)(),d=Object(r.useMemo)((()=>({title:l.h,children:a.a.createElement(a.a.Fragment,null,a.a.createElement(b,{isLoading:u}),a.a.createElement(U,null,a.a.createElement(j,{isLoading:u})),a.a.createElement(U,{big:!0},a.a.createElement(f,{isLoading:u})))})),[u]),m=Object(r.useMemo)((()=>({title:l.j,children:a.a.createElement(U,null,a.a.createElement(R,{isLoading:u}))})),[u]),p=Object(r.useMemo)((()=>({title:l.i,children:a.a.createElement(U,null,a.a.createElement(F,{connectors:e,hideConnectorServiceNowSir:s,isLoadingConnectors:n,isLoading:u}))})),[e,s,n,u]),E=Object(r.useMemo)((()=>[d,...t?[]:[m],p]),[t,d,m,p]);return a.a.createElement(a.a.Fragment,null,u&&a.a.createElement(x,{"data-test-subj":"create-case-loading-spinner",size:"xl"}),o?a.a.createElement(c.EuiSteps,{headingElement:"h2",steps:E,"data-test-subj":"case-creation-form-steps"}):a.a.createElement(a.a.Fragment,null,d.children,!t&&m.children,p.children))}));k.displayName="CreateCaseForm";var P=n(79),G=n(47),D=n(13),M=n(20);const q=(e,t)=>{switch(t.type){case"FETCH_INIT":return{...e,isLoading:!0,isError:!1};case"FETCH_SUCCESS":return{...e,isLoading:!1,isError:!1};case"FETCH_FAILURE":return{...e,isLoading:!1,isError:!0};default:return e}};var V=n(87),z=n(65),J=n(71),B=n(50);const $={description:"",tags:[],title:"",connectorId:"none",fields:null,syncAlerts:!0},X=({afterCaseCreated:e,caseType:t=O.CaseType.individual,children:n,hideConnectorServiceNowSir:c,onSuccess:s,syncAlertsDefaultValue:o=!0})=>{const{connectors:l,loading:u}=Object(z.a)(),d=Object(B.a)(),{postCase:b}=(()=>{const[e,t]=Object(r.useReducer)(q,{isLoading:!1,isError:!1}),n=Object(M.f)(),a=Object(r.useRef)(!1),c=Object(r.useRef)(new AbortController),s=Object(r.useCallback)((async e=>{try{a.current=!1,c.current.abort(),c.current=new AbortController,t({type:"FETCH_INIT"});const n=await Object(G.o)(e,c.current.signal);return a.current||t({type:"FETCH_SUCCESS"}),n}catch(e){a.current||("AbortError"!==e.name&&n.addError(e.body&&e.body.message?new Error(e.body.message):e,{title:D.d}),t({type:"FETCH_FAILURE"}))}}),[]);return Object(r.useEffect)((()=>()=>{a.current=!0,c.current.abort()}),[]),{...e,postCase:s}})(),{postComment:m}=Object(J.a)(),{pushCaseToExternalService:p}=Object(V.a)(),E=Object(r.useCallback)((async({connectorId:n,fields:r,syncAlerts:a=o,...c},i)=>{if(i){const o=Object(A.a)(n,l),i=o?Object(P.b)(o,r):Object(P.a)(),u=await b({...c,type:t,connector:i,settings:{syncAlerts:a},owner:d[0]});e&&u&&await e(u,m),null!=u&&u.id&&"none"!==n&&await p({caseId:u.id,connector:i}),s&&u&&await s(u)}}),[l,b,t,d,e,s,m,p,o]),{form:g}=Object(i.j)({defaultValue:$,options:{stripEmptyFields:!1},schema:w.a,onSubmit:E}),f=Object(r.useMemo)((()=>null!=n?a.a.Children.map(n,(e=>a.a.cloneElement(e,{connectors:l,isLoadingConnectors:u}))):null),[n,l,u]);return a.a.createElement(i.c,{onKeyDown:e=>{"Enter"===e.key&&e.stopPropagation()},form:g},f)};X.displayName="FormContext";const W=()=>{const{submit:e,isSubmitting:t}=Object(i.k)();return a.a.createElement(c.EuiButton,{"data-test-subj":"create-case-submit",fill:!0,iconType:"plusInCircle",isDisabled:t,isLoading:t,onClick:e},l.c)},K=Object(r.memo)(W);var Q=n(83),Y=n(88),Z=n(23);const ee=Object(i.i)({component:i.b}),te=o.a.div.withConfig({displayName:"Container",componentId:"sc-1pax6s1-0"})(["",""],(({theme:e})=>`\n    margin-top: ${e.eui.euiSize};\n  `)),ne=({afterCaseCreated:e,caseType:t,hideConnectorServiceNowSir:n,disableAlerts:r,onCancel:s,onSuccess:o,timelineIntegration:i,withSteps:u})=>a.a.createElement(Q.b,{timelineIntegration:i},a.a.createElement(X,{afterCaseCreated:e,caseType:t,hideConnectorServiceNowSir:n,onSuccess:o,syncAlertsDefaultValue:!r},a.a.createElement(k,{hideConnectorServiceNowSir:n,disableAlerts:r,withSteps:u}),a.a.createElement(te,null,a.a.createElement(c.EuiFlexGroup,{alignItems:"center",justifyContent:"flexEnd",gutterSize:"xs",responsive:!1},a.a.createElement(c.EuiFlexItem,{grow:!1},a.a.createElement(c.EuiButtonEmpty,{"data-test-subj":"create-case-cancel",iconType:"cross",onClick:s,size:"s"},l.a)),a.a.createElement(c.EuiFlexItem,{grow:!1},a.a.createElement(K,null)))),a.a.createElement(Y.a,{fieldName:E}))),re=a.a.memo((e=>a.a.createElement(Z.b,{owner:e.owner},a.a.createElement(ne,e))))},47:function(e,t,n){"use strict";n.d(t,"r",(function(){return l})),n.d(t,"h",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"j",(function(){return b})),n.d(t,"g",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"i",(function(){return E})),n.d(t,"e",(function(){return g})),n.d(t,"o",(function(){return f})),n.d(t,"k",(function(){return C})),n.d(t,"n",(function(){return h})),n.d(t,"l",(function(){return y})),n.d(t,"p",(function(){return j})),n.d(t,"m",(function(){return O})),n.d(t,"a",(function(){return S})),n.d(t,"b",(function(){return T})),n.d(t,"q",(function(){return w})),n.d(t,"c",(function(){return v}));var r=n(9),a=n(3),c=n(22),s=n(20),o=n(54),i=n(25);const l=async(e,t=!0,n)=>{const r=await s.a.get().http.fetch(Object(a.getCaseDetailsUrl)(e)+"/resolve",{method:"GET",query:{includeComments:t},signal:n});return Object(i.c)(Object(i.g)(r))},u=async(e,t,n=!0,c)=>{var o,l;const[u,d]=await Promise.all([s.a.get().http.fetch(Object(a.getCaseDetailsUrl)(e),{method:"GET",query:{includeComments:!1},signal:c}),s.a.get().http.fetch(Object(a.getSubCaseDetailsUrl)(e,t),{method:"GET",query:{includeComments:n},signal:c})]),b=Object(r.assign)(u,d),m=null!==(o=null===(l=b.subCaseIds)||void 0===l?void 0:l.findIndex((e=>e===b.id)))&&void 0!==o?o:-1;return b.title=`${b.title}${m>=0?` ${m+1}`:""}`,Object(i.c)(Object(i.h)(b))},d=async(e,t)=>{const n=await s.a.get().http.fetch(a.CASE_STATUS_URL,{method:"GET",signal:e,query:{...t.length>0?{owner:t}:{}}});return Object(i.c)(Object(i.l)(n))},b=async(e,t)=>{const n=await s.a.get().http.fetch(a.CASE_TAGS_URL,{method:"GET",signal:e,query:{...t.length>0?{owner:t}:{}}});return null!=n?n:[]},m=async(e,t)=>{const n=await s.a.get().http.fetch(a.CASE_REPORTERS_URL,{method:"GET",signal:e,query:{...t.length>0?{owner:t}:{}}});return null!=n?n:[]},p=async(e,t)=>{const n=await s.a.get().http.fetch(Object(a.getCaseUserActionUrl)(e),{method:"GET",signal:t});return Object(i.b)(Object(i.i)(n))},E=async(e,t,n)=>{const r=await s.a.get().http.fetch(Object(a.getSubCaseUserActionUrl)(e,t),{method:"GET",signal:n});return Object(i.b)(Object(i.i)(r))},g=async({filterOptions:e={onlyCollectionType:!1,search:"",reporters:[],status:a.StatusAll,tags:[],owner:[]},queryParams:t={page:1,perPage:20,sortField:o.a.createdAt,sortOrder:"desc"},signal:n})=>{const c={reporters:e.reporters.map((e=>{var t;return null!==(t=e.username)&&void 0!==t?t:""})).filter((e=>""!==e)),tags:e.tags,status:e.status,...e.search.length>0?{search:e.search}:{},...e.onlyCollectionType?{type:a.CaseType.collection}:{},...e.owner.length>0?{owner:e.owner}:{},...t},l=await s.a.get().http.fetch(`${a.CASES_URL}/_find`,{method:"GET",query:c.status===a.StatusAll?Object(r.omit)(c,["status"]):c,signal:n});return Object(i.a)(Object(i.j)(l))},f=async(e,t)=>{const n=await s.a.get().http.fetch(a.CASES_URL,{method:"POST",body:JSON.stringify(e),signal:t});return Object(i.c)(Object(i.h)(n))},C=async(e,t,n,r)=>{const c=await s.a.get().http.fetch(a.CASES_URL,{method:"PATCH",body:JSON.stringify({cases:[{...t,id:e,version:n}]}),signal:r});return Object(i.c)(Object(i.k)(c))},h=async(e,t,n,c,o)=>{const l=await s.a.get().http.fetch(a.SUB_CASE_DETAILS_URL,{method:"PATCH",body:JSON.stringify({cases:[{...n,id:e,version:c}]}),signal:o}),u=await s.a.get().http.fetch(Object(a.getCaseDetailsUrl)(e),{method:"GET",query:{includeComments:!1},signal:o}),d=l.map((e=>Object(r.assign)(u,e)));return Object(i.c)(Object(i.k)(d))},y=async(e,t)=>{const n=await s.a.get().http.fetch(a.CASES_URL,{method:"PATCH",body:JSON.stringify({cases:e}),signal:t});return Object(i.c)(Object(i.k)(n))},j=async(e,t,n,r)=>{const c=await s.a.get().http.fetch(`${a.CASES_URL}/${t}/comments`,{method:"POST",body:JSON.stringify(e),...r?{query:{subCaseId:r}}:{},signal:n});return Object(i.c)(Object(i.h)(c))},O=async({caseId:e,commentId:t,commentUpdate:n,version:r,signal:c,owner:o,subCaseId:l})=>{const u=await s.a.get().http.fetch(Object(a.getCaseCommentsUrl)(e),{method:"PATCH",body:JSON.stringify({comment:n,type:a.CommentType.user,id:t,version:r,owner:o}),...l?{query:{subCaseId:l}}:{},signal:c});return Object(i.c)(Object(i.h)(u))},S=async(e,t)=>await s.a.get().http.fetch(a.CASES_URL,{method:"DELETE",query:{ids:JSON.stringify(e)},signal:t}),T=async(e,t)=>await s.a.get().http.fetch(a.SUB_CASES_PATCH_DEL_URL,{method:"DELETE",query:{ids:JSON.stringify(e)},signal:t}),w=async(e,t,n)=>{const r=await s.a.get().http.fetch(Object(a.getCasePushUrl)(e,t),{method:"POST",body:JSON.stringify({}),signal:n});return Object(i.c)(Object(i.h)(r))},v=async e=>{const t=await s.a.get().http.fetch(Object(c.a)(),{method:"GET",signal:e});return Object(i.b)(t)}},54:function(e,t,n){"use strict";n.d(t,"b",(function(){return r.b})),n.d(t,"a",(function(){return r.a}));var r=n(24)},61:function(e,t,n){e.exports=n(28)(1075)},62:function(e,t,n){"use strict";n.d(t,"h",(function(){return c})),n.d(t,"j",(function(){return s})),n.d(t,"i",(function(){return o})),n.d(t,"l",(function(){return i}));var r=n(1),a=n(12);n.d(t,"a",(function(){return a.f})),n.d(t,"b",(function(){return a.n})),n.d(t,"c",(function(){return a.o})),n.d(t,"d",(function(){return a.r})),n.d(t,"e",(function(){return a.s})),n.d(t,"f",(function(){return a.x})),n.d(t,"g",(function(){return a.y})),n.d(t,"k",(function(){return a.P})),n.d(t,"m",(function(){return a.Q})),n.d(t,"n",(function(){return a.R})),n.d(t,"o",(function(){return a.S})),n.d(t,"p",(function(){return a.T})),n.d(t,"q",(function(){return a.U})),n.d(t,"r",(function(){return a.V}));const c=r.i18n.translate("xpack.cases.create.stepOneTitle",{defaultMessage:"Case fields"}),s=r.i18n.translate("xpack.cases.create.stepTwoTitle",{defaultMessage:"Case settings"}),o=r.i18n.translate("xpack.cases.create.stepThreeTitle",{defaultMessage:"External Connector Fields"}),i=r.i18n.translate("xpack.cases.create.syncAlertsLabel",{defaultMessage:"Sync alert status with case status"})},71:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2),a=n(47),c=n(13),s=n(20);const o=(e,t)=>{switch(t.type){case"FETCH_INIT":return{isLoading:!0,isError:!1};case"FETCH_SUCCESS":return{isLoading:!1,isError:!1};case"FETCH_FAILURE":return{isLoading:!1,isError:!0};default:return e}},i=()=>{const[e,t]=Object(r.useReducer)(o,{isLoading:!1,isError:!1}),n=Object(s.f)(),i=Object(r.useRef)(!1),l=Object(r.useRef)(new AbortController),u=Object(r.useCallback)((async({caseId:e,data:r,updateCase:s,subCaseId:o})=>{try{i.current=!1,l.current.abort(),l.current=new AbortController,t({type:"FETCH_INIT"});const n=await Object(a.p)(r,e,l.current.signal,o);i.current||(t({type:"FETCH_SUCCESS"}),s&&s(n))}catch(e){i.current||("AbortError"!==e.name&&n.addError(e.body&&e.body.message?new Error(e.body.message):e,{title:c.d}),t({type:"FETCH_FAILURE"}))}}),[n]);return Object(r.useEffect)((()=>()=>{i.current=!0,l.current.abort()}),[]),{...e,postComment:u}}},75:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(2),a=n(20),c=n(50),s=n(47),o=n(13);const i=(e,t)=>{switch(t.type){case"FETCH_INIT":return{...e,isLoading:!0,isError:!1};case"FETCH_SUCCESS":return{...e,isLoading:!1,isError:!1,tags:t.payload};case"FETCH_FAILURE":return{...e,isLoading:!1,isError:!0};default:return e}},l=[],u=()=>{const e=Object(c.a)(),[t,n]=Object(r.useReducer)(i,{isLoading:!0,isError:!1,tags:l}),u=Object(a.f)(),d=Object(r.useRef)(!1),b=Object(r.useRef)(new AbortController),m=Object(r.useCallback)((async()=>{try{d.current=!1,b.current.abort(),b.current=new AbortController,n({type:"FETCH_INIT"});const t=await Object(s.j)(b.current.signal,e);d.current||n({type:"FETCH_SUCCESS",payload:t})}catch(e){d.current||("AbortError"!==e.name&&u.addError(e.body&&e.body.message?new Error(e.body.message):e,{title:o.d}),n({type:"FETCH_FAILURE"}))}}),[]);return Object(r.useEffect)((()=>(m(),()=>{d.current=!0,b.current.abort()})),[]),{...t,fetchTags:m}}},80:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return p}));var r=n(3),a=n(46),c=n(62),s=n(6),o=n(2),i=n.n(o),l=n(12);const u=i.a.createElement(s.EuiText,{color:"subdued",size:"xs","data-test-subj":"form-optional-field-label"},l.G),{emptyField:d,maxLengthField:b}=a.g,m={type:a.a.COMBO_BOX,label:c.o,helpText:c.q,labelAppend:u,validations:[{validator:d(c.p),type:a.f.ARRAY_ITEM,isBlocking:!1}]},p={title:{type:a.a.TEXT,label:c.g,validations:[{validator:d(c.r)},{validator:b({length:r.MAX_TITLE_LENGTH,message:c.f("title",r.MAX_TITLE_LENGTH)})}]},description:{label:c.d,validations:[{validator:d(c.e)}]},tags:m,connectorId:{type:a.a.SUPER_SELECT,label:c.b,defaultValue:"none"},fields:{defaultValue:null},syncAlerts:{helpText:c.k,type:a.a.TOGGLE,defaultValue:!0}}},85:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var r=n(2),a=n.n(r),c=n(21),s=n(6),o=n(33),i=n.n(o),l=n(46),u=n(78);const d=i()(s.EuiFormRow).withConfig({displayName:"EuiFormRowWrapper",componentId:"sc-1yy69el-0"})([".euiFormErrorText{display:none;}"]),b=({connectors:e,dataTestSubj:t,disabled:n=!1,field:s,idAria:o,isEdit:i=!0,isLoading:b=!1,handleChange:m,hideConnectorServiceNowSir:p=!1})=>{const{isInvalid:E,errorMessage:g}=Object(l.h)(s),f=Object(r.useCallback)((e=>{m&&m(e),s.setValue(e)}),[m,s]);return i?a.a.createElement(d,{"data-test-subj":t,describedByIds:o?[o]:void 0,error:g,fullWidth:!0,helpText:s.helpText,isInvalid:E,label:s.label,labelAppend:s.labelAppend},a.a.createElement(u.a,{connectors:e,disabled:n,hideConnectorServiceNowSir:p,isLoading:b,onChange:f,selectedConnector:Object(c.isEmpty)(s.value)?"none":s.value})):null}},86:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2),a=n.n(r),c=n(6),s=n(26);const o=({connector:e,isEdit:t,onChange:n,fields:o})=>{const{caseConnectorsRegistry:i}=Object(s.b)();if(null==e||null==e.actionTypeId||".none"===e.actionTypeId)return null;const{fieldsComponent:l}=i.get(e.actionTypeId);return a.a.createElement(a.a.Fragment,null,null!=l?a.a.createElement(r.Suspense,{fallback:a.a.createElement(c.EuiFlexGroup,{justifyContent:"center"},a.a.createElement(c.EuiFlexItem,{grow:!1},a.a.createElement(c.EuiLoadingSpinner,{size:"m"})))},a.a.createElement("div",{"data-test-subj":"connector-fields"},a.a.createElement(l,{isEdit:t,fields:o,connector:e,onChange:n}))):null)},i=Object(r.memo)(o)},87:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(2),a=n(47),c=n(13),s=n(20);const o=(e,t)=>{switch(t.type){case"FETCH_INIT":return{...e,isLoading:!0,isError:!1};case"FETCH_SUCCESS":return{...e,isLoading:!1,isError:!1};case"FETCH_FAILURE":return{...e,isLoading:!1,isError:!0};default:return e}},i=()=>{const[e,t]=Object(r.useReducer)(o,{isLoading:!1,isError:!1}),n=Object(s.f)(),i=Object(r.useRef)(!1),l=Object(r.useRef)(new AbortController),u=Object(r.useCallback)((async({caseId:e,connector:r})=>{try{l.current.abort(),i.current=!1,l.current=new AbortController,t({type:"FETCH_INIT"});const s=await Object(a.q)(e,r.id,l.current.signal);return i.current||(t({type:"FETCH_SUCCESS"}),n.addSuccess(c.h(r.name))),s}catch(e){i.current||("AbortError"!==e.name&&n.addError(e.body&&e.body.message?new Error(e.body.message):e,{title:c.d}),t({type:"FETCH_FAILURE"}))}}),[]);return Object(r.useEffect)((()=>()=>{l.current.abort(),i.current=!0}),[]),{...e,pushCaseToExternalService:u}}},88:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(2),a=n(46),c=n(77);const s=({fieldName:e})=>{var t,n;const{setFieldValue:s,getFormData:o}=Object(a.k)(),i=null===(t=Object(c.a)())||void 0===t?void 0:t.hooks,l=o(),u=Object(r.useCallback)((t=>s(e,t)),[e,s]);return null==i||i.useInsertTimeline(null!==(n=l[e])&&void 0!==n?n:"",u),null}}}]);