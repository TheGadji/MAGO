/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.observability_bundle_jsonpfunction=window.observability_bundle_jsonpfunction||[]).push([[3,4,5,7,9,10],Array(79).concat([function(e,t,a){"use strict";var n,r=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},i=function(){var e={};return function(t){if(void 0===e[t]){var a=document.querySelector(t);if(window.HTMLIFrameElement&&a instanceof window.HTMLIFrameElement)try{a=a.contentDocument.head}catch(e){a=null}e[t]=a}return e[t]}}(),l=[];function s(e){for(var t=-1,a=0;a<l.length;a++)if(l[a].identifier===e){t=a;break}return t}function o(e,t){for(var a={},n=[],r=0;r<e.length;r++){var i=e[r],o=t.base?i[0]+t.base:i[0],c=a[o]||0,u="".concat(o," ").concat(c);a[o]=c+1;var d=s(u),p={css:i[1],media:i[2],sourceMap:i[3]};-1!==d?(l[d].references++,l[d].updater(p)):l.push({identifier:u,updater:g(p,t),references:1}),n.push(u)}return n}function c(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var r=a.nc;r&&(n.nonce=r)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var l=i(e.insert||"head");if(!l)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");l.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function p(e,t,a,n){var r=a?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=d(t,r);else{var i=document.createTextNode(r),l=e.childNodes;l[t]&&e.removeChild(l[t]),l.length?e.insertBefore(i,l[t]):e.appendChild(i)}}function m(e,t,a){var n=a.css,r=a.media,i=a.sourceMap;if(r?e.setAttribute("media",r):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var f=null,b=0;function g(e,t){var a,n,r;if(t.singleton){var i=b++;a=f||(f=c(t)),n=p.bind(null,a,i,!1),r=p.bind(null,a,i,!0)}else a=c(t),n=m.bind(null,a,t),r=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(a)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else r()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=r());var a=o(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<a.length;n++){var r=s(a[n]);l[r].references--}for(var i=o(e,t),c=0;c<a.length;c++){var u=s(a[c]);0===l[u].references&&(l[u].updater(),l.splice(u,1))}a=i}}}},function(e,t,a){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var a=function(e,t){var a=e[1]||"",n=e[3];if(!n)return a;if(t&&"function"==typeof btoa){var r=(l=n,s=btoa(unescape(encodeURIComponent(JSON.stringify(l)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(o," */")),i=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[a].concat(i).concat([r]).join("\n")}var l,s,o;return[a].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(a,"}"):a})).join("")},t.i=function(e,a,n){"string"==typeof e&&(e=[[null,e,""]]);var r={};if(n)for(var i=0;i<this.length;i++){var l=this[i][0];null!=l&&(r[l]=!0)}for(var s=0;s<e.length;s++){var o=[].concat(e[s]);n&&r[o[0]]||(a&&(o[2]?o[2]="".concat(a," and ").concat(o[2]):o[2]=a),t.push(o))}},t}},,,,,,,function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),r=a(1),i=a(93),l=a.n(i),s=a(32),o=a(9);const c=({sourceField:e,indexPatternTitle:t,query:a="",filters:i,time:c,label:u,keepHistory:d,cardinalityField:p})=>{const[m,f]=Object(r.useState)(a),[b,g]=Object(r.useState)([]),{from:v,to:h}=null!=c?c:{};l()((()=>{f(a)}),350,[a]),Object(r.useEffect)((()=>{a||f(a)}),[a]);const y=((e,t)=>{if(!t)return"";let a="";return a=e===o.o?`*.${t.toLowerCase()}.*`:t[0].toLowerCase()===t[0]?`(${t}|${Object(n.capitalize)(t)}).*`:`(${t}|${t.toLowerCase()}).*`,a})(e,a),{data:E,loading:x}=Object(s.b)(Object(s.a)({index:t,body:{query:{bool:{filter:[...null!=i?i:[],...v&&h?[{range:{"@timestamp":{gte:v,lte:h}}}]:[]]}},size:0,aggs:{values:{terms:{field:e,size:50,...a?{include:y}:{}},...p?{aggs:{count:{cardinality:{field:p}}}}:{}}}}}),[m,v,h,JSON.stringify(i),t,e],{name:`get${u.replace(/\s/g,"")}ValuesList`});return Object(r.useEffect)((()=>{var e,t;const a=null==E||null===(e=E.aggregations)||void 0===e?void 0:e.values.buckets,r=null!==(t=null==a?void 0:a.map((({key:e,doc_count:t,count:a})=>a?{count:a.value,label:String(e)}:{count:t,label:String(e)})))&&void 0!==t?t:[];g(d?e=>((e,t)=>Object(n.uniqBy)([...e,...t],"label"))(r,e):r)}),[E,d,x,a]),{values:b,loading:x}}},,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(67),r=a(1),i=n.__importDefault(a(94));t.default=function(e,t,a){void 0===t&&(t=0),void 0===a&&(a=[]);var n=i.default(e,t),l=n[0],s=n[1],o=n[2];return r.useEffect(o,a),[l,s]}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(1);t.default=function(e,t){void 0===t&&(t=0);var a=n.useRef(!1),r=n.useRef(),i=n.useRef(e),l=n.useCallback((function(){return a.current}),[]),s=n.useCallback((function(){a.current=!1,r.current&&clearTimeout(r.current),r.current=setTimeout((function(){a.current=!0,i.current()}),t)}),[t]),o=n.useCallback((function(){a.current=null,r.current&&clearTimeout(r.current)}),[]);return n.useEffect((function(){i.current=e}),[e]),n.useEffect((function(){return s(),o}),[t]),[l,o,s]}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(1),r=a(96).isClient?window:null,i=function(e){return!!e.addEventListener},l=function(e){return!!e.on};t.default=function(e,t,a,s){void 0===a&&(a=r),n.useEffect((function(){if(t&&a)return i(a)?a.addEventListener(e,t,s):l(a)&&a.on(e,t,s),function(){i(a)?a.removeEventListener(e,t,s):l(a)&&a.off(e,t,s)}}),[e,t,a,JSON.stringify(s)])}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDeepEqual=t.off=t.on=t.isClient=void 0;var n=a(67).__importDefault(a(97));t.isClient="object"==typeof window,t.on=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return e.addEventListener.apply(e,t)},t.off=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return e.removeEventListener.apply(e,t)},t.isDeepEqual=n.default},function(e,t,a){"use strict";e.exports=function e(t,a){if(t===a)return!0;if(t&&a&&"object"==typeof t&&"object"==typeof a){if(t.constructor!==a.constructor)return!1;var n,r,i;if(Array.isArray(t)){if((n=t.length)!=a.length)return!1;for(r=n;0!=r--;)if(!e(t[r],a[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===a.source&&t.flags===a.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===a.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===a.toString();if((n=(i=Object.keys(t)).length)!==Object.keys(a).length)return!1;for(r=n;0!=r--;)if(!Object.prototype.hasOwnProperty.call(a,i[r]))return!1;for(r=n;0!=r--;){var l=i[r];if(("_owner"!==l||!t.$$typeof)&&!e(t[l],a[l]))return!1}return!0}return t!=t&&a!=a}},,,function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return d}));var n,r=a(1),i=a.n(r),l=a(70),s=(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var a in t)t.hasOwnProperty(a)&&(e[a]=t[a])},n(e,t)},function(e,t){function a(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(a.prototype=t.prototype,new a)}),o=function(e){function t(t){var a=e.call(this,t)||this;return a.addPropsChannel=function(){Object.assign(a.props.node,{setPortalProps:function(e){a.setState({nodeProps:e})}})},a.state={nodeProps:a.props.node.getInitialPortalProps()},a}return s(t,e),t.prototype.componentDidMount=function(){this.addPropsChannel()},t.prototype.componentDidUpdate=function(){this.addPropsChannel()},t.prototype.render=function(){var e=this,t=this.props,a=t.children,n=t.node;return l.createPortal(r.Children.map(a,(function(t){return r.isValidElement(t)?r.cloneElement(t,e.state.nodeProps):t})),n)},t}(r.PureComponent),c=function(e){function t(t){var a=e.call(this,t)||this;return a.placeholderNode=r.createRef(),a.passPropsThroughPortal(),a}return s(t,e),t.prototype.passPropsThroughPortal=function(){var e=Object.assign({},this.props,{node:void 0});this.props.node.setPortalProps(e)},t.prototype.componentDidMount=function(){var e=this.props.node,t=this.placeholderNode.current,a=t.parentNode;e.mount(a,t),this.passPropsThroughPortal()},t.prototype.componentDidUpdate=function(){var e=this.props.node,t=this.placeholderNode.current,a=t.parentNode;e.mount(a,t),this.passPropsThroughPortal()},t.prototype.componentWillUnmount=function(){this.props.node.unmount(this.placeholderNode.current)},t.prototype.render=function(){return r.createElement("div",{ref:this.placeholderNode})},t}(r.PureComponent),u=a(11);function d({children:e,setHeaderActionMenu:t}){const a=Object(r.useMemo)((()=>function(){var e,t,a={},n=Object.assign(document.createElement("div"),{setPortalProps:function(e){a=e},getInitialPortalProps:function(){return a},mount:function(a,r){r!==t&&(n.unmount(),a.replaceChild(n,r),e=a,t=r)},unmount:function(a){a&&a!==t||e&&t&&(e.replaceChild(t,n),e=void 0,t=void 0)}});return n}()),[]);return Object(r.useEffect)((()=>(t((e=>Object(u.toMountPoint)(i.a.createElement(c,{node:a}))(e))),()=>{a.unmount(),t(void 0)})),[a,t]),i.a.createElement(o,{node:a},e)}},function(e,t,a){"use strict";a.r(t),a.d(t,"FieldValueSuggestions",(function(){return g}));var n=a(1),r=a.n(n),i=a(87),l=a(6),s=a(3),o=a(18),c=a.n(o),u=a(0);const d=a(38).euiStyled.div`
  border-radius: ${({theme:e})=>e.eui.euiBorderRadius};
  background: ${({theme:e})=>e.eui.euiColorLightShade};
  padding: 0 ${({theme:e})=>e.eui.paddingSizes.xs};
`,p=(e,t,a,n)=>{const i={};return null==e||e.forEach((({label:e,count:t})=>{i[e]=t})),Object.entries(i).map((([e,i])=>({label:e,append:n?r.a.createElement(d,null,r.a.createElement(l.EuiText,{size:"xs"},i)):null,...null!=t&&t.includes(e)?{checked:"on"}:{},...null!=a&&a.includes(e)?{checked:"off"}:{}})))};function m({fullWidth:e,label:t,loading:a,query:i,setQuery:o,button:c,width:d,forceOpen:m,setForceOpen:b,anchorPosition:g,singleSelection:v,asFilterButton:h,showCount:y=!0,values:E=[],selectedValue:x,excludedValue:w,allowExclusions:k=!0,compressed:S=!0,onChange:C}){const[O,T]=Object(n.useState)((()=>p(E,x,w,y))),[F,I]=Object(n.useState)(!1);Object(n.useEffect)((()=>{T(p(E,x,w,y))}),[E,x,y,w]);const j=()=>{I(!F)},M=r.a.createElement(l.EuiButton,{style:d?{width:d}:{},size:"m",color:"text",iconType:"arrowDown",iconSide:"right",onClick:j,"data-test-subj":"fieldValueSelectionBtn",fullWidth:e},t),A=(x||[]).length+(w||[]).length,L=r.a.createElement(l.EuiFilterButton,{"aria-label":s.i18n.translate("xpack.observability.filterButton.label",{defaultMessage:"expands filter group for {label} filter",values:{label:t}}),hasActiveFilters:A>0,iconType:"arrowDown",numActiveFilters:A,numFilters:O.length,onClick:j},t),P=()=>{const e=(null!=O?O:[]).filter((e=>"on"===(null==e?void 0:e.checked))).map((({label:e})=>e)),t=(null!=O?O:[]).filter((e=>"off"===(null==e?void 0:e.checked))).map((({label:e})=>e));return Object(u.isEqual)(null!=x?x:[],e)&&Object(u.isEqual)(null!=w?w:[],t)};return r.a.createElement(f,null,r.a.createElement(l.EuiPopover,{id:"popover",panelPaddingSize:"none",button:c||(h?L:M),isOpen:F||m,closePopover:()=>{I(!1),null==b||b(!1)},anchorPosition:g,style:{width:"100%"}},r.a.createElement(l.EuiSelectable,{searchable:!0,singleSelection:v,searchProps:{placeholder:s.i18n.translate("xpack.observability.fieldValueSelection.placeholder",{defaultMessage:"Filter {label}",values:{label:t}}),compressed:S,onInput:e=>{o(e.target.value)},"data-test-subj":"suggestionInputField"},listProps:{onFocusBadge:!1},options:O,onChange:e=>{T(e)},allowExclusions:k,isLoading:a&&!i&&0===O.length},((e,n)=>r.a.createElement("div",{style:{width:240}},r.a.createElement(l.EuiPopoverTitle,{paddingSize:"s"},n),e,a&&i&&r.a.createElement(l.EuiText,{className:"eui-textCenter",color:"subdued"},s.i18n.translate("xpack.observability.fieldValueSelection.loading",{defaultMessage:"Loading"})," ",r.a.createElement(l.EuiLoadingSpinner,{size:"m"})),r.a.createElement(l.EuiPopoverFooter,{paddingSize:"s"},r.a.createElement(l.EuiButton,{"aria-label":s.i18n.translate("xpack.observability.fieldValueSelection.apply.label",{defaultMessage:"Apply the selected filters for {label}",values:{label:t}}),fill:!0,fullWidth:!0,size:"s",isDisabled:P(),onClick:()=>{const e=O.filter((e=>"on"===(null==e?void 0:e.checked))),t=O.filter((e=>"off"===(null==e?void 0:e.checked)));C(Object(u.map)(e,"label"),Object(u.map)(t,"label")),I(!1),null==b||b(!1)}},s.i18n.translate("xpack.observability.fieldValueSelection.apply",{defaultMessage:"Apply"}))))))))}const f=c.a.div.withConfig({displayName:"Wrapper",componentId:"sc-o6ohvj-0"})(["&&&{div.euiPopover__anchor{width:100%;.euiButton{width:100%;}}}"]);var b=a(39);function g({fullWidth:e,sourceField:t,label:a,indexPatternTitle:l,selectedValue:s,excludedValue:o,filters:c,button:u,time:d,width:p,forceOpen:f,setForceOpen:g,anchorPosition:v,singleSelection:h,compressed:y,asFilterButton:E,usePrependLabel:x,allowAllValuesSelection:w,required:k,allowExclusions:S=!0,cardinalityField:C,inspector:O,asCombobox:T=!0,keepHistory:F=!0,onChange:I}){const[j,M]=Object(n.useState)(""),{values:A,loading:L}=Object(i.a)({indexPatternTitle:l,query:j,sourceField:t,filters:c,time:d,inspector:O,cardinalityField:C,keepHistory:F,label:a}),P=T?b.b:m;return r.a.createElement(P,{fullWidth:e,singleSelection:h,values:A,label:a,onChange:I,query:j,setQuery:M,loading:L,selectedValue:s,excludedValue:o,button:u,forceOpen:f,setForceOpen:g,anchorPosition:v,width:p,compressed:y,asFilterButton:E,usePrependLabel:x,allowExclusions:S,allowAllValuesSelection:!h&&w,required:k})}t.default=g},,,,,,,function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(12),r=a(46),i=a(116),l=a(47),s=a(118);function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c=o(n),u=o(r),d=o(i),p=o(l),m=o(s);function f(){var e;return(e=arguments.length-1)<0||arguments.length<=e?void 0:arguments[e]}var b={symbols:{"!":{postfix:{symbol:"!",f:function e(t){return t%1||!(+t>=0)?NaN:t>170?1/0:0===t?1:t*e(t-1)},notation:"postfix",precedence:6,rightToLeft:0,argCount:1},symbol:"!",regSymbol:"!"},"^":{infix:{symbol:"^",f:function(e,t){return Math.pow(e,t)},notation:"infix",precedence:5,rightToLeft:1,argCount:2},symbol:"^",regSymbol:"\\^"},"*":{infix:{symbol:"*",f:function(e,t){return e*t},notation:"infix",precedence:4,rightToLeft:0,argCount:2},symbol:"*",regSymbol:"\\*"},"/":{infix:{symbol:"/",f:function(e,t){return e/t},notation:"infix",precedence:4,rightToLeft:0,argCount:2},symbol:"/",regSymbol:"/"},"+":{infix:{symbol:"+",f:function(e,t){return e+t},notation:"infix",precedence:2,rightToLeft:0,argCount:2},prefix:{symbol:"+",f:f,notation:"prefix",precedence:3,rightToLeft:0,argCount:1},symbol:"+",regSymbol:"\\+"},"-":{infix:{symbol:"-",f:function(e,t){return e-t},notation:"infix",precedence:2,rightToLeft:0,argCount:2},prefix:{symbol:"-",f:function(e){return-e},notation:"prefix",precedence:3,rightToLeft:0,argCount:1},symbol:"-",regSymbol:"-"},",":{infix:{symbol:",",f:function(){return Array.of.apply(Array,arguments)},notation:"infix",precedence:1,rightToLeft:0,argCount:2},symbol:",",regSymbol:","},"(":{prefix:{symbol:"(",f:f,notation:"prefix",precedence:0,rightToLeft:0,argCount:1},symbol:"(",regSymbol:"\\("},")":{postfix:{symbol:")",f:void 0,notation:"postfix",precedence:0,rightToLeft:0,argCount:1},symbol:")",regSymbol:"\\)"},min:{func:{symbol:"min",f:function(){return Math.min.apply(Math,arguments)},notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"min",regSymbol:"min\\b"},max:{func:{symbol:"max",f:function(){return Math.max.apply(Math,arguments)},notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"max",regSymbol:"max\\b"},sqrt:{func:{symbol:"sqrt",f:function(e){return Math.sqrt(e)},notation:"func",precedence:0,rightToLeft:0,argCount:1},symbol:"sqrt",regSymbol:"sqrt\\b"}}};var g=function(e){function t(t){var a;return a=e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+t+" for more information.")||this,u.default(a)}return d.default(t,e),t}(p.default(Error)),v=/((?!\w)a|na|hc|mc|dg|me[r]?|xe|ni(?![a-zA-Z])|mm|cp|tp|xp|q(?!s)|hv|xamv|nimv|wv|sm|s(?!\D|$)|ged|darg?|nrut)/g;function h(e,t){var a,n=e.pop();return t.push(n.f.apply(n,(a=[]).concat.apply(a,t.splice(-n.argCount)))),n.precedence}function y(e,t){var a,n=function(e){var t={};return t.symbols=e?c.default({},b.symbols,e.symbols):c.default({},b.symbols),t}(t),r=[n.symbols["("].prefix],i=[],l=new RegExp("\\d+(?:\\.\\d+)?|"+Object.keys(n.symbols).map((function(e){return n.symbols[e]})).sort((function(e,t){return t.symbol.length-e.symbol.length})).map((function(e){return e.regSymbol})).join("|")+"|(\\S)","g");l.lastIndex=0;var s=!1;do{var o=(a=l.exec(e))||[")",void 0],u=o[0],d=o[1],p=n.symbols[u],m=p&&!p.prefix&&!p.func,f=!p||!p.postfix&&!p.infix;if(d||(s?f:m))throw new g(37,a?a.index:e.length,e);if(s){var v=p.postfix||p.infix;do{var y=r[r.length-1];if((v.precedence-y.precedence||y.rightToLeft)>0)break}while(h(r,i));s="postfix"===v.notation,")"!==v.symbol&&(r.push(v),s&&h(r,i))}else if(p){if(r.push(p.prefix||p.func),p.func&&(!(a=l.exec(e))||"("!==a[0]))throw new g(38,a?a.index:e.length,e)}else i.push(+u),s=!0}while(a&&r.length);if(r.length)throw new g(39,a?a.index:e.length,e);if(a)throw new g(40,a?a.index:e.length,e);return i.pop()}function E(e){return e.split("").reverse().join("")}var x=/--[\S]*/g;function w(e){return e.charAt(0).toUpperCase()+e.slice(1)}var k=["Top","Right","Bottom","Left"];function S(e,t){if(!e)return t.toLowerCase();var a=e.split("-");if(a.length>1)return a.splice(1,0,t),a.reduce((function(e,t){return""+e+w(t)}));var n=e.replace(/([a-z])([A-Z])/g,"$1"+t+"$2");return e===n?""+e+t:n}function C(e,t){for(var a={},n=0;n<t.length;n+=1)(t[n]||0===t[n])&&(a[S(e,k[n])]=t[n]);return a}function O(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var r=a[0],i=a[1],l=void 0===i?r:i,s=a[2],o=void 0===s?r:s,c=a[3],u=void 0===c?l:c,d=[r,l,o,u];return C(e,d)}function T(e,t){return e.substr(-t.length)===t}var F=/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;function I(e,t){if("string"!=typeof e)return t?[e,void 0]:e;var a=e.match(F);return t?(console.warn("stripUnit's unitReturn functionality has been marked for deprecation in polished 4.0. It's functionality has been been moved to getValueAndUnit."),a?[parseFloat(e),a[2]]:[e,void 0]):a?parseFloat(e):e}var j=function(e){return function(t,a){void 0===a&&(a="16px");var n=t,r=a;if("string"==typeof t){if(!T(t,"px"))throw new g(69,e,t);n=I(t)}if("string"==typeof a){if(!T(a,"px"))throw new g(70,e,a);r=I(a)}if("string"==typeof n)throw new g(71,t,e);if("string"==typeof r)throw new g(72,a,e);return""+n/r+e}},M=j("em"),A=/^([+-]?(?:\d+|\d*\.\d+))([a-z]*|%)$/;function L(e){if("string"!=typeof e)return[e,""];var t=e.match(A);return t?[parseFloat(e),t[2]]:[e,void 0]}var P={minorSecond:1.067,majorSecond:1.125,minorThird:1.2,majorThird:1.25,perfectFourth:1.333,augFourth:1.414,perfectFifth:1.5,minorSixth:1.6,goldenSection:1.618,majorSixth:1.667,minorSeventh:1.778,majorSeventh:1.875,octave:2,majorTenth:2.5,majorEleventh:2.667,majorTwelfth:3,doubleOctave:4};var _=j("rem");function R(e,t,a,n){void 0===a&&(a="320px"),void 0===n&&(n="1200px");var r=L(e),i=r[0],l=r[1],s=L(t),o=s[0],c=s[1],u=L(a),d=u[0],p=u[1],m=L(n),f=m[0],b=m[1];if("number"!=typeof d||"number"!=typeof f||!p||!b||p!==b)throw new g(47);if("number"!=typeof i||"number"!=typeof o||l!==c)throw new g(48);if(l!==p||c!==b)throw new g(75);var v=(i-o)/(d-f);return"calc("+(o-v*f).toFixed(2)+(l||"")+" + "+(100*v).toFixed(2)+"vw)"}function D(e,t){var a="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(a)return(a=a.call(e)).next.bind(a);if(Array.isArray(e)||(a=function(e,t){if(!e)return;if("string"==typeof e)return z(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return z(e,t)}(e))||t&&e&&"number"==typeof e.length){a&&(e=a);var n=0;return function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var B,V,N=/^\s*data:([a-z]+\/[a-z-]+(;[a-z-]+=[a-z-]+)?)?(;charset=[a-z0-9-]+)?(;base64)?,[a-z0-9!$&',()*+,;=\-._~:@/?%\s]*\s*$/i,U={woff:"woff",woff2:"woff2",ttf:"truetype",otf:"opentype",eot:"embedded-opentype",svg:"svg",svgz:"svg"};function $(e,t){return t?' format("'+U[e]+'")':""}function W(e,t,a){if(function(e){return!!e.replace(/\s+/g," ").match(N)}(e))return'url("'+e+'")'+$(t[0],a);var n=t.map((function(t){return'url("'+e+"."+t+'")'+$(t,a)}));return n.join(", ")}function q(e,t,a,n){var r=[];return t&&r.push(function(e){return e.map((function(e){return'local("'+e+'")'})).join(", ")}(t)),e&&r.push(W(e,a,n)),r.join(", ")}function G(e){return void 0===e&&(e=1.3),"\n    @media only screen and (-webkit-min-device-pixel-ratio: "+e+"),\n    only screen and (min--moz-device-pixel-ratio: "+e+"),\n    only screen and (-o-min-device-pixel-ratio: "+e+"/1),\n    only screen and (min-resolution: "+Math.round(96*e)+"dpi),\n    only screen and (min-resolution: "+e+"dppx)\n  "}function H(e){for(var t="",a=arguments.length,n=new Array(a>1?a-1:0),r=1;r<a;r++)n[r-1]=arguments[r];for(var i=0;i<e.length;i+=1)if(t+=e[i],i===n.length-1&&n[i]){var l=n.filter((function(e){return!!e}));l.length>1?(t=t.slice(0,-1),t+=", "+n[i]):1===l.length&&(t+=""+n[i])}else n[i]&&(t+=n[i]+" ");return t.trim()}var K={easeInBack:"cubic-bezier(0.600, -0.280, 0.735, 0.045)",easeInCirc:"cubic-bezier(0.600,  0.040, 0.980, 0.335)",easeInCubic:"cubic-bezier(0.550,  0.055, 0.675, 0.190)",easeInExpo:"cubic-bezier(0.950,  0.050, 0.795, 0.035)",easeInQuad:"cubic-bezier(0.550,  0.085, 0.680, 0.530)",easeInQuart:"cubic-bezier(0.895,  0.030, 0.685, 0.220)",easeInQuint:"cubic-bezier(0.755,  0.050, 0.855, 0.060)",easeInSine:"cubic-bezier(0.470,  0.000, 0.745, 0.715)",easeOutBack:"cubic-bezier(0.175,  0.885, 0.320, 1.275)",easeOutCubic:"cubic-bezier(0.215,  0.610, 0.355, 1.000)",easeOutCirc:"cubic-bezier(0.075,  0.820, 0.165, 1.000)",easeOutExpo:"cubic-bezier(0.190,  1.000, 0.220, 1.000)",easeOutQuad:"cubic-bezier(0.250,  0.460, 0.450, 0.940)",easeOutQuart:"cubic-bezier(0.165,  0.840, 0.440, 1.000)",easeOutQuint:"cubic-bezier(0.230,  1.000, 0.320, 1.000)",easeOutSine:"cubic-bezier(0.390,  0.575, 0.565, 1.000)",easeInOutBack:"cubic-bezier(0.680, -0.550, 0.265, 1.550)",easeInOutCirc:"cubic-bezier(0.785,  0.135, 0.150, 0.860)",easeInOutCubic:"cubic-bezier(0.645,  0.045, 0.355, 1.000)",easeInOutExpo:"cubic-bezier(1.000,  0.000, 0.000, 1.000)",easeInOutQuad:"cubic-bezier(0.455,  0.030, 0.515, 0.955)",easeInOutQuart:"cubic-bezier(0.770,  0.000, 0.175, 1.000)",easeInOutQuint:"cubic-bezier(0.860,  0.000, 0.070, 1.000)",easeInOutSine:"cubic-bezier(0.445,  0.050, 0.550, 0.950)"};var Q=function(e,t,a){var n=""+a[0]+(a[1]||""),r=""+a[0]/2+(a[1]||""),i=""+t[0]+(t[1]||""),l=""+t[0]/2+(t[1]||"");switch(e){case"top":return"0 "+r+" "+i+" "+r;case"topLeft":return n+" "+i+" 0 0";case"left":return l+" "+n+" "+l+" 0";case"bottomLeft":return n+" 0 0 "+i;case"bottom":return i+" "+r+" 0 "+r;case"bottomRight":return"0 0 "+n+" "+i;case"right":return l+" 0 "+l+" "+n;default:return"0 "+n+" "+i+" 0"}};function J(e){return Math.round(255*e)}function X(e,t,a){return J(e)+","+J(t)+","+J(a)}function Y(e,t,a,n){if(void 0===n&&(n=X),0===t)return n(a,a,a);var r=(e%360+360)%360/60,i=(1-Math.abs(2*a-1))*t,l=i*(1-Math.abs(r%2-1)),s=0,o=0,c=0;r>=0&&r<1?(s=i,o=l):r>=1&&r<2?(s=l,o=i):r>=2&&r<3?(o=i,c=l):r>=3&&r<4?(o=l,c=i):r>=4&&r<5?(s=l,c=i):r>=5&&r<6&&(s=i,c=l);var u=a-i/2;return n(s+u,o+u,c+u)}var Z={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};var ee=/^#[a-fA-F0-9]{6}$/,te=/^#[a-fA-F0-9]{8}$/,ae=/^#[a-fA-F0-9]{3}$/,ne=/^#[a-fA-F0-9]{4}$/,re=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,ie=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,le=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,se=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i;function oe(e){if("string"!=typeof e)throw new g(3);var t=function(e){if("string"!=typeof e)return e;var t=e.toLowerCase();return Z[t]?"#"+Z[t]:e}(e);if(t.match(ee))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(te)){var a=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:a}}if(t.match(ae))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(ne)){var n=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:n}}var r=re.exec(t);if(r)return{red:parseInt(""+r[1],10),green:parseInt(""+r[2],10),blue:parseInt(""+r[3],10)};var i=ie.exec(t.substring(0,50));if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10),alpha:parseFloat(""+i[4])};var l=le.exec(t);if(l){var s="rgb("+Y(parseInt(""+l[1],10),parseInt(""+l[2],10)/100,parseInt(""+l[3],10)/100)+")",o=re.exec(s);if(!o)throw new g(4,t,s);return{red:parseInt(""+o[1],10),green:parseInt(""+o[2],10),blue:parseInt(""+o[3],10)}}var c=se.exec(t.substring(0,50));if(c){var u="rgb("+Y(parseInt(""+c[1],10),parseInt(""+c[2],10)/100,parseInt(""+c[3],10)/100)+")",d=re.exec(u);if(!d)throw new g(4,t,u);return{red:parseInt(""+d[1],10),green:parseInt(""+d[2],10),blue:parseInt(""+d[3],10),alpha:parseFloat(""+c[4])}}throw new g(5)}function ce(e){return function(e){var t,a=e.red/255,n=e.green/255,r=e.blue/255,i=Math.max(a,n,r),l=Math.min(a,n,r),s=(i+l)/2;if(i===l)return void 0!==e.alpha?{hue:0,saturation:0,lightness:s,alpha:e.alpha}:{hue:0,saturation:0,lightness:s};var o=i-l,c=s>.5?o/(2-i-l):o/(i+l);switch(i){case a:t=(n-r)/o+(n<r?6:0);break;case n:t=(r-a)/o+2;break;default:t=(a-n)/o+4}return t*=60,void 0!==e.alpha?{hue:t,saturation:c,lightness:s,alpha:e.alpha}:{hue:t,saturation:c,lightness:s}}(oe(e))}var ue=function(e){return 7===e.length&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e};function de(e){var t=e.toString(16);return 1===t.length?"0"+t:t}function pe(e){return de(Math.round(255*e))}function me(e,t,a){return ue("#"+pe(e)+pe(t)+pe(a))}function fe(e,t,a){return Y(e,t,a,me)}function be(e,t,a){if("number"==typeof e&&"number"==typeof t&&"number"==typeof a)return fe(e,t,a);if("object"==typeof e&&void 0===t&&void 0===a)return fe(e.hue,e.saturation,e.lightness);throw new g(1)}function ge(e,t,a,n){if("number"==typeof e&&"number"==typeof t&&"number"==typeof a&&"number"==typeof n)return n>=1?fe(e,t,a):"rgba("+Y(e,t,a)+","+n+")";if("object"==typeof e&&void 0===t&&void 0===a&&void 0===n)return e.alpha>=1?fe(e.hue,e.saturation,e.lightness):"rgba("+Y(e.hue,e.saturation,e.lightness)+","+e.alpha+")";throw new g(2)}function ve(e,t,a){if("number"==typeof e&&"number"==typeof t&&"number"==typeof a)return ue("#"+de(e)+de(t)+de(a));if("object"==typeof e&&void 0===t&&void 0===a)return ue("#"+de(e.red)+de(e.green)+de(e.blue));throw new g(6)}function he(e,t,a,n){if("string"==typeof e&&"number"==typeof t){var r=oe(e);return"rgba("+r.red+","+r.green+","+r.blue+","+t+")"}if("number"==typeof e&&"number"==typeof t&&"number"==typeof a&&"number"==typeof n)return n>=1?ve(e,t,a):"rgba("+e+","+t+","+a+","+n+")";if("object"==typeof e&&void 0===t&&void 0===a&&void 0===n)return e.alpha>=1?ve(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new g(7)}function ye(e){if("object"!=typeof e)throw new g(8);if(function(e){return"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&"number"==typeof e.alpha}(e))return he(e);if(function(e){return"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue&&("number"!=typeof e.alpha||void 0===e.alpha)}(e))return ve(e);if(function(e){return"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&"number"==typeof e.alpha}(e))return ge(e);if(function(e){return"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness&&("number"!=typeof e.alpha||void 0===e.alpha)}(e))return be(e);throw new g(8)}function Ee(e,t,a){return function(){var n=a.concat(Array.prototype.slice.call(arguments));return n.length>=t?e.apply(this,n):Ee(e,t,n)}}function xe(e){return Ee(e,e.length,[])}function we(e,t){if("transparent"===t)return t;var a=ce(t);return ye(c.default({},a,{hue:a.hue+parseFloat(e)}))}var ke=xe(we);function Se(e,t,a){return Math.max(e,Math.min(t,a))}function Ce(e,t){if("transparent"===t)return t;var a=ce(t);return ye(c.default({},a,{lightness:Se(0,1,a.lightness-parseFloat(e))}))}var Oe=xe(Ce);function Te(e,t){if("transparent"===t)return t;var a=ce(t);return ye(c.default({},a,{saturation:Se(0,1,a.saturation-parseFloat(e))}))}var Fe=xe(Te);function Ie(e){if("transparent"===e)return 0;var t=oe(e),a=Object.keys(t).map((function(e){var a=t[e]/255;return a<=.03928?a/12.92:Math.pow((a+.055)/1.055,2.4)})),n=a[0],r=a[1],i=a[2];return parseFloat((.2126*n+.7152*r+.0722*i).toFixed(3))}function je(e,t){var a=Ie(e),n=Ie(t);return parseFloat((a>n?(a+.05)/(n+.05):(n+.05)/(a+.05)).toFixed(2))}function Me(e,t){if("transparent"===t)return t;var a=ce(t);return ye(c.default({},a,{lightness:Se(0,1,a.lightness+parseFloat(e))}))}var Ae=xe(Me);function Le(e,t,a){if("transparent"===t)return a;if("transparent"===a)return t;if(0===e)return a;var n=oe(t),r=c.default({},n,{alpha:"number"==typeof n.alpha?n.alpha:1}),i=oe(a),l=c.default({},i,{alpha:"number"==typeof i.alpha?i.alpha:1}),s=r.alpha-l.alpha,o=2*parseFloat(e)-1,u=((o*s==-1?o:o+s)/(1+o*s)+1)/2,d=1-u;return he({red:Math.floor(r.red*u+l.red*d),green:Math.floor(r.green*u+l.green*d),blue:Math.floor(r.blue*u+l.blue*d),alpha:r.alpha*(parseFloat(e)/1)+l.alpha*(1-parseFloat(e)/1)})}var Pe=xe(Le);function _e(e,t){if("transparent"===t)return t;var a=oe(t),n="number"==typeof a.alpha?a.alpha:1;return he(c.default({},a,{alpha:Se(0,1,(100*n+100*parseFloat(e))/100)}))}var Re=xe(_e),De="#000",ze="#fff";function Be(e,t){if("transparent"===t)return t;var a=ce(t);return ye(c.default({},a,{saturation:Se(0,1,a.saturation+parseFloat(e))}))}var Ve=xe(Be);function Ne(e,t){return"transparent"===t?t:ye(c.default({},ce(t),{hue:parseFloat(e)}))}var Ue=xe(Ne);function $e(e,t){return"transparent"===t?t:ye(c.default({},ce(t),{lightness:parseFloat(e)}))}var We=xe($e);function qe(e,t){return"transparent"===t?t:ye(c.default({},ce(t),{saturation:parseFloat(e)}))}var Ge=xe(qe);function He(e,t){return"transparent"===t?t:Pe(parseFloat(e),"rgb(0, 0, 0)",t)}var Ke=xe(He);function Qe(e,t){return"transparent"===t?t:Pe(parseFloat(e),"rgb(255, 255, 255)",t)}var Je=xe(Qe);function Xe(e,t){if("transparent"===t)return t;var a=oe(t),n="number"==typeof a.alpha?a.alpha:1;return he(c.default({},a,{alpha:Se(0,1,+(100*n-100*parseFloat(e)).toFixed(2)/100)}))}var Ye=xe(Xe);var Ze=["top","right","bottom","left"];function et(e,t){return e(t?":"+t:"")}function tt(e,t,a){if(!t)throw new g(67);if(0===e.length)return et(t,null);for(var n=[],r=0;r<e.length;r+=1){if(a&&a.indexOf(e[r])<0)throw new g(68);n.push(et(t,e[r]))}return n=n.join(",")}var at=[void 0,null,"active","focus","hover"];function nt(e){return"button"+e+',\n  input[type="button"]'+e+',\n  input[type="reset"]'+e+',\n  input[type="submit"]'+e}var rt=["absolute","fixed","relative","static","sticky"];var it=[void 0,null,"active","focus","hover"];function lt(e){return'input[type="color"]'+e+',\n    input[type="date"]'+e+',\n    input[type="datetime"]'+e+',\n    input[type="datetime-local"]'+e+',\n    input[type="email"]'+e+',\n    input[type="month"]'+e+',\n    input[type="number"]'+e+',\n    input[type="password"]'+e+',\n    input[type="search"]'+e+',\n    input[type="tel"]'+e+',\n    input[type="text"]'+e+',\n    input[type="time"]'+e+',\n    input[type="url"]'+e+',\n    input[type="week"]'+e+",\n    input:not([type])"+e+",\n    textarea"+e}t.adjustHue=ke,t.animation=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];var n=Array.isArray(t[0]);if(!n&&t.length>8)throw new g(64);var r=t.map((function(e){if(n&&!Array.isArray(e)||!n&&Array.isArray(e))throw new g(65);if(Array.isArray(e)&&e.length>8)throw new g(66);return Array.isArray(e)?e.join(" "):e})).join(", ");return{animation:r}},t.backgroundImages=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return{backgroundImage:t.join(", ")}},t.backgrounds=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return{background:t.join(", ")}},t.between=R,t.border=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];var r;return"string"==typeof e&&Ze.indexOf(e)>=0?((r={})["border"+w(e)+"Width"]=a[0],r["border"+w(e)+"Style"]=a[1],r["border"+w(e)+"Color"]=a[2],r):(a.unshift(e),{borderWidth:a[0],borderStyle:a[1],borderColor:a[2]})},t.borderColor=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return O.apply(void 0,["borderColor"].concat(t))},t.borderRadius=function(e,t){var a,n,r=w(e);if(!t&&0!==t)throw new g(62);if("Top"===r||"Bottom"===r)return(a={})["border"+r+"RightRadius"]=t,a["border"+r+"LeftRadius"]=t,a;if("Left"===r||"Right"===r)return(n={})["borderTop"+r+"Radius"]=t,n["borderBottom"+r+"Radius"]=t,n;throw new g(63)},t.borderStyle=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return O.apply(void 0,["borderStyle"].concat(t))},t.borderWidth=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return O.apply(void 0,["borderWidth"].concat(t))},t.buttons=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return tt(t,nt,at)},t.clearFix=function(e){var t;return void 0===e&&(e="&"),(t={})[e+"::after"]={clear:"both",content:'""',display:"table"},t},t.complement=function(e){if("transparent"===e)return e;var t=ce(e);return ye(c.default({},t,{hue:(t.hue+180)%360}))},t.cover=function(e){return void 0===e&&(e=0),{position:"absolute",top:e,right:e,bottom:e,left:e}},t.cssVar=function(e,t){if(!e||!e.match(x)){if(t)return e;throw new g(73)}var a;if("undefined"!=typeof document&&null!==document.documentElement&&(a=getComputedStyle(document.documentElement).getPropertyValue(e)),a)return a.trim();throw new g(74)},t.darken=Oe,t.desaturate=Fe,t.directionalProperty=O,t.ellipsis=function(e){return void 0===e&&(e="100%"),{display:"inline-block",maxWidth:e,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal"}},t.em=M,t.fluidRange=function(e,t,a){if(void 0===t&&(t="320px"),void 0===a&&(a="1200px"),!Array.isArray(e)&&"object"!=typeof e||null===e)throw new g(49);if(Array.isArray(e)){for(var n,r={},i={},l=D(e);!(n=l()).done;){var s,o,u=n.value;if(!u.prop||!u.fromSize||!u.toSize)throw new g(50);i[u.prop]=u.fromSize,r["@media (min-width: "+t+")"]=c.default({},r["@media (min-width: "+t+")"],((s={})[u.prop]=R(u.fromSize,u.toSize,t,a),s)),r["@media (min-width: "+a+")"]=c.default({},r["@media (min-width: "+a+")"],((o={})[u.prop]=u.toSize,o))}return c.default({},i,r)}var d,p,m;if(!e.prop||!e.fromSize||!e.toSize)throw new g(51);return(m={})[e.prop]=e.fromSize,m["@media (min-width: "+t+")"]=((d={})[e.prop]=R(e.fromSize,e.toSize,t,a),d),m["@media (min-width: "+a+")"]=((p={})[e.prop]=e.toSize,p),m},t.fontFace=function(e){var t=e.fontFamily,a=e.fontFilePath,n=e.fontStretch,r=e.fontStyle,i=e.fontVariant,l=e.fontWeight,s=e.fileFormats,o=void 0===s?["eot","woff2","woff","ttf","svg"]:s,c=e.formatHint,u=void 0!==c&&c,d=e.localFonts,p=e.unicodeRange,m=e.fontDisplay,f=e.fontVariationSettings,b=e.fontFeatureSettings;if(!t)throw new g(55);if(!a&&!d)throw new g(52);if(d&&!Array.isArray(d))throw new g(53);if(!Array.isArray(o))throw new g(54);var v={"@font-face":{fontFamily:t,src:q(a,d,o,u),unicodeRange:p,fontStretch:n,fontStyle:r,fontVariant:i,fontWeight:l,fontDisplay:m,fontVariationSettings:f,fontFeatureSettings:b}};return JSON.parse(JSON.stringify(v))},t.getContrast=je,t.getLuminance=Ie,t.getValueAndUnit=L,t.grayscale=function(e){return"transparent"===e?e:ye(c.default({},ce(e),{saturation:0}))},t.hiDPI=G,t.hideText=function(){return{textIndent:"101%",overflow:"hidden",whiteSpace:"nowrap"}},t.hideVisually=function(){return{border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",whiteSpace:"nowrap",width:"1px"}},t.hsl=be,t.hslToColorString=function(e){if("object"==typeof e&&"number"==typeof e.hue&&"number"==typeof e.saturation&&"number"==typeof e.lightness)return e.alpha&&"number"==typeof e.alpha?ge({hue:e.hue,saturation:e.saturation,lightness:e.lightness,alpha:e.alpha}):be({hue:e.hue,saturation:e.saturation,lightness:e.lightness});throw new g(45)},t.hsla=ge,t.invert=function(e){if("transparent"===e)return e;var t=oe(e);return ye(c.default({},t,{red:255-t.red,green:255-t.green,blue:255-t.blue}))},t.lighten=Ae,t.linearGradient=function(e){var t=e.colorStops,a=e.fallback,n=e.toDirection,r=void 0===n?"":n;if(!t||t.length<2)throw new g(56);return{backgroundColor:a||t[0].replace(/,\s+/g,",").split(" ")[0].replace(/,(?=\S)/g,", "),backgroundImage:H(B||(B=m.default(["linear-gradient(","",")"])),r,t.join(", ").replace(/,(?=\S)/g,", "))}},t.margin=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return O.apply(void 0,["margin"].concat(t))},t.math=function(e,t){var a=E(e),n=a.match(v);if(n&&!n.every((function(e){return e===n[0]})))throw new g(41);return""+y(E(a.replace(v,"")),t)+(n?E(n[0]):"")},t.meetsContrastGuidelines=function(e,t){var a=je(e,t);return{AA:a>=4.5,AALarge:a>=3,AAA:a>=7,AAALarge:a>=4.5}},t.mix=Pe,t.modularScale=function(e,t,a){if(void 0===t&&(t="1em"),void 0===a&&(a=1.333),"number"!=typeof e)throw new g(42);if("string"==typeof a&&!P[a])throw new g(43);var n="string"==typeof t?L(t):[t,""],r=n[0],i=n[1],l="string"==typeof a?P[a]:a;if("string"==typeof r)throw new g(44,t);return""+r*Math.pow(l,e)+(i||"")},t.normalize=function(){var e;return[(e={html:{lineHeight:"1.15",textSizeAdjust:"100%"},body:{margin:"0"},main:{display:"block"},h1:{fontSize:"2em",margin:"0.67em 0"},hr:{boxSizing:"content-box",height:"0",overflow:"visible"},pre:{fontFamily:"monospace, monospace",fontSize:"1em"},a:{backgroundColor:"transparent"},"abbr[title]":{borderBottom:"none",textDecoration:"underline"}},e["b,\n    strong"]={fontWeight:"bolder"},e["code,\n    kbd,\n    samp"]={fontFamily:"monospace, monospace",fontSize:"1em"},e.small={fontSize:"80%"},e["sub,\n    sup"]={fontSize:"75%",lineHeight:"0",position:"relative",verticalAlign:"baseline"},e.sub={bottom:"-0.25em"},e.sup={top:"-0.5em"},e.img={borderStyle:"none"},e["button,\n    input,\n    optgroup,\n    select,\n    textarea"]={fontFamily:"inherit",fontSize:"100%",lineHeight:"1.15",margin:"0"},e["button,\n    input"]={overflow:"visible"},e["button,\n    select"]={textTransform:"none"},e['button,\n    html [type="button"],\n    [type="reset"],\n    [type="submit"]']={WebkitAppearance:"button"},e['button::-moz-focus-inner,\n    [type="button"]::-moz-focus-inner,\n    [type="reset"]::-moz-focus-inner,\n    [type="submit"]::-moz-focus-inner']={borderStyle:"none",padding:"0"},e['button:-moz-focusring,\n    [type="button"]:-moz-focusring,\n    [type="reset"]:-moz-focusring,\n    [type="submit"]:-moz-focusring']={outline:"1px dotted ButtonText"},e.fieldset={padding:"0.35em 0.625em 0.75em"},e.legend={boxSizing:"border-box",color:"inherit",display:"table",maxWidth:"100%",padding:"0",whiteSpace:"normal"},e.progress={verticalAlign:"baseline"},e.textarea={overflow:"auto"},e['[type="checkbox"],\n    [type="radio"]']={boxSizing:"border-box",padding:"0"},e['[type="number"]::-webkit-inner-spin-button,\n    [type="number"]::-webkit-outer-spin-button']={height:"auto"},e['[type="search"]']={WebkitAppearance:"textfield",outlineOffset:"-2px"},e['[type="search"]::-webkit-search-decoration']={WebkitAppearance:"none"},e["::-webkit-file-upload-button"]={WebkitAppearance:"button",font:"inherit"},e.details={display:"block"},e.summary={display:"list-item"},e.template={display:"none"},e["[hidden]"]={display:"none"},e),{"abbr[title]":{textDecoration:"underline dotted"}}]},t.opacify=Re,t.padding=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return O.apply(void 0,["padding"].concat(t))},t.parseToHsl=ce,t.parseToRgb=oe,t.position=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return rt.indexOf(e)>=0&&e?c.default({},O.apply(void 0,[""].concat(a)),{position:e}):O.apply(void 0,["",e].concat(a))},t.radialGradient=function(e){var t=e.colorStops,a=e.extent,n=void 0===a?"":a,r=e.fallback,i=e.position,l=void 0===i?"":i,s=e.shape,o=void 0===s?"":s;if(!t||t.length<2)throw new g(57);return{backgroundColor:r||t[0].split(" ")[0],backgroundImage:H(V||(V=m.default(["radial-gradient(","","","",")"])),l,o,n,t.join(", "))}},t.readableColor=function(e,t,a,n){void 0===t&&(t=De),void 0===a&&(a=ze),void 0===n&&(n=!0);var r=Ie(e)>.179,i=r?t:a;return!n||je(e,i)>=4.5?i:r?De:ze},t.rem=_,t.retinaImage=function(e,t,a,n,r){var i;if(void 0===a&&(a="png"),void 0===r&&(r="_2x"),!e)throw new g(58);var l=a.replace(/^\./,""),s=n?n+"."+l:""+e+r+"."+l;return(i={backgroundImage:"url("+e+"."+l+")"})[G()]=c.default({backgroundImage:"url("+s+")"},t?{backgroundSize:t}:{}),i},t.rgb=ve,t.rgbToColorString=function(e){if("object"==typeof e&&"number"==typeof e.red&&"number"==typeof e.green&&"number"==typeof e.blue)return"number"==typeof e.alpha?he({red:e.red,green:e.green,blue:e.blue,alpha:e.alpha}):ve({red:e.red,green:e.green,blue:e.blue});throw new g(46)},t.rgba=he,t.saturate=Ve,t.setHue=Ue,t.setLightness=We,t.setSaturation=Ge,t.shade=Ke,t.size=function(e,t){return void 0===t&&(t=e),{height:e,width:t}},t.stripUnit=I,t.textInputs=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return tt(t,lt,it)},t.timingFunctions=function(e){return K[e]},t.tint=Je,t.toColorString=ye,t.transitions=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];if(Array.isArray(t[0])&&2===t.length){var n=t[1];if("string"!=typeof n)throw new g(61);var r=t[0].map((function(e){return e+" "+n})).join(", ");return{transition:r}}return{transition:t.join(", ")}},t.transparentize=Ye,t.triangle=function(e){var t=e.pointingDirection,a=e.height,n=e.width,r=e.foregroundColor,i=e.backgroundColor,l=void 0===i?"transparent":i,s=L(n),o=L(a);if(isNaN(o[0])||isNaN(s[0]))throw new g(60);return c.default({width:"0",height:"0",borderColor:l},function(e,t){switch(e){case"top":case"bottomRight":return{borderBottomColor:t};case"right":case"bottomLeft":return{borderLeftColor:t};case"bottom":case"topLeft":return{borderTopColor:t};case"left":case"topRight":return{borderRightColor:t};default:throw new g(59)}}(t,r),{borderStyle:"solid",borderWidth:Q(t,o,s)})},t.wordWrap=function(e){return void 0===e&&(e="break-word"),{overflowWrap:e,wordWrap:e,wordBreak:"break-word"===e?"break-all":e}}},function(e,t,a){"use strict";a.r(t),a.d(t,"buildFilterLabel",(function(){return o})),a.d(t,"FilterValueLabel",(function(){return c}));var n=a(1),r=a.n(n),i=a(66),l=a(16),s=a(11);function o({field:e,value:t,label:a,indexPattern:n,negate:r}){const i=n.getFieldByName(e),s=t instanceof Array&&t.length>1?l.esFilters.buildPhrasesFilter(i,t,n):l.esFilters.buildPhraseFilter(i,t,n);return s.meta.type=t instanceof Array&&t.length>1?"phrases":"phrase",s.meta.value=t,s.meta.key=a,s.meta.alias=null,s.meta.negate=r,s.meta.disabled=!1,s}function c({label:e,field:t,value:a,negate:n,indexPattern:c,invertFilter:u,removeFilter:d,allowExclusion:p=!0}){const m=Object(i.injectI18n)(l.esFilters.FilterItem),f=o({field:t,value:a,label:e,indexPattern:c,negate:n}),{services:{uiSettings:b}}=Object(s.useKibana)();return c?r.a.createElement(m,{indexPatterns:[c],id:`${t}-${a}-${n}`,filter:f,onRemove:()=>{d(t,a,!1)},onUpdate:e=>{e.meta.negate!==n&&u({field:t,value:a,negate:n})},uiSettings:b,hiddenPanelOptions:[...p?[]:["negateFilter"],"pinFilter","editFilter","disableFilter"]}):null}t.default=c},,function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return W}));var n=a(1),r=a.n(n),i=a(6),l=a(3);const s=l.i18n.translate("xpack.observability.ux.coreVitals.noData",{defaultMessage:"No data is available."}),o=l.i18n.translate("xpack.observability.ux.coreVitals.lcp",{defaultMessage:"Largest contentful paint"}),c=l.i18n.translate("xpack.observability.ux.coreVitals.fip",{defaultMessage:"First input delay"}),u=l.i18n.translate("xpack.observability.ux.coreVitals.cls",{defaultMessage:"Cumulative layout shift"}),d=l.i18n.translate("xpack.observability.ux.coreVitals.poor",{defaultMessage:"a poor"}),p=l.i18n.translate("xpack.observability.ux.coreVitals.good",{defaultMessage:"a good"}),m=l.i18n.translate("xpack.observability.ux.coreVitals.average",{defaultMessage:"an average"}),f=l.i18n.translate("xpack.observability.ux.coreVitals.legends.poor",{defaultMessage:"Poor"}),b=l.i18n.translate("xpack.observability.ux.coreVitals.legends.good",{defaultMessage:"Good"}),g=l.i18n.translate("xpack.observability.ux.coreVitals.legends.needsImprovement",{defaultMessage:"Needs improvement"}),v=l.i18n.translate("xpack.observability.ux.coreVitals.more",{defaultMessage:"more"}),h=l.i18n.translate("xpack.observability.ux.coreVitals.less",{defaultMessage:"less"}),y=l.i18n.translate("xpack.observability.ux.coreVitals.is",{defaultMessage:"is"}),E=l.i18n.translate("xpack.observability.ux.coreVitals.takes",{defaultMessage:"takes"}),x=l.i18n.translate("xpack.observability.ux.coreVitals.lcp.help",{defaultMessage:"Largest contentful paint measures loading performance. To provide a good user experience, LCP should occur within 2.5 seconds of when the page first starts loading."}),w=l.i18n.translate("xpack.observability.ux.coreVitals.fid.help",{defaultMessage:"First input delay measures interactivity. To provide a good user experience, pages should have a FID of less than 100 milliseconds."}),k=l.i18n.translate("xpack.observability.ux.coreVitals.cls.help",{defaultMessage:"Cumulative Layout Shift (CLS): measures visual stability. To provide a good user experience, pages should maintain a CLS of less than 0.1."});var S=a(18),C=a.n(S),O=a(66),T=a(73),F=a(11);const I=C()(i.EuiHealth).withConfig({displayName:"PaletteLegend",componentId:"sc-r7v41l-0"})(["&:hover{cursor:pointer;text-decoration:underline;}"]),j=C.a.span.withConfig({displayName:"StyledSpan",componentId:"sc-r7v41l-1"})(["&:hover{background-color:",";}"],(e=>e.darkMode?T.euiDarkVars.euiColorLightestShade:T.euiLightVars.euiColorLightestShade));function M({ranks:e,title:t,onItemHover:a,thresholds:n,isCls:l}){const[s]=Object(F.useUiSetting$)("theme:darkMode"),o=Object(i.euiPaletteForStatus)(3),c=[b,g,f];return r.a.createElement(i.EuiFlexGroup,{responsive:!1,gutterSize:"s"},o.map(((o,u)=>r.a.createElement(i.EuiFlexItem,{key:u,grow:!1,onMouseEnter:()=>{a(u)},onMouseLeave:()=>{a(null)}},r.a.createElement(i.EuiToolTip,{content:P(n,u,t,e[u],l),position:"bottom"},r.a.createElement(j,{darkMode:s},r.a.createElement(I,{color:o},r.a.createElement(i.EuiText,{size:"xs"},r.a.createElement(O.FormattedMessage,{id:"xpack.observability.ux.coreVitals.paletteLegend.rankPercentage",defaultMessage:"{labelsInd} ({ranksInd}%)",values:{labelsInd:c[u],ranksInd:null==e?void 0:e[u]}})))))))))}const A=C.a.div.withConfig({displayName:"ColoredSpan",componentId:"sc-tpi8wf-0"})(["height:16px;width:100%;cursor:pointer;"]);function L({hexCode:e,inFocus:t,percentage:a,tooltip:n,position:l}){const s=((e,t,a,n)=>{let r=0===e||100===n,i=2===e||100===n;100===n&&(r=!0,i=!0);const l={backgroundColor:a,opacity:t?.3:1};let s="";return r&&(s="4px 0 0 4px"),i&&(s="0 4px 4px 0"),r&&i&&(s="4px"),l.borderRadius=s,l})(l,t,e,a);return r.a.createElement(i.EuiFlexItem,{key:e,grow:!1,style:{width:a+"%"}},r.a.createElement(i.EuiToolTip,{content:n},r.a.createElement(A,{style:s})))}function P(e,t,a,n,r){const i=0===t,s=2===t,o=!i&&!s;return l.i18n.translate("xpack.observability.ux.dashboard.webVitals.palette.tooltip",{defaultMessage:"{percentage} % of users have {exp} experience because the {title} {isOrTakes} {moreOrLess} than {value}{averageMessage}.",values:{percentage:n,isOrTakes:r?y:E,title:null==a?void 0:a.toLowerCase(),exp:i?p:s?d:m,moreOrLess:s||o?v:h,value:i||o?e.good:e.bad,averageMessage:o?l.i18n.translate("xpack.observability.ux.coreVitals.averageMessage",{defaultMessage:" and less than {bad}",values:{bad:e.bad}}):""}})}function _({loading:e,title:t,value:a,thresholds:l,ranks:o=[100,0,0],isCls:c,helpLabel:u}){const d=Object(i.euiPaletteForStatus)(3),[p,m]=Object(n.useState)(null),f=o.indexOf(Math.max(...o));return a||e?r.a.createElement(r.a.Fragment,null,r.a.createElement(i.EuiStat,{"aria-label":`${t} ${a}`,titleSize:"s",title:null!=a?a:"",description:r.a.createElement(r.a.Fragment,null,t,r.a.createElement(i.EuiIconTip,{content:u,type:"questionInCircle"})),titleColor:d[f],isLoading:e}),r.a.createElement(i.EuiSpacer,{size:"s"}),r.a.createElement(i.EuiFlexGroup,{gutterSize:"none",alignItems:"flexStart",style:{maxWidth:350},responsive:!1},d.map(((e,a)=>r.a.createElement(L,{hexCode:e,key:e,position:a,inFocus:p!==a&&null!==p,percentage:o[a],tooltip:P(l,a,t,o[a],c)})))),r.a.createElement(i.EuiSpacer,{size:"s"}),r.a.createElement(M,{ranks:o,thresholds:l,title:t,onItemHover:e=>{m(e)},isCls:c})):r.a.createElement(i.EuiCard,{title:t,isDisabled:!0,description:s})}const R=l.i18n.translate("xpack.observability.ux.coreWebVitals",{defaultMessage:"Core web vitals"}),D=l.i18n.translate("xpack.observability.ux.coreWebVitals.browser.support",{defaultMessage:"browser support for core web vitals"});function z({loading:e,coreVitalPages:t,totalPageViews:a=0,displayTrafficMetric:s}){const[o,c]=Object(n.useState)(!1),[u,d]=Object(n.useState)(!1),p=l.i18n.translate("xpack.observability.ux.dashboard.webCoreVitals.helpAriaLabel",{defaultMessage:"help"});return r.a.createElement(i.EuiFlexGroup,{gutterSize:"none"},r.a.createElement(i.EuiFlexItem,null,r.a.createElement(i.EuiTitle,{size:"xs"},r.a.createElement("h3",null,R,r.a.createElement(i.EuiPopover,{isOpen:o,button:r.a.createElement(i.EuiButtonIcon,{"aria-label":p,onClick:()=>c(!0),color:"text",iconType:"questionInCircle"}),closePopover:()=>c(!1)},r.a.createElement("div",null,r.a.createElement(i.EuiText,null,r.a.createElement(O.FormattedMessage,{id:"xpack.observability.ux.dashboard.webCoreVitals.help",defaultMessage:"Learn more about"})," ",r.a.createElement(i.EuiLink,{href:"https://web.dev/vitals/",external:!0,target:"_blank"},R))))))),s&&a>0&&r.a.createElement(i.EuiFlexItem,{grow:!1},e?r.a.createElement(i.EuiLoadingSpinner,null):r.a.createElement(i.EuiText,{size:"s"},r.a.createElement(O.FormattedMessage,{id:"xpack.observability.ux.dashboard.webCoreVitals.traffic",defaultMessage:"{trafficPerc} of the traffic represented",values:{trafficPerc:r.a.createElement("strong",null," ",((t||0)/a*100).toFixed(0),"%")}}),r.a.createElement(i.EuiPopover,{isOpen:u,button:r.a.createElement(i.EuiButtonIcon,{"aria-label":p,onClick:()=>d(!0),color:"text",iconType:"questionInCircle"}),closePopover:()=>d(!1)},r.a.createElement("div",null,r.a.createElement(i.EuiText,null,r.a.createElement(O.FormattedMessage,{id:"xpack.observability.ux.dashboard.webCoreVitals.browser.help",defaultMessage:"Learn more about"})," ",r.a.createElement(i.EuiLink,{href:"https://github.com/GoogleChrome/web-vitals#browser-support",external:!0,target:"_blank"},D)))))))}const B=l.i18n.translate("xpack.observability.ux.coreWebVitals.service",{defaultMessage:"Service"}),V=l.i18n.translate("xpack.observability.ux.service.help",{defaultMessage:"The RUM service with the most traffic is selected"});function N({name:e}){return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.EuiText,{size:"s"},B,r.a.createElement(i.EuiIconTip,{color:"text","aria-label":V,type:"questionInCircle",content:V})),r.a.createElement(i.EuiTitle,{size:"s"},r.a.createElement("h3",null,e)))}function U(e){return null==e?null:function(e,t="MicroSec"){const a=Number(null!=e?e:0)/("MicroSec"===t?1e3:1);return a<1e3?a.toFixed(0)+" ms":(a/1e3).toFixed(2)+" s"}(e,"ms")}const $={LCP:{good:"2.5s",bad:"4.0s"},FID:{good:"100ms",bad:"300ms"},CLS:{good:"0.1",bad:"0.25"}};function W({data:e,loading:t,displayServiceName:a,serviceName:r,totalPageViews:l,displayTrafficMetric:s=!1}){var d;const{lcp:p,lcpRanks:m,fid:f,fidRanks:b,cls:g,clsRanks:v,coreVitalPages:h}=e||{};return n.createElement(n.Fragment,null,n.createElement(z,{loading:t,coreVitalPages:h,totalPageViews:l,displayTrafficMetric:s}),n.createElement(i.EuiSpacer,{size:"s"}),a&&n.createElement(N,{name:r}),n.createElement(i.EuiSpacer,{size:"s"}),n.createElement(i.EuiFlexGroup,{gutterSize:"xl",justifyContent:"spaceBetween",wrap:!0},n.createElement(i.EuiFlexItem,{style:{flexBasis:380}},n.createElement(_,{title:o,value:U(p),ranks:m,loading:t,thresholds:$.LCP,helpLabel:x})),n.createElement(i.EuiFlexItem,{style:{flexBasis:380}},n.createElement(_,{title:c,value:U(f),ranks:b,loading:t,thresholds:$.FID,helpLabel:w})),n.createElement(i.EuiFlexItem,{style:{flexBasis:380}},n.createElement(_,{title:u,value:null!==(d=null==g?void 0:g.toFixed(3))&&void 0!==d?d:null,ranks:v,loading:t,thresholds:$.CLS,isCls:!0,helpLabel:k}))))}},function(e,t,a){"use strict";a.r(t),a.d(t,"formatOptions",(function(){return p})),a.d(t,"SelectableUrlList",(function(){return m}));var n=a(1),r=a.n(n),i=a(6),l=a(3),s=a(95),o=a.n(s),c=a(71),u=a.n(c);const d={filterByUrl:l.i18n.translate("xpack.observability.filters.filterByUrl",{defaultMessage:"Filter by URL"}),getSearchResultsLabel:e=>l.i18n.translate("xpack.observability.filters.searchResults",{defaultMessage:"{total} Search results",values:{total:e}}),topPages:l.i18n.translate("xpack.observability.filters.topPages",{defaultMessage:"Top pages"}),select:l.i18n.translate("xpack.observability.filters.select",{defaultMessage:"Select"}),url:l.i18n.translate("xpack.observability.filters.url",{defaultMessage:"Url"}),loadingResults:l.i18n.translate("xpack.observability.filters.url.loadingResults",{defaultMessage:"Loading results"}),noResults:l.i18n.translate("xpack.observability.filters.url.noResults",{defaultMessage:"No results available"})},p=e=>e.map((e=>({title:e.label,...e,className:u()("euiSelectableTemplateSitewide__listItem",e.className)})));function m({data:e,loading:t,onInputChange:a,onSelectionChange:s,onSelectionApply:c,searchValue:u,popoverIsOpen:m,setPopoverIsOpen:f,initialValue:b,renderOption:g,rowHeight:v,hasChanged:h}){var y,E;const[x,w]=Object(n.useState)(null),k=Object(n.useRef)(null),S=p(null!==(y=e.items)&&void 0!==y?y:[]),C=()=>{f(!1)};o()("keydown",(e=>{"enter"===e.key.toLowerCase()&&(c(),f(!1))}),x),o()("escape",(()=>f(!1)),x),Object(n.useEffect)((()=>{x&&x.value!==u&&(x.value=u,x.dispatchEvent(new Event("change")))}),[x,u]);const O=r.a.createElement(i.EuiSelectableMessage,{style:{minHeight:300}},r.a.createElement(i.EuiLoadingSpinner,{size:"l"}),r.a.createElement("br",null),r.a.createElement("p",null,d.loadingResults)),T=r.a.createElement(i.EuiSelectableMessage,{style:{minHeight:300}},r.a.createElement("p",null,d.noResults)),F=u?d.getSearchResultsLabel(null!==(E=null==e?void 0:e.total)&&void 0!==E?E:0):d.topPages;function I(){return r.a.createElement(i.EuiPopoverTitle,{paddingSize:"s"},r.a.createElement(i.EuiFlexGroup,{ref:k,gutterSize:"xs"},r.a.createElement(i.EuiFlexItem,{style:{justifyContent:"center"}},t?r.a.createElement(i.EuiLoadingSpinner,null):F),r.a.createElement(i.EuiFlexItem,{grow:!1},r.a.createElement(i.EuiButtonIcon,{color:"text",onClick:()=>C(),"aria-label":l.i18n.translate("xpack.observability.search.url.close",{defaultMessage:"Close"}),iconType:"cross"}))))}return r.a.createElement(i.EuiSelectable,{searchable:!0,onChange:s,options:u!==(null==x?void 0:x.value)?[]:S,renderOption:g,singleSelection:!1,searchProps:{isClearable:!0,onClick:e=>{f(!0),x&&x.focus()},onInput:e=>{a(e.target.value),f(!0)},inputRef:w,placeholder:d.filterByUrl,"aria-label":d.filterByUrl},listProps:{rowHeight:v,showIcons:!0,onFocusBadge:!1},loadingMessage:O,emptyMessage:T,noMatchesMessage:T,allowExclusions:!0,isPreFiltered:u!==(null==x?void 0:x.value)},((e,t)=>{var a;return r.a.createElement(i.EuiPopover,{panelPaddingSize:"none",isOpen:m,display:"block",button:t,closePopover:C,style:{minWidth:400},anchorPosition:"downLeft",ownFocus:!1},r.a.createElement("div",{style:{width:null!==(a=null==x?void 0:x.getBoundingClientRect().width)&&void 0!==a?a:600,maxWidth:"100%"}},r.a.createElement(I,null),e,r.a.createElement(i.EuiPopoverFooter,{paddingSize:"s"},r.a.createElement(i.EuiFlexGroup,{style:{justifyContent:"flex-end"}},r.a.createElement(i.EuiFlexItem,{grow:!1},r.a.createElement(i.EuiButton,{fill:!0,size:"s",onClick:()=>{c(),C()},isDisabled:!h()},l.i18n.translate("xpack.observability.apply.label",{defaultMessage:"Apply"})))))))}))}t.default=m},,,,function(e,t,a){var n=a(117);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,a){e.exports=a(7)(834)},function(e,t){e.exports=function(e,t){return t||(t=e.slice(0)),e.raw=t,e},e.exports.default=e.exports,e.exports.__esModule=!0},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(1);t.default=function(e){var t=n.useRef();return n.useEffect((function(){t.current=e})),t.current}},function(e,t,a){switch(window.__kbnThemeTag__){case"v7dark":return a(121);case"v7light":return a(123);case"v8dark":return a(125);case"v8light":return a(127)}},function(e,t,a){var n=a(79),r=a(122);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},function(e,t,a){(t=a(80)(!1)).push([e.i,".kbnBody.euiBody--headerIsFixed.euiDataGrid__restrictBody .euiOverlayMask--belowHeader{top:72px}.kbnBody.euiBody--headerIsFixed.euiDataGrid__restrictBody .euiFlyout,.kbnBody.euiBody--headerIsFixed.euiDataGrid__restrictBody .euiCollapsibleNav{top:72px;height:calc(100% - 72px)}\n",""]),e.exports=t},function(e,t,a){var n=a(79),r=a(124);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},function(e,t,a){(t=a(80)(!1)).push([e.i,".kbnBody.euiBody--headerIsFixed.euiDataGrid__restrictBody .euiOverlayMask--belowHeader{top:72px}.kbnBody.euiBody--headerIsFixed.euiDataGrid__restrictBody .euiFlyout,.kbnBody.euiBody--headerIsFixed.euiDataGrid__restrictBody .euiCollapsibleNav{top:72px;height:calc(100% - 72px)}\n",""]),e.exports=t},function(e,t,a){var n=a(79),r=a(126);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},function(e,t,a){(t=a(80)(!1)).push([e.i,".kbnBody.euiBody--headerIsFixed.euiDataGrid__restrictBody .euiOverlayMask--belowHeader{top:72px}.kbnBody.euiBody--headerIsFixed.euiDataGrid__restrictBody .euiFlyout,.kbnBody.euiBody--headerIsFixed.euiDataGrid__restrictBody .euiCollapsibleNav{top:72px;height:calc(100% - 72px)}\n",""]),e.exports=t},function(e,t,a){var n=a(79),r=a(128);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},function(e,t,a){(t=a(80)(!1)).push([e.i,".kbnBody.euiBody--headerIsFixed.euiDataGrid__restrictBody .euiOverlayMask--belowHeader{top:72px}.kbnBody.euiBody--headerIsFixed.euiDataGrid__restrictBody .euiFlyout,.kbnBody.euiBody--headerIsFixed.euiDataGrid__restrictBody .euiCollapsibleNav{top:72px;height:calc(100% - 72px)}\n",""]),e.exports=t},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(67),r=a(1),i=n.__importDefault(a(130));t.default=function(e,t){void 0===t&&(t=[]);var a=i.default(e,t,{loading:!0}),n=a[0],l=a[1];return r.useEffect((function(){l()}),[l]),n}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(67),r=a(1),i=n.__importDefault(a(131));t.default=function(e,t,a){void 0===t&&(t=[]),void 0===a&&(a={loading:!1});var l=r.useRef(0),s=i.default(),o=r.useState(a),c=o[0],u=o[1],d=r.useCallback((function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];var r=++l.current;return u((function(e){return n.__assign(n.__assign({},e),{loading:!0})})),e.apply(void 0,t).then((function(e){return s()&&r===l.current&&u({value:e,loading:!1}),e}),(function(e){return s()&&r===l.current&&u({error:e,loading:!1}),e}))}),t);return[c,d]}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(1);t.default=function(){var e=n.useRef(!1),t=n.useCallback((function(){return e.current}),[]);return n.useEffect((function(){return e.current=!0,function(){e.current=!1}})),t}},function(e,t,a){switch(window.__kbnThemeTag__){case"v7dark":return a(133);case"v7light":return a(135);case"v8dark":return a(137);case"v8light":return a(139)}},function(e,t,a){var n=a(79),r=a(134);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},function(e,t,a){(t=a(80)(!1)).push([e.i,"@media only screen and (max-width: 574px){.obsLanding__appSection .euiFlexItem{flex-basis:100% !important}}@media only screen and (min-width: 575px) and (max-width: 767px){.obsLanding__appSection .euiFlexItem{flex-basis:100% !important}}@media only screen and (min-width: 768px) and (max-width: 991px){.obsLanding__appSection .euiFlexItem{flex-basis:100% !important}}@media only screen and (min-width: 992px) and (max-width: 1199px){.obsLanding__appSection .euiFlexItem{flex-basis:100% !important}}@media only screen and (min-width: 768px) and (max-width: 991px){.obsLanding__title{max-width:50%}}@media only screen and (min-width: 992px) and (max-width: 1199px){.obsLanding__title{max-width:50%}}@media only screen and (min-width: 1200px){.obsLanding__title{max-width:50%}}\n",""]),e.exports=t},function(e,t,a){var n=a(79),r=a(136);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},function(e,t,a){(t=a(80)(!1)).push([e.i,"@media only screen and (max-width: 574px){.obsLanding__appSection .euiFlexItem{flex-basis:100% !important}}@media only screen and (min-width: 575px) and (max-width: 767px){.obsLanding__appSection .euiFlexItem{flex-basis:100% !important}}@media only screen and (min-width: 768px) and (max-width: 991px){.obsLanding__appSection .euiFlexItem{flex-basis:100% !important}}@media only screen and (min-width: 992px) and (max-width: 1199px){.obsLanding__appSection .euiFlexItem{flex-basis:100% !important}}@media only screen and (min-width: 768px) and (max-width: 991px){.obsLanding__title{max-width:50%}}@media only screen and (min-width: 992px) and (max-width: 1199px){.obsLanding__title{max-width:50%}}@media only screen and (min-width: 1200px){.obsLanding__title{max-width:50%}}\n",""]),e.exports=t},function(e,t,a){var n=a(79),r=a(138);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},function(e,t,a){(t=a(80)(!1)).push([e.i,"@media only screen and (max-width: 574px){.obsLanding__appSection .euiFlexItem{flex-basis:100% !important}}@media only screen and (min-width: 575px) and (max-width: 767px){.obsLanding__appSection .euiFlexItem{flex-basis:100% !important}}@media only screen and (min-width: 768px) and (max-width: 991px){.obsLanding__appSection .euiFlexItem{flex-basis:100% !important}}@media only screen and (min-width: 992px) and (max-width: 1199px){.obsLanding__appSection .euiFlexItem{flex-basis:100% !important}}@media only screen and (min-width: 768px) and (max-width: 991px){.obsLanding__title{max-width:50%}}@media only screen and (min-width: 992px) and (max-width: 1199px){.obsLanding__title{max-width:50%}}@media only screen and (min-width: 1200px){.obsLanding__title{max-width:50%}}\n",""]),e.exports=t},function(e,t,a){var n=a(79),r=a(140);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},function(e,t,a){(t=a(80)(!1)).push([e.i,"@media only screen and (max-width: 574px){.obsLanding__appSection .euiFlexItem{flex-basis:100% !important}}@media only screen and (min-width: 575px) and (max-width: 767px){.obsLanding__appSection .euiFlexItem{flex-basis:100% !important}}@media only screen and (min-width: 768px) and (max-width: 991px){.obsLanding__appSection .euiFlexItem{flex-basis:100% !important}}@media only screen and (min-width: 992px) and (max-width: 1199px){.obsLanding__appSection .euiFlexItem{flex-basis:100% !important}}@media only screen and (min-width: 768px) and (max-width: 991px){.obsLanding__title{max-width:50%}}@media only screen and (min-width: 992px) and (max-width: 1199px){.obsLanding__title{max-width:50%}}@media only screen and (min-width: 1200px){.obsLanding__title{max-width:50%}}\n",""]),e.exports=t},function(e,t,a){switch(window.__kbnThemeTag__){case"v7dark":return a(142);case"v7light":return a(144);case"v8dark":return a(146);case"v8light":return a(148)}},function(e,t,a){var n=a(79),r=a(143);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},function(e,t,a){(t=a(80)(!1)).push([e.i,".obsNewsFeed__itemImg{box-shadow:0 2px 2px -1px rgba(0,0,0,0.3),0 1px 5px -2px rgba(0,0,0,0.3)}\n",""]),e.exports=t},function(e,t,a){var n=a(79),r=a(145);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},function(e,t,a){(t=a(80)(!1)).push([e.i,".obsNewsFeed__itemImg{box-shadow:0 2px 2px -1px rgba(152,162,179,0.3),0 1px 5px -2px rgba(152,162,179,0.3)}\n",""]),e.exports=t},function(e,t,a){var n=a(79),r=a(147);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},function(e,t,a){(t=a(80)(!1)).push([e.i,".obsNewsFeed__itemImg{box-shadow:0 0.7px 1.4px rgba(0,0,0,0.175),0 1.9px 4px rgba(0,0,0,0.125),0 4.5px 10px rgba(0,0,0,0.125)}\n",""]),e.exports=t},function(e,t,a){var n=a(79),r=a(149);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};n(r,i);e.exports=r.locals||{}},function(e,t,a){(t=a(80)(!1)).push([e.i,".obsNewsFeed__itemImg{box-shadow:0 0.7px 1.4px rgba(0,0,0,0.07),0 1.9px 4px rgba(0,0,0,0.05),0 4.5px 10px rgba(0,0,0,0.05)}\n",""]),e.exports=t},,,,,function(e,t,a){"use strict";a.r(t),a.d(t,"renderApp",(function(){return ni}));var n=a(3),r=a(1),i=a.n(r),l=a(70),s=a.n(l),o=a(26),c=a(8),u=a(38),d=a(11),p=a(40),m=a(0),f=a(74),b=a(23),g=a(19);const v=Object(r.createContext)({});function h(){return Object(r.useContext)(v)}var y=a(43),E=a(35),x=a(33);function w(){var e,t;const{plugins:a}=h(),n=Object(x.b)(x.a.TIMEPICKER_TIME_DEFAULTS),r=a.data.query.timefilter.timefilter.getTime(),{rangeFrom:i,rangeTo:l}=(s=Object(o.useLocation)().search,Object(y.parse)(s.slice(1),{sort:!1}));var s;const c=null!==(e=null!=i?i:r.from)&&void 0!==e?e:n.from,u=null!==(t=null!=l?l:r.to)&&void 0!==t?t:n.to;return{relativeStart:c,relativeEnd:u,absoluteStart:Object(E.a)(c),absoluteEnd:Object(E.a)(u,{roundUp:!0})}}const k=["apm","uptime","logs","infrastructure","alerts"];const S=Object(r.createContext)({}),C=["apm","synthetics","infra_logs","infra_metrics","ux","alert"];function O({children:e}){const{core:t}=h(),[a,n]=Object(r.useState)(""),{absoluteStart:l,absoluteEnd:s}=w(),[c,u]=Object(r.useState)({}),d=Object(o.useRouteMatch)("/exploratory-view");Object(r.useEffect)((()=>{d||Object(f.asyncForEach)(C,(async e=>{var t,a,n,r;try{const i=({hasData:t,indices:a,serviceName:n})=>{u((r=>({...r,[e]:{hasData:t,...n?{serviceName:n}:{},...a?{indices:a}:{},status:g.a.SUCCESS}})))};switch(e){case"ux":const o={absoluteTime:{start:l,end:s}},c=await(null===(t=Object(b.a)(e))||void 0===t?void 0:t.hasData(o));i({hasData:null==c?void 0:c.hasData,indices:null==c?void 0:c.indices,serviceName:null==c?void 0:c.serviceName});break;case"synthetics":const u=await(null===(a=Object(b.a)(e))||void 0===a?void 0:a.hasData());i({hasData:null==u?void 0:u.hasData,indices:null==u?void 0:u.indices});break;case"apm":const d=await(null===(n=Object(b.a)(e))||void 0===n?void 0:n.hasData());i({hasData:null==d?void 0:d.hasData,indices:null==d?void 0:d.indices});break;case"infra_logs":case"infra_metrics":i({hasData:await(null===(r=Object(b.a)(e))||void 0===r?void 0:r.hasData())})}}catch(t){u((t=>({...t,[e]:{hasData:void 0,status:g.a.FAILURE}})))}}))}),[d]),Object(r.useEffect)((()=>{!async function(){try{const e=await async function({core:e}){try{const{data:t=[]}=await e.http.get("/api/alerts/_find",{query:{page:1,per_page:20}})||{};return t.filter((({consumer:e})=>k.includes(e)))}catch(e){throw console.error("Error while fetching alerts",e),e}}({core:t});u((t=>({...t,alert:{hasData:e,status:g.a.SUCCESS}})))}catch(e){u((e=>({...e,alert:{hasData:void 0,status:g.a.FAILURE}})))}}()}),[a,t]);const p=C.every((e=>{var t;const a=null===(t=c[e])||void 0===t?void 0:t.status;return void 0!==a&&a!==g.a.LOADING})),v=Object.keys(c).some((e=>{var t;return!0===(null===(t=c[e])||void 0===t?void 0:t.hasData)}));return i.a.createElement(S.Provider,{value:{hasDataMap:c,hasAnyData:Object(m.isEmpty)(c)?void 0:v,isAllRequestsComplete:p,forceUpdate:a,onRefreshTimeRange:()=>{n(Object(m.uniqueId)())}},children:e})}var T=a(84),F=a(85),I=a(103);const j=T.keyof({open:null,acknowledged:null,closed:null});var M=a(12),A=a.n(M),L=a(18),P=a.n(L),_=a(6),R=a(76),D=a(36),z=a(15);const B=e=>`/cases/create${(e=>Object(m.isEmpty)(e)?"":`${null!=e&&e.startsWith("?")?e:`?${e}`}`)(null!=e?e:void 0)}`;const V=({lensAttributes:e,getToastText:t,timeRange:a})=>{const[i,l]=Object(r.useState)(!1),[s,o]=Object(r.useState)(!1),{http:c,application:{navigateToApp:u,getUrlForApp:d},notifications:{toasts:p}}=Object(D.a)().services,m=Object(r.useMemo)((()=>d(z.c)+B()),[d]),f=Object(r.useCallback)((async e=>(e.preventDefault(),u(z.c,{path:B()}))),[u]),b=Object(r.useCallback)((r=>{r&&e?(o(!1),l(!0),async function(e,t,a,n){const r=`/api/cases/${null==t?void 0:t.id}/comments`,i={attributes:a,timeRange:n},l={comment:`!{lens${JSON.stringify(i)}}`,type:"user",owner:z.c};return e.post(r,{body:JSON.stringify(l)})}(c,r,e,a).then((()=>{l(!1),p.addSuccess({title:n.i18n.translate("xpack.observability.expView.heading.addToCase.notification",{defaultMessage:"Successfully added visualization to the case: {caseTitle}",values:{caseTitle:r.title}}),text:t(r)},{toastLifeTimeMs:1e4})}),(e=>{p.addError(e,{title:n.i18n.translate("xpack.observability.expView.heading.addToCase.notification.error",{defaultMessage:"Failed to add visualization to the selected case."})})}))):u(z.c,{path:B(),openInNewTab:!0})}),[t,c,e,u,a,p]);return{createCaseUrl:m,goToCreateCase:f,onCaseClicked:b,isSaving:i,isCasesOpen:s,setIsCasesOpen:o}};var N=a(86);function U({lensAttributes:e,timeRange:t}){var a,l;const s=Object(d.useKibana)().services,{cases:o,http:c}=s,u=Object(r.useCallback)((e=>Object(d.toMountPoint)(i.a.createElement($,{theCase:e,basePath:c.basePath.get()}))),[c.basePath]),p=Object(N.b)(t.from),m=Object(N.b)(t.to,{roundUp:!0}),{createCaseUrl:f,goToCreateCase:b,onCaseClicked:g,isCasesOpen:v,setIsCasesOpen:h,isSaving:y}=V({lensAttributes:e,getToastText:u,timeRange:{from:null!==(a=null==p?void 0:p.toISOString())&&void 0!==a?a:"",to:null!==(l=null==m?void 0:m.toISOString())&&void 0!==l?l:""}}),E={createCaseNavigation:{href:f,onClick:b},onRowClick:g,userCanCrud:!0,owner:[z.c],onClose:()=>{h(!1)}};return i.a.createElement(i.a.Fragment,null,i.a.createElement(_.EuiButton,{size:"s",isLoading:y,fullWidth:!1,isDisabled:null===e,onClick:()=>{e&&h(!0)}},n.i18n.translate("xpack.observability.expView.heading.addToCase",{defaultMessage:"Add to case"})),v&&e&&o.getAllCasesSelectorModal(E))}function $({theCase:e,basePath:t}){return i.a.createElement(_.EuiFlexGroup,{justifyContent:"center"},i.a.createElement(_.EuiFlexItem,null,i.a.createElement(_.EuiLink,{href:`${t}/app/observability/cases/${e.id}`,target:"_blank"},n.i18n.translate("xpack.observability.expView.heading.addToCase.notification.viewCase",{defaultMessage:"View case"}))))}function W({timeRange:e,lensAttributes:t}){const a=Object(d.useKibana)().services,{lens:l}=a,[s,o]=Object(r.useState)(!1),c=l.SaveModalComponent;return i.a.createElement(i.a.Fragment,null,i.a.createElement(_.EuiFlexGroup,{alignItems:"center",gutterSize:"s",responsive:!1,style:{paddingRight:20}},e&&i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(U,{lensAttributes:t,timeRange:e})),i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(_.EuiButton,{iconType:"lensApp",fullWidth:!1,isDisabled:!l.canUseEditor()||null===t,size:"s",onClick:()=>{t&&l.navigateToPrefilledEditor({id:"",timeRange:e,attributes:t},{openInNewTab:!0})}},n.i18n.translate("xpack.observability.expView.heading.openInLens",{defaultMessage:"Open in Lens"}))),i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(_.EuiButton,{iconType:"save",fullWidth:!1,isDisabled:!l.canUseEditor()||null===t,onClick:()=>{t&&o(!0)},size:"s"},n.i18n.translate("xpack.observability.expView.heading.saveLensVisualization",{defaultMessage:"Save"})))),s&&t&&i.a.createElement(c,{initialInput:t,onClose:()=>o(!1),onSave:()=>{}}))}var q=a(100);function G(e){const{appMountParameters:t}=h();return i.a.createElement(q.default,{setHeaderActionMenu:t.setHeaderActionMenu},i.a.createElement(W,e))}var H=a(77);const K=()=>{const{storage:e,reportType:t,lastRefresh:a,firstSeries:n}=Object(R.f)();return Object(r.useMemo)((()=>{var a;const n=Object(R.d)(null!==(a=e.get(R.c))&&void 0!==a?a:[]),r=null==n?void 0:n[0];return r?((e,t,a)=>{let n="",r="";return e===H.m.KPI?null==a?void 0:a.time:(t.forEach((e=>{if(e.dataType&&e.selectedMetricField&&e.time){const t=Object(N.b)(e.time.from),a=Object(N.b)(e.time.to,{roundUp:!0}),i=Object(N.b)(n,{roundUp:!0});(!n||i&&a>i)&&(n=e.time.to);const l=Object(N.b)(r);(!r||l&&t<l)&&(r=e.time.from)}})),{to:n,from:r})})(t,n,r):void 0}),[t,e,a,n])};var Q=a(65),J=a.n(Q),X=a(66);function Y(e){const t="lll",a=J()(e.from).format(t),n=J()(e.to).format(t),r=J()(e.lastUpdated).format(t);return i.a.createElement(i.a.Fragment,null,e.lastUpdated&&i.a.createElement(i.a.Fragment,null,i.a.createElement(_.EuiFlexGroup,null,i.a.createElement(_.EuiFlexItem,null,i.a.createElement(_.EuiText,{size:"xs"},i.a.createElement(X.FormattedMessage,{id:"xpack.observability.expView.seriesBuilder.creationTime",defaultMessage:"Chart created"}))),i.a.createElement(_.EuiFlexItem,{grow:2},i.a.createElement(_.EuiText,{size:"xs"},r))),i.a.createElement(_.EuiSpacer,{size:"xs"})),e.to&&e.from&&i.a.createElement(i.a.Fragment,null,i.a.createElement(_.EuiFlexGroup,{alignItems:"center"},i.a.createElement(_.EuiFlexItem,null,i.a.createElement(_.EuiText,{size:"xs"},i.a.createElement(X.FormattedMessage,{id:"xpack.observability.expView.seriesBuilder.creationContext",defaultMessage:"Displaying from"}))),i.a.createElement(_.EuiFlexItem,{grow:2},i.a.createElement(_.EuiText,{size:"xs"},a," → ",n)))))}function Z({chartTimeRange:e}){const{lastUpdated:t}=e||{},[a,n]=Object(r.useState)((()=>Date.now()));if(Object(r.useEffect)((()=>{const e=setInterval((()=>{n(Date.now())}),5e3);return()=>{clearInterval(e)}}),[]),Object(r.useEffect)((()=>{n(Date.now())}),[t]),!t)return null;const l=J()().diff(J()(t),"minute")>5,s=J()().diff(J()(t),"minute")>10;return i.a.createElement(_.EuiText,{color:s?"danger":l?"warning":"subdued",size:"s"},i.a.createElement(ee,{as:_.EuiToolTip,position:"top",content:i.a.createElement(Y,e)},i.a.createElement(_.EuiIcon,{type:"iInCircle"}))," ",i.a.createElement(X.FormattedMessage,{id:"xpack.observability.expView.lastUpdated.label",defaultMessage:"Last Updated: {updatedDate}",values:{updatedDate:J()(t).from(a)}}))}const ee=P.a.div.withConfig({displayName:"StyledToolTipWrapper",componentId:"sc-yw5uw0-0"})(["min-width:30vw;"]);function te({lensAttributes:e,chartTimeRange:t}){const{setLastRefresh:a}=Object(R.f)(),r=K();return i.a.createElement(i.a.Fragment,null,i.a.createElement(G,{timeRange:r,lensAttributes:e}),i.a.createElement(_.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},i.a.createElement(_.EuiFlexItem,null,i.a.createElement(_.EuiText,null,i.a.createElement("h2",null,n.i18n.translate("xpack.observability.expView.heading.label",{defaultMessage:"Explore data"})))),i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(Z,{chartTimeRange:t})),i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(_.EuiButton,{iconType:"refresh",onClick:()=>a(Date.now())},ae))))}const ae=n.i18n.translate("xpack.observability.overview.exploratoryView.refresh",{defaultMessage:"Refresh"});var ne=a(91),re=a(78),ie=a(108),le=a(110),se=a(81);const oe="SELECT_REPORT_TYPE",ce=[{reportType:oe,label:n.i18n.translate("xpack.observability.expView.reportType.selectLabel",{defaultMessage:"Select report type"})},{reportType:"kpi-over-time",label:se.w},{reportType:"data-distribution",label:se.P},{reportType:"core-web-vitals",label:se.i},{reportType:"device-data-distribution",label:se.l}];function ue({prepend:e}){const{setReportType:t,reportType:a,allSeries:n}=Object(R.f)(),r=ce.filter((({reportType:e})=>!a||e!==oe)).map((({reportType:e,label:t})=>({value:e,inputDisplay:e===oe?t:i.a.createElement("strong",null,t),dropdownDisplay:t})));return i.a.createElement(_.EuiSuperSelect,{"aria-labelledby":"report-type-label",options:r,valueOfSelected:null!=a?a:oe,onChange:e=>{t(e)},style:{minWidth:200},isInvalid:!a&&n.length>0,disabled:n.length>0,prepend:e})}function de(e){const t=(a=e,Object(m.pickBy)(a,(e=>void 0!==e)));var a;return Object.entries(t).forEach((([e,a])=>{"object"==typeof a&&(t[e]=de(a))})),t}function pe({onApply:e}){var t;const{allSeries:a,storage:r,applyChanges:l}=Object(R.f)(),s=Object(R.d)(null!==(t=r.get(R.c))&&void 0!==t?t:[]);let o=a.length===s.length;return o&&(o=!a.some(((e,t)=>!Object(m.isEqual)(de(e),de(s[t]))))),i.a.createElement(_.EuiFlexGroup,{justifyContent:"flexEnd",alignItems:"center"},i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(_.EuiButton,{onClick:()=>l(e),isDisabled:o,fill:!0,size:"s","data-test-subj":"seriesChangesApplyButton"},n.i18n.translate("xpack.observability.expView.seriesBuilder.apply",{defaultMessage:"Apply changes"}))))}function me({seriesId:e}){const{removeSeries:t,allSeries:a}=Object(R.f)(),r=0===e&&a.length>1;return i.a.createElement(_.EuiToolTip,{content:r?n.i18n.translate("xpack.observability.expView.seriesEditor.removeSeriesDisabled",{defaultMessage:"Main series cannot be removed. Please remove all series below before you can remove this."}):n.i18n.translate("xpack.observability.expView.seriesEditor.removeSeries",{defaultMessage:"Remove series"})},i.a.createElement(_.EuiButtonIcon,{"aria-label":n.i18n.translate("xpack.observability.expView.seriesEditor.removeSeries",{defaultMessage:"Remove series"}),iconType:"trash",color:"text",onClick:()=>{t(e)},size:"s",isDisabled:r}))}var fe=a(27);function be({seriesId:e,series:t,seriesConfig:a,onEditClick:n}){const{setSeries:l,allSeries:s}=Object(R.f)(),{href:o}=(({series:e,seriesConfig:t})=>{var a;const n=Object(D.a)().services,{application:{navigateToUrl:i}}=n,{indexPatterns:l}=Object(re.b)(),s=null===(a=n.discover)||void 0===a?void 0:a.urlGenerator,[o,c]=Object(r.useState)("");Object(r.useEffect)((()=>{const a=null==l?void 0:l[e.dataType];if(a){var n,r;const i=null!==(n=e.reportDefinitions)&&void 0!==n?n:{},l=(null!==(r=e.filters)&&void 0!==r?r:[]).concat(Object(ne.a)(i)),o=Object(fe.f)({indexPattern:a,urlFilters:l,initFilters:null==t?void 0:t.baseFilters}),u=e.selectedMetricField;u&&u!==H.j&&u!==H.k&&o.push(Object(fe.a)(u,a)[0]),(async()=>{if(null==s||!s.createUrl)return;const e=await s.createUrl({filters:o,indexPatternId:null==a?void 0:a.id});c(e)})()}}),[l,e.dataType,e.filters,e.reportDefinitions,e.selectedMetricField,null==t?void 0:t.baseFilters,s]);const u=Object(r.useCallback)((e=>{if(o)return e.preventDefault(),i(o)}),[o,i]);return{href:o,onClick:u}})({series:t,seriesConfig:a}),{indexPatterns:c}=Object(re.b)(),u=null==c?void 0:c[t.dataType];return i.a.createElement(_.EuiFlexGroup,{alignItems:"center",gutterSize:"none",justifyContent:"flexEnd",responsive:!1},i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(_.EuiToolTip,{content:ge},i.a.createElement(_.EuiButtonIcon,{iconType:"pencil",color:"text","aria-label":ge,size:"s",onClick:n}))),i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(_.EuiToolTip,{content:ye},i.a.createElement(_.EuiButtonIcon,{iconType:"discoverApp","aria-label":ye,size:"s",color:"text",target:"_blank",href:o,isDisabled:!t.dataType||!t.selectedMetricField||!u}))),i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(_.EuiToolTip,{content:ve},i.a.createElement(_.EuiButtonIcon,{iconType:t.hidden?"eyeClosed":"eye","aria-label":ve,size:"s",color:"text",onClick:()=>{t.hidden?l(e,{...t,hidden:void 0}):l(e,{...t,hidden:!0})}}))),i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(_.EuiToolTip,{content:he},i.a.createElement(_.EuiButtonIcon,{iconType:"copy",color:"text","aria-label":he,size:"s",onClick:()=>{let e=`${t.name}-copy`;s.find((({name:t})=>t===e))&&(e+=s.length),l(s.length,{...t,name:e,breakdown:void 0})}}))),i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(me,{seriesId:e})))}const ge=n.i18n.translate("xpack.observability.seriesEditor.edit",{defaultMessage:"Edit series"}),ve=n.i18n.translate("xpack.observability.seriesEditor.hide",{defaultMessage:"Hide series"}),he=n.i18n.translate("xpack.observability.seriesEditor.clone",{defaultMessage:"Copy series"}),ye=n.i18n.translate("xpack.observability.seriesEditor.sampleDocuments",{defaultMessage:"View sample documents in new tab"});var Ee=a(28);function xe({seriesId:e,series:t}){var a;const n=Object(Ee.a)(),{setSeries:l}=Object(R.f)(),[s,o]=Object(r.useState)(!1),c=null!==(a=t.color)&&void 0!==a?a:n.eui[`euiColorVis${e}`],u=i.a.createElement(_.EuiToolTip,{content:ke},i.a.createElement(_.EuiButtonEmpty,{size:"s",onClick:()=>o((e=>!e)),flush:"both"},i.a.createElement(_.EuiIcon,{type:"stopFilled",size:"l",color:c})));return i.a.createElement(_.EuiPopover,{button:u,isOpen:s,closePopover:()=>o(!1)},i.a.createElement(_.EuiFormRow,{label:we},i.a.createElement(_.EuiColorPicker,{onChange:a=>{l(e,{...t,color:a})},color:c})))}const we=n.i18n.translate("xpack.observability.overview.exploratoryView.pickColor",{defaultMessage:"Pick a color"}),ke=n.i18n.translate("xpack.observability.overview.exploratoryView.editSeriesColor",{defaultMessage:"Edit color for series"});var Se=a(58);const Ce=n.i18n.translate("xpack.observability.expView.chartTypes.label",{defaultMessage:"Chart type"});function Oe({seriesId:e,series:t,defaultChartType:a}){var n;const{setSeries:r}=Object(R.f)(),l=null!==(n=null==t?void 0:t.seriesType)&&void 0!==n?n:a;return i.a.createElement(Te,{onChange:a=>{r(e,{...t,seriesType:a})},value:l,excludeChartTypes:["bar_percentage_stacked"],includeChartTypes:["bar","bar_horizontal","line","area","bar_stacked","area_stacked","bar_horizontal_percentage_stacked"],label:Ce})}function Te({onChange:e,value:t,includeChartTypes:a,excludeChartTypes:n}){var r;const{services:{lens:l}}=Object(d.useKibana)(),{data:s=[],loading:o}=Object(Se.useFetcher)((()=>l.getXyVisTypes()),[l]);let c=s;(null!=n?n:[]).length>0&&(c=c.filter((({id:e})=>!(null!=n&&n.includes(e))))),(null!=a?a:[]).length>0&&(c=c.filter((({id:e})=>null==a?void 0:a.includes(e))));const u=(null!==(r=c)&&void 0!==r?r:[]).map((({id:e,fullLabel:t,label:a,icon:n})=>{const r=i.a.createElement(_.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(_.EuiIcon,{type:n})),i.a.createElement(_.EuiFlexItem,null,t||a));return{value:e,inputDisplay:r,dropdownDisplay:r}}));return i.a.createElement(_.EuiFormRow,{label:Ce,style:{minWidth:280}},i.a.createElement(_.EuiSuperSelect,{fullWidth:!0,valueOfSelected:t,isLoading:o,options:u,onChange:e}))}function Fe({seriesId:e,series:t,seriesConfig:a}){var n,l,s;const o=null!==(n=null==t?void 0:t.seriesType)&&void 0!==n?n:a.defaultSeriesType,{services:{lens:c}}=Object(d.useKibana)(),{data:u=[]}=Object(Se.useFetcher)((()=>c.getXyVisTypes()),[c]),p=null===(l=(null!=u?u:[]).find((({id:e})=>e===o)))||void 0===l?void 0:l.icon,[m,f]=Object(r.useState)(!1);return i.a.createElement(_.EuiPopover,{isOpen:m,closePopover:()=>f(!1),button:i.a.createElement(_.EuiToolTip,{content:Ie},i.a.createElement(_.EuiButtonEmpty,{size:"s","aria-label":je,onClick:()=>f((e=>!e)),flush:"both"},p&&i.a.createElement(_.EuiIcon,{type:null===(s=(null!=u?u:[]).find((({id:e})=>e===o)))||void 0===s?void 0:s.icon,size:"l"})))},i.a.createElement(Oe,{seriesId:e,series:t,defaultChartType:a.defaultSeriesType}))}const Ie=n.i18n.translate("xpack.observability.expView.seriesEditor.editChartSeriesLabel",{defaultMessage:"Edit chart type for series"}),je=n.i18n.translate("xpack.observability.expView.chartTypes.label",{defaultMessage:"Chart type"});function Me({seriesId:e,series:t,seriesConfig:a}){return a?i.a.createElement(_.EuiFlexGroup,{gutterSize:"s",responsive:!1},i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(Fe,{seriesId:e,series:t,seriesConfig:a})),i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(xe,{seriesId:e,series:t}))):null}const Ae={[H.b.UX]:n.i18n.translate("xpack.observability.overview.exploratoryView.uxLabel",{defaultMessage:"User experience (RUM)"}),[H.b.SYNTHETICS]:n.i18n.translate("xpack.observability.overview.exploratoryView.syntheticsLabel",{defaultMessage:"Synthetics monitoring"}),[H.b.MOBILE]:n.i18n.translate("xpack.observability.overview.exploratoryView.mobileExperienceLabel",{defaultMessage:"Mobile experience"})},Le=[{id:H.b.SYNTHETICS,label:Ae[H.b.SYNTHETICS]},{id:H.b.UX,label:Ae[H.b.UX]},{id:H.b.MOBILE,label:Ae[H.b.MOBILE]}];function Pe({seriesId:e,series:t}){const{setSeries:a,reportType:n}=Object(R.f)(),[l,s]=Object(r.useState)(!1),o=Object(r.useCallback)((e=>{null==e||e.focus()}),[]),c=Le.filter((({id:e})=>n===H.m.DEVICE_DISTRIBUTION?e===H.b.MOBILE:n!==H.m.CORE_WEB_VITAL||e===H.b.UX)).map((({id:e,label:t})=>({value:e,inputDisplay:t})));return i.a.createElement(i.a.Fragment,null,!t.dataType&&i.a.createElement(_.EuiPopover,{button:i.a.createElement(_.EuiButton,{iconType:"plusInCircle",onClick:()=>s((e=>!e)),fill:!0,size:"s",buttonRef:o},_e),isOpen:l,closePopover:()=>s((e=>!e))},i.a.createElement(_.EuiListGroup,null,c.map((n=>i.a.createElement(_.EuiListGroupItem,{key:n.value,onClick:()=>{return r=n.value,void("SELECT_DATA_TYPE"!==String(r)&&a(e,{dataType:r,time:t.time,name:`${r}-series-${e+1}`}));var r},label:n.inputDisplay}))))),t.dataType&&i.a.createElement(_.EuiToolTip,{position:"top",content:Re},i.a.createElement(_.EuiBadge,null,Ae[t.dataType])))}const _e=n.i18n.translate("xpack.observability.overview.exploratoryView.selectDataType",{defaultMessage:"Select data type"}),Re=n.i18n.translate("xpack.observability.overview.exploratoryView.selectDataTypeTooltip",{defaultMessage:"Data type cannot be edited."});function De({seriesConfig:e,series:t}){const{loading:a}=Object(re.b)();if(!e)return null;const{dataType:r,reportDefinitions:l,selectedMetricField:s}=t,{definitionFields:o,labels:c}=e,u=(!r||Object(m.isEmpty)(l)||!s)&&!a,d=Object(m.isEmpty)(l)?n.i18n.translate("xpack.observability.overview.exploratoryView.missingReportDefinition",{defaultMessage:"Missing {reportDefinition}",values:{reportDefinition:null==c?void 0:c["string"==typeof o[0]?o[0]:o[0].field]}}):"";let p=s?d:ze;return r||(p=Be),u?i.a.createElement(_.EuiBadge,{color:"warning"},p):null}const ze=n.i18n.translate("xpack.observability.overview.exploratoryView.missingReportMetric",{defaultMessage:"Missing report metric"}),Be=n.i18n.translate("xpack.observability.overview.exploratoryView.missingDataType",{defaultMessage:"Missing data type"});var Ve=a(101),Ne=a(39);function Ue({singleSelection:e,keepHistory:t,series:a,field:n,seriesConfig:l,onChange:s,filters:o}){var c;const{indexPattern:u}=Object(re.b)(a.dataType),d="string"==typeof n?n:n.field,{reportDefinitions:p={}}=a,{labels:f,baseFilters:b,definitionFields:g}=l,v=Object(r.useMemo)((()=>{const e=[];return(null!=b?b:[]).concat(null!=o?o:[]).forEach((t=>{t.query&&e.push(t.query);const a=t;a.query.exists&&e.push({exists:a.query.exists})})),Object(m.isEmpty)(p)||g.forEach((t=>{const a="string"==typeof t?t:t.field;if(u&&null!=p&&p[a]&&a!==d){const t=null==p?void 0:p[a];if(!t.includes(Ne.a)){const n=Object(fe.c)(a,t,u)[0];n.query&&e.push(n.query)}}})),e}),[JSON.stringify(p),JSON.stringify(b)]);return u?i.a.createElement(Ve.default,{label:null!==(c=f[d])&&void 0!==c?c:d,sourceField:d,indexPatternTitle:u.title,selectedValue:null==p?void 0:p[d],onChange:e=>s(d,e),filters:v,time:a.time,fullWidth:!0,asCombobox:!0,allowExclusions:!1,allowAllValuesSelection:!0,usePrependLabel:!1,compressed:!1,required:Object(m.isEmpty)(p),singleSelection:e,keepHistory:t}):null}var $e=a(92),We=a(20);function qe({seriesId:e,series:t,seriesConfig:a}){const{setSeries:n}=Object(R.f)(),{reportDefinitions:r={}}=t,{definitionFields:l}=a,s=(a,i)=>{null!=i&&i[0]?n(e,{...t,reportDefinitions:{...r,[a]:i}}):(delete r[a],n(e,{...t,reportDefinitions:{...r}}))};return i.a.createElement(_.EuiFlexGroup,{gutterSize:"s"},l.map((l=>{var o;const c="string"==typeof l?l:l.field,u="string"!=typeof l&&l.singleSelection,d="string"!=typeof l&&l.nested,p="string"!=typeof l?l.filters:void 0,f=!Object($e.b)(t.selectedMetricField),b=d===We.h&&f;let g;return b&&d&&(null===(o=r[d])||void 0===o?void 0:o.length)>0&&n(e,{...t,reportDefinitions:{...r,[d]:[]}}),d&&(e=>{var a;return!Object(m.isEmpty)(null===(a=t.reportDefinitions)||void 0===a?void 0:a[e])})(c)&&!b&&(g=i.a.createElement(_.EuiFlexItem,{key:d,grow:1},i.a.createElement(Ue,{seriesId:e,series:t,seriesConfig:a,field:d,onChange:s,keepHistory:!1,singleSelection:u}))),i.a.createElement(i.a.Fragment,null,i.a.createElement(_.EuiFlexItem,{key:c,grow:1},i.a.createElement(Ue,{seriesId:e,series:t,seriesConfig:a,field:c,onChange:s,singleSelection:u,filters:p})),g)})))}var Ge=a(107),He=a(99),Ke=a(44),Qe=a(87);function Je({field:e,series:t,baseFilters:a,label:n},r){var i;const{indexPatterns:l}=Object(re.b)(t.dataType),s=[];return null==a||a.forEach((e=>{e.query&&s.push(e.query),Object(Ke.b)(e)&&s.push({exists:e.query.exists})})),Object(Qe.a)({query:r,label:n,sourceField:e,time:t.time,keepHistory:!0,filters:s,indexPatternTitle:null===(i=l[t.dataType])||void 0===i?void 0:i.title})}const Xe=({seriesId:e,series:t})=>{var a;const{setSeries:n}=Object(R.f)(),r=null!==(a=t.filters)&&void 0!==a?a:[],i=({field:a,values:i,notValues:l,wildcards:s,notWildcards:o})=>{var c;const u=null!==(c=r.find((({field:e})=>a===e)))&&void 0!==c?c:{field:a};u.notValues=l.length>0?l:void 0,u.values=i.length>0?i:void 0,u.wildcards=s,u.notWildcards=o;const d=r.filter((({field:e})=>e!==a));Object(m.concat)(i,l,s,o).length>0?n(e,{...t,filters:[...d,u]}):n(e,{...t,filters:d})},l=({field:e,value:t,negate:a,wildcards:n})=>{var l,s,o;const c=null!==(l=r.find((({field:t})=>e===t)))&&void 0!==l?l:{field:e},u=null!==(s=c.notValues)&&void 0!==s?s:[],d=null!==(o=c.values)&&void 0!==o?o:[],p=u.filter((e=>t instanceof Array?!t.includes(e):e!==t)),m=d.filter((e=>t instanceof Array?!t.includes(e):e!==t));a?t instanceof Array?p.push(...t):p.push(t):t instanceof Array?m.push(...t):m.push(t),i({field:e,values:m,notValues:p,wildcards:n})};return{invertFilter:({field:e,value:t,negate:a})=>{l({field:e,value:t,negate:!a})},setFilter:({field:a,value:i,negate:s,wildcards:o})=>{r.find((({field:e})=>a===e))?l({field:a,value:i,negate:s,wildcards:o}):(({field:a,value:i,negate:l})=>{const s={field:a};l?s.notValues=i instanceof Array?i:[i]:s.values=i instanceof Array?i:[i],0===r.length?n(e,{...t,filters:[s]}):n(e,{...t,filters:[s,...r.filter((e=>e.field!==a))]})})({field:a,value:i,negate:s,wildcards:o})},removeFilter:({field:a,value:i,negate:l,isWildcard:s})=>{const o=r.map((e=>{if(e.field===a){if(l){var t;if(s){var n;const t=null===(n=e.notWildcards)||void 0===n?void 0:n.filter((e=>i instanceof Array?!i.includes(e):e!==i));return{...e,notWildcards:t}}const a=null===(t=e.notValues)||void 0===t?void 0:t.filter((e=>i instanceof Array?!i.includes(e):e!==i));return{...e,notValues:a}}{var r;if(s){var o;const t=null===(o=e.wildcards)||void 0===o?void 0:o.filter((e=>i instanceof Array?!i.includes(e):e!==i));return{...e,wildcards:t}}const t=null===(r=e.values)||void 0===r?void 0:r.filter((e=>i instanceof Array?!i.includes(e):e!==i));return{...e,values:t}}}return e})).filter((({values:e=[],notValues:t=[],wildcards:a=[],notWildcards:n=[]})=>e.length>0||t.length>0||a.length>0||n.length>0));n(e,{...t,filters:o})},replaceFilter:i,setFiltersWildcard:({field:a,wildcards:l})=>{let s=r.find((({field:e})=>a===e));var o,c;s?i({field:a,values:null!==(o=s.values)&&void 0!==o?o:[],notValues:null!==(c=s.notValues)&&void 0!==c?c:[],wildcards:l}):(s={field:a,wildcards:l},0===r.length?n(e,{...t,filters:[s]}):n(e,{...t,filters:[s,...r.filter((e=>e.field!==a))]}))}}};function Ye({isNestedOpen:e,setIsNestedOpen:t,value:a,field:l,negate:s,seriesId:o,series:c,nestedField:u,allSelectedValues:d}){var p;const{indexPatterns:m}=Object(re.b)(c.dataType),{setFilter:f,removeFilter:b}=Xe({seriesId:o,series:c}),g=(null!=d?d:[]).includes(a),v=i.a.createElement(Ze,{hasActiveFilters:g,color:s?"danger":"primary",onClick:()=>{g?b({field:l,value:a,negate:s}):f({field:l,value:a,negate:s}),t(g?{value:"",negate:s}:{value:a,negate:s})}},s?n.i18n.translate("xpack.observability.expView.filterValueButton.negate",{defaultMessage:"Not {value}",values:{value:a}}):a),h=(null==e?void 0:e.value)===a&&e.negate===s,y=Object(r.useMemo)((()=>[{term:{[l]:a}}]),[l,a]);return u&&h?i.a.createElement(Ve.default,{button:v,label:"Version",sourceField:u,onChange:e=>{(null!=e?e:[]).forEach((e=>{f({field:u,value:e})})),t({value:"",negate:s})},filters:y,forceOpen:h,anchorPosition:"rightCenter",time:c.time,asCombobox:!1,indexPatternTitle:null===(p=m[c.dataType])||void 0===p?void 0:p.title}):v}const Ze=Object(u.euiStyled)(_.EuiFilterButton)`
  background-color: rgba(${e=>{const t=e.hasActiveFilters?"danger"===e.color?Object(_.hexToRgb)(e.theme.eui.euiColorDanger):Object(_.hexToRgb)(e.theme.eui.euiColorPrimary):"initial";return`${t[0]}, ${t[1]}, ${t[2]}, 0.1`}});
`;function et({field:e,values:t,query:a,setQuery:n,label:l,loading:s,isNegated:o,nestedField:c,series:u,seriesId:d}){var p;const[f,b]=Object(r.useState)({value:"",negate:!1}),g=Object(m.map)(t,"label").filter((e=>e.toLowerCase().includes(a.toLowerCase()))),v=(null!==(p=null==u?void 0:u.filters)&&void 0!==p?p:[]).find((({field:t})=>e===t)),h={field:e,nestedField:c,seriesId:d,series:u,isNestedOpen:f,setIsNestedOpen:b};return i.a.createElement(rt,null,i.a.createElement(_.EuiFieldSearch,{fullWidth:!0,isLoading:s,value:a,onChange:e=>{n(e.target.value)},placeholder:at(l)}),i.a.createElement(_.EuiSpacer,{size:"s"}),i.a.createElement(nt,null,s&&i.a.createElement("div",{className:"eui-textCenter"},i.a.createElement(_.EuiProgress,{size:"xs",color:"primary",position:"absolute",style:{top:"initial"}})),0===g.length&&!s&&i.a.createElement(_.EuiText,{className:"eui-textCenter"},tt),g.map((e=>i.a.createElement(r.Fragment,{key:e},i.a.createElement(_.EuiFilterGroup,{fullWidth:!0,color:"primary"},!1!==o&&i.a.createElement(Ye,A()({},h,{value:e,negate:!0,allSelectedValues:null==v?void 0:v.notValues})),i.a.createElement(Ye,A()({},h,{value:e,negate:!1,allSelectedValues:null==v?void 0:v.values}))),i.a.createElement(_.EuiSpacer,{size:"s"}))))))}const tt=n.i18n.translate("xpack.observability.filters.expanded.noFilter",{defaultMessage:"No filters found."}),at=e=>n.i18n.translate("xpack.observability.filters.expanded.search",{defaultMessage:"Search for {label}",values:{label:e}}),nt=u.euiStyled.div`
  height: 370px;
  overflow-y: auto;
  &::-webkit-scrollbar {
    height: ${({theme:e})=>e.eui.euiScrollBar};
    width: ${({theme:e})=>e.eui.euiScrollBar};
  }
  &::-webkit-scrollbar-thumb {
    background-clip: content-box;
    background-color: ${({theme:e})=>Object(ie.rgba)(e.eui.euiColorDarkShade,.5)};
    border: ${({theme:e})=>e.eui.euiScrollBarCorner} solid transparent;
  }
  &::-webkit-scrollbar-corner,
  &::-webkit-scrollbar-track {
    background-color: transparent;
  }
`,rt=P.a.div.withConfig({displayName:"Wrapper",componentId:"sc-dqgr2v-0"})(["width:400px;"]);function it(e){const[t,a]=Object(r.useState)(!1),[n,l]=Object(r.useState)(""),{values:s,loading:o}=Je(e,n);return i.a.createElement(_.EuiPopover,{button:i.a.createElement(_.EuiFilterButton,{onClick:()=>a((e=>!e)),iconType:"arrowDown"},e.label),isOpen:t,closePopover:()=>a(!1)},i.a.createElement(et,A()({},e,{setQuery:l,query:n,values:s,loading:o})))}var lt=a(90),st=a(109);function ot({label:e,seriesId:t,series:a,field:n,value:r,negate:l,indexPattern:s,removeFilter:o,definitionFilter:c}){const{invertFilter:u}=Xe({seriesId:t,series:a});return s?i.a.createElement(st.FilterValueLabel,{indexPattern:s,removeFilter:o,invertFilter:e=>{c||u(e)},field:n,value:r,negate:l,label:e}):null}function ct({seriesId:e,series:t,seriesConfig:a}){var l,s;const{setSeries:o}=Object(R.f)(),{labels:c}=a,u=null!==(l=t.filters)&&void 0!==l?l:[],{removeFilter:d,replaceFilter:p}=Xe({seriesId:e,series:t}),{indexPattern:m}=Object(re.b)(t.dataType);if(0===u.length||!m)return null;const f={seriesId:e,series:t,indexPattern:m};return i.a.createElement(i.a.Fragment,null,i.a.createElement(_.EuiFlexGroup,{wrap:!0,gutterSize:"xs",alignItems:"center"},u.map((({field:e,values:t=[],notValues:a=[],wildcards:l=[],notWildcards:s=[]})=>{var o,u,m,b;return i.a.createElement(r.Fragment,{key:e},t.length>0&&i.a.createElement(_.EuiFlexItem,{grow:!1,style:{maxWidth:300}},i.a.createElement(ot,A()({field:e,label:null!==(o=c[e])&&void 0!==o?o:e,value:null!=t?t:[],removeFilter:()=>{p({field:e,values:[],notValues:a,wildcards:l,notWildcards:s})},negate:!1},f))),a.length>0&&i.a.createElement(_.EuiFlexItem,{key:e,grow:!1,style:{maxWidth:300}},i.a.createElement(ot,A()({field:e,label:null!==(u=c[e])&&void 0!==u?u:e,value:null!=a?a:[],negate:!0,removeFilter:()=>{p({field:e,notValues:[],values:t,wildcards:l,notWildcards:s})}},f))),l.length>0&&i.a.createElement(_.EuiFlexItem,{key:e,grow:!1,style:{maxWidth:300}},i.a.createElement(ot,A()({field:e,label:n.i18n.translate("xpack.observability.filters.label.wildcard",{defaultMessage:"{label} wildcard",values:{label:null!==(m=c[e])&&void 0!==m?m:e}}),value:null!=l?l:[],negate:!1,removeFilter:()=>{null==l||l.forEach((t=>{d({field:e,value:t,negate:!1,isWildcard:!0})}))}},f))),s.length>0&&i.a.createElement(_.EuiFlexItem,{key:e,grow:!1,style:{maxWidth:300}},i.a.createElement(ot,A()({field:e,label:n.i18n.translate("xpack.observability.filters.label.wildcard",{defaultMessage:"{label} wildcard",values:{label:null!==(b=c[e])&&void 0!==b?b:e}}),value:null!=s?s:[],negate:!1,removeFilter:()=>{null==s||s.forEach((t=>{d({field:e,value:t,negate:!0,isWildcard:!0})}))}},f))))})),(null!==(s=t.filters)&&void 0!==s?s:[]).length>0&&i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(_.EuiButtonEmpty,{flush:"left",iconType:"cross",onClick:()=>{o(e,{...t,filters:void 0})},size:"xs"},n.i18n.translate("xpack.observability.expView.seriesEditor.clearFilter",{defaultMessage:"Clear filters"})))),i.a.createElement(_.EuiSpacer,{size:"s"}))}function ut(e){const{series:t}=e,[a,n]=Object(r.useState)(""),{indexPattern:l}=Object(re.b)(t.dataType),s=null==l?void 0:l.fields.filter((e=>e.name.startsWith("labels."))),[o,c]=Object(r.useState)(!1),u=i.a.createElement(_.EuiFilterButton,{iconType:"arrowDown",iconSide:"right",onClick:()=>{c(!o)}},dt),[d,p]=Object(r.useState)(""),{values:m,loading:f}=Je({...e,field:d},a),b=(null!=s?s:[]).map((e=>({label:e.name,searchableLabel:e.name,append:i.a.createElement(_.EuiIcon,{type:"arrowRight"}),showIcons:!1})));b.unshift({label:pt,isGroupLabel:!0});return i.a.createElement(_.EuiPopover,{button:u,closePopover:()=>{c(!1),p("")},isOpen:o},d?i.a.createElement(i.a.Fragment,null,i.a.createElement(_.EuiPopoverTitle,null,i.a.createElement(_.EuiButtonEmpty,{iconType:"arrowLeft",iconSide:"left",onClick:()=>p("")},mt)),i.a.createElement(et,A()({},e,{label:d,values:m,query:a,setQuery:n,loading:f,field:d}))):i.a.createElement(_.EuiSelectable,{searchable:!0,options:b,onChange:e=>{var t;const a=e.find((e=>"on"===e.checked));p(null!==(t=null==a?void 0:a.label)&&void 0!==t?t:"")},listProps:{onFocusBadge:!1},height:450},((e,t)=>i.a.createElement("div",{style:{width:400}},t,e))))}const dt=n.i18n.translate("xpack.observability.filters.expanded.labels.label",{defaultMessage:"Labels"}),pt=n.i18n.translate("xpack.observability.filters.expanded.labels.fields",{defaultMessage:"Label fields"}),mt=n.i18n.translate("xpack.observability.filters.expanded.labels.backTo",{defaultMessage:"Back to labels"});var ft=a(112),bt=a(9);const gt=e=>{const t=e.filter((({isWildcard:e})=>!e)),a=e.filter((({isWildcard:e})=>e));return{includedItems:Object(m.map)(t.filter((e=>"on"===e.checked)),"label"),excludedItems:Object(m.map)(t.filter((e=>"off"===e.checked)),"label"),includedWildcards:Object(m.map)(a.filter((e=>"on"===e.checked)),"title"),excludedWildcards:Object(m.map)(a.filter((e=>"off"===e.checked)),"title")}},vt=e=>n.i18n.translate("xpack.observability.urlFilter.wildcard",{defaultMessage:"Use wildcard *{wildcard}*",values:{wildcard:e}});function ht({series:e,seriesConfig:t,seriesId:a}){const[n,l]=Object(r.useState)(!1),[s,o]=Object(r.useState)(""),[c,u]=Object(r.useState)([]),{values:d,loading:p}=(({series:e,query:t,seriesId:a,seriesConfig:n})=>{const{values:r,loading:i}=Je({series:e,seriesId:a,field:bt.o,baseFilters:n.baseFilters,label:n.labels[bt.o]},t);return{values:r,loading:i}})({query:s,series:e,seriesConfig:t,seriesId:a});Object(r.useEffect)((()=>{var t;const a=vt(s),n=(null!==(t=e.filters)&&void 0!==t?t:[]).find((({field:e})=>e===bt.o)),{wildcards:r=[],notWildcards:i=[],values:l=[],notValues:o=[]}=null!=n?n:{field:bt.o};u((e=>{const{includedItems:t,excludedItems:n}=gt(e),c=(null!=d?d:[]).map((e=>t.includes(e.label)||r.includes(e.label)||l.includes(e.label)?{...e,checked:"on",title:e.label}:n.includes(e.label)||i.includes(e.label)||o.includes(e.label)?{...e,checked:"off",title:e.label,...e}:{...e,title:e.label,checked:void 0}));r.forEach((e=>{c.unshift({title:e,label:vt(e),isWildcard:!0,checked:"on"})})),i.forEach((e=>{c.unshift({title:e,label:vt(e),isWildcard:!0,checked:"off"})}));let u=e.find((({isNewWildcard:e})=>e));return s?(u||(u={title:s,label:a,isNewWildcard:!0,isWildcard:!0},c.unshift(u)),[{...u,label:a,title:s},...c]):c}))}),[d,p,s]),Object(r.useEffect)((()=>{var t;const a=(null!==(t=e.filters)&&void 0!==t?t:[]).find((({field:e})=>e===bt.o)),{wildcards:n=[],notWildcards:r=[],values:i=[],notValues:l=[]}=null!=a?a:{field:bt.o};u((e=>(null!=e?e:[]).map((e=>i.includes(e.label)||n.includes(e.title)?{...e,checked:"on"}:l.includes(e.label)||r.includes(e.title)?{...e,checked:"off"}:{...e,checked:void 0}))))}),[e]);const{replaceFilter:f}=Xe({seriesId:a,series:e});return i.a.createElement(ft.SelectableUrlList,{loading:Boolean(p),onInputChange:e=>o(e),data:{items:c,total:c.length},onSelectionChange:e=>{u(e)},searchValue:s,popoverIsOpen:n,setPopoverIsOpen:l,onSelectionApply:()=>{const{includedItems:e,excludedItems:t,includedWildcards:a,excludedWildcards:n}=gt(c);f({field:bt.o,values:e,notValues:t,wildcards:a,notWildcards:n}),o(""),l(!1)},hasChanged:()=>{var t;const{includedItems:a,excludedItems:n,includedWildcards:r,excludedWildcards:i}=gt(c),l=(null!==(t=e.filters)&&void 0!==t?t:[]).find((({field:e})=>e===bt.o)),{wildcards:s=[],notWildcards:o=[],values:u=[],notValues:d=[]}=null!=l?l:{field:bt.o};return!(Object(m.isEqual)(a.sort(),u.sort())&&Object(m.isEqual)(n.sort(),d.sort())&&Object(m.isEqual)(s.sort(),r.sort())&&Object(m.isEqual)(o.sort(),i.sort()))}})}function yt({series:e,seriesConfig:t,seriesId:a}){const n=t.filterFields.filter((e=>e!==bt.o)).map((e=>{var a,n,r,i;return"string"==typeof e?{label:null!==(r=null===(i=t.labels)||void 0===i?void 0:i[e])&&void 0!==r?r:lt.d[e],field:e}:{field:e.field,nestedField:e.nested,isNegated:e.isNegated,label:null!==(a=null===(n=t.labels)||void 0===n?void 0:n[e.field])&&void 0!==a?a:lt.d[e.field]}}));return i.a.createElement(i.a.Fragment,null,i.a.createElement(_.EuiFlexGroup,{gutterSize:"s"},i.a.createElement(_.EuiFlexItem,null,i.a.createElement(ht,{series:e,seriesId:a,seriesConfig:t})),i.a.createElement(_.EuiFlexItem,null,i.a.createElement(_.EuiFilterGroup,null,n.map((n=>n.field===lt.f?i.a.createElement(ut,A()({series:e,key:n.label,seriesId:a,baseFilters:t.baseFilters},n)):i.a.createElement(it,A()({series:e,key:n.label,seriesId:a,baseFilters:t.baseFilters},n))))))),i.a.createElement(_.EuiSpacer,{size:"s"}),i.a.createElement(ct,{seriesId:a,series:e,seriesConfig:t}))}function Et(){return Object(r.useContext)(S)}var xt=a(49);function wt({series:e,seriesId:t}){var a,n;const{onRefreshTimeRange:r}=Et(),l=Object(d.useUiSetting)(xt.UI_SETTINGS.TIMEPICKER_QUICK_RANGES).map((({from:e,to:t,display:a})=>({start:e,end:t,label:a}))),{setSeries:s,reportType:o,allSeries:c}=Object(R.f)();function u({start:a,end:n}){r(),o===H.m.KPI?c.forEach(((e,t)=>{s(t,{...e,time:{from:a,to:n}})})):s(t,{...e,time:{from:a,to:n}})}return i.a.createElement(_.EuiSuperDatePicker,{start:null==e||null===(a=e.time)||void 0===a?void 0:a.from,end:null==e||null===(n=e.time)||void 0===n?void 0:n.to,onTimeChange:u,commonlyUsedRanges:l,onRefresh:u,showUpdateButton:!1})}const kt=n.i18n.translate("xpack.observability..synthetics.addDataButtonLabel",{defaultMessage:"Add synthetics data"});const St=n.i18n.translate("xpack.observability.mobile.addDataButtonLabel",{defaultMessage:"Add Mobile data"});const Ct=n.i18n.translate("xpack.observability.ux.addDataButtonLabel",{defaultMessage:"Add UX data"}),Ot={mobile:function(){var e,t;const a=Object(D.a)();return i.a.createElement(_.EuiHeaderLink,{"aria-label":n.i18n.translate("xpack.observability.page_header.addMobileDataLink.label",{defaultMessage:"Navigate to a tutorial about adding mobile APM data"}),href:null===(e=a.services)||void 0===e||null===(t=e.application)||void 0===t?void 0:t.getUrlForApp("/home#/tutorial/apm"),color:"primary",iconType:"indexOpen"},St)},ux:function(){var e,t;const a=Object(D.a)();return i.a.createElement(_.EuiHeaderLink,{"aria-label":n.i18n.translate("xpack.observability.page_header.addUXDataLink.label",{defaultMessage:"Navigate to a tutorial about adding user experience APM data"}),href:null===(e=a.services)||void 0===e||null===(t=e.application)||void 0===t?void 0:t.getUrlForApp("/home#/tutorial/apm"),color:"primary",iconType:"indexOpen"},Ct)},synthetics:function(){var e,t;const a=Object(D.a)();return i.a.createElement(_.EuiHeaderLink,{"aria-label":n.i18n.translate("xpack.observability.page_header.addUptimeDataLink.label",{defaultMessage:"Navigate to a tutorial about adding Uptime data"}),href:null===(e=a.services)||void 0===e||null===(t=e.application)||void 0===t?void 0:t.getUrlForApp("/home#/tutorial/uptimeMonitors"),color:"primary",iconType:"indexOpen"},kt)},apm:null,infra_logs:null,infra_metrics:null};function Tt({seriesId:e,series:t}){const{reportType:a}=Object(R.f)(),{hasAppData:r}=Object(re.b)();if(!t.dataType)return null;const l=Ot[t.dataType];return!1===r[t.dataType]&&null!==l?i.a.createElement(_.EuiFlexGroup,{alignItems:"center"},i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement("strong",null,n.i18n.translate("xpack.observability.overview.exploratoryView.noDataAvailable",{defaultMessage:"No {dataType} data available.",values:{dataType:t.dataType}}))),i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(l,null))):i.a.createElement(Ft,null,0===e||a!==H.m.KPI?i.a.createElement(wt,{seriesId:e,series:t}):i.a.createElement(N.a,{seriesId:e,series:t}))}const Ft=P.a.div.withConfig({displayName:"Wrapper",componentId:"sc-6ndrp0-0"})(["width:100%;.euiSuperDatePicker__flexWrapper{width:100%;> .euiFlexItem{margin-right:0;}}"]);function It({seriesConfig:e,seriesId:t,series:a}){const{setSeries:n,allSeries:l}=Object(R.f)(),s=l.findIndex((e=>Boolean(e.breakdown))),o=-1!==s&&!(s===t),c=a.breakdown,u="no_breakdown";if(Object(r.useEffect)((()=>{Object($e.b)(a.selectedMetricField)||c!==We.h||n(t,{...a,breakdown:void 0})})),!e)return null;const d=e.xAxisColumn.sourceField===H.o,p=a.selectedMetricField===H.j,m=e.breakdownFields.map((t=>({id:t,label:e.labels[t]})));d||m.push({id:u,label:jt});const f=m.map((({id:e,label:t})=>e!==We.h||Object($e.b)(a.selectedMetricField)?{inputDisplay:t,value:e,dropdownDisplay:t}:{inputDisplay:t,value:e,dropdownDisplay:i.a.createElement(_.EuiToolTip,{content:At},i.a.createElement(i.a.Fragment,null,t)),disabled:!0})).filter((({value:e})=>!(e===H.h&&p)));let b=c||(d?f[0].value:u);function g(){return i.a.createElement(_.EuiSuperSelect,{options:f,valueOfSelected:b,onChange:e=>{var r;n(t,(r=e)===u?{...a,breakdown:void 0}:{...a,breakdown:c===r?void 0:r})},"data-test-subj":"seriesBreakdown",disabled:o})}return null!=c&&c.startsWith("labels.")&&(b=H.e),i.a.createElement(Lt,null,o?i.a.createElement(_.EuiToolTip,{content:Mt,position:"top"},i.a.createElement(g,null)):i.a.createElement(g,null))}const jt=n.i18n.translate("xpack.observability.exp.breakDownFilter.noBreakdown",{defaultMessage:"No breakdown"}),Mt=n.i18n.translate("xpack.observability.exp.breakDownFilter.warning",{defaultMessage:"Breakdowns can be applied to only one series at a time."}),At=n.i18n.translate("xpack.observability.exp.breakDownFilter.unavailable",{defaultMessage:"Step name breakdown is not available for monitor duration metric. Use step duration metric to breakdown by step name."}),Lt=P.a.span.withConfig({displayName:"Wrapper",componentId:"sc-125bdxf-0"})([".euiToolTipAnchor{width:100%;}"]);function Pt({series:e,seriesId:t}){const{indexPattern:a}=Object(re.b)(e.dataType),n=null==a?void 0:a.fields.filter((e=>e.name.startsWith("labels."))),{setSeries:r}=Object(R.f)(),{breakdown:l}=e;if(!(l===H.e||(null==l?void 0:l.startsWith("labels."))))return null;const s=null==n?void 0:n.map((e=>({label:e.name,value:e.name})));return i.a.createElement(_.EuiFlexItem,{grow:!1,style:{minWidth:200}},i.a.createElement(_.EuiComboBox,{selectedOptions:null==s?void 0:s.filter((e=>e.label===l)),options:s,placeholder:_t,onChange:a=>{var n,i;r(t,{...e,breakdown:null!==(n=null==a||null===(i=a[0])||void 0===i?void 0:i.label)&&void 0!==n?n:H.e})},singleSelection:{asPlainText:!0},isInvalid:e.breakdown===H.e}))}const _t=n.i18n.translate("xpack.observability.expView.seriesBuilder.labelField",{defaultMessage:"Choose label field"});function Rt(e){const{seriesConfig:t,series:a,seriesId:n}=e;if(!t)return null;const{selectedMetricField:r}=null!=a?a:{},{hasOperationType:l,yAxisColumns:s}=t,o=function(e,t){const{columnType:a}=Object(He.b)(e,t);return a}(t,r),c=a.breakdown===H.h;return i.a.createElement("div",{style:{width:"100%"}},i.a.createElement(_.EuiFlexGroup,{gutterSize:"xs",wrap:!0},i.a.createElement(_.EuiFlexItem,{grow:1},i.a.createElement(_.EuiFormRow,{label:Vt,fullWidth:!0},i.a.createElement(Tt,e))),i.a.createElement(_.EuiFlexItem,{grow:2},i.a.createElement(qe,{seriesConfig:t,seriesId:n,series:a}))),i.a.createElement(_.EuiHorizontalRule,null),i.a.createElement(_.EuiFormRow,{label:zt,fullWidth:!0},i.a.createElement(yt,{seriesConfig:t,seriesId:n,series:a})),i.a.createElement(_.EuiFlexGroup,{gutterSize:"s"},i.a.createElement(_.EuiFlexItem,null,i.a.createElement(_.EuiFormRow,{label:Dt},i.a.createElement(_.EuiFlexGroup,{gutterSize:"xs"},i.a.createElement(_.EuiFlexItem,{style:{minWidth:200}},i.a.createElement(It,e)),i.a.createElement(Pt,e)))),(l||"operation"===o&&!c)&&i.a.createElement(_.EuiFlexItem,null,i.a.createElement(_.EuiFormRow,{label:Bt},i.a.createElement(Ge.b,A()({},e,{defaultOperationType:s[0].operationType}))))))}const Dt=n.i18n.translate("xpack.observability.expView.seriesBuilder.breakdownBy",{defaultMessage:"Breakdown by"}),zt=n.i18n.translate("xpack.observability.expView.seriesBuilder.selectFilters",{defaultMessage:"Filters"}),Bt=n.i18n.translate("xpack.observability.expView.seriesBuilder.operation",{defaultMessage:"Operation"}),Vt=n.i18n.translate("xpack.observability.expView.seriesBuilder.date",{defaultMessage:"Date"}),Nt=P()(_.EuiText).withConfig({displayName:"StyledText",componentId:"sc-7zp12x-0"})(["&.euiText.euiText--constrainedWidth{max-width:200px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;}"]);function Ut({series:e,seriesId:t}){const{setSeries:a}=Object(R.f)(),[l,s]=Object(r.useState)(e.name),[o,c]=Object(r.useState)(!1),u=Object(r.useRef)(null),d=Object(r.useRef)(null);return Object(r.useEffect)((()=>{s(e.name)}),[e.name]),Object(r.useEffect)((()=>{o&&u.current&&u.current.focus()}),[o,u]),i.a.createElement(_.EuiFlexGroup,{alignItems:"center",gutterSize:"s",responsive:!1},o?i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(_.EuiOutsideClickDetector,{onOutsideClick:e=>{e.target!==d.current&&c(!1)}},i.a.createElement(_.EuiFieldText,{value:l,onChange:e=>{s(e.target.value)},fullWidth:!0,onBlur:()=>{l!==e.name&&a(t,{...e,name:l})},inputRef:u,"aria-label":n.i18n.translate("xpack.observability.expView.seriesEditor.seriesName",{defaultMessage:"Series name"})}))):i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(Nt,{grow:!1},l)),i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(_.EuiButtonIcon,{onClick:()=>c(!o),iconType:"pencil","aria-label":n.i18n.translate("xpack.observability.expView.seriesEditor.editName",{defaultMessage:"Edit name"}),color:"text",buttonRef:d})))}function $t({seriesId:e,series:t,seriesConfig:a}){var n,l;const{setSeries:s}=Object(R.f)(),[o,c]=Object(r.useState)(!1),u=null==a?void 0:a.metricOptions,{indexPatterns:d,indexPatternErrors:p,loading:m}=Object(re.b)(),f=a=>{s(e,{...t,selectedMetricField:a})},b=Object(r.useCallback)((e=>{null==e||e.focus()}),[]);if(!t.dataType)return null;const g=null==d?void 0:d[t.dataType],v=null==p?void 0:p[t.dataType],h=(null!=u?u:[]).map((({label:e,field:t,id:a})=>{let n=!1;return t!==H.j&&t!==H.k&&t&&(n=!Boolean(null==g?void 0:g.getFieldByName(t))),{disabled:n,value:t||a,dropdownDisplay:n?i.a.createElement(_.EuiToolTip,{content:i.a.createElement(X.FormattedMessage,{id:"xpack.observability.expView.seriesEditor.selectReportMetric.noFieldData",defaultMessage:"No data available for field {field}.",values:{field:i.a.createElement("strong",null,t)}})},i.a.createElement("span",null,e)):e,inputDisplay:e}}));return!v||g||m?g||m?i.a.createElement(i.a.Fragment,null,!t.selectedMetricField&&i.a.createElement(_.EuiPopover,{button:i.a.createElement(_.EuiButton,{iconType:"plusInCircle",onClick:()=>c((e=>!e)),fill:!0,size:"s",isLoading:!g&&m,buttonRef:b},Wt),isOpen:o,closePopover:()=>c((e=>!e))},i.a.createElement(_.EuiListGroup,null,h.map((e=>i.a.createElement(_.EuiListGroupItem,{key:e.value,onClick:()=>f(e.value),label:e.dropdownDisplay,isDisabled:e.disabled}))))),t.selectedMetricField&&(g?i.a.createElement(_.EuiBadge,{iconType:"cross",iconSide:"right",iconOnClick:()=>f(void 0),iconOnClickAriaLabel:qt},null==a||null===(n=a.metricOptions)||void 0===n||null===(l=n.find((e=>e.id===t.selectedMetricField)))||void 0===l?void 0:l.label):i.a.createElement(_.EuiLoadingSpinner,null))):i.a.createElement(_.EuiText,null,Gt):i.a.createElement(_.EuiText,{color:"danger",className:"eui-textNoWrap"},"Forbidden"===v.body.error?Ht:v.body.message)}const Wt=n.i18n.translate("xpack.observability.expView.seriesEditor.selectReportMetric",{defaultMessage:"Select report metric"}),qt=n.i18n.translate("xpack.observability.expView.seriesEditor.removeReportMetric",{defaultMessage:"Remove report metric"}),Gt=n.i18n.translate("xpack.observability.expView.seriesEditor.noData",{defaultMessage:"No data available"}),Ht=n.i18n.translate("xpack.observability.expView.seriesEditor.noPermissions",{defaultMessage:"Unable to create Index Pattern. You don't have the required permission, please contact your admin."}),Kt=P()(_.EuiAccordion).withConfig({displayName:"StyledAccordion",componentId:"sc-fdabah-0"})([".euiAccordion__button{width:auto;flex-grow:0;}.euiAccordion__optionalAction{flex-grow:1;flex-shrink:1;}.euiAccordion__childWrapper{overflow:visible;}"]);function Qt({item:e,isExpanded:t,toggleExpanded:a}){const{id:n}=e,l={...e,seriesId:n},[s,o]=Object(r.useState)(!1);return Object(r.useEffect)((()=>{t&&o(!0)}),[t]),i.a.createElement(_.EuiPanel,{hasBorder:!0,"data-test-subj":"exploratoryViewSeriesPanel0"},i.a.createElement(Kt,{id:`exploratoryViewSeriesAccordion${n}`,forceState:t?"open":"closed","aria-label":Jt,onToggle:a,arrowDisplay:l.series.dataType?void 0:"none",extraAction:i.a.createElement(_.EuiFlexGroup,{alignItems:"center",gutterSize:"s",wrap:!0},i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(_.EuiFlexGroup,{alignItems:"center",responsive:!1,gutterSize:"s"},i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(Me,l)),i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(Ut,l)))),i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(_.EuiFlexGroup,{alignItems:"center",responsive:!1,gutterSize:"s"},i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(Pe,l)),i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement($t,l)),i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(De,l)))),i.a.createElement(_.EuiFlexItem,null,i.a.createElement(be,A()({},l,{onEditClick:t?void 0:a}))))},i.a.createElement(_.EuiSpacer,{size:"s"}),i.a.createElement(_.EuiPanel,{color:"subdued"},s&&i.a.createElement(Rt,l))))}const Jt=n.i18n.translate("xpack.observability.expView.seriesBuilder.accordion.label",{defaultMessage:"Toggle series information"}),Xt=({indexPatterns:e,allSeries:t,reportType:a})=>t.map(((t,n)=>({id:n,series:t,seriesConfig:(t=>{if(null!=e&&e[t])return Object(le.a)({dataType:t,reportType:a,indexPattern:e[t]})})(t.dataType)}))),Yt=i.a.memo((function(){const[e,t]=Object(r.useState)([]),{getSeries:a,allSeries:n,reportType:l}=Object(R.f)(),{loading:s,indexPatterns:o}=Object(re.b)(),[c,u]=Object(r.useState)({}),[{prevCount:d,curCount:p},m]=Object(r.useState)({curCount:n.length});Object(r.useEffect)((()=>{m((e=>({prevCount:e.curCount,curCount:n.length}))),void 0!==d&&!isNaN(d)&&d<p&&u({})}),[n.length,p,d]),Object(r.useEffect)((()=>{const e={};t((t=>{const a=Xt({reportType:l,allSeries:n,indexPatterns:o});return a.forEach((({series:a,id:n})=>{const r=t.find((({id:e})=>e===n));r&&a.selectedMetricField&&r.series.selectedMetricField!==a.selectedMetricField&&(e[n]=!0)})),[...a]})),u((t=>({...t,...e})))}),[n,a,o,s,l]);return i.a.createElement(Zt,null,i.a.createElement(ea,null),i.a.createElement(ta,{gutterSize:"none"},i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(la,{"aria-label":ia,id:"report-type-label",isDisabled:!0},i.a.createElement(ue,{prepend:ra}))),i.a.createElement(_.EuiFlexItem,null,i.a.createElement(pe,{onApply:()=>u({})}))),i.a.createElement(aa,null,e.map((e=>i.a.createElement("div",{key:e.id},i.a.createElement(Qt,{item:e,toggleExpanded:()=>(e=>{const t={...c};t[e.id]?delete t[e.id]:t[e.id]=!0,u(t)})(e),isExpanded:c[e.id]}),i.a.createElement(_.EuiSpacer,{size:"s"}))))))})),Zt=u.euiStyled.div`
  &::-webkit-scrollbar {
    height: ${({theme:e})=>e.eui.euiScrollBar};
    width: ${({theme:e})=>e.eui.euiScrollBar};
  }
  &::-webkit-scrollbar-thumb {
    background-clip: content-box;
    background-color: ${({theme:e})=>Object(ie.rgba)(e.eui.euiColorDarkShade,.5)};
    border: ${({theme:e})=>e.eui.euiScrollBarCorner} solid transparent;
  }
  &::-webkit-scrollbar-corner,
  &::-webkit-scrollbar-track {
    background-color: transparent;
  }

  &&& {
    .euiTableRow-isExpandedRow .euiTableRowCell {
      border-top: none;
      background-color: #FFFFFF;
      border-bottom: 2px solid #d3dae6;
      border-right: 2px solid rgb(211, 218, 230);
      border-left: 2px solid rgb(211, 218, 230);
    }

    .isExpanded {
      border-right: 2px solid rgb(211, 218, 230);
      border-left: 2px solid rgb(211, 218, 230);
      .euiTableRowCell {
        border-bottom: none;
      }
    }
    .isIncomplete .euiTableRowCell {
      background-color: rgba(254, 197, 20, 0.1);
    }
  }
`,ea=u.euiStyled.div`
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 56px;
  background-color: ${({theme:e})=>e.eui.euiPageBackgroundColor};
  border-bottom: 1px solid ${({theme:e})=>e.eui.euiColorLightShade};
  z-index: 90;
`,ta=Object(u.euiStyled)(_.EuiFlexGroup)`
  position: sticky;
  top: 0;
  z-index: 100;
  padding: 0;
`,aa=u.euiStyled.div`
  margin: ${({theme:e})=>e.eui.paddingSizes.m} 0;
`,na=n.i18n.translate("xpack.observability.expView.seriesBuilder.loadingView",{defaultMessage:"Loading view ..."}),ra=(n.i18n.translate("xpack.observability.expView.seriesBuilder.selectReportType",{defaultMessage:"No report type selected"}),n.i18n.translate("xpack.observability.expView.seriesBuilder.reportType",{defaultMessage:"Report type"})),ia=n.i18n.translate("xpack.observability.expView.seriesBuilder.reportType.aria",{defaultMessage:"This select allows you to choose the type of report you wish to create"});var la=P()(_.EuiFormRow).withConfig({displayName:"_StyledEuiFormRow",componentId:"sc-1l6fn79-0"})({alignItems:"center"});function sa(){const[e,t]=Object(r.useState)([]),a=Object(r.useRef)(null),{getSeries:l,allSeries:s,setSeries:o,reportType:c}=Object(R.f)(),{loading:u,indexPatterns:d}=Object(re.b)();Object(r.useEffect)((()=>{t(Xt({allSeries:s,indexPatterns:d,reportType:c}))}),[s,l,d,u,c]);const p=!c||(c===H.m.CORE_WEB_VITAL||c===H.m.DEVICE_DISTRIBUTION)&&s.length>0;return i.a.createElement(_.EuiToolTip,{content:c?p?n.i18n.translate("xpack.observability.expView.seriesBuilder.addSeries.limitation",{defaultMessage:"You can only add one series of this report type."}):"":n.i18n.translate("xpack.observability.expView.seriesBuilder.addSeries.selectReportType",{defaultMessage:"Please select report type before you can add series."})},i.a.createElement(_.EuiButton,{onClick:()=>(()=>{const t=null==s?void 0:s[0],n={name:`${R.a}-${e.length+1}`};null!=a&&a.current&&a.current.blur();const r=s.length;o(r,"data-distribution"===c?{...n,time:(null==t?void 0:t.time)||H.a}:t?n:{...n,time:H.a})})(),isDisabled:p,iconType:"plusInCircle",size:"s",buttonRef:a},n.i18n.translate("xpack.observability.expView.seriesBuilder.addSeries",{defaultMessage:"Add series"})))}function oa({seriesBuilderRef:e}){return i.a.createElement("div",{ref:e},i.a.createElement(Yt,null),i.a.createElement(sa,null))}var ca=a(24),ua=a(106);function da(e){const{lensAttributes:t,setChartTimeRangeContext:a}=e,{services:{lens:l,notifications:s}}=Object(d.useKibana)(),o=null==l?void 0:l.EmbeddableComponent,{firstSeries:c,setSeries:u,reportType:p,lastRefresh:m}=Object(R.f)(),f=K(),b=Object(ca.d)(),g=Object(r.useCallback)((e=>{var t,n;const r=Date.now();a({lastUpdated:r,to:null===(t=Object(N.b)((null==f?void 0:f.to)||""))||void 0===t?void 0:t.valueOf(),from:null===(n=Object(N.b)((null==f?void 0:f.from)||""))||void 0===n?void 0:n.valueOf()}),e||Object(ua.b)(b,m,r)}),[a,f,m,b]),v=Object(r.useCallback)((({range:e})=>{"data-distribution"!==p&&c?u(0,{...c,time:{from:new Date(e[0]).toISOString(),to:new Date(e[1]).toISOString()}}):null==s||s.toasts.add(n.i18n.translate("xpack.observability.exploratoryView.noBrusing",{defaultMessage:"Zoom by brush selection is only available on time series charts."}))}),[p,u,c,null==s?void 0:s.toasts]);return f&&t?i.a.createElement(pa,null,i.a.createElement(o,{id:"exploratoryView",timeRange:f,attributes:t,onLoad:g,onBrushEnd:v})):null}const pa=P.a.div.withConfig({displayName:"LensWrapper",componentId:"sc-hgoyq0-0"})(["height:100%;&&& > div{height:100%;}"]);function ma({loading:e,series:t,reportType:a}){const{dataType:r,reportDefinitions:l}=null!=t?t:{};let s=ga;return r?a?Object(m.isEmpty)(l)&&(s=va):s=ha:s=ya,t||(s=n.i18n.translate("xpack.observability.expView.seriesEditor.notFound",{defaultMessage:"No series found. Please add a series."})),i.a.createElement(fa,null,e&&i.a.createElement(_.EuiProgress,{size:"xs",color:"accent",position:"absolute",style:{top:"initial"}}),i.a.createElement(_.EuiSpacer,null),i.a.createElement(ba,{justifyContent:"center",alignItems:"center"},i.a.createElement(_.EuiFlexItem,null,i.a.createElement(_.EuiText,null,e?na:s))))}const fa=P.a.div.withConfig({displayName:"Wrapper",componentId:"sc-174xx6x-0"})(["text-align:center;position:relative;"]),ba=P()(_.EuiFlexGroup).withConfig({displayName:"FlexGroup",componentId:"sc-174xx6x-1"})(["height:100%;"]),ga=n.i18n.translate("xpack.observability.expView.seriesBuilder.emptyview",{defaultMessage:"Nothing to display."}),va=n.i18n.translate("xpack.observability.expView.seriesBuilder.emptyReportDefinition",{defaultMessage:"Select a report definition to create a visualization."}),ha=n.i18n.translate("xpack.observability.expView.seriesBuilder.selectReportType.empty",{defaultMessage:"Select a report type to create a visualization."}),ya=n.i18n.translate("xpack.observability.expView.reportType.selectDataType",{defaultMessage:"Select a data type to create a visualization."});function Ea({saveAttributes:e}){const{services:{lens:t}}=Object(d.useKibana)(),a=Object(r.useRef)(null),n=Object(r.useRef)(null),[l,s]=Object(r.useState)("100vh"),[o,c]=Object(r.useState)(),[u,p]=Object(r.useState)(null),{loadIndexPattern:m,loading:f}=Object(re.b)(),{firstSeries:b,allSeries:g,lastRefresh:v,reportType:h}=Object(R.f)(),y=Object(ne.c)();Object(r.useEffect)((()=>{g.forEach((e=>{m({dataType:e.dataType})}))}),[g,m]),Object(r.useEffect)((()=>{p(y),e&&e(y)}),[JSON.stringify(null!=y?y:{}),v]),Object(r.useEffect)((()=>{(()=>{if(null!=a&&a.current&&n.current){const e=n.current.getBoundingClientRect().top;s(`calc(100vh - ${e+40}px)`)}})()}));const E=Object(r.useRef)(),[x,w]=Object(r.useState)(""),k=e=>{w((t=>e===t?"":e))},S=e=>{k(e),E.current&&E.current(e,"seriesPanel"===e?"right":"left")};return i.a.createElement(ka,null,t?i.a.createElement(i.a.Fragment,null,i.a.createElement(te,{lensAttributes:u,chartTimeRange:o}),i.a.createElement(xa,{ref:n,height:l},i.a.createElement(wa,{direction:"vertical",onToggleCollapsed:k},((e,t,{togglePanel:n})=>(E.current=(e,t)=>null==n?void 0:n(e,{direction:t}),i.a.createElement(i.a.Fragment,null,i.a.createElement(e,{initialSize:40,minSize:"30%",mode:"collapsible",id:"chartPanel"},u?i.a.createElement(da,{setChartTimeRangeContext:c,lensAttributes:u}):i.a.createElement(ma,{series:b,loading:f,reportType:h})),i.a.createElement(t,null),i.a.createElement(e,{initialSize:60,minSize:"10%",mode:"main",id:"seriesPanel",color:"subdued",className:"paddingTopSmall"},i.a.createElement(Ca,{isCollapsed:"chartPanel"===x,onClick:()=>S("chartPanel")}),i.a.createElement(oa,{seriesBuilderRef:a,onSeriesPanelCollapse:S})))))),"seriesPanel"===x&&i.a.createElement(Sa,{onClick:()=>S("seriesPanel"),iconType:"arrowUp"},Fa))):i.a.createElement(_.EuiTitle,null,i.a.createElement("h2",null,Ia)))}const xa=P.a.div.withConfig({displayName:"LensWrapper",componentId:"sc-1r2o5cy-0"})(["min-height:400px;height:",";&&& > div{height:100%;}"],(e=>e.height)),wa=P()(_.EuiResizableContainer).withConfig({displayName:"ResizableContainer",componentId:"sc-1r2o5cy-1"})(["height:100%;&&& .paddingTopSmall{padding-top:8px;}"]),ka=P()(_.EuiPanel).withConfig({displayName:"Wrapper",componentId:"sc-1r2o5cy-2"})(["max-width:1800px;min-width:800px;margin:0 auto;width:100%;overflow-x:auto;position:relative;.echLegendItem__action{display:none;}"]),Sa=P()(_.EuiButtonEmpty).withConfig({displayName:"ShowPreview",componentId:"sc-1r2o5cy-3"})(["position:absolute;bottom:34px;"]),Ca=P()((({isCollapsed:e,...t})=>i.a.createElement(_.EuiButtonEmpty,A()({},e?{iconType:"arrowDown"}:{iconType:"arrowUp",color:"text"},t),e?Ta:Oa))).withConfig({displayName:"ChartToggle",componentId:"sc-1r2o5cy-4"})(["&:focus,&:focus:enabled{background:none;}position:absolute;top:-30px;right:0;"]),Oa=n.i18n.translate("xpack.observability.overview.exploratoryView.hideChart",{defaultMessage:"Hide chart"}),Ta=n.i18n.translate("xpack.observability.overview.exploratoryView.showChart",{defaultMessage:"Show chart"}),Fa=n.i18n.translate("xpack.observability.overview.exploratoryView.preview",{defaultMessage:"Preview"}),Ia=n.i18n.translate("xpack.observability.overview.exploratoryView.lensDisabled",{defaultMessage:"Lens app is not available, please enable Lens to use exploratory view."});var ja=a(37);function Ma({saveAttributes:e,useSessionStorage:t=!1}){Object(Se.useTrackPageview)({app:"observability-overview",path:"exploratory-view"}),Object(Se.useTrackPageview)({app:"observability-overview",path:"exploratory-view",delay:15e3}),Object(ja.a)([{text:n.i18n.translate("xpack.observability.overview.exploratoryView",{defaultMessage:"Explore data"})}]);const{services:{uiSettings:a,notifications:r}}=Object(d.useKibana)(),l=Object(o.useHistory)(),s=t?Object(p.createSessionStorageStateStorage)():Object(p.createKbnUrlStateStorage)({history:l,useHash:a.get("state:storeInSessionStorage"),...Object(p.withNotifyOnErrors)(r.toasts)});return i.a.createElement(Aa,null,i.a.createElement(re.a,null,i.a.createElement(R.b,{storage:s},i.a.createElement(Ea,{saveAttributes:e}))))}const Aa=u.euiStyled.div`
  padding: ${e=>e.theme.eui.paddingSizes.l};
`;var La=a(129),Pa=a.n(La),_a=a(105),Ra=a(45);function Da({docsLink:e,basePath:t,hasData:a}){if(!1===a)return{solution:n.i18n.translate("xpack.observability.noDataConfig.solutionName",{defaultMessage:"Observability"}),actions:{elasticAgent:{title:n.i18n.translate("xpack.observability.noDataConfig.beatsCard.title",{defaultMessage:"Add integrations"}),description:n.i18n.translate("xpack.observability.noDataConfig.beatsCard.description",{defaultMessage:"Use Beats and APM agents to send observability data to Elasticsearch. We make it easy with support for many popular systems, apps, and languages."}),href:t.prepend("/app/integrations/browse")}},docsLink:e}}function za(){const{appMountParameters:{setHeaderActionMenu:e},core:{http:{basePath:{prepend:t}}}}=h();return i.a.createElement(q.default,{setHeaderActionMenu:e},i.a.createElement(_.EuiHeaderLinks,null,i.a.createElement(_.EuiHeaderLink,{color:"primary",href:t("/app/integrations/browse"),iconType:"indexOpen"},Ba)))}const Ba=n.i18n.translate("xpack.observability.home.addData",{defaultMessage:"Add integrations"});function Va(){const{ObservabilityPageTemplate:e}=h();return i.a.createElement(e,{template:"centeredContent",showSolutionNav:!1},i.a.createElement(za,null),i.a.createElement(_.EuiFlexGroup,null,i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(_.EuiLoadingSpinner,{size:"xl"})),i.a.createElement(_.EuiFlexItem,{grow:!1,style:{justifyContent:"center"}},i.a.createElement(_.EuiText,null,Na))))}const Na=n.i18n.translate("xpack.observability.overview.loadingObservability",{defaultMessage:"Loading Observability"});var Ua=a(16);function $a({dynamicIndexPatterns:e,rangeFrom:t,rangeTo:a,onQueryChange:l,query:s}){const o=Object(r.useMemo)((()=>new Ua.TimeHistory(new p.Storage(localStorage))),[]),[c,u]=Object(r.useState)("kuery"),d=Object(r.useMemo)((()=>e.map((e=>{var t,a;return{title:null!==(t=e.title)&&void 0!==t?t:"",id:null!==(a=e.id)&&void 0!==a?a:"",fields:e.fields}}))),[e]);return i.a.createElement(Ua.SearchBar,{indexPatterns:d,placeholder:n.i18n.translate("xpack.observability.alerts.searchBarPlaceholder",{defaultMessage:"Search alerts (e.g. kibana.alert.evaluation.threshold > 75)"}),query:{query:null!=s?s:"",language:c},timeHistory:o,dateRangeFrom:t,dateRangeTo:a,onRefresh:({dateRange:e})=>{l({dateRange:e,query:s})},onQuerySubmit:({dateRange:e,query:t})=>{l({dateRange:e,query:"string"==typeof(null==t?void 0:t.query)?t.query:""}),u((null==t?void 0:t.language)||"kuery")},displayStyle:"inPage"})}var Wa=a(82),qa=a(119),Ga=a.n(qa);const Ha=(e,t)=>t&&e[t]?{crud:"apm"===t?e[t]["alerting:save"]:e[t].save,read:"apm"===t?e[t]["alerting:show"]:e[t].show,featureId:t}:{crud:!1,read:!1,loading:!1,featureId:t};var Ka=a(72),Qa=a(83),Ja=a(104),Xa=a(89);function Ya({time:e,timeUnit:t="milliseconds"}){const a=Object(Xa.a)(e,t);return i.a.createElement(_.EuiToolTip,{content:a},i.a.createElement(i.a.Fragment,null,a))}var Za=a(98);const en={critical:"danger",warning:"warning"};function tn({severityLevel:e}){return e?i.a.createElement(_.EuiBadge,{color:e?en[e]:"default"},e):null}var an=a(88);const nn=({data:e,fieldName:t})=>{const a=e.find((e=>e.field===t));if(null!=a&&null!=a.value)return a.value},rn=({setFlyoutAlert:e})=>({columnId:t,data:a})=>{var n;const{observabilityRuleTypeRegistry:r}=h(),l=null===(n=nn({data:a,fieldName:t}))||void 0===n?void 0:n.reduce((e=>e[0]));switch(t){case Wa.ALERT_STATUS:return l!==Qa.ALERT_STATUS_ACTIVE&&l!==Qa.ALERT_STATUS_RECOVERED?null:i.a.createElement(Ja.a,{alertStatus:l});case Wa.TIMESTAMP:return i.a.createElement(Ya,{time:new Date(null!=l?l:"").getTime(),timeUnit:"milliseconds"});case Wa.ALERT_DURATION:return Object(Za.a)(Number(l));case Wa.ALERT_SEVERITY:return i.a.createElement(tn,{severityLevel:null!=l?l:void 0});case Wa.ALERT_REASON:const t=a.reduce(((e,t)=>({...e,[t.field]:t.value})),{}),n=Object(an.a)(r)(t);return i.a.createElement(_.EuiLink,{href:"",onClick:()=>e&&e(n)},n.reason);default:return i.a.createElement(i.a.Fragment,null,l)}};function ln(){const[e,t]=Object(r.useState)(null),a=Object(D.a)().services.application.capabilities;return Object(r.useEffect)((()=>{const e="boolean"==typeof a[z.a].crud_cases&&a[z.a].crud_cases,n="boolean"==typeof a[z.a].read_cases&&a[z.a].read_cases;t({crud:e,read:n})}),[a]),e}const sn=n.i18n.translate("xpack.observability.hoverActions.filterForValueButtonLabel",{defaultMessage:"Filter for value"}),on=i.a.memo((({Component:e,field:t,value:a,addToQuery:n})=>{const l=Object(r.useMemo)((()=>`${t}${null!=a?`: "${a}"`:""}`),[t,a]),s=Object(r.useCallback)((()=>{n(l)}),[l,n]);return Object(r.useMemo)((()=>e?i.a.createElement(e,{"aria-label":sn,"data-test-subj":"filter-for-value",iconType:"plusInCircle",onClick:s,title:sn},sn):i.a.createElement(_.EuiButtonIcon,{"aria-label":sn,className:"timelines__hoverActionButton","data-test-subj":"filter-for-value",iconSize:"s",iconType:"plusInCircle",onClick:s})),[e,s])}));on.displayName="FilterForValueButton";n.i18n.translate("xpack.observability.hoverActions.filterForValue",{defaultMessage:"Filter for value"});const cn=[({data:e,pageSize:t})=>({rowIndex:a,columnId:n,Component:r})=>{const{timelines:l}=(()=>{const{timelines:e}=Object(d.useKibana)().services,{services:{data:{query:{filterManager:t}}}}=Object(d.useKibana)();return{timelines:e,filterManager:t}})(),s=nn({data:e[Object(Ka.getPageRowIndex)(a,t)],fieldName:n});return i.a.createElement(i.a.Fragment,null,l.getHoverActions().getCopyButton({Component:r,field:n,isHoverAction:!1,ownFocus:!1,showTooltip:!1,value:s}))}],un=e=>[({data:t,pageSize:a})=>({rowIndex:n,columnId:r,Component:l})=>{const s=nn({data:t[Object(Ka.getPageRowIndex)(n,a)],fieldName:r});return i.a.createElement(on,{Component:l,field:r,value:s,addToQuery:e})}],dn=({addToQuery:e})=>[...un(e),...cn],pn=P.a.div.attrs((({className:e=""})=>({className:`siemEventsTable__thContent ${e}`}))).withConfig({displayName:"EventsThContent",componentId:"sc-l06w1o-0"})(["font-size:",";font-weight:",";line-height:",";min-width:0;padding:",";text-align:",";width:",";> button.euiButtonIcon,> .euiToolTipAnchor > button.euiButtonIcon{margin-left:",";}"],(({theme:e})=>e.eui.euiFontSizeXS),(({theme:e})=>e.eui.euiFontWeightBold),(({theme:e})=>e.eui.euiLineHeight),(({theme:e})=>e.eui.paddingSizes.xs),(({textAlign:e})=>e),(({width:e})=>null!=e?`${e}px`:"100%"),(({theme:e})=>`-${e.eui.paddingSizes.xs}`)),mn=[{columnHeaderType:"not-filtered",displayAsText:n.i18n.translate("xpack.observability.alertsTGrid.statusColumnDescription",{defaultMessage:"Alert Status"}),id:Wa.ALERT_STATUS,initialWidth:110},{columnHeaderType:"not-filtered",displayAsText:n.i18n.translate("xpack.observability.alertsTGrid.lastUpdatedColumnDescription",{defaultMessage:"Last updated"}),id:Wa.TIMESTAMP,initialWidth:230},{columnHeaderType:"not-filtered",displayAsText:n.i18n.translate("xpack.observability.alertsTGrid.durationColumnDescription",{defaultMessage:"Duration"}),id:Wa.ALERT_DURATION,initialWidth:116},{columnHeaderType:"not-filtered",displayAsText:n.i18n.translate("xpack.observability.alertsTGrid.reasonColumnDescription",{defaultMessage:"Reason"}),id:Wa.ALERT_REASON,linkField:"*"}],fn=[],bn=[];function gn({data:e,eventId:t,ecsData:a,currentStatus:l,refetch:s,setFlyoutAlert:o,setEventsLoading:c,setEventsDeleted:u}){var p,f;const{core:b,observabilityRuleTypeRegistry:g}=h(),v=e.reduce(((e,t)=>({...e,[t.field]:t.value})),{}),[y,E]=Object(r.useState)(null),{timelines:x,application:{capabilities:w}}=Object(d.useKibana)().services,k=Object(r.useMemo)((()=>Object(an.a)(g)),[g]),S=Object(r.useMemo)((()=>Object(m.get)(v,Wa.ALERT_RULE_CONSUMER,[""])[0]),[v]),C=Object(r.useMemo)((()=>Object(m.get)(v,Wa.ALERT_RULE_PRODUCER,[""])[0]),[v]),O=k(v),{prepend:T}=b.http.basePath,F=Object(r.useCallback)((()=>{E(null)}),[]),I=Object(r.useCallback)((()=>{E(null)}),[]),j=Object(r.useCallback)((e=>{E((t=>t?null:e))}),[]),M=ln(),A=Object(r.useMemo)((()=>({data:e,_id:t,ecs:a})),[e,t,a]),L=Object(r.useCallback)((()=>{E(null),s&&s()}),[E,s]),P=((e,t)=>{const[a,n]=Object(r.useState)({crud:!1,read:!1,loading:!0,featureId:null});return Object(r.useEffect)((()=>{t&&e[t]?n((a=>a.featureId===t?a:Ha(e,t))):n({crud:!1,read:!1,loading:!1,featureId:null})}),[a.featureId,t,e]),a})(w,"alerts"===S?C:S),R=Object(Ka.useStatusBulkActionItems)({eventIds:[t],currentStatus:l,indexName:null!==(p=a._index)&&void 0!==p?p:"",setEventsLoading:c,setEventsDeleted:u,onUpdateSuccess:L,onUpdateFailure:L}),D=Object(r.useMemo)((()=>[...null!=M&&M.crud?[x.getAddToExistingCaseButton({event:A,casePermissions:M,appId:z.c,onClose:F}),x.getAddToNewCaseButton({event:A,casePermissions:M,appId:z.c,onClose:F})]:[],...P.crud?R:[]]),[F,M,x,A,R,P]),B=n.i18n.translate("xpack.observability.alertsTable.viewDetailsTextLabel",{defaultMessage:"View details"}),V=n.i18n.translate("xpack.observability.alertsTable.viewInAppTextLabel",{defaultMessage:"View in app"}),N=n.i18n.translate("xpack.observability.alertsTable.moreActionsTextLabel",{defaultMessage:"More actions"});return i.a.createElement(i.a.Fragment,null,i.a.createElement(_.EuiFlexGroup,{gutterSize:"none",responsive:!1},i.a.createElement(_.EuiFlexItem,null,i.a.createElement(_.EuiToolTip,{content:B},i.a.createElement(_.EuiButtonIcon,{size:"s",iconType:"expand",color:"text",onClick:()=>o(O),"data-test-subj":"openFlyoutButton","aria-label":B}))),i.a.createElement(_.EuiFlexItem,null,i.a.createElement(_.EuiToolTip,{content:V},i.a.createElement(_.EuiButtonIcon,{size:"s",href:T(null!==(f=O.link)&&void 0!==f?f:""),iconType:"eye",color:"text","aria-label":V}))),D.length>0&&i.a.createElement(_.EuiFlexItem,null,i.a.createElement(_.EuiPopover,{button:i.a.createElement(_.EuiToolTip,{content:N},i.a.createElement(_.EuiButtonIcon,{display:"empty",size:"s",color:"text",iconType:"boxesHorizontal","aria-label":N,onClick:()=>j(t),"data-test-subj":"alerts-table-row-action-more"})),isOpen:y===t,closePopover:I,panelPaddingSize:"none",anchorPosition:"downLeft"},i.a.createElement(_.EuiContextMenuPanel,{size:"s",items:D})))))}const vn=["@timestamp","signal.rule.risk_score","signal.reason","kibana.alert.duration.us","kibana.alert.reason"];function hn(e){const{indexNames:t,rangeFrom:a,rangeTo:l,kuery:s,workflowStatus:o,setRefetch:c,addToQuery:u}=e,p=Ga()(o),{timelines:m,application:{capabilities:f}}=Object(d.useKibana)().services,[b,g]=Object(r.useState)(void 0),v=ln(),y=Object(r.useCallback)((({ruleConsumer:e,ruleProducer:t})=>"alerts"===e&&t?Ha(f,t).crud:Ha(f,e).crud),[f]),[E,x]=Object(r.useState)([]);Object(r.useEffect)((()=>{o!==p&&x([])}),[o,p]);const w=Object(r.useCallback)((e=>{e.isDeleted&&x((t=>[...t,...e.eventIds]))}),[]),k=Object(r.useMemo)((()=>[{id:"expand",width:120,headerCellRender:()=>i.a.createElement(pn,null,n.i18n.translate("xpack.observability.alertsTable.actionsTextLabel",{defaultMessage:"Actions"})),rowCellRender:e=>i.a.createElement(gn,A()({},e,{setEventsDeleted:w,currentStatus:o,setFlyoutAlert:g}))}]),[o,w]),S=Object(r.useMemo)((()=>({appId:z.c,casePermissions:v,type:"standalone",columns:mn,deletedEventIds:E,defaultCellActions:dn({addToQuery:u}),disabledCellActions:vn,end:l,filters:[],hasAlertsCrudPermissions:y,indexNames:t,itemsPerPageOptions:[10,25,50],loadingText:n.i18n.translate("xpack.observability.alertsTable.loadingTextLabel",{defaultMessage:"loading alerts"}),footerText:n.i18n.translate("xpack.observability.alertsTable.footerTextLabel",{defaultMessage:"alerts"}),query:{query:`${Wa.ALERT_WORKFLOW_STATUS}: ${o}${""!==s?` and ${s}`:""}`,language:"kuery"},renderCellValue:rn({setFlyoutAlert:g}),rowRenderers:fn,start:a,setRefetch:c,sort:[{columnId:"@timestamp",columnType:"date",sortDirection:"desc"}],filterStatus:o,leadingControlColumns:k,trailingControlColumns:bn,unit:e=>n.i18n.translate("xpack.observability.alertsTable.showingAlertsTitle",{values:{totalAlerts:e},defaultMessage:"{totalAlerts, plural, =1 {alert} other {alerts}}"})})),[v,u,l,y,t,o,s,a,c,k,E]),{observabilityRuleTypeRegistry:C}=h();return i.a.createElement(i.a.Fragment,null,b&&i.a.createElement(r.Suspense,{fallback:null},i.a.createElement(Se.LazyAlertsFlyout,{alert:b,observabilityRuleTypeRegistry:C,onClose:()=>g(void 0)})),m.getTGrid(S))}a(120);const yn=[{id:"open",label:n.i18n.translate("xpack.observability.alerts.workflowStatusFilter.openButtonLabel",{defaultMessage:"Open"}),"data-test-subj":"workflow-status-filter-open-button"},{id:"acknowledged",label:n.i18n.translate("xpack.observability.alerts.workflowStatusFilter.acknowledgedButtonLabel",{defaultMessage:"Acknowledged"}),"data-test-subj":"workflow-status-filter-acknowledged-button"},{id:"closed",label:n.i18n.translate("xpack.observability.alerts.workflowStatusFilter.closedButtonLabel",{defaultMessage:"Closed"}),"data-test-subj":"workflow-status-filter-closed-button"}];function En({status:e="open",onChange:t}){return i.a.createElement(_.EuiButtonGroup,{legend:"Filter by",color:"primary",options:yn,idSelected:e,onChange:e=>t(e)})}function xn(){return i.a.createElement(_.EuiCallOut,{title:n.i18n.translate("xpack.observability.alertsDisclaimerTitle",{defaultMessage:"Alert history is currently an experimental feature within observability"}),color:"warning",iconType:"beaker"},i.a.createElement(X.FormattedMessage,{id:"xpack.observability.alertsDisclaimerText",defaultMessage:"This functionality may change or be removed completely in a future release. We value your {feedback} as we work to add new capabilities. ",values:{feedback:i.a.createElement(_.EuiLink,{href:"https://discuss.elastic.co/c/observability/82",target:"_blank"},n.i18n.translate("xpack.observability.alertsDisclaimerLinkText",{defaultMessage:"feedback"}))}}))}function wn({routeParams:e}){var t;const{core:a,plugins:l,ObservabilityPageTemplate:s}=h(),{prepend:c}=a.http.basePath,u=Object(o.useHistory)(),d=Object(r.useRef)(),{query:{rangeFrom:p="now-15m",rangeTo:m="now",kuery:f="",workflowStatus:b="open"}}=e;Object(ja.a)([{text:n.i18n.translate("xpack.observability.breadcrumbs.alertsLinkText",{defaultMessage:"Alerts"})}]);const v=c("/app/management/insightsAndAlerting/triggersActions/alerts"),{data:y=kn}=Object(g.b)((({signal:e})=>Object(Ra.a)({signal:e,endpoint:"GET /api/observability/rules/alerts/dynamic_index_pattern",params:{query:{namespace:"default",registrationContexts:["observability.apm","observability.logs","observability.metrics","observability.uptime"]}}})),[]),E=Pa()((async()=>0===y.length?[]:[{id:"dynamic-observability-alerts-table-index-pattern",title:y.join(","),fields:await l.data.indexPatterns.getFieldsForWildcard({pattern:y.join(","),allowNoIndex:!0})}]),[y]),x=Object(r.useCallback)((e=>{const t=new URLSearchParams(u.location.search);t.set("workflowStatus",e),u.push({...u.location,search:t.toString()})}),[u]),w=Object(r.useCallback)((({dateRange:e,query:t})=>{if(p===e.from&&m===e.to&&f===(null!=t?t:""))return d.current&&d.current();const a=new URLSearchParams(u.location.search);a.set("rangeFrom",e.from),a.set("rangeTo",e.to),a.set("kuery",null!=t?t:""),u.push({...u.location,search:a.toString()})}),[u,p,m,f]),k=Object(r.useCallback)((e=>{let t=e;""!==f&&(t=`${f} and ${e}`),w({dateRange:{from:p,to:m},query:t})}),[f,w,p,m]),S=Object(r.useCallback)((e=>{d.current=e}),[]),{hasAnyData:C,isAllRequestsComplete:O}=Et(),T=!0===C||!1===O&&void 0;if(!C&&!O)return i.a.createElement(Va,null);const F=Da({hasData:T,basePath:a.http.basePath,docsLink:a.docLinks.links.observability.guide});return i.a.createElement(s,{noDataConfig:F,"data-test-subj":F?"noDataPage":void 0,pageHeader:{pageTitle:i.a.createElement(i.a.Fragment,null,n.i18n.translate("xpack.observability.alertsTitle",{defaultMessage:"Alerts"})," ",i.a.createElement(_a.a,null)),rightSideItems:[i.a.createElement(_.EuiButtonEmpty,{href:v},n.i18n.translate("xpack.observability.alerts.manageRulesButtonLabel",{defaultMessage:"Manage Rules"}))]}},i.a.createElement(_.EuiFlexGroup,{direction:"column",gutterSize:"s"},i.a.createElement(_.EuiFlexItem,null,i.a.createElement(xn,null)),i.a.createElement(_.EuiFlexItem,null,i.a.createElement($a,{dynamicIndexPatterns:null!==(t=E.value)&&void 0!==t?t:Sn,rangeFrom:p,rangeTo:m,query:f,onQueryChange:w})),i.a.createElement(_.EuiFlexItem,null,i.a.createElement(_.EuiFlexGroup,{justifyContent:"spaceBetween",alignItems:"center"},i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(En,{status:b,onChange:x})))),i.a.createElement(_.EuiFlexItem,null,i.a.createElement(hn,{indexNames:y,rangeFrom:p,rangeTo:m,kuery:f,workflowStatus:b,setRefetch:S,addToQuery:k}))))}const kn=[],Sn=[];var Cn=a(75);const On={cases:{text:n.i18n.translate("xpack.observability.breadcrumbs.casesLinkText",{defaultMessage:"Cases"})},create:{text:n.i18n.translate("xpack.observability.breadcrumbs.casesCreateLinkText",{defaultMessage:"Create"})},configure:{text:n.i18n.translate("xpack.observability.breadcrumbs.casesConfigureLinkText",{defaultMessage:"Configure"})}},Tn=({id:e,subCaseId:t})=>t?`/${encodeURIComponent(e)}/sub-cases/${encodeURIComponent(t)}`:`/${encodeURIComponent(e)}`,Fn=()=>{const{getUrlForApp:e}=Object(D.a)().services.application;return{formatUrl:Object(r.useCallback)(((t,{absolute:a=!1}={})=>{const n=t.split("?"),r=`/cases/${n[0]}${Object(Cn.isEmpty)(n[1])?"":`?${n[1]}`}`;return e(z.b,{path:r,absolute:a})}),[e])}},In=z.c,jn=i.a.memo((({userCanCrud:e})=>{const{cases:t,application:{getUrlForApp:a,navigateToUrl:n}}=Object(D.a)().services,{formatUrl:r}=Fn(),i=`${a(z.b)}/cases`;return t.getAllCases({caseDetailsNavigation:{href:({detailName:e,subCaseId:t})=>r(Tn({id:e,subCaseId:t})),onClick:async({detailName:e,subCaseId:t,search:a})=>n(`${i}${Tn({id:e,subCaseId:t})}`)},configureCasesNavigation:{href:r("/configure"),onClick:async e=>(null!=e&&e.preventDefault(),n(`${i}/configure`))},createCaseNavigation:{href:r("/create"),onClick:async e=>(null!=e&&e.preventDefault(),n(`${i}/create`))},disableAlerts:!0,showTitle:!1,userCanCrud:e,owner:[In]})}));jn.displayName="AllCases";const Mn=n.i18n.translate("xpack.observability.cases.caseFeatureNoPermissionsTitle",{defaultMessage:"Kibana feature privileges required"}),An=n.i18n.translate("xpack.observability.cases.caseFeatureNoPermissionsMessage",{defaultMessage:"To view cases, you must have privileges for the Cases feature in the Kibana space. For more information, contact your Kibana administrator."}),Ln=n.i18n.translate("xpack.observability.cases.caseView.backLabel",{defaultMessage:"Back to cases"}),Pn=(n.i18n.translate("xpack.observability.cases.caseView.cancel",{defaultMessage:"Cancel"}),n.i18n.translate("xpack.observability.cases.confirmDeleteCase.deleteCase",{defaultMessage:"Delete case"}),n.i18n.translate("xpack.observability.cases.confirmDeleteCase.deleteCases",{defaultMessage:"Delete cases"}),n.i18n.translate("xpack.observability.cases.caseView.name",{defaultMessage:"Name"}),n.i18n.translate("xpack.observability.cases.caseView.reporterLabel",{defaultMessage:"Reporter"}),n.i18n.translate("xpack.observability.cases.caseView.particpantsLabel",{defaultMessage:"Participants"}),n.i18n.translate("xpack.observability.cases.caseView.create",{defaultMessage:"Create new case"})),_n=(n.i18n.translate("xpack.observability.cases.caseView.description",{defaultMessage:"Description"}),n.i18n.translate("xpack.observability.cases.createCase.descriptionFieldRequiredError",{defaultMessage:"A description is required."}),n.i18n.translate("xpack.observability.cases.caseView.commentFieldRequiredError",{defaultMessage:"A comment is required."}),n.i18n.translate("xpack.observability.cases.caseView.fieldRequiredError",{defaultMessage:"Required field"}),n.i18n.translate("xpack.observability.cases.caseView.edit",{defaultMessage:"Edit"}),n.i18n.translate("xpack.observability.cases.caseView.optional",{defaultMessage:"Optional"}),n.i18n.translate("xpack.observability.cases.pageTitle",{defaultMessage:"Cases"})),Rn=(n.i18n.translate("xpack.observability.cases.caseView.createCase",{defaultMessage:"Create case"}),n.i18n.translate("xpack.observability.cases.caseView.closeCase",{defaultMessage:"Close case"}),n.i18n.translate("xpack.observability.cases.caseView.reopenCase",{defaultMessage:"Reopen case"}),n.i18n.translate("xpack.observability.cases.caseView.caseName",{defaultMessage:"Case name"}),n.i18n.translate("xpack.observability.cases.caseView.to",{defaultMessage:"to"}),n.i18n.translate("xpack.observability.cases.caseView.tags",{defaultMessage:"Tags"}),n.i18n.translate("xpack.observability.cases.allCases.actions",{defaultMessage:"Actions"}),n.i18n.translate("xpack.observability.cases.allCases.noTagsAvailable",{defaultMessage:"No tags available"}),n.i18n.translate("xpack.observability.cases.caseView.noReportersAvailable",{defaultMessage:"No reporters available."}),n.i18n.translate("xpack.observability.cases.allCases.comments",{defaultMessage:"Comments"}),n.i18n.translate("xpack.observability.cases.createCase.fieldTagsHelpText",{defaultMessage:"Type one or more custom identifying tags for this case. Press enter after each tag to begin a new one."}),n.i18n.translate("xpack.observability.cases.caseView.noTags",{defaultMessage:"No tags are currently assigned to this case."}),n.i18n.translate("xpack.observability.cases.createCase.titleFieldRequiredError",{defaultMessage:"A title is required."}),n.i18n.translate("xpack.observability.cases.configureCases.headerTitle",{defaultMessage:"Configure cases"})),Dn=(n.i18n.translate("xpack.observability.cases.configureCasesButton",{defaultMessage:"Edit external connection"}),n.i18n.translate("xpack.observability.cases.caseView.comment.addComment",{defaultMessage:"Add comment"}),n.i18n.translate("xpack.observability.cases.caseView.comment.addCommentHelpText",{defaultMessage:"Add a new comment..."}),n.i18n.translate("xpack.observability.cases.caseView.description.save",{defaultMessage:"Save"}),n.i18n.translate("xpack.observability.cases.caseView.goToDocumentationButton",{defaultMessage:"View documentation"})),zn=(n.i18n.translate("xpack.observability.cases.caseView.connectors",{defaultMessage:"External Incident Management System"}),n.i18n.translate("xpack.observability.cases.caseView.editConnector",{defaultMessage:"Change external incident management system"}),n.i18n.translate("xpack.observability.cases.badge.readOnly.text",{defaultMessage:"Read only"})),Bn=n.i18n.translate("xpack.observability.cases.badge.readOnly.tooltip",{defaultMessage:"Unable to create or edit cases"}),Vn=P()(_.EuiEmptyPrompt).withConfig({displayName:"EmptyPrompt",componentId:"sc-lbahp1-0"})(["align-self:center;max-width:60em;"]);Vn.displayName="EmptyPrompt";const Nn=i.a.memo((({actions:e,message:t,title:a,...n})=>{const l=Object.keys(e),s=Object(r.useMemo)((()=>Object.values(e).filter((e=>e.label&&e.url)).map((({icon:e,label:t,target:a,url:n,descriptionTitle:r,description:s,onClick:o,fill:c=!0},u)=>null!=r||null!=s?i.a.createElement(_.EuiFlexItem,{grow:!1,style:{maxWidth:283},key:`empty-page-${l[u]}-action`},i.a.createElement(_.EuiCard,{title:null!=r&&r,description:null!=s&&s,footer:i.a.createElement(_.EuiButton,{href:n,onClick:o,iconType:e,target:a,fill:c,"data-test-subj":`empty-page-${l[u]}-action`},t)})):i.a.createElement(_.EuiFlexItem,{grow:!1,style:{maxWidth:283},key:`empty-page-${l[u]}-action`},i.a.createElement(_.EuiButton,{href:n,onClick:o,iconType:e,target:a,"data-test-subj":`empty-page-${l[u]}-action`},t))))),[e,l]);return i.a.createElement(Vn,A()({iconType:"logoObservability",title:i.a.createElement("h2",null,a),body:t&&i.a.createElement("p",null,t),actions:i.a.createElement(_.EuiFlexGroup,{justifyContent:"center"},s)},n))}));Nn.displayName="EmptyPageComponent";const Un=i.a.memo(Nn);Un.displayName="EmptyPage";const $n=i.a.memo((()=>{const e=Object(D.a)().services.docLinks,t=Object(r.useMemo)((()=>({savedObject:{icon:"documents",label:Dn,url:`${e.ELASTIC_WEBSITE_URL}guide/en/security/${e.DOC_LINK_VERSION}s`,target:"_blank"}})),[e]);return i.a.createElement(Un,{actions:t,message:An,"data-test-subj":"no_feature_permissions",title:Mn})}));function Wn(){const e=ln(),t=Object(D.a)().services.chrome,a=Object(r.useCallback)((()=>{null!=e&&!e.crud&&e.read&&t.setBadge({text:zn,tooltip:Bn,iconType:"glasses"})}),[t,e]);Object(r.useEffect)((()=>(a(),()=>{t.setBadge()})),[a,t])}$n.displayName="CaseSavedObjectNoPermissions";const qn=i.a.memo((()=>{var e;const t=ln(),{core:a,ObservabilityPageTemplate:n}=h();Wn(),Object(ja.a)([On.cases]);const{hasAnyData:r,isAllRequestsComplete:l}=Et();if(!r&&!l)return i.a.createElement(Va,null);const s=Da({hasData:!0===r||!1===l&&void 0,basePath:a.http.basePath,docsLink:a.docLinks.links.observability.guide});return null==t||null!=t&&t.read?i.a.createElement(n,{"data-test-subj":s?"noDataPage":void 0,noDataConfig:s,pageHeader:{pageTitle:i.a.createElement(i.a.Fragment,null,_n)}},i.a.createElement(jn,{userCanCrud:null!==(e=null==t?void 0:t.crud)&&void 0!==e&&e})):i.a.createElement($n,null)}));qn.displayName="AllCasesPage";const Gn=()=>[!1,{}],Hn=e=>{const{http:t}=Object(D.a)().services,[a,n]=Object(r.useState)(!1),{observabilityRuleTypeRegistry:i}=h(),[l,s]=Object(r.useState)(null);return Object(r.useEffect)((()=>{const r=new AbortController;return Object(m.isEmpty)(e)||!1!==a||null!==l||(async()=>{try{n(!0);const a=await t.get("/internal/rac/alerts",{query:{id:e}});if(a){const e=Object(an.a)(i)(a);s(e),n(!1)}}catch(e){s(null)}})(),()=>{r.abort()}}),[t,e,l,a,i]),[a,l]},Kn=i.a.memo((({caseId:e,subCaseId:t,userCanCrud:a})=>{const[n,l]=Object(r.useState)(null),{observabilityRuleTypeRegistry:s}=h(),{cases:o,application:{getUrlForApp:c,navigateToUrl:u,navigateToApp:d}}=Object(D.a)().services,{formatUrl:p}=Fn(),m=p("/"),[f,b]=Object(r.useState)("");Object(ja.a)([{...On.cases,href:m},...null!==n?[{text:n}]:[]]);const g=Object(r.useCallback)((e=>{null!==n&&n===e.title||l(e.title)}),[n]),v="/configure",y=m,E=p(v),x=p(Tn({id:e}),{absolute:!0}),w=Object(r.useCallback)((a=>p((({id:e,commentId:t,subCaseId:a})=>a?`/${encodeURIComponent(e)}/sub-cases/${encodeURIComponent(a)}/${encodeURIComponent(t)}`:`/${encodeURIComponent(e)}/${encodeURIComponent(t)}`)({id:e,commentId:a,subCaseId:t}),{absolute:!0})),[e,p,t]),k=`${c(z.b)}/cases`,S=Object(r.useCallback)((()=>{b("")}),[]),[C,O]=Hn(f);return i.a.createElement(i.a.Fragment,null,!1===C&&O&&""!==f&&i.a.createElement(r.Suspense,{fallback:null},i.a.createElement(Se.LazyAlertsFlyout,{alert:O,observabilityRuleTypeRegistry:s,onClose:S})),o.getCaseView({allCasesNavigation:{href:y,onClick:async e=>(null!=e&&e.preventDefault(),u(k))},caseDetailsNavigation:{href:x,onClick:async t=>(null!=t&&t.preventDefault(),u(`${k}${Tn({id:e})}`))},caseId:e,configureCasesNavigation:{href:E,onClick:async e=>(null!=e&&e.preventDefault(),u(`${k}/configure`))},ruleDetailsNavigation:{href:e=>c("management",{path:`/insightsAndAlerting/triggersActions/rule/${e}`}),onClick:async(e,t)=>(null!=t&&t.preventDefault(),d("management",{path:`/insightsAndAlerting/triggersActions/rule/${e}`}))},getCaseDetailHrefWithCommentId:w,onCaseDataSuccess:g,subCaseId:t,useFetchAlertData:Gn,showAlertDetails:e=>{b(e)},userCanCrud:a,hideSyncAlerts:!0}))})),Qn=i.a.memo((()=>{var e;const{application:{getUrlForApp:t,navigateToUrl:a}}=Object(D.a)().services,{ObservabilityPageTemplate:n}=h(),l=`${t(z.b)}/cases`,s=ln(),{detailName:c,subCaseId:u}=Object(o.useParams)();return Wn(),Object(r.useEffect)((()=>{null==s||s.read||a(l)}),[l,a,s]),null!=c?i.a.createElement(n,null,i.a.createElement(Kn,{caseId:c,subCaseId:u,userCanCrud:null!==(e=null==s?void 0:s.crud)&&void 0!==e&&e})):null}));Qn.displayName="CaseDetailsPage";const Jn=P()(_.EuiButtonEmpty).withConfig({displayName:"ButtonEmpty",componentId:"sc-1dlg5w2-0"})(["display:block;"]);function Xn(){var e;const{cases:t,application:{getUrlForApp:a,navigateToUrl:n}}=Object(D.a)().services,l=`${a(z.b)}/cases`,s=ln(),{ObservabilityPageTemplate:o}=h(),c=Object(r.useCallback)((async e=>(e.preventDefault(),n(l))),[l,n]),{formatUrl:u}=Fn(),d=u("/");return Object(ja.a)([{...On.cases,href:d},On.configure]),Object(r.useEffect)((()=>{null==s||s.read||n(l)}),[l,s,n]),i.a.createElement(o,{pageHeader:{pageTitle:i.a.createElement(i.a.Fragment,null,i.a.createElement(Jn,{onClick:c,iconType:"arrowLeft",iconSide:"left",flush:"left"},Ln),Rn)}},t.getConfigureCases({userCanCrud:null!==(e=null==s?void 0:s.crud)&&void 0!==e&&e,owner:[In]}))}const Yn=i.a.memo(Xn),Zn=i.a.memo((()=>{const{cases:e,application:{getUrlForApp:t,navigateToUrl:a}}=Object(D.a)().services,n=`${t(z.b)}/cases`,i=Object(r.useCallback)((async({id:e})=>a(`${n}${Tn({id:e})}`)),[n,a]),l=Object(r.useCallback)((()=>a(`${n}`)),[n,a]);return e.getCreateCase({disableAlerts:!0,onCancel:l,onSuccess:i,owner:[In]})}));Zn.displayName="Create";const er=P()(_.EuiButtonEmpty).withConfig({displayName:"ButtonEmpty",componentId:"sc-1u7gmu2-0"})(["display:block;"]);er.displayName="ButtonEmpty";const tr=i.a.memo((()=>{const e=ln(),{ObservabilityPageTemplate:t}=h(),{application:{getUrlForApp:a,navigateToUrl:n}}=Object(D.a)().services,l=`${a(z.b)}/cases`,s=Object(r.useCallback)((async e=>(e.preventDefault(),n(l))),[l,n]),{formatUrl:o}=Fn(),c=o("/");return Object(ja.a)([{...On.cases,href:c},On.create]),Object(r.useEffect)((()=>{null==e||e.crud||n(l)}),[l,n,e]),i.a.createElement(t,{pageHeader:{pageTitle:i.a.createElement(i.a.Fragment,null,i.a.createElement(er,{onClick:s,iconType:"arrowLeft",iconSide:"left",flush:"left"},Ln),Pn)}},i.a.createElement(Zn,null))}));function ar(){const e=Object(o.useHistory)(),{hasAnyData:t,isAllRequestsComplete:a}=Et();return Object(r.useEffect)((()=>{!0===t?e.replace({pathname:"/overview"}):!1===t&&!0===a&&e.replace({pathname:"/landing"})}),[t,a,e]),i.a.createElement(Va,null)}tr.displayName="CreateCasePage";a(132);function nr(){Object(ca.c)({app:"observability-overview",path:"landing"}),Object(ca.c)({app:"observability-overview",path:"landing",delay:15e3}),Object(ja.a)([{text:n.i18n.translate("xpack.observability.breadcrumbs.landingLinkText",{defaultMessage:"Getting started"})}]);const{core:e,ObservabilityPageTemplate:t}=h(),a=Da({hasData:!1,basePath:e.http.basePath,docsLink:e.docLinks.links.observability.guide});return i.a.createElement(t,{noDataConfig:a,restrictWidth:!0,showSolutionNav:!1})}function rr({section:e}){return i.a.createElement(_.EuiEmptyPrompt,{style:{maxWidth:"none"},title:i.a.createElement("h2",null,e.title),titleSize:"xs",body:i.a.createElement(_.EuiText,{color:"default"},e.description),actions:i.a.createElement(i.a.Fragment,null,e.linkTitle&&i.a.createElement(_.EuiButton,{size:"s",color:"primary",fill:!0,href:e.href,target:e.target,"data-test-subj":`empty-${e.id}`},e.linkTitle))})}function ir(){const{core:e}=h(),t=Object(r.useContext)(L.ThemeContext),{hasDataMap:a}=Et(),l=(({core:e})=>[{id:"infra_logs",title:n.i18n.translate("xpack.observability.emptySection.apps.logs.title",{defaultMessage:"Logs"}),icon:"logoLogging",description:n.i18n.translate("xpack.observability.emptySection.apps.logs.description",{defaultMessage:"Centralize logs from any source. Search, tail, automate anomaly detection, and visualize trends so you can take action quicker."}),linkTitle:n.i18n.translate("xpack.observability.emptySection.apps.logs.link",{defaultMessage:"Install Filebeat"}),href:e.http.basePath.prepend("/app/home#/tutorial_directory/logging")},{id:"apm",title:n.i18n.translate("xpack.observability.emptySection.apps.apm.title",{defaultMessage:"APM"}),icon:"logoObservability",description:n.i18n.translate("xpack.observability.emptySection.apps.apm.description",{defaultMessage:"Trace transactions through a distributed architecture and map your services’ interactions to easily spot performance bottlenecks."}),linkTitle:n.i18n.translate("xpack.observability.emptySection.apps.apm.link",{defaultMessage:"Install Agent"}),href:e.http.basePath.prepend("/app/home#/tutorial/apm")},{id:"infra_metrics",title:n.i18n.translate("xpack.observability.emptySection.apps.metrics.title",{defaultMessage:"Metrics"}),icon:"logoMetrics",description:n.i18n.translate("xpack.observability.emptySection.apps.metrics.description",{defaultMessage:"Analyze metrics from your infrastructure, apps, and services. Discover trends, forecast behavior, get alerts on anomalies, and more."}),linkTitle:n.i18n.translate("xpack.observability.emptySection.apps.metrics.link",{defaultMessage:"Install Metricbeat"}),href:e.http.basePath.prepend("/app/home#/tutorial_directory/metrics")},{id:"synthetics",title:n.i18n.translate("xpack.observability.emptySection.apps.uptime.title",{defaultMessage:"Uptime"}),icon:"logoUptime",description:n.i18n.translate("xpack.observability.emptySection.apps.uptime.description",{defaultMessage:"Proactively monitor the availability of your sites and services. Receive alerts and resolve issues faster to optimize your users’ experience."}),linkTitle:n.i18n.translate("xpack.observability.emptySection.apps.uptime.link",{defaultMessage:"Install Heartbeat"}),href:e.http.basePath.prepend("/app/home#/tutorial/uptimeMonitors")},{id:"ux",title:n.i18n.translate("xpack.observability.emptySection.apps.ux.title",{defaultMessage:"User Experience"}),icon:"logoObservability",description:n.i18n.translate("xpack.observability.emptySection.apps.ux.description",{defaultMessage:"Performance is a distribution. Measure the experiences of all visitors to your web application and understand how to improve the experience for everyone."}),linkTitle:n.i18n.translate("xpack.observability.emptySection.apps.ux.link",{defaultMessage:"Install RUM Agent"}),href:e.http.basePath.prepend("/app/home#/tutorial/apm")},{id:"alert",title:n.i18n.translate("xpack.observability.emptySection.apps.alert.title",{defaultMessage:"No alerts found."}),icon:"watchesApp",description:n.i18n.translate("xpack.observability.emptySection.apps.alert.description",{defaultMessage:"Are 503 errors stacking up? Are services responding? Is CPU and RAM utilization jumping? See warnings as they happen—not as part of the post-mortem."}),linkTitle:n.i18n.translate("xpack.observability.emptySection.apps.alert.link",{defaultMessage:"Create rule"}),href:e.http.basePath.prepend("/app/management/insightsAndAlerting/triggersActions/alerts")}])({core:e}).filter((({id:e})=>{if("alert"===e){const{status:e,hasData:t}=a.alert||{};return e===g.a.FAILURE||e===g.a.SUCCESS&&0===t.length}{const t=a[e];if(t)return t.status===g.a.FAILURE||!t.hasData}return!1}));return i.a.createElement(_.EuiFlexItem,null,i.a.createElement(_.EuiSpacer,{size:"s"}),i.a.createElement(_.EuiFlexGrid,{columns:l.length>2?2:1,gutterSize:"s"},l.map((e=>i.a.createElement(_.EuiFlexItem,{key:e.id,style:{border:`${t.eui.euiBorderEditable}`,borderRadius:`${t.eui.euiBorderRadius}`}},i.a.createElement(rr,{section:e}))))))}a(141);function lr({items:e}){return i.a.createElement(_.EuiErrorBoundary,null,i.a.createElement(_.EuiFlexGroup,{direction:"column",gutterSize:"s"},i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(_.EuiTitle,{size:"xs"},i.a.createElement("h4",null,n.i18n.translate("xpack.observability.news.title",{defaultMessage:"What's new"})))),e.map(((e,t)=>i.a.createElement(_.EuiFlexItem,{key:t,grow:!1},i.a.createElement(sr,{item:e}))))))}function sr({item:e}){var t;const a=Object(r.useContext)(L.ThemeContext);return i.a.createElement(_.EuiFlexGroup,{direction:"column",gutterSize:"s"},i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(_.EuiTitle,{size:"xxxs"},i.a.createElement("h4",null,e.title.en))),i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(_.EuiFlexGroup,{gutterSize:"s"},i.a.createElement(_.EuiFlexItem,null,i.a.createElement(_.EuiFlexGroup,{direction:"column",gutterSize:"s",alignItems:"baseline"},i.a.createElement(_.EuiFlexItem,null,i.a.createElement(_.EuiText,{grow:!1,size:"xs",color:"subdued"},(l=e.description.en,s=128,Object(m.truncate)(l,{length:s})))),i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(_.EuiText,{size:"xs"},i.a.createElement(_.EuiLink,{href:e.link_url.en,target:"_blank",external:!0},n.i18n.translate("xpack.observability.news.readFullStory",{defaultMessage:"Read full story"})))))),(null===(t=e.image_url)||void 0===t?void 0:t.en)&&i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement("img",{"data-test-subj":"news_image",style:{border:a.eui.euiBorderThin},width:48,height:48,alt:e.title.en,src:e.image_url.en,className:"obsNewsFeed__itemImg"})))),i.a.createElement(_.EuiHorizontalRule,{margin:"s"}));var l,s}const or=[{iconType:"documents",label:n.i18n.translate("xpack.observability.resources.documentation",{defaultMessage:"Documentation"}),href:"https://ela.st/observability-documentation"},{iconType:"editorComment",label:n.i18n.translate("xpack.observability.resources.forum",{defaultMessage:"Discuss Forum"}),href:"https://ela.st/observability-discuss"},{iconType:"play",label:n.i18n.translate("xpack.observability.resources.quick_start",{defaultMessage:"Quick Start Videos"}),href:"https://ela.st/observability-quick-starts"},{iconType:"training",label:n.i18n.translate("xpack.observability.resources.training",{defaultMessage:"Free Observability Course"}),href:"https://ela.st/observability-training"}];function cr(){return i.a.createElement(_.EuiFlexGroup,{direction:"column",alignItems:"flexStart",gutterSize:"xs"},i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(_.EuiTitle,{size:"xs"},i.a.createElement("h4",null,n.i18n.translate("xpack.observability.resources.title",{defaultMessage:"Resources"})))),i.a.createElement(_.EuiListGroup,{flush:!0,listItems:or,"data-test-subj":"list-group",size:"s"}))}const ur="ALL_TYPES",dr={value:ur,text:n.i18n.translate("xpack.observability.overview.alert.allTypes",{defaultMessage:"All types"})};function pr({alerts:e}){const{config:t,core:a}=h(),[l,s]=Object(r.useState)(ur),o=t.unsafe.alertingExperience.enabled?a.http.basePath.prepend("/app/observability/alerts"):a.http.basePath.prepend("/app/management/insightsAndAlerting/triggersActions/rules"),c=Object(m.uniqBy)(e,(e=>e.consumer)).map((({consumer:e})=>({value:e,text:e})));return i.a.createElement("div",null,i.a.createElement(_.EuiFlexGroup,{alignItems:"center",justifyContent:"spaceBetween",responsive:!1},i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(_.EuiTitle,{size:"xs"},i.a.createElement("h4",null,n.i18n.translate("xpack.observability.overview.alerts.title",{defaultMessage:"Alerts"})))),i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(_.EuiButton,{size:"s",href:o},n.i18n.translate("xpack.observability.overview.alert.appLink",{defaultMessage:"Manage alerts"})))),i.a.createElement(i.a.Fragment,null,i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(_.EuiSpacer,null),i.a.createElement(_.EuiSelect,{compressed:!0,fullWidth:!0,id:"filterAlerts",options:[dr,...c],value:l,onChange:e=>s(e.target.value)}),i.a.createElement(_.EuiSpacer,null)),e.filter((e=>l===ur||e.consumer===l)).map(((t,r)=>{const l=r===e.length-1;return i.a.createElement(_.EuiFlexGroup,{direction:"column",gutterSize:"s",key:t.id},i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(_.EuiLink,{href:a.http.basePath.prepend(`/app/management/insightsAndAlerting/triggersActions/alert/${t.id}`)},i.a.createElement(_.EuiText,{size:"s"},t.name))),i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(_.EuiFlexGroup,{gutterSize:"xs"},i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(_.EuiBadge,{color:"hollow"},t.alertTypeId)),t.tags.map(((e,t)=>i.a.createElement(_.EuiFlexItem,{key:t,grow:!1},i.a.createElement(_.EuiBadge,{color:"default"},e)))))),i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(_.EuiFlexGroup,{gutterSize:"s"},i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(_.EuiText,{color:"subdued",size:"xs"},"Updated ",J.a.duration(J()().diff(t.updatedAt)).humanize()," ago")),t.muteAll&&i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(_.EuiIconTip,{type:"minusInCircle",content:n.i18n.translate("xpack.observability.overview.alerts.muted",{defaultMessage:"Muted"})})))),!l&&i.a.createElement(_.EuiHorizontalRule,{margin:"xs"}))}))))}function mr(e){return e?Object(y.parse)(e.slice(1),{sort:!1}):{}}function fr(e){const t=p.url.encodeQuery(e,(e=>encodeURIComponent(e).replace(/%3A/g,":")));return Object(y.stringify)(t,{sort:!1,encode:!1})}function br({rangeFrom:e,rangeTo:t,refreshPaused:a,refreshInterval:n}){const l=Object(o.useLocation)(),s=Object(o.useHistory)(),{plugins:c}=h(),{onRefreshTimeRange:u}=Et();Object(r.useEffect)((()=>{c.data.query.timefilter.timefilter.setTime({from:e,to:t})}),[c,e,t]);const d=Object(x.b)(x.a.TIMEPICKER_QUICK_RANGES).map((({from:e,to:t,display:a})=>({start:e,end:t,label:a})));function p(e){s.push({...l,search:fr({...mr(l.search),...e})})}return i.a.createElement(_.EuiSuperDatePicker,{start:e,end:t,onTimeChange:function({start:e,end:t}){p({rangeFrom:e,rangeTo:t})},isPaused:a,refreshInterval:n,onRefreshChange:function({isPaused:e,refreshInterval:t}){p({refreshPaused:e,refreshInterval:t})},commonlyUsedRanges:d,onRefresh:u})}const gr=J.a.duration,vr=[[gr(500,"ms"),gr(100,"ms")],[gr(5,"second"),gr(1,"second")],[gr(7.5,"second"),gr(5,"second")],[gr(15,"second"),gr(10,"second")],[gr(45,"second"),gr(30,"second")],[gr(3,"minute"),gr(1,"minute")],[gr(9,"minute"),gr(5,"minute")],[gr(20,"minute"),gr(10,"minute")],[gr(45,"minute"),gr(30,"minute")],[gr(2,"hour"),gr(1,"hour")],[gr(6,"hour"),gr(3,"hour")],[gr(24,"hour"),gr(12,"hour")],[gr(1,"week"),gr(1,"d")],[gr(3,"week"),gr(1,"week")],[gr(1,"year"),gr(1,"month")],[1/0,gr(1,"year")]].slice(0).reverse();function hr(e,t,a){return(n,r)=>{const i=function(n,r){const i=r/n;let l=null;for(let n=0;n<e.length;n++){const r=e[n],s=t(r[0],r[1],i);if(null==s){if(!a)continue;if(l)return l;break}if(!a)return s;l=s}const s=Math.max(Math.floor(i),1);return J.a.duration(s,"ms")}(n,r);if(i)return J.a.duration(i._data)}}const yr={near:hr(vr,(function(e,t,a){if(e>a)return t}),!0),lessThan:hr(vr,(function(e,t,a){if(t<a)return t})),atLeast:hr(vr,(function(e,t,a){if(t<=a)return t}))};function Er(e,t){return J.a.duration(e,t).asSeconds()}const xr={ms:Er(1,"millisecond"),s:Er(1,"second"),m:Er(1,"minute"),h:Er(1,"hour"),d:Er(1,"day"),w:Er(1,"week"),M:Er(1,"month"),y:Er(1,"year")};function wr({start:e,end:t,minInterval:a}){const n=J.a.duration(t-e,"ms"),r=Math.max(yr.near(100,n).asSeconds(),1),i=`${r}s`,l=a&&a.match(/^([\d]+)([shmdwMy]|ms)$/),s=l?Number(l[1])*(o=l[2],xr[o]):0;var o;return r<s?{bucketSize:s,intervalString:a}:{bucketSize:r,intervalString:i}}var kr=a(69),Sr=a(68),Cr=a.n(Sr);function Or(){return i.a.createElement(_.EuiFlexGroup,{justifyContent:"center",alignItems:"center"},i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(_.EuiText,{color:"subdued"},n.i18n.translate("xpack.observability.section.errorPanel",{defaultMessage:"An error happened when trying to fetch data. Please try again"}))))}function Tr({title:e,appLink:t,children:a,hasError:n}){const{core:r}=h();return i.a.createElement(_.EuiPanel,{hasBorder:!0},i.a.createElement(_.EuiAccordion,{initialIsOpen:!0,id:e,buttonContentClassName:"accordion-button",buttonContent:i.a.createElement(_.EuiTitle,{size:"s"},i.a.createElement("h5",null,e)),extraAction:(null==t?void 0:t.href)&&i.a.createElement(_.EuiButton,{size:"s",href:r.http.basePath.prepend(t.href)},t.label)},i.a.createElement(i.a.Fragment,null,i.a.createElement(_.EuiSpacer,{size:"s"}),i.a.createElement(_.EuiPanel,{hasShadow:!1,paddingSize:"s"},n?i.a.createElement(Or,null):i.a.createElement(i.a.Fragment,null,a)))))}var Fr=a(41);function Ir({isInitialLoad:e,children:t,iconSize:a="xl",height:n=170}){return e?i.a.createElement("div",{"data-test-subj":"loading",style:{height:n,display:"flex",alignItems:"center",justifyContent:"center"}},i.a.createElement(_.EuiLoadingChart,{size:a})):i.a.createElement(kr.Chart,{size:{height:n}},t)}const jr=P()(_.EuiStat).withConfig({displayName:"Stat",componentId:"sc-10wwbqs-0"})([".euiStat__title{color:",";}"],(e=>e.color)),Mr="--";function Ar(e){const{description:t=Mr,title:a=Mr,...n}=e;return i.a.createElement(jr,A()({description:t,title:a,titleSize:"s"},n))}const Lr=({x:e,history:t})=>{if(e){const a=e[0],n=e[1],r=mr(t.location.search),i={rangeFrom:new Date(a).toISOString(),rangeTo:new Date(n).toISOString()};t.push({...t.location,search:fr({...r,...i})})}};function Pr({bucketSize:e}){var t;const a=Object(r.useContext)(L.ThemeContext),l=Object(Fr.a)(),s=Object(o.useHistory)(),{forceUpdate:c,hasDataMap:u}=Et(),{relativeStart:d,relativeEnd:p,absoluteStart:m,absoluteEnd:f}=w(),{data:v,status:h}=Object(g.b)((()=>{var t;if(e)return null===(t=Object(b.a)("apm"))||void 0===t?void 0:t.fetchData({absoluteTime:{start:m,end:f},relativeTime:{start:d,end:p},...e})}),[e,d,p,c]);if(null===(t=u.apm)||void 0===t||!t.hasData)return null;const{appLink:y,stats:E,series:x}=v||{},k=J.a.utc(m).valueOf(),S=J.a.utc(f).valueOf(),C=Object(kr.niceTimeFormatter)([k,S]),O=h===g.a.LOADING,T=a.eui.euiColorVis1;return i.a.createElement(Tr,{title:n.i18n.translate("xpack.observability.overview.apm.title",{defaultMessage:"APM"}),appLink:{href:y,label:n.i18n.translate("xpack.observability.overview.apm.appLink",{defaultMessage:"View in app"})},hasError:h===g.a.FAILURE},i.a.createElement(_.EuiFlexGroup,null,i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(Ar,{title:Cr()(null==E?void 0:E.services.value).format("0a"),description:n.i18n.translate("xpack.observability.overview.apm.services",{defaultMessage:"Services"}),isLoading:O})),i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(Ar,{title:`${F=null==E?void 0:E.transactions.value,F&&0!==F?F<=.1?"< 0.1":F>1e3?Cr()(F).format("0.00a"):Cr()(F).format("0,0.0"):"0"} tpm`,description:n.i18n.translate("xpack.observability.overview.apm.throughput",{defaultMessage:"Throughput"}),isLoading:O,color:T}))),i.a.createElement(Ir,{isInitialLoad:O&&!v},i.a.createElement(kr.Settings,{onBrushEnd:e=>Lr({x:e.x,history:s}),theme:l,showLegend:!1,xDomain:{min:k,max:S}}),(null==x?void 0:x.transactions.coordinates)&&i.a.createElement(i.a.Fragment,null,i.a.createElement(kr.BarSeries,{id:"transactions",name:"Transactions",data:null==x?void 0:x.transactions.coordinates,xScaleType:kr.ScaleType.Time,yScaleType:kr.ScaleType.Linear,xAccessor:"x",yAccessors:["y"],color:T}),i.a.createElement(kr.Axis,{id:"y-axis",position:kr.Position.Left,gridLine:{visible:!0},tickFormat:e=>`${function(e){return Cr()(e).format("0.00a")}(e)} tpm`}),i.a.createElement(kr.Axis,{id:"x-axis",position:kr.Position.Bottom,tickFormat:C}))));var F}function _r(e){const{value:t,type:a}=e;switch(a){case"bytesPerSecond":return`${Cr()(t).format("0.0b")}/s`;case"number":return Cr()(t).format("0a");case"percent":return Cr()(t).format("0.0%")}}function Rr({bucketSize:e}){var t;const a=Object(o.useHistory)(),l=Object(Fr.a)(),{forceUpdate:s,hasDataMap:c}=Et(),{relativeStart:u,relativeEnd:d,absoluteStart:p,absoluteEnd:f}=w(),{data:v,status:h}=Object(g.b)((()=>{var t;if(e)return null===(t=Object(b.a)("infra_logs"))||void 0===t?void 0:t.fetchData({absoluteTime:{start:p,end:f},relativeTime:{start:u,end:d},...e})}),[e,u,d,s]);if(null===(t=c.infra_logs)||void 0===t||!t.hasData)return null;const y=J.a.utc(p).valueOf(),E=J.a.utc(f).valueOf(),x=Object(kr.niceTimeFormatter)([y,E]),{appLink:k,stats:S,series:C}=v||{},O=function(e){if(!e)return{};const t=Object(_.euiPaletteColorBlind)({rotations:Math.ceil(Object.keys(e).length/10)});return Object.keys(e).reduce(((e,a,n)=>(e[a]=t[n],e)),{})}(C),T=h===g.a.LOADING;return i.a.createElement(Tr,{title:n.i18n.translate("xpack.observability.overview.logs.title",{defaultMessage:"Logs"}),appLink:{href:k,label:n.i18n.translate("xpack.observability.overview.logs.appLink",{defaultMessage:"View in app"})},hasError:h===g.a.FAILURE},i.a.createElement(_.EuiTitle,{size:"xs"},i.a.createElement("h4",null,n.i18n.translate("xpack.observability.overview.logs.subtitle",{defaultMessage:"Logs rate per minute"}))),i.a.createElement(_.EuiSpacer,{size:"s"}),i.a.createElement(_.EuiFlexGroup,null,!S||Object(m.isEmpty)(S)?i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(Ar,{isLoading:T})):Object.keys(S).map((e=>{const t=S[e];return i.a.createElement(_.EuiFlexItem,{grow:!1,key:e},i.a.createElement(Ar,{title:_r(t),description:t.label,isLoading:T,color:O[e]}))}))),i.a.createElement(Ir,{isInitialLoad:T&&!v},i.a.createElement(kr.Settings,{onBrushEnd:e=>Lr({x:e.x,history:a}),theme:l,showLegend:!0,legendPosition:kr.Position.Right,xDomain:{min:y,max:E},showLegendExtra:!0}),C&&Object.keys(C).map((e=>{const t=C[e],a=t.coordinates.map((e=>({...e,g:t.label})));return i.a.createElement(r.Fragment,{key:e},i.a.createElement(kr.BarSeries,{id:e,xScaleType:kr.ScaleType.Time,yScaleType:kr.ScaleType.Linear,xAccessor:"x",yAccessors:["y"],stackAccessors:["x"],splitSeriesAccessors:["g"],data:a,color:O[e]}),i.a.createElement(kr.Axis,{id:"x-axis",position:kr.Position.Bottom,showOverlappingTicks:!1,showOverlappingLabels:!1,tickFormat:x}),i.a.createElement(kr.Axis,{id:"y-axis",gridLine:{visible:!0},position:kr.Position.Left,tickFormat:e=>Cr()(e).format("0a")}))}))))}function Dr({name:e,id:t,timerange:a}){const n=`../../app/metrics/link-to/host-detail/${t}?from=${a.from}&to=${a.to}`;return i.a.createElement(i.a.Fragment,null,i.a.createElement("a",{href:n},e))}const zr=3600,Br=86400;var Vr=a(34);function Nr({id:e,formatter:t,value:a,timeseries:n,color:l}){var s,o;const c=Object(r.useContext)(L.ThemeContext),u=c&&c.darkMode||!1,d=[Vr.EUI_SPARKLINE_THEME_PARTIAL,u?Vr.EUI_CHARTS_THEME_DARK.theme:Vr.EUI_CHARTS_THEME_LIGHT.theme],p=null!==(s=null===(o=d[1].colors)||void 0===o?void 0:o.vizColors)&&void 0!==s?s:[];return a?i.a.createElement(i.a.Fragment,null,i.a.createElement(kr.Chart,{size:{height:18,width:40}},i.a.createElement(kr.Settings,{theme:d,showLegend:!1,tooltip:"none"}),i.a.createElement(kr.AreaSeries,{id:e,data:n,xAccessor:"timestamp",yAccessors:[e],color:p[l]||"#006BB4"}))," ",t(a)):i.a.createElement(_.EuiTextColor,{color:"subdued"},i.a.createElement(_.EuiIcon,{type:"visLine"})," N/A")}const Ur=e=>null===e?"":Cr()(e).format("0[.0]%"),$r=e=>null===e?"":Cr()(e).format("0[.0]"),Wr=e=>null===e?"":Cr()(e).format("0b")+"/s";function qr({bucketSize:e}){var t,a;const{forceUpdate:l,hasDataMap:s}=Et(),{relativeStart:o,relativeEnd:c,absoluteStart:u,absoluteEnd:d}=w(),[p,m]=Object(r.useState)("asc"),[f,v]=Object(r.useState)("uptime"),[h,y]=Object(r.useState)(null),{data:E,status:x}=Object(g.b)((()=>{var t;if(e)return null===(t=Object(b.a)("infra_metrics"))||void 0===t?void 0:t.fetchData({absoluteTime:{start:u,end:d},relativeTime:{start:o,end:c},...e})}),[e,o,c,l]),k=Object(r.useCallback)((({sort:e})=>{if(e){const{field:t,direction:a}=e;v(t),m(a),E&&(async()=>{const e=await E.sort(t,a);y(e||null)})()}}),[E,v,m]);if(null===(t=s.infra_metrics)||void 0===t||!t.hasData)return null;const S=x===g.a.LOADING,C=x===g.a.LOADING;if(S||C)return i.a.createElement("pre",null,"Loading");if(!E)return i.a.createElement("pre",null,"No Data");const O=[{field:"uptime",name:n.i18n.translate("xpack.observability.overview.metrics.colunms.uptime",{defaultMessage:"Uptime"}),sortable:!0,width:"80px",render:e=>{return null==e?"N/A":(t=e/1e3)<60?`${Math.floor(t)}s`:t<zr?`${Math.floor(t/60)}m ${Math.floor(t%60)}s`:t<Br?`${Math.floor(t/zr)}h ${Math.floor(t%zr/60)}m`:`${Math.floor(t/Br)}d ${Math.floor(t%Br/zr)}h`;var t}},{field:"name",name:n.i18n.translate("xpack.observability.overview.metrics.colunms.hostname",{defaultMessage:"Hostname"}),sortable:!0,truncateText:!0,isExpander:!0,textOnly:!0,render:(e,t)=>i.a.createElement(Dr,{id:t.id,name:e,timerange:{from:u,to:d}})},{field:"cpu",name:n.i18n.translate("xpack.observability.overview.metrics.colunms.cpu",{defaultMessage:"CPU %"}),sortable:!0,render:(e,t)=>i.a.createElement(Nr,{id:"cpu",value:e,formatter:Ur,timeseries:t.timeseries,color:7})},{field:"load",name:n.i18n.translate("xpack.observability.overview.metrics.colunms.load15",{defaultMessage:"Load 15"}),sortable:!0,render:(e,t)=>i.a.createElement(Nr,{id:"load",value:e,formatter:$r,timeseries:t.timeseries,color:1})},{field:"rx",name:"RX",sortable:!0,render:(e,t)=>i.a.createElement(Nr,{id:"rx",value:e,formatter:Wr,timeseries:t.timeseries,color:0})},{field:"tx",name:"TX",sortable:!0,render:(e,t)=>i.a.createElement(Nr,{id:"tx",value:e,formatter:Wr,timeseries:t.timeseries,color:3})}],T={sort:{field:f,direction:p}},F=h||E,{appLink:I}=E||{};return i.a.createElement(Tr,{title:n.i18n.translate("xpack.observability.overview.metrics.title",{defaultMessage:"Metrics"}),appLink:{href:I,label:n.i18n.translate("xpack.observability.overview.metrics.appLink",{defaultMessage:"View in app"})},hasError:x===g.a.FAILURE},i.a.createElement(_.EuiBasicTable,{onChange:k,sorting:T,items:null!==(a=null==F?void 0:F.series)&&void 0!==a?a:[],columns:O}))}function Gr({bucketSize:e}){var t;const a=Object(r.useContext)(L.ThemeContext),l=Object(Fr.a)(),s=Object(o.useHistory)(),{forceUpdate:c,hasDataMap:u}=Et(),{relativeStart:d,relativeEnd:p,absoluteStart:m,absoluteEnd:f}=w(),{data:v,status:h}=Object(g.b)((()=>{var t;if(e)return null===(t=Object(b.a)("synthetics"))||void 0===t?void 0:t.fetchData({absoluteTime:{start:m,end:f},relativeTime:{start:d,end:p},...e})}),[e,d,p,c]);if(null===(t=u.synthetics)||void 0===t||!t.hasData)return null;const y=J.a.utc(m).valueOf(),E=J.a.utc(f).valueOf(),x=Object(kr.niceTimeFormatter)([y,E]),k=h===g.a.LOADING,{appLink:S,stats:C,series:O}=v||{},T=a.eui.euiColorVis2,F=a.eui.euiColorLightShade;return i.a.createElement(Tr,{title:n.i18n.translate("xpack.observability.overview.uptime.title",{defaultMessage:"Uptime"}),appLink:{href:S,label:n.i18n.translate("xpack.observability.overview.uptime.appLink",{defaultMessage:"View in app"})},hasError:h===g.a.FAILURE},i.a.createElement(_.EuiFlexGroup,null,i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(Ar,{title:Cr()(null==C?void 0:C.monitors.value).format("0a"),description:n.i18n.translate("xpack.observability.overview.uptime.monitors",{defaultMessage:"Monitors"}),isLoading:k})),i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(Ar,{title:Cr()(null==C?void 0:C.up.value).format("0a"),description:n.i18n.translate("xpack.observability.overview.uptime.up",{defaultMessage:"Up"}),isLoading:k,color:F})),i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(Ar,{title:Cr()(null==C?void 0:C.down.value).format("0a"),description:n.i18n.translate("xpack.observability.overview.uptime.down",{defaultMessage:"Down"}),isLoading:k,color:T}))),i.a.createElement(Ir,{isInitialLoad:k&&!v},i.a.createElement(kr.Settings,{onBrushEnd:e=>Lr({x:e.x,history:s}),theme:l,showLegend:!1,legendPosition:kr.Position.Right,xDomain:{min:y,max:E}}),i.a.createElement(Hr,{id:"down",label:n.i18n.translate("xpack.observability.overview.uptime.chart.down",{defaultMessage:"Down"}),series:null==O?void 0:O.down,tickFormatter:x,color:T}),i.a.createElement(Hr,{id:"up",label:n.i18n.translate("xpack.observability.overview.uptime.chart.up",{defaultMessage:"Up"}),series:null==O?void 0:O.up,tickFormatter:x,color:F})))}function Hr({id:e,label:t,series:a,color:n,tickFormatter:r}){if(!a)return null;const l=a.coordinates.map((e=>({...e,g:t})));return i.a.createElement(i.a.Fragment,null,i.a.createElement(kr.BarSeries,{id:e,xScaleType:kr.ScaleType.Time,yScaleType:kr.ScaleType.Linear,xAccessor:"x",yAccessors:["y"],color:n,stackAccessors:["x"],splitSeriesAccessors:["g"],data:l}),i.a.createElement(kr.Axis,{id:"x-axis",position:kr.Position.Bottom,showOverlappingTicks:!1,showOverlappingLabels:!1,tickFormat:r}),i.a.createElement(kr.Axis,{id:"y-axis",gridLine:{visible:!0},position:kr.Position.Left,tickFormat:e=>Cr()(e).format("0a")}))}var Kr=a(111);function Qr({bucketSize:e}){const{forceUpdate:t,hasDataMap:a}=Et(),{relativeStart:r,relativeEnd:l,absoluteStart:s,absoluteEnd:o}=w(),c=a.ux,u=null==c?void 0:c.serviceName,{data:d,status:p}=Object(g.b)((()=>{var t;if(u&&e)return null===(t=Object(b.a)("ux"))||void 0===t?void 0:t.fetchData({absoluteTime:{start:s,end:o},relativeTime:{start:r,end:l},serviceName:u,...e})}),[e,r,l,t,u]);if(null==c||!c.hasData)return null;const m=p===g.a.LOADING,{appLink:f,coreWebVitals:v}=d||{};return i.a.createElement(Tr,{title:n.i18n.translate("xpack.observability.overview.ux.title",{defaultMessage:"User Experience"}),appLink:{href:f,label:n.i18n.translate("xpack.observability.overview.ux.appLink",{defaultMessage:"View in app"})},hasError:p===g.a.FAILURE},i.a.createElement(Kr.default,{data:v,loading:m,displayServiceName:!0,serviceName:u}))}function Jr({bucketSize:e}){return i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(_.EuiFlexGroup,{direction:"column"},i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(Rr,{bucketSize:e})),i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(qr,{bucketSize:e})),i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(Pr,{bucketSize:e})),i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(Gr,{bucketSize:e})),i.a.createElement(_.EuiFlexItem,{grow:!1},i.a.createElement(Qr,{bucketSize:e}))))}function Xr({routeParams:e}){var t,a;Object(Se.useTrackPageview)({app:"observability-overview",path:"overview"}),Object(Se.useTrackPageview)({app:"observability-overview",path:"overview",delay:15e3}),Object(ja.a)([{text:n.i18n.translate("xpack.observability.breadcrumbs.overviewLinkText",{defaultMessage:"Overview"})}]);const{core:r,ObservabilityPageTemplate:l}=h(),{relativeStart:s,relativeEnd:o,absoluteStart:c,absoluteEnd:u}=w(),d={start:s,end:o},p={start:c,end:u},{data:m}=Object(g.b)((()=>async function({core:e}){try{return await e.http.get("https://feeds.elastic.co/observability-solution/v8.0.0.json")}catch(e){return console.error("Error while fetching news feed",e),{items:[]}}}({core:r})),[r]),{hasDataMap:f,hasAnyData:b,isAllRequestsComplete:v}=Et();if(void 0===b)return i.a.createElement(Va,null);const y=!0===b||!1===v&&void 0,E=Da({hasData:y,basePath:r.http.basePath,docsLink:r.docLinks.links.observability.guide}),x=(null===(t=f.alert)||void 0===t?void 0:t.hasData)||[],{refreshInterval:k=1e4,refreshPaused:S=!0}=e.query,C=function({start:e,end:t}){if(e&&t)return wr({start:e,end:t,minInterval:"60s"})}({start:p.start,end:p.end});return i.a.createElement(l,{noDataConfig:E,pageHeader:y?{pageTitle:Yr,rightSideItems:[i.a.createElement(br,{rangeFrom:d.start,rangeTo:d.end,refreshInterval:k,refreshPaused:S})]}:void 0},y&&i.a.createElement(i.a.Fragment,null,i.a.createElement(za,null),i.a.createElement(_.EuiFlexGroup,null,i.a.createElement(_.EuiFlexItem,{grow:6},b&&i.a.createElement(Jr,{bucketSize:C}),i.a.createElement(ir,null),i.a.createElement(_.EuiSpacer,{size:"l"}),i.a.createElement(_.EuiFlexGroup,null,i.a.createElement(_.EuiFlexItem,null,i.a.createElement(_.EuiPanel,{hasBorder:!0},i.a.createElement(cr,null),i.a.createElement(_.EuiSpacer,{size:"l"}),!(null==m||null===(a=m.items)||void 0===a||!a.length)&&i.a.createElement(lr,{items:m.items.slice(0,5)}))),!!x.length&&i.a.createElement(_.EuiFlexItem,null,i.a.createElement(_.EuiPanel,{hasBorder:!0},i.a.createElement(pr,{alerts:x}))))))))}const Yr=n.i18n.translate("xpack.observability.overview.pageTitle",{defaultMessage:"Overview"}),Zr=new T.Type("JSON",T.any.is,((e,t)=>F.either.chain(T.string.validate(e,t),(a=>{try{return T.success(JSON.parse(a))}catch(a){return T.failure(e,t)}}))),(e=>JSON.stringify(e))),ei={"/":{handler:()=>i.a.createElement(ar,null),params:{}},"/landing":{handler:()=>i.a.createElement(nr,null),params:{}},"/overview":{handler:({query:e})=>i.a.createElement(Xr,{routeParams:{query:e}}),params:{query:T.partial({rangeFrom:T.string,rangeTo:T.string,refreshPaused:Zr.pipe(T.boolean),refreshInterval:Zr.pipe(T.number)})}},"/cases":{handler:()=>i.a.createElement(qn,null),params:{}},"/cases/create":{handler:()=>i.a.createElement(tr,null),params:{}},"/cases/configure":{handler:()=>i.a.createElement(Yn,null),params:{}},"/cases/:detailName":{handler:()=>i.a.createElement(Qn,null),params:{path:T.partial({detailName:T.string})}},"/alerts":{handler:e=>i.a.createElement(wn,{routeParams:e}),params:{query:T.partial({rangeFrom:T.string,rangeTo:T.string,kuery:T.string,workflowStatus:j,refreshPaused:Zr.pipe(T.boolean),refreshInterval:Zr.pipe(T.number)})}},"/exploratory-view/":{handler:()=>i.a.createElement(Ma,null),params:{query:T.partial({rangeFrom:T.string,rangeTo:T.string,refreshPaused:Zr.pipe(T.boolean),refreshInterval:Zr.pipe(T.number)})}}};function ti(e){const t=Object(o.useLocation)(),a=Object(o.useParams)(),n=function(e){const t=new URLSearchParams(e.search),a={};return t.forEach(((e,t)=>{a[t]=e})),a}(t),{query:r,path:i}=ei[e].params,l={queryRt:r?T.exact(r):T.strict({}),pathRt:i?T.exact(i):T.strict({})},s=l.queryRt.decode(n),c=l.pathRt.decode(a);return Object(F.isLeft)(s)&&console.error(I.PathReporter.report(s)[0]),Object(F.isLeft)(c)&&console.error(I.PathReporter.report(c)[0]),{query:Object(F.isLeft)(s)?{}:s.right,path:Object(F.isLeft)(c)?{}:c.right}}function ai(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(o.Switch,null,Object.keys(ei).map((e=>{const t=e,a=ei[t];return i.a.createElement(o.Route,{key:t,path:t,exact:!0,component:()=>{const e=ti(t);return a.handler(e)}})}))))}const ni=({config:e,core:t,plugins:a,appMountParameters:r,observabilityRuleTypeRegistry:l,ObservabilityPageTemplate:m})=>{const{element:f,history:b}=r,g=t.i18n,h=t.uiSettings.get("theme:darkMode");return t.chrome.setHelpExtension({appName:n.i18n.translate("xpack.observability.feedbackMenu.appName",{defaultMessage:"Observability"}),links:[{linkType:"discuss",href:"https://ela.st/observability-discuss"}]}),f.classList.add(c.APP_WRAPPER_CLASS),s.a.render(i.a.createElement(d.KibanaContextProvider,{services:{...t,...a,storage:new p.Storage(localStorage)}},i.a.createElement(v.Provider,{value:{appMountParameters:r,config:e,core:t,plugins:a,observabilityRuleTypeRegistry:l,ObservabilityPageTemplate:m}},i.a.createElement(o.Router,{history:b},i.a.createElement(u.EuiThemeProvider,{darkMode:h},i.a.createElement(g.Context,null,i.a.createElement(d.RedirectAppLinks,{application:t.application,className:c.APP_WRAPPER_CLASS},i.a.createElement(O,null,i.a.createElement(ai,null)))))))),f),()=>{s.a.unmountComponentAtNode(f)}}}])]);