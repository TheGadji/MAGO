/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.dataVisualizer_bundle_jsonpfunction=window.dataVisualizer_bundle_jsonpfunction||[]).push([[0],Array(39).concat([function(e,t,n){"use strict";var r,i=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},a=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),o=[];function s(e){for(var t=-1,n=0;n<o.length;n++)if(o[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},r=[],i=0;i<e.length;i++){var a=e[i],l=t.base?a[0]+t.base:a[0],u=n[l]||0,c="".concat(l," ").concat(u);n[l]=u+1;var d=s(c),p={css:a[1],media:a[2],sourceMap:a[3]};-1!==d?(o[d].references++,o[d].updater(p)):o.push({identifier:c,updater:g(p,t),references:1}),r.push(c)}return r}function u(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var i=n.nc;i&&(r.nonce=i)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var o=a(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var c,d=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function p(e,t,n,r){var i=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=d(t,i);else{var a=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(a,o[t]):e.appendChild(a)}}function f(e,t,n){var r=n.css,i=n.media,a=n.sourceMap;if(i?e.setAttribute("media",i):e.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var h=null,m=0;function g(e,t){var n,r,i;if(t.singleton){var a=m++;n=h||(h=u(t)),r=p.bind(null,n,a,!1),i=p.bind(null,n,a,!0)}else n=u(t),r=f.bind(null,n,t),i=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=i());var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var i=s(n[r]);o[i].references--}for(var a=l(e,t),u=0;u<n.length;u++){var c=s(n[u]);0===o[c].references&&(o[c].updater(),o.splice(c,1))}n=a}}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var i=(o=r,s=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),a=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(a).concat([i]).join("\n")}var o,s,l;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var a=0;a<this.length;a++){var o=this[a][0];null!=o&&(i[o]=!0)}for(var s=0;s<e.length;s++){var l=[].concat(e[s]);r&&i[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},function(e,t,n){e.exports=n(17)(1074)},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(19);const i=()=>Object(r.useKibana)()},,function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return s})),n.d(t,"a",(function(){return a})),n.d(t,"h",(function(){return c})),n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return h})),n.d(t,"c",(function(){return x}));var r=n(16),i=n(29);const a=1e3,o={timestampFormat:void 0,timestampField:void 0,format:void 0,delimiter:void 0,quote:void 0,hasHeaderRow:void 0,charset:void 0,columnNames:void 0,shouldTrimFields:void 0,grokPattern:void 0,linesToSample:void 0};function s(e){return new Promise(((t,n)=>{if(e&&e.size){const r=new FileReader;r.readAsArrayBuffer(e),r.onload=()=>{const e=new TextDecoder,a=r.result;if(null===a||"string"==typeof a)return n();const o=5*i.MB,s=e.decode(a.slice(0,o));""===s?n():t({fileContents:s,data:a})}}else n()}))}function l(e,t){const n={};for(const i in o)if(o.hasOwnProperty(i)){let a=e[i];(Array.isArray(a)&&Object(r.isEqual)(a,t[i])||void 0===a||a===t[i])&&(a="");n[i.replace(/([A-Z])/g,(e=>`_${e.toLowerCase()}`))]=a}return""===n.format&&"delimited"===t.format&&(""===n.should_trim_fields&&""===n.has_header_row&&""===n.delimiter&&""===n.quote&&""===n.column_names||(n.format=t.format),Array.isArray(n.column_names)&&(n.column_names=n.column_names.join())),""===n.format&&"semi_structured_text"===t.format&&""!==n.grok_pattern&&(n.format=t.format),"ndjson"!==n.format&&"ndjson"!==t.format||(n.should_trim_fields="",n.has_header_row="",n.delimiter="",n.quote="",n.column_names=""),""===n.lines_to_sample&&(n.lines_to_sample=e.linesToSample),n}function u({results:e,overrides:t}){const n=void 0!==e.java_timestamp_formats&&e.java_timestamp_formats.length?e.java_timestamp_formats[0]:void 0,r=void 0!==t&&void 0!==t.lines_to_sample?t.lines_to_sample:a;return{format:e.format,delimiter:e.delimiter,timestampField:e.timestamp_field,timestampFormat:n,quote:e.quote,hasHeaderRow:e.has_header_row,shouldTrimFields:e.should_trim_fields,charset:e.charset,columnNames:e.column_names,grokPattern:e.grok_pattern,linesToSample:r}}function c(e,t=2){if(void 0===e)return"";if(e%1==0)return e;if(Math.abs(e)<Math.pow(10,-t))return Number.parseFloat(String(e)).toExponential(2);const n=Math.pow(10,t);return Math.round(e*n)/n}function d(e,t){return null!=t?t.convert(e,"text"):e}var p=n(25),f=n.n(p);function h(e){const t=Math.floor(e);return`${f()(t).format("0o")}`}var m=n(18),g=n.n(m);function x(e,t,n,r){if(null==e)return"";if("time_of_week"===t){const t=void 0!==r&&void 0!==r.timestamp?new Date(r.timestamp):new Date,n=g.a.utc(t).startOf("week").add(e,"s");return g()(n.valueOf()).format("ddd HH:mm")}if("time_of_day"===t){const t=void 0!==r&&void 0!==r.timestamp?new Date(r.timestamp):new Date,n=g.a.utc(t).startOf("day").add(e,"s");return g()(n.valueOf()).format("HH:mm")}if(void 0!==n)return n.convert(e,"text");{const t=Math.abs(e);if(t>=1e4||t===Math.floor(t))return void 0!==n?n.convert(e,"text"):Number(e.toFixed(0));if(t>=10)return Number(e.toFixed(1));{let t;return t=e>0?Math.pow(10,3-Math.floor(Math.log(e)/Math.LN10)-1):Math.pow(10,3-Math.floor(Math.log(-1*e)/Math.LN10)-1),Math.round(e*t)/t}}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(4);var r=n(14),i=n(3);const a=({children:e,dataTestSubj:t,grow:n,className:a})=>Object(i.jsx)(r.EuiPanel,{"data-test-subj":t,hasShadow:!1,hasBorder:!0,grow:!!n,className:null!=a?a:"",paddingSize:"s"},e)},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));n(4);var r=n(14),i=n(3);const a=({children:e,dataTestSubj:t})=>Object(i.jsx)(r.EuiFlexGrid,{"data-test-subj":t,gutterSize:"s"},e)},function(e,t,n){"use strict";n.d(t,"a",(function(){return p}));var r=n(15),i=(n(4),n(2)),a=n(14),o=n(49),s=n(44),l=n(45),u=n(3);const c=[{field:"function",name:"",render:(e,t)=>t.display,width:"25px",align:a.RIGHT_ALIGNMENT},{field:"value",name:"",render:e=>Object(u.jsx)("strong",null,e)}],d=i.i18n.translate("xpack.dataVisualizer.dataGrid.fieldExpandedRow.documentStatsTable.metaTableTitle",{defaultMessage:"Documents stats"}),p=({config:e})=>{if(void 0===(null==e?void 0:e.stats)||void 0===e.stats.cardinality||void 0===e.stats.count||void 0===e.stats.sampleCount)return null;const{cardinality:t,count:n,sampleCount:i}=e.stats,p=[{function:"count",display:Object(u.jsx)(r.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.fieldExpandedRow.documentStatsTable.countLabel",defaultMessage:"count"}),value:n},{function:"percentage",display:Object(u.jsx)(r.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.fieldExpandedRow.documentStatsTable.percentageLabel",defaultMessage:"percentage"}),value:`${Object(s.h)(n/i*100)}%`},{function:"distinctValues",display:Object(u.jsx)(r.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.fieldExpandedRow.documentStatsTable.distinctValueLabel",defaultMessage:"distinct values"}),value:t}];return Object(u.jsx)(l.a,{dataTestSubj:"dataVisualizerDocumentStatsContent",className:"dvSummaryTable__wrapper dvPanel__wrapper"},Object(u.jsx)(o.a,null,d),Object(u.jsx)(a.EuiBasicTable,{className:"dvSummaryTable",compressed:!0,items:p,columns:c,tableCaption:d}))}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14),i=(n(4),n(3));const a=({children:e})=>Object(i.jsx)(r.EuiText,{size:"xs",color:"subdued",className:"dvExpandedRow__fieldHeader",textAlign:"center"},e)},function(e,t,n){e.exports=n(17)(1076)},function(e,t,n){e.exports=n(17)(1270)},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return u}));var r=n(2),i=n(0),a=n(5);const o={BOOLEAN:r.i18n.translate("xpack.dataVisualizer.fieldTypeIcon.booleanTypeAriaLabel",{defaultMessage:"boolean type"}),DATE:r.i18n.translate("xpack.dataVisualizer.fieldTypeIcon.dateTypeAriaLabel",{defaultMessage:"date type"}),GEO_POINT:r.i18n.translate("xpack.dataVisualizer.fieldTypeIcon.geoPointTypeAriaLabel",{defaultMessage:"{geoPointParam} type",values:{geoPointParam:"geo point"}}),GEO_SHAPE:r.i18n.translate("xpack.dataVisualizer.fieldTypeIcon.geoShapeTypeAriaLabel",{defaultMessage:"geo shape type"}),IP:r.i18n.translate("xpack.dataVisualizer.fieldTypeIcon.ipTypeAriaLabel",{defaultMessage:"ip type"}),KEYWORD:r.i18n.translate("xpack.dataVisualizer.fieldTypeIcon.keywordTypeAriaLabel",{defaultMessage:"keyword type"}),NUMBER:r.i18n.translate("xpack.dataVisualizer.fieldTypeIcon.numberTypeAriaLabel",{defaultMessage:"number type"}),HISTOGRAM:r.i18n.translate("xpack.dataVisualizer.fieldTypeIcon.histogramTypeAriaLabel",{defaultMessage:"histogram type"}),TEXT:r.i18n.translate("xpack.dataVisualizer.fieldTypeIcon.textTypeAriaLabel",{defaultMessage:"text type"}),UNKNOWN:r.i18n.translate("xpack.dataVisualizer.fieldTypeIcon.unknownTypeAriaLabel",{defaultMessage:"unknown type"})},s={[i.JOB_FIELD_TYPES.BOOLEAN]:r.i18n.translate("xpack.dataVisualizer.fieldTypeIcon.booleanTypeLabel",{defaultMessage:"Boolean"}),[i.JOB_FIELD_TYPES.DATE]:r.i18n.translate("xpack.dataVisualizer.fieldTypeIcon.dateTypeLabel",{defaultMessage:"Date"}),[i.JOB_FIELD_TYPES.GEO_POINT]:r.i18n.translate("xpack.dataVisualizer.fieldTypeIcon.geoPointTypeLabel",{defaultMessage:"Geo point"}),[i.JOB_FIELD_TYPES.GEO_SHAPE]:r.i18n.translate("xpack.dataVisualizer.fieldTypeIcon.geoShapeTypeLabel",{defaultMessage:"Geo shape"}),[i.JOB_FIELD_TYPES.IP]:r.i18n.translate("xpack.dataVisualizer.fieldTypeIcon.ipTypeLabel",{defaultMessage:"IP"}),[i.JOB_FIELD_TYPES.KEYWORD]:r.i18n.translate("xpack.dataVisualizer.fieldTypeIcon.keywordTypeLabel",{defaultMessage:"Keyword"}),[i.JOB_FIELD_TYPES.NUMBER]:r.i18n.translate("xpack.dataVisualizer.fieldTypeIcon.numberTypeLabel",{defaultMessage:"Number"}),[i.JOB_FIELD_TYPES.HISTOGRAM]:r.i18n.translate("xpack.dataVisualizer.fieldTypeIcon.histogramTypeLabel",{defaultMessage:"Histogram"}),[i.JOB_FIELD_TYPES.TEXT]:r.i18n.translate("xpack.dataVisualizer.fieldTypeIcon.textTypeLabel",{defaultMessage:"Text"}),[i.JOB_FIELD_TYPES.UNKNOWN]:r.i18n.translate("xpack.dataVisualizer.fieldTypeIcon.unknownTypeLabel",{defaultMessage:"Unknown"})},l=e=>{const t=Object.keys(i.JOB_FIELD_TYPES).find((t=>i.JOB_FIELD_TYPES[t]===e));return void 0===t?null:o[t]};function u(e){let t;switch(e.type){case a.KBN_FIELD_TYPES.STRING:t=e.aggregatable?i.JOB_FIELD_TYPES.KEYWORD:i.JOB_FIELD_TYPES.TEXT;break;case a.KBN_FIELD_TYPES.NUMBER:t=i.JOB_FIELD_TYPES.NUMBER;break;case a.KBN_FIELD_TYPES.DATE:t=i.JOB_FIELD_TYPES.DATE;break;case a.KBN_FIELD_TYPES.IP:t=i.JOB_FIELD_TYPES.IP;break;case a.KBN_FIELD_TYPES.BOOLEAN:t=i.JOB_FIELD_TYPES.BOOLEAN;break;case a.KBN_FIELD_TYPES.GEO_POINT:t=i.JOB_FIELD_TYPES.GEO_POINT;break;case a.KBN_FIELD_TYPES.GEO_SHAPE:t=i.JOB_FIELD_TYPES.GEO_SHAPE;break;case a.KBN_FIELD_TYPES.HISTOGRAM:t=i.JOB_FIELD_TYPES.HISTOGRAM}return t}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n(4);var r=n(14),i=n(15),a=n(49),o=n(45),s=n(3);const l=({examples:e})=>{if(null==e||!Array.isArray(e))return null;let t;return t=0===e.length?Object(s.jsx)(i.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.field.examplesList.noExamplesMessage",defaultMessage:"No examples were obtained for this field"}):e.map(((e,t)=>Object(s.jsx)(r.EuiListGroupItem,{size:"xs",key:`example_${t}`,label:"string"==typeof e?e:JSON.stringify(e)}))),Object(s.jsx)(o.a,{dataTestSubj:"dataVisualizerFieldDataExamplesList",className:"dvText__wrapper dvPanel__wrapper"},Object(s.jsx)(a.a,null,Object(s.jsx)(i.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.field.examplesList.title",defaultMessage:"{numExamples, plural, one {Value} other {Examples}}",values:{numExamples:e.length}})),Object(s.jsx)(r.EuiListGroup,{showToolTips:!0,maxWidth:"s",gutterSize:"none",flush:!0},t))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(14),i=n(4),a=n(15),o=n(3);const s=()=>Object(o.jsx)("div",{className:"euiFilterSelect__note"},Object(o.jsx)("div",{className:"euiFilterSelect__noteContent"},Object(o.jsx)(r.EuiIcon,{type:"minusInCircle"}),Object(o.jsx)(r.EuiSpacer,{size:"xs"}),Object(o.jsx)("p",null,Object(o.jsx)(a.FormattedMessage,{id:"xpack.dataVisualizer.multiSelectPicker.NoFiltersFoundMessage",defaultMessage:"No filters found"})))),l=({options:e,onChange:t,title:n,checkedOptions:a,dataTestSubj:l})=>{const[u,c]=Object(i.useState)(e),[d,p]=Object(i.useState)("");Object(i.useEffect)((()=>{if(""===d)c(e);else{const t=e.filter((e=>{var t;return null==e||null===(t=e.value)||void 0===t?void 0:t.includes(d)}));c(t)}}),[e,d]);const[f,h]=Object(i.useState)(!1),m=Object(o.jsx)(r.EuiFilterButton,{"data-test-subj":`${l}-button`,iconType:"arrowDown",onClick:()=>{h(!f)},isSelected:f,numFilters:u.length,hasActiveFilters:a&&a.length>0,numActiveFilters:a&&a.length},n);return Object(o.jsx)(r.EuiFilterGroup,{"data-test-subj":l,style:{marginLeft:8}},Object(o.jsx)(r.EuiPopover,{ownFocus:!0,"data-test-subj":`${l}-popover`,button:m,isOpen:f,closePopover:()=>{h(!1)},panelPaddingSize:"none"},Object(o.jsx)(r.EuiPopoverTitle,{paddingSize:"s"},Object(o.jsx)(r.EuiFieldSearch,{compressed:!0,onChange:e=>p(e.target.value),"data-test-subj":`${l}-searchInput`})),Object(o.jsx)("div",{style:{maxHeight:250,overflow:"auto"}},Array.isArray(u)&&u.length>0?u.map(((e,n)=>{var i;const s=a&&a.findIndex((t=>t===e.value))>-1;return Object(o.jsx)(r.EuiFilterSelectItem,{checked:s?"on":void 0,key:n,onClick:()=>(e=>{if(!u[e]||!Array.isArray(a)||void 0===t)return;const n=u[e],r=a.findIndex((e=>e===n.value));t(r>-1?a.filter(((e,t)=>t!==r)):[...a,n.value])})(n),style:{flexDirection:"row"},"data-test-subj":`${l}-option-${e.value}${s?"-checked":""}`},null!==(i=e.name)&&void 0!==i?i:e.value)})):Object(o.jsx)(s,null))))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r=n(14);const i=e=>{const{stats:t}=e;if(void 0===t)return null;const{count:n}=t;let{trueCount:r,falseCount:i}=t;var a;void 0!==t.trueCount&&void 0!==t.falseCount||null!=e&&null!==(a=e.stats)&&void 0!==a&&a.topValues&&e.stats.topValues.forEach((e=>{void 0!==e.doc_count&&("false"===e.key.toString().toLowerCase()&&(i=e.doc_count),"true"===e.key.toString().toLowerCase()&&(r=e.doc_count))}));return void 0===n||void 0===r||void 0===i?null:{count:n,trueCount:r,falseCount:i}},a=e=>{const t={expander:"40px",type:"75px",docCount:"225px",distinctValues:"225px",distributions:"225px",showIcon:!0,breakPoint:"xl"};if(void 0===e)return t;const n=Object(r.getBreakpoint)(e);switch(n){case"xs":case"s":case"m":case"l":return{expander:"25px",type:"40px",docCount:"auto",distinctValues:"auto",distributions:"auto",showIcon:!1,breakPoint:n};default:return t}}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(67),i=n.n(r),a=(n(4),n(14)),o=n(2),s=n(52),l=(n(105),n(3));const u={iconType:"questionInCircle",color:"gray"},c={boolean:{iconType:"tokenBoolean"},conflict:{iconType:"alert",color:"euiColorVis9"},date:{iconType:"tokenDate"},date_range:{iconType:"tokenDate"},geo_point:{iconType:"tokenGeo"},geo_shape:{iconType:"tokenGeo"},ip:{iconType:"tokenIP"},ip_range:{iconType:"tokenIP"},murmur3:{iconType:"tokenFile"},number:{iconType:"tokenNumber"},number_range:{iconType:"tokenNumber"},histogram:{iconType:"tokenHistogram"},_source:{iconType:"editorCodeBlock",color:"gray"},string:{iconType:"tokenString"},text:{iconType:"tokenString"},keyword:{iconType:"tokenKeyword"},nested:{iconType:"tokenNested"}},d=({tooltipEnabled:e=!1,type:t,needsAria:n=!0})=>{const r=Object(s.a)(t),i={...c[t]||u,ariaLabel:r,needsAria:n};return!0===e?Object(l.jsx)(a.EuiToolTip,{position:"left",content:o.i18n.translate("xpack.dataVisualizer.fieldTypeIcon.fieldTypeTooltip",{defaultMessage:"{type} type",values:{type:t}}),anchorClassName:"dvFieldTypeIcon__anchor"},Object(l.jsx)(p,i)):Object(l.jsx)(p,i)},p=({ariaLabel:e,iconType:t,color:n,needsAria:r,...o})=>{const s={className:"field-type-icon"};return r&&e&&(s["aria-label"]=e),Object(l.jsx)(a.EuiToken,i()({iconType:t,color:n,shape:"square",size:"s","data-test-subj":"fieldTypeIcon"},s,o))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"b",(function(){return g}));var r=n(4),i=n(47),a=n(61),o=n(14),s=n(24);const l=e=>{if("string"==typeof e){var t,n;const r=e.trim().replace("POINT (","").replace(")",""),i=m.exec(r.trim());if(null!=(null==i||null===(t=i.groups)||void 0===t?void 0:t.lat)&&null!=(null==i||null===(n=i.groups)||void 0===n?void 0:n.lon))return{lat:parseFloat(i.groups.lat.trim()),lon:parseFloat(i.groups.lon.trim())}}},u=Object(o.euiPaletteColorBlind)()[0],c=(e,t=u)=>({id:"geo_points",label:"Geo points",sourceDescriptor:{type:s.SOURCE_TYPES.GEOJSON_FILE,__featureCollection:{features:e,type:"FeatureCollection"}},visible:!0,style:{type:"VECTOR",properties:{fillColor:{type:"STATIC",options:{color:t}},lineColor:{type:"STATIC",options:{color:"#fff"}},lineWidth:{type:"STATIC",options:{size:2}},iconSize:{type:"STATIC",options:{size:6}}}},type:"VECTOR"});var d=n(46),p=n(54),f=n(45),h=n(3);const m=RegExp("(?<lat>.+) (?<lon>.+)"),g=({config:e})=>{const t=Object(r.useMemo)((()=>{const{stats:t}=e;if(void 0===t||void 0===t.topValues)return null;if(Array.isArray(t.topValues)){const n=[],r=[];for(let i=0;i<t.topValues.length;i++){const a=t.topValues[i],o=l(a.key);if(o){const t=`(${o.lat}, ${o.lon})`;r.push(o),n.push({type:"Feature",id:`fileDataVisualizer-${e.fieldName}-${i}`,geometry:{type:"Point",coordinates:[o.lat,o.lon]},properties:{value:t,count:a.doc_count}})}}if(n.length>0)return{examples:r,layerList:[c(n)]}}}),[e]);return Object(h.jsx)(d.a,{dataTestSubj:"dataVisualizerGeoPointContent"},Object(h.jsx)(i.a,{config:e}),t&&Array.isArray(t.examples)&&Object(h.jsx)(p.a,{examples:t.examples}),t&&Array.isArray(t.layerList)&&Object(h.jsx)(f.a,{className:"dvPanel__wrapper dvMap__wrapper",grow:!0},Object(h.jsx)(a.a,{layerList:t.layerList})))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(4),i=n(14),a=n(24),o=n(33),s=n(34),l=n(42),u=n(3);function c({layerList:e,mapEmbeddableInput:t,renderTooltipContent:n}){const[c,d]=Object(r.useState)(),p=Object(r.useRef)(null),f=Object(r.useRef)(),{services:{embeddable:h,maps:m,data:g}}=Object(l.a)(),x=h?h.getEmbeddableFactory(o.MAP_SAVED_OBJECT_TYPE):void 0;return Object(r.useEffect)((()=>{!async function(){c&&!Object(s.isErrorEmbeddable)(c)&&Array.isArray(e)&&Array.isArray(f.current)&&c.setLayerList([...f.current,...e])}()}),[c,e]),Object(r.useEffect)((()=>{!async function(){var e;if(!x)return void console.error("Map embeddable not found.");const t={id:Object(i.htmlIdGenerator)()(),attributes:{title:""},filters:null!==(e=g.query.filterManager.getFilters())&&void 0!==e?e:[],hidePanelTitles:!0,viewMode:s.ViewMode.VIEW,isLayerTOCOpen:!1,hideFilterActions:!0,mapSettings:{disableInteractive:!1,hideToolbarOverlay:!1,hideLayerControl:!1,hideViewControl:!1,initialLocation:a.INITIAL_LOCATION.AUTO_FIT_TO_BOUNDS,autoFitToDataBounds:!0}},n=await x.create(t);if(n&&!Object(s.isErrorEmbeddable)(n)){const e=m?await m.createLayerDescriptors.createBasemapLayerDescriptor():null;e&&(f.current=[e],await n.setLayerList(f.current))}d(n)}()}),[]),Object(r.useEffect)((()=>{c&&!Object(s.isErrorEmbeddable)(c)&&void 0!==t&&c.updateInput(t)}),[c,t]),Object(r.useEffect)((()=>{c&&!Object(s.isErrorEmbeddable)(c)&&void 0!==n&&c.setRenderTooltipContent(n)}),[c,n]),Object(r.useEffect)((()=>{p.current&&c&&c.render(p.current)}),[c,p]),h?m?Object(u.jsx)("div",{"data-test-subj":"dataVisualizerEmbeddedMapContent",className:"embeddedMap__content",ref:p}):(console.error("Maps start plugin not found"),null):(console.error("Embeddable start plugin not found"),null)}},function(e,t,n){switch(window.__kbnThemeTag__){case"v7dark":return n(77);case"v7light":return n(79);case"v8dark":return n(81);case"v8light":return n(83)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ElasticsearchSqlHighlightRules",{enumerable:!0,get:function(){return r.ElasticsearchSqlHighlightRules}}),Object.defineProperty(t,"ScriptHighlightRules",{enumerable:!0,get:function(){return r.ScriptHighlightRules}}),Object.defineProperty(t,"XJsonHighlightRules",{enumerable:!0,get:function(){return r.XJsonHighlightRules}}),Object.defineProperty(t,"XJsonMode",{enumerable:!0,get:function(){return r.XJsonMode}}),Object.defineProperty(t,"addXJsonToRules",{enumerable:!0,get:function(){return r.addXJsonToRules}}),Object.defineProperty(t,"installXJsonMode",{enumerable:!0,get:function(){return r.installXJsonMode}});var r=n(64)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ElasticsearchSqlHighlightRules",{enumerable:!0,get:function(){return r.ElasticsearchSqlHighlightRules}}),Object.defineProperty(t,"ScriptHighlightRules",{enumerable:!0,get:function(){return r.ScriptHighlightRules}}),Object.defineProperty(t,"XJsonHighlightRules",{enumerable:!0,get:function(){return r.XJsonHighlightRules}}),Object.defineProperty(t,"XJsonMode",{enumerable:!0,get:function(){return i.XJsonMode}}),Object.defineProperty(t,"addXJsonToRules",{enumerable:!0,get:function(){return r.addXJsonToRules}}),Object.defineProperty(t,"installXJsonMode",{enumerable:!0,get:function(){return i.installXJsonMode}});var r=n(85),i=n(89)},function(e,t,n){"use strict";var r=n(50);Object.defineProperty(t,"__esModule",{value:!0}),t.ElasticsearchSqlHighlightRules=void 0;var i=r(n(51));const{TextHighlightRules:a}=i.default.acequire("ace/mode/text_highlight_rules"),o=i.default.acequire("ace/lib/oop"),s=function(){const e=this.createKeywordMapper({keyword:["describe|between|in|like|not|and|or|desc|select|from|where|having|group|by|orderasc|desc|pivot|for|in|as|show|columns|include|frozen|tables|escape|limit|rlike|all|distinct|is","avg|count|first|first_value|last|last_value|max|min|sum|kurtosis|mad|percentile|percentile_rank|skewness|stddev_pop|sum_of_squares|var_pop|histogram|case|coalesce|greatest|ifnull|iif|isnull|least|nullif|nvl|curdate|current_date|current_time|current_timestamp|curtime|dateadd|datediff|datepart|datetrunc|date_add|date_diff|date_part|date_trunc|day|dayname|dayofmonth|dayofweek|dayofyear|day_name|day_of_month|day_of_week|day_of_year|dom|dow|doy|hour|hour_of_day|idow|isodayofweek|isodow|isoweek|isoweekofyear|iso_day_of_week|iso_week_of_year|iw|iwoy|minute|minute_of_day|minute_of_hour|month|monthname|month_name|month_of_year|now|quarter|second|second_of_minute|timestampadd|timestampdiff|timestamp_add|timestamp_diff|today|week|week_of_year|year|abs|acos|asin|atan|atan2|cbrt|ceil|ceiling|cos|cosh|cot|degrees|e|exp|expm1|floor|log|log10|mod|pi|power|radians|rand|random|round|sign|signum|sin|sinh|sqrt|tan|truncate|ascii|bit_length|char|character_length|char_length|concat|insert|lcase|left|length|locate|ltrim|octet_length|position|repeat|replace|right|rtrim|space|substring|ucase|cast|convert|database|user|st_astext|st_aswkt|st_distance|st_geometrytype|st_geomfromtext|st_wkttosql|st_x|st_y|st_z|score","true|false","null|boolean|byte|short|integer|long|double|float|half_float|scaled_float|keyword|text|binary|date|ip|object|nested|time|interval_year|interval_month|interval_day|interval_hour|interval_minute|interval_second|interval_year_to_monthinteval_day_to_hour|interval_day_to_minute|interval_day_to_second|interval_hour_to_minute|interval_hour_to_secondinterval_minute_to_second|geo_point|geo_shape|shape"].join("|")},"identifier",!0);this.$rules={start:[{token:"comment",regex:"--.*$"},{token:"comment",start:"/\\*",end:"\\*/"},{token:"string",regex:'".*?"'},{token:"constant",regex:"'.*?'"},{token:"string",regex:"`.*?`"},{token:"entity.name.function",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:e,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"⇐|<⇒|\\*|\\.|\\:\\:|\\+|\\-|\\/|\\/\\/|%|&|\\^|~|<|>|<=|=>|==|!=|<>|="},{token:"paren.lparen",regex:"[\\(]"},{token:"paren.rparen",regex:"[\\)]"},{token:"text",regex:"\\s+"}]},this.normalizeRules()};t.ElasticsearchSqlHighlightRules=s,o.inherits(s,a)},function(e,t,n){"use strict";var r=n(50);Object.defineProperty(t,"__esModule",{value:!0}),t.ScriptHighlightRules=s;var i=r(n(51));const a=i.default.acequire("ace/lib/oop"),{TextHighlightRules:o}=i.default.acequire("ace/mode/text_highlight_rules");function s(){this.name="ScriptHighlightRules",this.$rules={start:[{token:"script.comment",regex:"\\/\\/.*$"},{token:"script.string.regexp",regex:"[/](?:(?:\\[(?:\\\\]|[^\\]])+\\])|(?:\\\\/|[^\\]/]))*[/]\\w*\\s*(?=[).,;]|$)"},{token:"script.string",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"script.constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"script.constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"script.constant.language.boolean",regex:"(?:true|false)\\b"},{token:"script.keyword",regex:"def|int|long|byte|String|float|double|char|null|if|else|while|do|for|continue|break|new|try|catch|throw|this|instanceof|return|ctx"},{token:"script.text",regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"script.keyword.operator",regex:"\\?\\.|\\*\\.|=~|==~|!|%|&|\\*|\\-\\-|\\-|\\+\\+|\\+|~|===|==|=|!=|!==|<=|>=|<<=|>>=|>>>=|<>|<|>|->|!|&&|\\|\\||\\?\\:|\\*=|%=|\\+=|\\-=|&=|\\^=|\\b(?:in|instanceof|new|typeof|void)"},{token:"script.lparen",regex:"[[({]"},{token:"script.rparen",regex:"[\\])}]"},{token:"script.text",regex:"\\s+"}]}}a.inherits(s,o)},function(e,t,n){e.exports=n(17)(1075)},,,,function(e,t,n){"use strict";n.r(t),n.d(t,"FileDataVisualizer",(function(){return lt}));n(62);var r=n(4),i=n.n(r),a=n(19),o=n(1),s=n(41),l=n.n(s),u=n(15),c=n(14),d=n(16),p=n(2),f=n(42),h=n(3);const m=()=>{const{services:{fileUpload:{getMaxBytesFormatted:e}}}=Object(f.a)(),t=e();return Object(h.jsx)(c.EuiFlexGroup,{gutterSize:"xl",alignItems:"center"},Object(h.jsx)(c.EuiFlexItem,{grow:!1},Object(h.jsx)(c.EuiIcon,{size:"xxl",type:"addDataApp",className:"file-datavisualizer-about-panel__icon"})),Object(h.jsx)(c.EuiFlexItem,null,Object(h.jsx)(c.EuiTitle,{size:"m"},Object(h.jsx)("h1",null,Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.welcomeContent.visualizeDataFromLogFileTitle",defaultMessage:"Visualize data from a log file"}))),Object(h.jsx)(c.EuiSpacer,{size:"s"}),Object(h.jsx)(c.EuiText,null,Object(h.jsx)("p",null,Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.welcomeContent.visualizeDataFromLogFileDescription",defaultMessage:"Upload your file, analyze its data, and optionally import the data into an Elasticsearch index."}))),Object(h.jsx)(c.EuiSpacer,{size:"s"}),Object(h.jsx)(c.EuiText,null,Object(h.jsx)("p",null,Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.welcomeContent.supportedFileFormatDescription",defaultMessage:"The following file formats are supported:"}))),Object(h.jsx)(c.EuiSpacer,{size:"m"}),Object(h.jsx)(c.EuiFlexGroup,{gutterSize:"l"},Object(h.jsx)(c.EuiFlexItem,{grow:!1,className:"file-datavisualizer-about-panel__doc-icon"},Object(h.jsx)(c.EuiIcon,{size:"m",type:"document"})),Object(h.jsx)(c.EuiFlexItem,null,Object(h.jsx)(c.EuiText,null,Object(h.jsx)("p",null,Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.welcomeContent.delimitedTextFilesDescription",defaultMessage:"Delimited text files, such as CSV and TSV"}))))),Object(h.jsx)(c.EuiSpacer,{size:"s"}),Object(h.jsx)(c.EuiFlexGroup,{gutterSize:"l"},Object(h.jsx)(c.EuiFlexItem,{grow:!1,className:"file-datavisualizer-about-panel__doc-icon"},Object(h.jsx)(c.EuiIcon,{size:"m",type:"document"})),Object(h.jsx)(c.EuiFlexItem,null,Object(h.jsx)(c.EuiText,null,Object(h.jsx)("p",null,Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.welcomeContent.newlineDelimitedJsonDescription",defaultMessage:"Newline-delimited JSON"}))))),Object(h.jsx)(c.EuiSpacer,{size:"s"}),Object(h.jsx)(c.EuiFlexGroup,{gutterSize:"l"},Object(h.jsx)(c.EuiFlexItem,{grow:!1,className:"file-datavisualizer-about-panel__doc-icon"},Object(h.jsx)(c.EuiIcon,{size:"m",type:"document"})),Object(h.jsx)(c.EuiFlexItem,null,Object(h.jsx)(c.EuiText,null,Object(h.jsx)("p",null,Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.welcomeContent.logFilesWithCommonFormatDescription",defaultMessage:"Log files with a common format for the timestamp"}))))),Object(h.jsx)(c.EuiSpacer,{size:"m"}),Object(h.jsx)(c.EuiText,null,Object(h.jsx)("p",null,Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.welcomeContent.uploadedFilesAllowedSizeDescription",defaultMessage:"You can upload files up to {maxFileSize}.",values:{maxFileSize:t}})))))},g=({onFilePickerChange:e})=>Object(h.jsx)(c.EuiPage,{restrictWidth:1e3,"data-test-subj":"dataVisualizerPageFileUpload"},Object(h.jsx)(c.EuiPageBody,null,Object(h.jsx)(c.EuiPageContent,{className:"file-datavisualizer-about-panel__content"},Object(h.jsx)(c.EuiFlexGroup,{gutterSize:"xl"},Object(h.jsx)(c.EuiFlexItem,{grow:!0},Object(h.jsx)(m,null),Object(h.jsx)(c.EuiHorizontalRule,{margin:"l"}),Object(h.jsx)("div",{style:{textAlign:"center"}},Object(h.jsx)(c.EuiFilePicker,{id:"filePicker",initialPromptText:p.i18n.translate("xpack.dataVisualizer.file.aboutPanel.selectOrDragAndDropFileDescription",{defaultMessage:"Select or drag and drop a file"}),onChange:t=>e(t),className:"file-datavisualizer-file-picker"})),Object(h.jsx)(c.EuiSpacer,{size:"l"})))))),x=()=>Object(h.jsx)(c.EuiPage,{restrictWidth:400,"data-test-subj":"dataVisualizerPageFileLoading"},Object(h.jsx)(c.EuiPageBody,null,Object(h.jsx)(c.EuiPageContent,{className:"file-datavisualizer-about-panel__content",paddingSize:"l"},Object(h.jsx)("div",{style:{textAlign:"center"}},Object(h.jsx)(c.EuiTitle,{size:"s"},Object(h.jsx)("h1",{role:"alert"},Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.aboutPanel.analyzingDataTitle",defaultMessage:"Analyzing data"}))),Object(h.jsx)(c.EuiSpacer,{size:"l"}),Object(h.jsx)(c.EuiLoadingSpinner,{size:"xl"})))));let b;!function(e){e[e.READ=0]="READ",e[e.IMPORT=1]="IMPORT"}(b||(b={}));const v=({mode:e,onChangeMode:t,onCancel:n,disableImport:r})=>e===b.READ?Object(h.jsx)(c.EuiBottomBar,null,Object(h.jsx)(c.EuiFlexGroup,null,Object(h.jsx)(c.EuiFlexItem,{grow:!1},Object(h.jsx)(c.EuiToolTip,{position:"top",content:r?Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.bottomBar.missingImportPrivilegesMessage",defaultMessage:"You require the ingest_admin role to enable data importing"}):null},Object(h.jsx)(c.EuiButton,{fill:!0,isDisabled:r,onClick:()=>t(b.IMPORT),"data-test-subj":"dataVisualizerFileOpenImportPageButton"},Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.bottomBar.readMode.importButtonLabel",defaultMessage:"Import"})))),Object(h.jsx)(c.EuiFlexItem,{grow:!1},Object(h.jsx)(c.EuiButtonEmpty,{color:"ghost",onClick:()=>n()},Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.bottomBar.readMode.cancelButtonLabel",defaultMessage:"Cancel"}))))):Object(h.jsx)(c.EuiBottomBar,null,Object(h.jsx)(c.EuiFlexGroup,null,Object(h.jsx)(c.EuiFlexItem,{grow:!1},Object(h.jsx)(c.EuiButton,{color:"ghost",onClick:()=>t(b.READ)},Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.bottomBar.backButtonLabel",defaultMessage:"Back"}))),Object(h.jsx)(c.EuiFlexItem,{grow:!1},Object(h.jsx)(c.EuiButtonEmpty,{color:"ghost",onClick:()=>n()},Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.bottomBar.cancelButtonLabel",defaultMessage:"Cancel"})))));var y=n(28),w=n(63);const{collapseLiteralStrings:j,expandLiteralStrings:_}=y.XJson,E="text",O="json",M=new w.XJsonMode,S=({value:e,height:t="500px",width:n="100%",mode:r=O,readOnly:i=!1,syntaxChecking:a=!0,theme:o="textmate",onChange:s=(()=>{})})=>(r===M&&(e=_(e)),Object(h.jsx)(c.EuiCodeEditor,{value:e,width:n,height:t,mode:r,readOnly:i,wrapEnabled:!0,showPrintMargin:!1,theme:o,editorProps:{$blockScrolling:!0},setOptions:{useWorker:a,tabSize:2,useSoftTabs:!0},onChange:s})),T=({data:e,format:t,numberOfLines:n})=>{let r=E;t===O&&(r=O);const a=function(e,t){return e.split("\n").slice(0,t).join("\n")}(e,n);return Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)(c.EuiTitle,{size:"s"},Object(h.jsx)("h2",null,Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.fileContents.fileContentsTitle",defaultMessage:"File contents"}))),Object(h.jsx)("div",null,Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.fileContents.firstLinesDescription",defaultMessage:"First {numberOfLines, plural, zero {# line} one {# line} other {# lines}}",values:{numberOfLines:n}})),Object(h.jsx)(c.EuiSpacer,{size:"s"}),Object(h.jsx)(S,{mode:r,readOnly:!0,value:a,height:"200px",syntaxChecking:!1}))};const C=({results:e})=>{const t=function(e){const t=[{title:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.analysisSummary.analyzedLinesNumberTitle",defaultMessage:"Number of lines analyzed"}),description:e.num_lines_analyzed}];void 0!==e.format&&(t.push({title:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.analysisSummary.formatTitle",defaultMessage:"Format"}),description:e.format}),"delimited"===e.format&&(t.push({title:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.analysisSummary.delimiterTitle",defaultMessage:"Delimiter"}),description:e.delimiter}),t.push({title:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.analysisSummary.hasHeaderRowTitle",defaultMessage:"Has header row"}),description:`${e.has_header_row}`})));void 0!==e.grok_pattern&&t.push({title:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.analysisSummary.grokPatternTitle",defaultMessage:"Grok pattern"}),description:e.grok_pattern});void 0!==e.timestamp_field&&t.push({title:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.analysisSummary.timeFieldTitle",defaultMessage:"Time field"}),description:e.timestamp_field});void 0!==e.java_timestamp_formats&&t.push({title:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.analysisSummary.timeFormatTitle",defaultMessage:"Time {timestampFormats, plural, zero {format} one {format} other {formats}}",values:{timestampFormats:e.java_timestamp_formats.length}}),description:e.java_timestamp_formats.join(", ")});return t}(e);return Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)(c.EuiTitle,{size:"s"},Object(h.jsx)("h2",null,Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.analysisSummary.summaryTitle",defaultMessage:"Summary"}))),Object(h.jsx)(c.EuiSpacer,{size:"m"}),Object(h.jsx)(c.EuiDescriptionList,{type:"column",listItems:t,className:"analysis-summary-list"}))};var k=n(72),F=n(73),P=n(60),R=n(0);const L=({item:e})=>{const t=e,{type:n,fieldName:r}=t;return Object(h.jsx)("div",{className:"dvExpandedRow","data-test-subj":`dataVisualizerFieldExpandedRow-${r}`},function(){switch(n){case R.JOB_FIELD_TYPES.NUMBER:return Object(h.jsx)(F.e,{config:t});case R.JOB_FIELD_TYPES.BOOLEAN:return Object(h.jsx)(F.a,{config:t});case R.JOB_FIELD_TYPES.DATE:return Object(h.jsx)(F.b,{config:t});case R.JOB_FIELD_TYPES.GEO_POINT:return Object(h.jsx)(P.b,{config:t});case R.JOB_FIELD_TYPES.IP:return Object(h.jsx)(F.c,{config:t});case R.JOB_FIELD_TYPES.KEYWORD:return Object(h.jsx)(F.d,{config:t});case R.JOB_FIELD_TYPES.TEXT:return Object(h.jsx)(F.g,{config:t});default:return Object(h.jsx)(F.f,{config:t})}}())};var N=n(55);const z=({fields:e,setVisibleFieldNames:t,visibleFieldNames:n})=>{const i=Object(r.useMemo)((()=>p.i18n.translate("xpack.dataVisualizer.fieldNameSelect",{defaultMessage:"Field name"})),[]),a=Object(r.useMemo)((()=>e.filter((e=>void 0!==e.fieldName)).map((e=>({value:e.fieldName})))),[e]);return Object(h.jsx)(N.a,{title:i,options:a,onChange:t,checkedOptions:n,dataTestSubj:"dataVisualizerFieldNameSelect"})};var I=n(59),D=n(52);const A=({fields:e,setVisibleFieldTypes:t,visibleFieldTypes:n})=>{const i=Object(r.useMemo)((()=>p.i18n.translate("xpack.dataVisualizer.fieldTypeSelect",{defaultMessage:"Field type"})),[]),a=Object(r.useMemo)((()=>{const t=new Set,n=[];return e.forEach((({type:e})=>{if(void 0!==e&&!t.has(e)&&void 0!==D.b[e]){const r=D.b[e];t.add(e),n.push({value:e,name:Object(h.jsx)(c.EuiFlexGroup,null,Object(h.jsx)(c.EuiFlexItem,{grow:!0}," ",r),e&&Object(h.jsx)(c.EuiFlexItem,{grow:!1},Object(h.jsx)(I.a,{type:e,tooltipEnabled:!1,needsAria:!0})))})}})),n}),[e]);return Object(h.jsx)(N.a,{title:i,options:a,onChange:t,checkedOptions:n,dataTestSubj:"dataVisualizerFieldTypeSelect"})};var V=n(5);var B=n(44);function H(e){const{mappings:t,field_stats:n,num_messages_analyzed:r,timestamp_field:i}=e;let a=0;if(t&&t.properties&&n){const o=function(e){const{mappings:t,field_stats:n,column_names:r}=e,i=void 0!==r?r:Object.keys(n),a=Object(d.difference)(Object.keys(t.properties),i),o=a.indexOf("@timestamp");return-1!==o&&a.splice(o,1),a.length&&i.push(...a),i}(e),s=o.map((e=>{if(void 0!==n[e]){const o={fieldName:e,type:R.JOB_FIELD_TYPES.UNKNOWN},s=n[e],l=t.properties[e];e===i&&o.type===R.JOB_FIELD_TYPES.UNKNOWN&&(o.type=R.JOB_FIELD_TYPES.DATE),void 0!==l&&(o.type=function(e){switch(e){case V.ES_FIELD_TYPES.FLOAT:case V.ES_FIELD_TYPES.HALF_FLOAT:case V.ES_FIELD_TYPES.SCALED_FLOAT:case V.ES_FIELD_TYPES.DOUBLE:case V.ES_FIELD_TYPES.INTEGER:case V.ES_FIELD_TYPES.LONG:case V.ES_FIELD_TYPES.SHORT:case V.ES_FIELD_TYPES.UNSIGNED_LONG:return R.JOB_FIELD_TYPES.NUMBER;case V.ES_FIELD_TYPES.DATE:case V.ES_FIELD_TYPES.DATE_NANOS:return R.JOB_FIELD_TYPES.DATE;default:return e}}(l.type),o.type===R.JOB_FIELD_TYPES.NUMBER&&(a+=1),void 0!==l.format&&(o.format=l.format));let u={};return void 0!==s.median_value&&(u={...u,median:Object(B.h)(s.median_value),mean:Object(B.h)(s.mean_value),min:Object(B.h)(s.min_value),max:Object(B.h)(s.max_value)}),void 0!==s.cardinality&&(u={...u,cardinality:s.cardinality,count:s.count,sampleCount:r}),void 0!==s.top_hits&&(u=o.type===R.JOB_FIELD_TYPES.TEXT?{...u,examples:s.top_hits.map((e=>e.value))}:{...u,topValues:s.top_hits.map((e=>({key:e.value,doc_count:e.count})))}),o.type===R.JOB_FIELD_TYPES.DATE&&(u={...u,earliest:s.earliest,latest:s.latest}),o.stats=u,o}return{fieldName:e,type:t.properties[e]&&t.properties[e].type===R.JOB_FIELD_TYPES.TEXT?R.JOB_FIELD_TYPES.TEXT:R.JOB_FIELD_TYPES.UNKNOWN,stats:{mean:0,count:0,sampleCount:r,cardinality:0}}}));return{fields:s,totalFieldsCount:s.length,totalMetricFieldsCount:a}}return{fields:[],totalFieldsCount:0,totalMetricFieldsCount:0}}var q=n(75);function G(e,t){return e.reduce(((e,n)=>{const r=t.find((e=>e.fieldName===n));return void 0!==r&&(e[n]=Object(h.jsx)(L,{item:r})),e}),{})}const $=({results:e})=>{var t,n;const i={pageIndex:0,pageSize:25,sortField:"fieldName",sortDirection:"asc",visibleFieldTypes:[],visibleFieldNames:[],showDistributions:!0},[a,o]=Object(r.useState)(i),s=null!==(t=a.visibleFieldTypes)&&void 0!==t?t:i.visibleFieldTypes,l=null!==(n=a.visibleFieldNames)&&void 0!==n?n:i.visibleFieldNames,{fields:u,totalFieldsCount:d,totalMetricFieldsCount:p}=Object(r.useMemo)((()=>H(e)),[e]),{filteredFields:f,visibleFieldsCount:m,visibleMetricsCount:g}=Object(r.useMemo)((()=>function(e,t,n){let r=e;return n&&n.length>0&&(r=r.filter((e=>n.findIndex((t=>t===e.type))>-1))),t&&t.length>0&&(r=r.filter((e=>t.findIndex((t=>t===e.fieldName))>-1))),{filteredFields:r,visibleFieldsCount:r.length,visibleMetricsCount:r.filter((e=>e.type===R.JOB_FIELD_TYPES.NUMBER)).length}}(u,l,s)),[u,l,s]),x={visibleFieldsCount:m,totalFieldsCount:d},b={visibleMetricsCount:g,totalMetricFieldsCount:p};return Object(h.jsx)("div",null,Object(h.jsx)(c.EuiSpacer,{size:"m"}),Object(h.jsx)(c.EuiFlexGroup,{alignItems:"center",gutterSize:"xs",style:{marginLeft:4},"data-test-subj":"dataVisualizerFieldCountPanel"},Object(h.jsx)(q.b,{fieldsCountStats:x}),Object(h.jsx)(q.a,{metricsStats:b}),Object(h.jsx)(c.EuiFlexGroup,{gutterSize:"xs","data-test-subj":"dataVisualizerFieldCountPanel",justifyContent:"flexEnd"},Object(h.jsx)(z,{fields:u,setVisibleFieldNames:e=>{o({...a,visibleFieldNames:e})},visibleFieldNames:l}),Object(h.jsx)(A,{fields:u,setVisibleFieldTypes:e=>{o({...a,visibleFieldTypes:e})},visibleFieldTypes:s}))),Object(h.jsx)(c.EuiSpacer,{size:"m"}),Object(h.jsx)(k.a,{items:f,pageState:a,updatePageState:o,getItemIdToExpandedRowMap:G}))},U=({data:e,fileName:t,results:n,showEditFlyout:r,showExplanationFlyout:i,disableButtons:a})=>Object(h.jsx)(c.EuiPage,{"data-test-subj":"dataVisualizerPageFileResults"},Object(h.jsx)(c.EuiPageBody,null,Object(h.jsx)(c.EuiPageContentHeader,null,Object(h.jsx)(c.EuiTitle,null,Object(h.jsx)("h1",{"data-test-subj":"dataVisualizerFileResultsTitle"},t))),Object(h.jsx)(c.EuiSpacer,{size:"m"}),Object(h.jsx)("div",{className:"results"},Object(h.jsx)(c.EuiPanel,{"data-test-subj":"dataVisualizerFileFileContentPanel"},Object(h.jsx)(T,{data:e,format:n.format,numberOfLines:n.num_lines_analyzed})),Object(h.jsx)(c.EuiSpacer,{size:"m"}),Object(h.jsx)(c.EuiPanel,{"data-test-subj":"dataVisualizerFileSummaryPanel"},Object(h.jsx)(C,{results:n}),Object(h.jsx)(c.EuiSpacer,{size:"m"}),Object(h.jsx)(c.EuiFlexGroup,{gutterSize:"s",alignItems:"center"},Object(h.jsx)(c.EuiFlexItem,{grow:!1},Object(h.jsx)(c.EuiButton,{onClick:()=>r(),disabled:a},Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.resultsView.overrideSettingsButtonLabel",defaultMessage:"Override settings"}))),Object(h.jsx)(c.EuiFlexItem,{grow:!1},Object(h.jsx)(c.EuiButtonEmpty,{onClick:()=>i(),disabled:a},Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.resultsView.analysisExplanationButtonLabel",defaultMessage:"Analysis explanation"}))))),Object(h.jsx)(c.EuiSpacer,{size:"m"}),Object(h.jsx)(c.EuiPanel,{"data-test-subj":"dataVisualizerFileFileStatsPanel"},Object(h.jsx)(c.EuiTitle,{size:"s"},Object(h.jsx)("h2",{"data-test-subj":"dataVisualizerFileStatsTitle"},Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.resultsView.fileStatsName",defaultMessage:"File stats"}))),Object(h.jsx)($,{results:n})))));var X=n(25),Y=n.n(X);const J=({fileSize:e,maxFileSize:t})=>{const n=Y()(e).format(R.FILE_SIZE_DISPLAY_FORMAT),r=Y()(t).format(R.FILE_SIZE_DISPLAY_FORMAT);let i;if(n!==r)i=Object(h.jsx)("p",null,Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.fileErrorCallouts.fileSizeExceedsAllowedSizeErrorMessage",defaultMessage:"The size of the file you selected for upload is {fileSizeFormatted} which exceeds the maximum permitted size of {maxFileSizeFormatted}",values:{fileSizeFormatted:n,maxFileSizeFormatted:r}}));else{const n=Y()(e-t).format(R.FILE_SIZE_DISPLAY_FORMAT);i=Object(h.jsx)("p",null,Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.fileErrorCallouts.fileSizeExceedsAllowedSizeByDiffFormatErrorMessage",defaultMessage:"The size of the file you selected for upload exceeds the maximum permitted size of {maxFileSizeFormatted} by {diffFormatted}",values:{maxFileSizeFormatted:r,diffFormatted:n}}))}return Object(h.jsx)(c.EuiCallOut,{title:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.fileErrorCallouts.fileSizeTooLargeTitle",defaultMessage:"File size is too large"}),color:"danger",iconType:"cross","data-test-subj":"dataVisualizerFileUploadErrorCallout fileTooLarge"},i)},W=({error:e,loaded:t,showEditFlyout:n})=>{var r;const a=(null==e||null===(r=e.body)||void 0===r?void 0:r.message)||"";return Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)(c.EuiCallOut,{title:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.fileErrorCallouts.fileCouldNotBeReadTitle",defaultMessage:"File structure cannot be determined"}),color:"danger",iconType:"cross","data-test-subj":"dataVisualizerFileUploadErrorCallout fileCouldNotBeRead"},!1===t&&Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.fileErrorCallouts.applyOverridesDescription",defaultMessage:"If you know something about this data, such as the file format or timestamp format, adding initial overrides may help us to infer the rest of the structure."}),Object(h.jsx)("br",null),Object(h.jsx)(c.EuiButtonEmpty,{onClick:n,flush:"left",size:"s"},Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.fileErrorCallouts.overrideButton",defaultMessage:"Apply override settings"})),Object(h.jsx)(c.EuiHorizontalRule,null)),a,Object(h.jsx)(K,{error:e}),t&&Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)(c.EuiSpacer,{size:"s"}),Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.fileErrorCallouts.revertingToPreviousSettingsDescription",defaultMessage:"Reverting to previous settings"}))))},K=({error:e})=>{var t,n,r,a,o;if(null==e||null===(t=e.body)||void 0===t||null===(n=t.attributes)||void 0===n||null===(r=n.body)||void 0===r||null===(a=r.error)||void 0===a||null===(o=a.suppressed)||void 0===o||!o.length)return null;const s=e.body.attributes.body.error.suppressed[0].reason;return Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)(c.EuiSpacer,{size:"s"}),s.split("\n").map(((e,t)=>Object(h.jsx)("div",{key:t},e))))},Z=()=>Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)(c.EuiCallOut,{title:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.fileErrorCallouts.findFileStructurePermissionDenied.title",defaultMessage:"Permission denied"}),color:"danger",iconType:"cross","data-test-subj":"dataVisualizerFileStructurePermissionDeniedErrorCallout"},Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.fileErrorCallouts.findFileStructurePermissionDenied.description",defaultMessage:"You do not have sufficient privileges to analyze files."}))),Q="custom",ee=[Q,"dd/MMM/yyyy:HH:mm:ss XX","EEE MMM dd HH:mm zzz yyyy","EEE MMM dd HH:mm:ss yyyy","EEE MMM dd HH:mm:ss zzz yyyy","EEE MMM dd yyyy HH:mm zzz","EEE MMM dd yyyy HH:mm:ss zzz","EEE, dd MMM yyyy HH:mm XX","EEE, dd MMM yyyy HH:mm XXX","EEE, dd MMM yyyy HH:mm:ss XX","EEE, dd MMM yyyy HH:mm:ss XXX","ISO8601","MMM dd HH:mm:ss","MMM dd HH:mm:ss,SSS","MMM dd HH:mm:ss,SSSSSS","MMM dd HH:mm:ss,SSSSSSSSS","MMM dd HH:mm:ss.SSS","MMM dd HH:mm:ss.SSSSSS","MMM dd HH:mm:ss.SSSSSSSSS","MMM dd HH:mm:ss:SSS","MMM dd HH:mm:ss:SSSSSS","MMM dd HH:mm:ss:SSSSSSSSS","MMM dd yyyy HH:mm:ss","MMM dd, yyyy h:mm:ss a","TAI64N","UNIX","UNIX_MS","yyyy-MM-dd HH:mm:ss","yyyy-MM-dd HH:mm:ss,SSS","yyyy-MM-dd HH:mm:ss,SSSSSS","yyyy-MM-dd HH:mm:ss,SSSSSSSSS","yyyy-MM-dd HH:mm:ss.SSS","yyyy-MM-dd HH:mm:ss.SSSSSS","yyyy-MM-dd HH:mm:ss.SSSSSSSSS","yyyy-MM-dd HH:mm:ss:SSS","yyyy-MM-dd HH:mm:ss:SSSSSS","yyyy-MM-dd HH:mm:ss:SSSSSSSSS","yyyy-MM-dd HH:mm:ss,SSS XX","yyyy-MM-dd HH:mm:ss,SSSSSS XX","yyyy-MM-dd HH:mm:ss,SSSSSSSSS XX","yyyy-MM-dd HH:mm:ss.SSS XX","yyyy-MM-dd HH:mm:ss.SSSSSS XX","yyyy-MM-dd HH:mm:ss.SSSSSSSSS XX","yyyy-MM-dd HH:mm:ss:SSS XX","yyyy-MM-dd HH:mm:ss:SSSSSS XX","yyyy-MM-dd HH:mm:ss:SSSSSSSSS XX","yyyy-MM-dd HH:mm:ss,SSSXX","yyyy-MM-dd HH:mm:ss,SSSSSSXX","yyyy-MM-dd HH:mm:ss,SSSSSSSSSXX","yyyy-MM-dd HH:mm:ss.SSSXX","yyyy-MM-dd HH:mm:ss.SSSSSSXX","yyyy-MM-dd HH:mm:ss.SSSSSSSSSXX","yyyy-MM-dd HH:mm:ss:SSSXX","yyyy-MM-dd HH:mm:ss:SSSSSSXX","yyyy-MM-dd HH:mm:ss:SSSSSSSSSXX","yyyy-MM-dd HH:mm:ss,SSSXXX","yyyy-MM-dd HH:mm:ss,SSSSSSXXX","yyyy-MM-dd HH:mm:ss,SSSSSSSSSXXX","yyyy-MM-dd HH:mm:ss.SSSXXX","yyyy-MM-dd HH:mm:ss.SSSSSSXXX","yyyy-MM-dd HH:mm:ss.SSSSSSSSSXXX","yyyy-MM-dd HH:mm:ss:SSSXXX","yyyy-MM-dd HH:mm:ss:SSSSSSXXX","yyyy-MM-dd HH:mm:ss:SSSSSSSSSXXX","yyyy-MM-dd HH:mm:ssXX","yyyy-MM-dd HH:mm:ssXXX","yyyyMMddHHmmss"],te=["comma","tab","semicolon","pipe","space",Q],ne=["'",'"',"`"];function re(e){return e.map((e=>({label:e})))}const ie={yyyy:!0,yy:!0,M:!0,MM:!0,MMM:!0,MMMM:!0,d:!0,dd:!0,EEE:!0,EEEE:!0,H:!0,HH:!0,h:!0,mm:!0,ss:!0,a:!0,XX:!0,XXX:!0,zzz:!0};const ae=re(["delimited","ndjson","semi_structured_text"]),oe=re(ee),se=re(te),le=re(ne),ue=1e6;class overrides_OverridesUI extends r.Component{constructor(e){super(e),l()(this,"linesToSampleErrors",p.i18n.translate("xpack.dataVisualizer.file.editFlyout.overrides.linesToSampleErrorMessage",{defaultMessage:"Value must be greater than {min} and less than or equal to {max}",values:{min:3,max:ue}})),l()(this,"customTimestampFormatErrors",p.i18n.translate("xpack.dataVisualizer.file.editFlyout.overrides.customTimestampFormatErrorMessage",{defaultMessage:"Timestamp format must be a combination of these Java date/time formats:\n      yy, yyyy, M, MM, MMM, MMMM, d, dd, EEE, EEEE, H, HH, h, mm, ss, S through SSSSSSSSS, a, XX, XXX, zzz"})),l()(this,"applyOverrides",(()=>{const e={...this.state.overrides};e.delimiter=function(e,t){switch(e){case"comma":return",";case"tab":return"\t";case"semicolon":return";";case"pipe":return"|";case"space":return" ";case Q:return t;default:return}}(e.delimiter,this.state.customDelimiter),e.timestampFormat===Q&&""!==this.state.customTimestampFormat&&(e.timestampFormat=this.state.customTimestampFormat),this.props.setOverrides(e)})),l()(this,"onFormatChange",(([e])=>{const t=e?e.label:"";this.setOverride({format:t})})),l()(this,"onTimestampFormatChange",(([e])=>{const t=e?e.label:"";this.setOverride({timestampFormat:t}),e!==Q&&this.props.setOverridesValid(!0)})),l()(this,"onCustomTimestampFormatChange",(e=>{this.setState({customTimestampFormat:e.target.value});const{isValid:t,errorMessage:n}=function(e){const t={isValid:!0,errorMessage:null};if(e.indexOf("?")>=0)return t.isValid=!1,t.errorMessage=p.i18n.translate("xpack.dataVisualizer.file.editFlyout.overrides.timestampQuestionMarkValidationErrorMessage",{defaultMessage:"Timestamp format {timestampFormat} not supported because it contains a question mark character ({fieldPlaceholder})",values:{timestampFormat:e,fieldPlaceholder:"?"}}),t;let n=!0,r=null,i=null,a=0;for(;a<e.length;){const s=e.charAt(a);if("'"===s)n=!n;else if(n&&1===(o=s).length&&o.match(/[a-z]/i)){const n=a;let o=n+1;for(;o<e.length&&e.charAt(o)===s;)++o,++a;const l=e.substring(n,o);if(!0!==ie[l]){const a=l.length;if("S"!==s||-1===":.,".indexOf(r)||"ss"!==i||o-n>9)return t.isValid=!1,t.errorMessage=p.i18n.translate("xpack.dataVisualizer.file.editFlyout.overrides.timestampLetterValidationErrorMessage",{defaultMessage:"Letter { length, plural, one { {lg} } other { group {lg} } } in {format} is not supported",values:{length:a,lg:l,format:e}}),"S"===s&&(t.errorMessage=p.i18n.translate("xpack.dataVisualizer.file.editFlyout.overrides.timestampLetterSValidationErrorMessage",{defaultMessage:"Letter { length, plural, one { {lg} } other { group {lg} } } in {format} is not supported because it is not preceded by ss and a separator from {sep}",values:{length:a,lg:l,sep:":.,",format:e}})),t}i=l}r=s,++a}var o;return null==i&&(t.isValid=!1,t.errorMessage=p.i18n.translate("xpack.dataVisualizer.file.editFlyout.overrides.timestampEmptyValidationErrorMessage",{defaultMessage:"No time format letter groups in timestamp format {timestampFormat}",values:{timestampFormat:e}})),t}(e.target.value);this.setState({timestampFormatValid:t,timestampFormatError:n}),this.props.setOverridesValid(t)})),l()(this,"onTimestampFieldChange",(([e])=>{const t=e?e.label:"";this.setOverride({timestampField:t})})),l()(this,"onDelimiterChange",(([e])=>{const t=e?e.label:"";this.setOverride({delimiter:t})})),l()(this,"onCustomDelimiterChange",(e=>{this.setState({customDelimiter:e.target.value})})),l()(this,"onQuoteChange",(([e])=>{const t=e?e.label:"";this.setOverride({quote:t})})),l()(this,"onHasHeaderRowChange",(e=>{this.setOverride({hasHeaderRow:e.target.checked})})),l()(this,"onShouldTrimFieldsChange",(e=>{this.setOverride({shouldTrimFields:e.target.checked})})),l()(this,"onCharsetChange",(([e])=>{const t=e?e.label:"";this.setOverride({charset:t})})),l()(this,"onColumnNameChange",((e,t)=>{const n=this.state.overrides.columnNames;n[t]=e.target.value,this.setOverride({columnNames:n})})),l()(this,"grokPatternChange",(e=>{this.setOverride({grokPattern:e.target.value})})),l()(this,"onLinesToSampleChange",(e=>{const t=+e.target.value;this.setOverride({linesToSample:t});const n=function(e){return e>3&&e<=ue}(t);this.setState({linesToSampleValid:n}),this.props.setOverridesValid(n)})),this.state={}}static getDerivedStateFromProps(e,t){const{originalSettings:n}=e,{charset:r,format:i,hasHeaderRow:a,columnNames:o,delimiter:s,quote:l,shouldTrimFields:u,grokPattern:c,timestampField:d,timestampFormat:p,linesToSample:f}=e.overrides,{delimiter:h,customDelimiter:m}=function(e){switch(e){case",":return{delimiter:"comma"};case"\t":return{delimiter:"tab"};case";":return{delimiter:"semicolon"};case"|":return{delimiter:"pipe"};case" ":return{delimiter:"space"};default:return{delimiter:Q,customDelimiter:e}}}(void 0===s?n.delimiter:s),{newColumnNames:g,originalColumnNames:x}=function(e,t){const n=void 0===e&&void 0!==t.columnNames?[...t.columnNames]:e,r=void 0!==n?[...n]:[];return{newColumnNames:n,originalColumnNames:r}}(o,n);return{originalColumnNames:x,customDelimiter:void 0===m?"":m,customTimestampFormat:"",linesToSampleValid:!0,timestampFormatValid:!0,timestampFormatError:null,overrides:{charset:void 0===r?n.charset:r,format:void 0===i?n.format:i,hasHeaderRow:void 0===a?n.hasHeaderRow:a,columnNames:g,delimiter:h,quote:void 0===l?n.quote:l,shouldTrimFields:void 0===u?n.shouldTrimFields:u,grokPattern:void 0===c?n.grokPattern:c,timestampFormat:void 0===p?n.timestampFormat:p,timestampField:void 0===d?n.timestampField:d,linesToSample:void 0===f?n.linesToSample:+f},...t}}componentDidMount(){const e=this.props&&this.props.originalSettings&&this.props.originalSettings.timestampFormat;if("function"==typeof this.props.setApplyOverrides&&this.props.setApplyOverrides(this.applyOverrides),void 0!==e){if(!1===ee.some((t=>t===e))){const t={...this.state.overrides};t.timestampFormat=Q,this.setState({customTimestampFormat:e,overrides:t})}}}componentWillUnmount(){"function"==typeof this.props.unsetApplyOverrides&&this.props.unsetApplyOverrides()}setOverride(e){const t={...this.state.overrides,...e};this.setState({overrides:t})}render(){const{fields:e}=this.props,{customDelimiter:t,customTimestampFormat:n,originalColumnNames:r,linesToSampleValid:a,timestampFormatError:o,timestampFormatValid:s,overrides:l}=this.state,{timestampFormat:d,timestampField:f,format:m,delimiter:g,quote:x,hasHeaderRow:b,shouldTrimFields:v,columnNames:y,grokPattern:w,linesToSample:j}=l,_=function(e){return e.map((e=>({label:e}))).sort(((e,t)=>e.label.localeCompare(t.label,void 0,{numeric:!0})))}(e),E=[this.customTimestampFormatErrors,o],O=this.props.kibana.services.docLinks.links.aggs.date_format_pattern,M=Object(h.jsx)(c.EuiText,{size:"xs"},Object(h.jsx)(c.EuiLink,{href:O,target:"_blank"},p.i18n.translate("xpack.dataVisualizer.file.editFlyout.overrides.timestampFormatHelpText",{defaultMessage:"See more on accepted formats"})));return Object(h.jsx)(c.EuiForm,null,Object(h.jsx)(c.EuiFormRow,{error:this.linesToSampleErrors,isInvalid:!1===a,label:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.editFlyout.overrides.linesToSampleFormRowLabel",defaultMessage:"Number of lines to sample"})},Object(h.jsx)(c.EuiFieldNumber,{value:j,onChange:this.onLinesToSampleChange,isInvalid:!1===a})),Object(h.jsx)(c.EuiFormRow,{label:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.editFlyout.overrides.dataFormatFormRowLabel",defaultMessage:"Data format"})},Object(h.jsx)(c.EuiComboBox,{options:ae,selectedOptions:de(m),onChange:this.onFormatChange,singleSelection:{asPlainText:!0},isClearable:!1})),"delimited"===m&&Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)(c.EuiFormRow,{label:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.editFlyout.overrides.delimiterFormRowLabel",defaultMessage:"Delimiter"})},Object(h.jsx)(c.EuiComboBox,{options:se,selectedOptions:de(g),onChange:this.onDelimiterChange,singleSelection:{asPlainText:!0},isClearable:!1})),g===Q&&Object(h.jsx)(c.EuiFormRow,{label:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.editFlyout.overrides.customDelimiterFormRowLabel",defaultMessage:"Custom delimiter"})},Object(h.jsx)(c.EuiFieldText,{value:t,onChange:this.onCustomDelimiterChange})),Object(h.jsx)(c.EuiFormRow,{label:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.editFlyout.overrides.quoteCharacterFormRowLabel",defaultMessage:"Quote character"})},Object(h.jsx)(c.EuiComboBox,{options:le,selectedOptions:de(x),onChange:this.onQuoteChange,singleSelection:{asPlainText:!0},isClearable:!1})),Object(h.jsx)(c.EuiFormRow,null,Object(h.jsx)(c.EuiCheckbox,{id:"hasHeaderRow",label:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.editFlyout.overrides.hasHeaderRowLabel",defaultMessage:"Has header row"}),checked:b,onChange:this.onHasHeaderRowChange})),Object(h.jsx)(c.EuiFormRow,null,Object(h.jsx)(c.EuiCheckbox,{id:"shouldTrimFields",label:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.editFlyout.overrides.trimFieldsLabel",defaultMessage:"Should trim fields"}),checked:v,onChange:this.onShouldTrimFieldsChange}))),"semi_structured_text"===m&&Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)(c.EuiFormRow,{label:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.editFlyout.overrides.grokPatternFormRowLabel",defaultMessage:"Grok pattern"})},Object(h.jsx)(c.EuiTextArea,{placeholder:w,value:w,onChange:this.grokPatternChange}))),Object(h.jsx)(c.EuiFormRow,{helpText:M,label:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.editFlyout.overrides.timestampFormatFormRowLabel",defaultMessage:"Timestamp format"})},Object(h.jsx)(c.EuiComboBox,{options:oe,selectedOptions:de(d),onChange:this.onTimestampFormatChange,singleSelection:{asPlainText:!0},isClearable:!1})),d===Q&&Object(h.jsx)(c.EuiFormRow,{error:E,isInvalid:!1===s,label:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.editFlyout.overrides.customTimestampFormatFormRowLabel",defaultMessage:"Custom timestamp format"})},Object(h.jsx)(c.EuiFieldText,{value:n,onChange:this.onCustomTimestampFormatChange,isInvalid:!1===s})),Object(h.jsx)(c.EuiFormRow,{label:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.editFlyout.overrides.timeFieldFormRowLabel",defaultMessage:"Time field"})},Object(h.jsx)(c.EuiComboBox,{options:_,selectedOptions:de(f),onChange:this.onTimestampFieldChange,singleSelection:{asPlainText:!0},isClearable:!1})),"delimited"===m&&r.length>0&&Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)(c.EuiSpacer,null),Object(h.jsx)(c.EuiTitle,{size:"s"},Object(h.jsx)("h3",null,Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.editFlyout.overrides.editFieldNamesTitle",defaultMessage:"Edit field names"}))),r.map(((e,t)=>Object(h.jsx)(c.EuiFormRow,{label:e,key:e},Object(h.jsx)(c.EuiFieldText,{value:y[t],onChange:e=>this.onColumnNameChange(e,t)}))))))}}const ce=Object(a.withKibana)(overrides_OverridesUI);function de(e){return[{label:e||""}]}class edit_flyout_EditFlyout extends r.Component{constructor(e){super(e),l()(this,"applyAndClose",(()=>{this.applyOverrides(),this.props.closeEditFlyout()})),l()(this,"setApplyOverrides",(e=>{this.applyOverrides=e})),l()(this,"unsetApplyOverrides",(()=>{this.applyOverrides=()=>{}})),l()(this,"setOverridesValid",(e=>{this.setState({overridesValid:e})})),this.applyOverrides=()=>{},this.state={overridesValid:!0}}render(){const{isFlyoutVisible:e,closeEditFlyout:t,setOverrides:n,overrides:r,originalSettings:a,fields:o}=this.props;return Object(h.jsx)(i.a.Fragment,null,e&&Object(h.jsx)(c.EuiFlyout,{onClose:t,size:"m"},Object(h.jsx)(c.EuiFlyoutHeader,null,Object(h.jsx)(c.EuiTitle,null,Object(h.jsx)("h2",null,Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.editFlyout.overrideSettingsTitle",defaultMessage:"Override settings"})))),Object(h.jsx)(c.EuiFlyoutBody,null,Object(h.jsx)(ce,{setOverrides:n,overrides:r,originalSettings:a,setApplyOverrides:this.setApplyOverrides,setOverridesValid:this.setOverridesValid,fields:o})),Object(h.jsx)(c.EuiFlyoutFooter,null,Object(h.jsx)(c.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(h.jsx)(c.EuiFlexItem,{grow:!1},Object(h.jsx)(c.EuiButtonEmpty,{iconType:"cross",onClick:t,flush:"left"},Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.editFlyout.closeOverrideSettingsButtonLabel",defaultMessage:"Close"}))),Object(h.jsx)(c.EuiFlexItem,{grow:!1},Object(h.jsx)(c.EuiButton,{onClick:this.applyAndClose,isDisabled:!1===this.state.overridesValid,fill:!0},Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.editFlyout.applyOverrideSettingsButtonLabel",defaultMessage:"Apply"})))))))}}const pe=({results:e,closeFlyout:t})=>{const n=e.explanation;return Object(h.jsx)(c.EuiFlyout,{onClose:t,hideCloseButton:!0,size:"m"},Object(h.jsx)(c.EuiFlyoutHeader,{hasBorder:!0},Object(h.jsx)(c.EuiTitle,{size:"m"},Object(h.jsx)("h2",null,Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.explanationFlyout.title",defaultMessage:"Analysis explanation"})))),Object(h.jsx)(c.EuiFlyoutBody,null,Object(h.jsx)(fe,{explanation:n})),Object(h.jsx)(c.EuiFlyoutFooter,null,Object(h.jsx)(c.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(h.jsx)(c.EuiFlexItem,{grow:!1},Object(h.jsx)(c.EuiButtonEmpty,{iconType:"cross",onClick:t,flush:"left"},Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.explanationFlyout.closeButton",defaultMessage:"Close"}))))))},fe=({explanation:e})=>Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)(c.EuiText,{size:"s"},Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.explanationFlyout.content",defaultMessage:"The logical steps that have produced the analysis results."}),Object(h.jsx)(c.EuiSpacer,{size:"l"}),Object(h.jsx)(c.EuiSubSteps,null,Object(h.jsx)("ul",{style:{wordBreak:"break-word"}},e.map(((e,t)=>Object(h.jsx)("li",{key:t},e,Object(h.jsx)(c.EuiSpacer,{size:"s"}))))))));var he=n(18),me=n.n(he),ge=n(26);const xe=({fieldStats:e,index:t,indexPatternId:n,timeFieldName:i,createIndexPattern:a,showFilebeatFlyout:o,additionalLinks:s})=>{const{services:{fileUpload:l}}=Object(f.a)(),[d,p]=Object(r.useState)({from:"now-30m",to:"now"}),[m,g]=Object(r.useState)(),[x,b]=Object(r.useState)(""),[v,y]=Object(r.useState)(""),[w,j]=Object(r.useState)(""),[_,E]=Object(r.useState)({}),{services:{application:{getUrlForApp:O,capabilities:M},share:{urlGenerators:{getUrlGenerator:S}}}}=Object(f.a)();async function T(e=!0){if(void 0!==i){const{from:n,to:r}=await async function(e,t,{getTimeFieldRange:n}){const r={bool:{must:[{query_string:{analyze_wildcard:!0,query:"*"}}]}},i=await n(e,r,t);return{from:me()(i.start.epoch).toISOString(),to:me()(i.end.epoch).toISOString()}}(t,i,l);p({from:null===n?d.from:n,to:null===r?d.to:r}),!e||null!==n&&null!==r||setTimeout((()=>{T(!1)}),3e3)}}return Object(r.useEffect)((()=>{let e=!1;return(async()=>{var t,r;if(!(null!==(t=null===(r=M.discover)||void 0===r?void 0:r.show)&&void 0!==t&&t))return;const i={indexPatternId:n};let a;null!=m&&m.time&&(i.timeRange=m.time);try{a=S(ge.DISCOVER_APP_URL_GENERATOR)}catch(e){}if(!a)return;const o=await a.createUrl(i);e||b(o)})(),Promise.all(s.map((async({canDisplay:e,getUrl:t})=>!1===await e({indexPatternId:n})?null:t({globalState:m,indexPatternId:n})))).then((e=>{const t=e.reduce(((e,t,n)=>(null!==t&&(e[s[n].id]=t),e)),{});E(t)})),e||(y(O("management",{path:"/data/index_management/indices"})),j(O("management",{path:"/kibana/indexPatterns"+(a?`/patterns/${n}`:"")}))),()=>{e=!0}}),[n,S,JSON.stringify(m)]),Object(r.useEffect)((()=>{T()}),[]),Object(r.useEffect)((()=>{const e={time:{from:d.from,to:d.to}};g(e)}),[d]),Object(r.useEffect)((()=>{e&&"object"==typeof e&&void 0!==i&&e.hasOwnProperty(i)&&void 0!==e[i].earliest&&void 0!==e[i].latest&&g({time:{from:e[i].earliest,to:e[i].latest}})}),[i,e]),Object(h.jsx)(c.EuiFlexGroup,{gutterSize:"l"},a&&x&&Object(h.jsx)(c.EuiFlexItem,null,Object(h.jsx)(c.EuiCard,{icon:Object(h.jsx)(c.EuiIcon,{size:"xxl",type:"discoverApp"}),title:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.resultsLinks.viewIndexInDiscoverTitle",defaultMessage:"View index in Discover"}),description:"",href:x})),v&&Object(h.jsx)(c.EuiFlexItem,null,Object(h.jsx)(c.EuiCard,{icon:Object(h.jsx)(c.EuiIcon,{size:"xxl",type:"managementApp"}),title:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.resultsLinks.indexManagementTitle",defaultMessage:"Index Management"}),description:"",href:v})),w&&Object(h.jsx)(c.EuiFlexItem,null,Object(h.jsx)(c.EuiCard,{icon:Object(h.jsx)(c.EuiIcon,{size:"xxl",type:"managementApp"}),title:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.resultsLinks.indexPatternManagementTitle",defaultMessage:"Index Pattern Management"}),description:"",href:w})),Object(h.jsx)(c.EuiFlexItem,null,Object(h.jsx)(c.EuiCard,{icon:Object(h.jsx)(c.EuiIcon,{size:"xxl",type:"filebeatApp"}),"data-test-subj":"fileDataVisFilebeatConfigLink",title:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.resultsLinks.fileBeatConfig",defaultMessage:"Create Filebeat configuration"}),description:"",onClick:o})),s.filter((({id:e})=>void 0!==_[e])).map((e=>Object(h.jsx)(c.EuiFlexItem,null,Object(h.jsx)(c.EuiCard,{icon:Object(h.jsx)(c.EuiIcon,{size:"xxl",type:e.icon}),"data-test-subj":"fileDataVisLink",title:e.title,description:e.description,href:_[e.id]})))))};function be(){return["  paths:",`  - '<${p.i18n.translate("xpack.dataVisualizer.fileBeatConfig.paths",{defaultMessage:"add path to your files here"})}>'`]}function ve(e){return"UTF-8"!==e.charset?[`  encoding: ${e.charset}`]:[]}function ye(e){return void 0!==e.exclude_lines_pattern?[`  exclude_lines: ['${e.exclude_lines_pattern.replace(/'/g,"''")}']`]:[]}function we(e){return void 0!==e.multiline_start_pattern?["  multiline:",`    pattern: '${e.multiline_start_pattern.replace(/'/g,"''")}'`,"    match: after","    negate: true"]:[]}function je(e){return!0===e.need_client_timezone?["processors:","- add_locale: ~",""]:[]}function _e(e){return null!==e?[`  username: "${e}"`,'  password: "<password>"']:[]}let Ee;!function(e){e[e.HIDDEN=0]="HIDDEN",e[e.READONLY=1]="READONLY",e[e.EDITABLE=2]="EDITABLE"}(Ee||(Ee={}));const Oe=({index:e,results:t,indexPatternId:n,ingestPipelineId:i,closeFlyout:a})=>{const[o,s]=Object(r.useState)(""),[l,d]=Object(r.useState)(null),{services:{security:p}}=Object(f.a)();return Object(r.useEffect)((()=>{void 0!==p&&p.authc.getCurrentUser().then((e=>{d(void 0===e.username?null:e.username)}))}),[p]),Object(r.useEffect)((()=>{const n=function(e,t,n,r){return["filebeat.inputs:","- type: log",...be(),...ve(t),...ye(t),...we(t),"",...je(t),"output.elasticsearch:",'  hosts: ["<es_url>"]',..._e(r),`  index: "${e}"`,`  pipeline: "${n}"`,"","setup:","  template.enabled: false","  ilm.enabled: false"].join("\n")}(e,t,i,l);s(n)}),[l,e,i,t]),Object(h.jsx)(c.EuiFlyout,{onClose:a,hideCloseButton:!0,size:"m",ownFocus:!1},Object(h.jsx)(c.EuiFlyoutBody,null,Object(h.jsx)(c.EuiFlexGroup,null,Object(h.jsx)(Me,{value:o,username:l,index:e}))),Object(h.jsx)(c.EuiFlyoutFooter,null,Object(h.jsx)(c.EuiFlexGroup,{justifyContent:"spaceBetween"},Object(h.jsx)(c.EuiFlexItem,{grow:!1},Object(h.jsx)(c.EuiButtonEmpty,{iconType:"cross",onClick:a,flush:"left","data-test-subj":"fileBeatConfigFlyoutCloseButton"},Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.fileBeatConfigFlyout.closeButton",defaultMessage:"Close"}))),Object(h.jsx)(c.EuiFlexItem,{grow:!1},Object(h.jsx)(c.EuiCopy,{textToCopy:o},(e=>Object(h.jsx)(c.EuiButton,{onClick:e},Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.fileBeatConfigFlyout.copyButton",defaultMessage:"Copy to clipboard"}))))))))},Me=({value:e,index:t,username:n})=>Object(h.jsx)(c.EuiFlexItem,{"data-test-subj":"fileDataVisFilebeatConfigPanel"},Object(h.jsx)(c.EuiTitle,{size:"s"},Object(h.jsx)("h5",null,Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.resultsLinks.fileBeatConfigTitle",defaultMessage:"Filebeat configuration"}))),Object(h.jsx)(c.EuiSpacer,{size:"s"}),Object(h.jsx)("p",null,Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.resultsLinks.fileBeatConfigTopText1",defaultMessage:"Additional data can be uploaded to the {index} index using Filebeat.",values:{index:Object(h.jsx)(c.EuiCode,null,t)}})),Object(h.jsx)("p",null,Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.resultsLinks.fileBeatConfigTopText2",defaultMessage:"Modify {filebeatYml} to set the connection information:",values:{filebeatYml:Object(h.jsx)(c.EuiCode,null,"filebeat.yml")}})),Object(h.jsx)(c.EuiSpacer,{size:"s"}),Object(h.jsx)(c.EuiCodeBlock,{language:"bash"},e),Object(h.jsx)(c.EuiSpacer,{size:"s"}),Object(h.jsx)("p",null,null===n?Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.resultsLinks.fileBeatConfigBottomTextNoUsername",defaultMessage:"Where {esUrl} is the URL of Elasticsearch.",values:{esUrl:Object(h.jsx)(c.EuiCode,null,"<es_url>")}}):Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.resultsLinks.fileBeatConfigBottomText",defaultMessage:"Where {password} is the password of the {user} user, {esUrl} is the URL of Elasticsearch.",values:{user:Object(h.jsx)(c.EuiCode,null,n),password:Object(h.jsx)(c.EuiCode,null,"<password>"),esUrl:Object(h.jsx)(c.EuiCode,null,"<es_url>")}})));let Se;!function(e){e.INCOMPLETE="incomplete",e.COMPLETE="complete",e.FAILED="danger"}(Se||(Se={}));const Te=({statuses:e})=>{const{reading:t,readStatus:n,parseJSONStatus:r,indexCreatedStatus:a,ingestPipelineCreatedStatus:o,indexPatternCreatedStatus:s,uploadProgress:l,uploadStatus:d,createIndexPattern:f,createPipeline:m}=e;let g=null,x=0;!0===t&&n===Se.INCOMPLETE&&r===Se.INCOMPLETE&&(x=0),n===Se.COMPLETE&&a===Se.INCOMPLETE&&o===Se.INCOMPLETE&&(x=1),a===Se.COMPLETE&&(x=2),(o===Se.COMPLETE||!1===m&&a===Se.COMPLETE)&&(x=3),d===Se.COMPLETE&&(x=4),s===Se.COMPLETE&&(x=5);let b=p.i18n.translate("xpack.dataVisualizer.file.importProgress.processFileTitle",{defaultMessage:"Process file"}),v=p.i18n.translate("xpack.dataVisualizer.file.importProgress.createIndexTitle",{defaultMessage:"Create index"}),y=p.i18n.translate("xpack.dataVisualizer.file.importProgress.createIngestPipelineTitle",{defaultMessage:"Create ingest pipeline"}),w=p.i18n.translate("xpack.dataVisualizer.file.importProgress.uploadDataTitle",{defaultMessage:"Upload data"}),j=p.i18n.translate("xpack.dataVisualizer.file.importProgress.createIndexPatternTitle",{defaultMessage:"Create index pattern"});const _=Object(h.jsx)("p",null,Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.importProgress.stepTwoCreatingIndexDescription",defaultMessage:"Creating index"})),E=Object(h.jsx)("p",null,Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.importProgress.stepTwoCreatingIndexIngestPipelineDescription",defaultMessage:"Creating index and ingest pipeline"}));x>=0&&(b=p.i18n.translate("xpack.dataVisualizer.file.importProgress.processingFileTitle",{defaultMessage:"Processing file"}),g=Object(h.jsx)("p",null,Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.importProgress.processingImportedFileDescription",defaultMessage:"Processing file for import"}))),x>=1&&(b=p.i18n.translate("xpack.dataVisualizer.file.importProgress.fileProcessedTitle",{defaultMessage:"File processed"}),v=p.i18n.translate("xpack.dataVisualizer.file.importProgress.creatingIndexTitle",{defaultMessage:"Creating index"}),g=!0===m?E:_),x>=2&&(v=p.i18n.translate("xpack.dataVisualizer.file.importProgress.indexCreatedTitle",{defaultMessage:"Index created"}),y=p.i18n.translate("xpack.dataVisualizer.file.importProgress.creatingIngestPipelineTitle",{defaultMessage:"Creating ingest pipeline"}),g=!0===m?E:_),x>=3&&(y=p.i18n.translate("xpack.dataVisualizer.file.importProgress.ingestPipelineCreatedTitle",{defaultMessage:"Ingest pipeline created"}),w=p.i18n.translate("xpack.dataVisualizer.file.importProgress.uploadingDataTitle",{defaultMessage:"Uploading data"}),g=Object(h.jsx)(Ce,{progress:l})),x>=4&&(w=p.i18n.translate("xpack.dataVisualizer.file.importProgress.dataUploadedTitle",{defaultMessage:"Data uploaded"}),!0===f?(j=p.i18n.translate("xpack.dataVisualizer.file.importProgress.creatingIndexPatternTitle",{defaultMessage:"Creating index pattern"}),g=Object(h.jsx)("p",null,Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.importProgress.creatingIndexPatternDescription",defaultMessage:"Creating index pattern"}))):g=null),x>=5&&(j=p.i18n.translate("xpack.dataVisualizer.file.importProgress.indexPatternCreatedTitle",{defaultMessage:"Index pattern created"}),g=null);const O=[{title:b,isSelected:!0,isComplete:n===Se.COMPLETE&&r===Se.COMPLETE,status:r===Se.FAILED?r:n,onClick:()=>{}},{title:v,isSelected:n===Se.COMPLETE,isComplete:a===Se.COMPLETE,status:a,onClick:()=>{}},{title:w,isSelected:a===Se.COMPLETE&&(!1===m||!0===m&&o===Se.COMPLETE),isComplete:d===Se.COMPLETE,status:d,onClick:()=>{}}];return!0===m&&O.splice(2,0,{title:y,isSelected:a===Se.COMPLETE,isComplete:o===Se.COMPLETE,status:o,onClick:()=>{}}),!0===f&&O.push({title:j,isSelected:d===Se.COMPLETE,isComplete:s===Se.COMPLETE,status:s,onClick:()=>{}}),Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)(c.EuiStepsHorizontal,{steps:O,style:{backgroundColor:"transparent"}}),g&&Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)(c.EuiSpacer,{size:"m"}),g))},Ce=({progress:e})=>Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)("p",null,Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.importProgress.uploadingDataDescription",defaultMessage:"Uploading data"})),e<100&&Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)(c.EuiSpacer,{size:"s"}),Object(h.jsx)(c.EuiProgress,{value:e,max:100,color:"primary",size:"s"}))),ke=({errors:e,statuses:t})=>Object(h.jsx)(c.EuiCallOut,{title:Fe(t),color:"danger",iconType:"cross"},e.map(((e,t)=>Object(h.jsx)(Pe,{error:e,key:t}))));function Fe(e){switch(Se.FAILED){case e.readStatus:return Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.importErrors.readingFileErrorMessage",defaultMessage:"Error reading file"});case e.parseJSONStatus:return Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.importErrors.parsingJSONErrorMessage",defaultMessage:"Error parsing JSON"});case e.indexCreatedStatus:return Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.importErrors.creatingIndexErrorMessage",defaultMessage:"Error creating index"});case e.ingestPipelineCreatedStatus:return Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.importErrors.creatingIngestPipelineErrorMessage",defaultMessage:"Error creating ingest pipeline"});case e.uploadStatus:return Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.importErrors.uploadingDataErrorMessage",defaultMessage:"Error uploading data"});case e.indexPatternCreatedStatus:return Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.importErrors.creatingIndexPatternErrorMessage",defaultMessage:"Error creating index pattern"});case e.permissionCheckStatus:return Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.importErrors.checkingPermissionErrorMessage",defaultMessage:"Import permissions error"});default:return Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.importErrors.defaultErrorMessage",defaultMessage:"Error"})}}const Pe=({error:e})=>{const t=function(e){if("string"==typeof e)return{msg:e};if("object"==typeof e){if(void 0!==e.msg)return{msg:e.msg};if(void 0===e.error)return{msg:JSON.stringify(e)};if("object"!=typeof e.error)return{msg:e.error};if(void 0!==e.error.reason){const t={msg:e.error.reason};return void 0!==e.error.root_cause&&(t.more=JSON.stringify(e.error.root_cause)),t}if(void 0!==e.error.message)return{msg:e.error.message}}return{msg:p.i18n.translate("xpack.dataVisualizer.file.importErrors.unknownErrorMessage",{defaultMessage:"Unknown error"})}}(e);return Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)("p",null,t.msg),void 0!==t.more&&Object(h.jsx)(c.EuiAccordion,{id:"more",buttonContent:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.importErrors.moreButtonLabel",defaultMessage:"More"}),paddingSize:"m"},t.more))};const Re=100;class failures_Failures extends r.Component{constructor(...e){super(...e),l()(this,"state",{page:0})}_renderPaginationControl(){return this.props.failedDocs.length>Re?Object(h.jsx)(c.EuiPagination,{pageCount:Math.floor(this.props.failedDocs.length/Re),activePage:this.state.page,onPageClick:e=>this.setState({page:e}),compressed:!0}):null}render(){const e=this.props.failedDocs.length-1,t=this.state.page*Re,n=t+Re>e?e:t+Re;return Object(h.jsx)(c.EuiAccordion,{id:"failureList",buttonContent:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.importSummary.failedDocumentsButtonLabel",defaultMessage:"Failed documents"}),paddingSize:"m"},Object(h.jsx)("div",{className:"failure-list"},this._renderPaginationControl(),this.props.failedDocs.slice(t,n).map((({item:e,reason:t,doc:n})=>Object(h.jsx)("div",{key:e},Object(h.jsx)("div",{className:"error-message"},e,": ",t),Object(h.jsx)("div",null,JSON.stringify(n)))))))}}const Le=({index:e,indexPattern:t,ingestPipelineId:n,docCount:r,importFailures:a,createIndexPattern:o,createPipeline:s})=>{const l=function(e,t,n,r,i,a,o){const s=[{title:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.importSummary.indexTitle",defaultMessage:"Index"}),description:e},{title:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.importSummary.documentsIngestedTitle",defaultMessage:"Documents ingested"}),description:r-(i&&i.length||0)}];o&&s.splice(1,0,{title:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.importSummary.ingestPipelineTitle",defaultMessage:"Ingest pipeline"}),description:n});a&&s.splice(1,0,{title:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.importSummary.indexPatternTitle",defaultMessage:"Index pattern"}),description:t});i&&i.length>0&&s.push({title:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.importSummary.failedDocumentsTitle",defaultMessage:"Failed documents"}),description:i.length});return s}(e,t,n,r,a,o,s);return Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)(c.EuiCallOut,{title:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.importSummary.importCompleteTitle",defaultMessage:"Import complete"}),color:"success",iconType:"check","data-test-subj":"dataVisualizerFileImportSuccessCallout"},Object(h.jsx)(c.EuiDescriptionList,{type:"column",listItems:l,className:"import-summary-list"})),a&&a.length>0&&Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)(c.EuiSpacer,{size:"m"}),Object(h.jsx)(c.EuiCallOut,{title:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.importSummary.documentsCouldNotBeImportedTitle",defaultMessage:"Some documents could not be imported"}),color:"warning",iconType:"help"},Object(h.jsx)("p",null,Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.importSummary.documentsCouldNotBeImportedDescription",defaultMessage:"{importFailuresLength} out of {docCount} documents could not be imported. This could be due to lines not matching the Grok pattern.",values:{importFailuresLength:a.length,docCount:r}})),Object(h.jsx)(failures_Failures,{failedDocs:a}))))};var Ne=n(114),ze=n.n(Ne);const Ie=["latitude","lat"],De=["longitude","long","lon"];function Ae(e){const t=[],n=function(e){const t=Ue(e),n=t.find((t=>Ie.includes(t.toLowerCase())&&He(t,e.field_stats))),r=t.find((t=>De.includes(t.toLowerCase())&&qe(t,e.field_stats)));if(!n||!r)return null;const i=["location","point_location",`${n}_${r}`,`location_${ze()()}`].find((e=>!t.includes(e)));return i?Ge(n,r,i):null}(e);return n&&t.push(n),t}function Ve(e,t){const n={...e};return t.forEach((e=>{n.properties[e.combinedFieldName]={type:e.mappingType}})),n}function Be(e,t){const n=Object(d.cloneDeep)(e);return t.forEach((e=>{n.processors.push({set:{field:e.combinedFieldName,value:e.fieldNames.map((e=>`{{${e}}}`)).join(e.delimiter)}})})),n}function He(e,t){return e in t&&"max_value"in t[e]&&t[e].max_value<=90&&"min_value"in t[e]&&t[e].min_value>=-90}function qe(e,t){return e in t&&"max_value"in t[e]&&t[e].max_value<=180&&"min_value"in t[e]&&t[e].min_value>=-180}function Ge(e,t,n){return{mappingType:"geo_point",delimiter:",",combinedFieldName:n,fieldNames:[e,t]}}function $e(e){return p.i18n.translate("xpack.dataVisualizer.nameCollisionMsg",{defaultMessage:'"{name}" already exists, please provide a unique name',values:{name:e}})}function Ue(e){return void 0!==e.column_names?e.column_names:Object.keys(e.field_stats)}function Xe({combinedField:e}){return Object(h.jsx)(c.EuiText,{size:"s"},function(e){return`${e.fieldNames.join(e.delimiter)} => ${e.combinedFieldName} (${e.mappingType})`}(e))}function Ye({combinedFields:e}){return e.length?Object(h.jsx)(c.EuiFormRow,{label:p.i18n.translate("xpack.dataVisualizer.combinedFieldsReadOnlyLabel",{defaultMessage:"Combined fields"}),helpText:p.i18n.translate("xpack.dataVisualizer.combinedFieldsReadOnlyHelpTextLabel",{defaultMessage:"Edit combined fields in advanced tab"})},Object(h.jsx)("div",null,e.map(((e,t)=>Object(h.jsx)(Xe,{key:t,combinedField:e}))))):null}class geo_point_GeoPointForm extends r.Component{constructor(e){super(e),l()(this,"onLatFieldChange",(e=>{this.setState({latField:e.target.value})})),l()(this,"onLonFieldChange",(e=>{this.setState({lonField:e.target.value})})),l()(this,"onGeoPointFieldChange",(e=>{const t=e.target.value;this.setState({geoPointField:t}),this.hasNameCollision(t)})),l()(this,"hasNameCollision",Object(d.debounce)((e=>{try{const t=this.props.hasNameCollision(e)?$e(e):"";this.setState({geoPointFieldError:t})}catch(e){this.setState({submitError:e.message})}}),200)),l()(this,"onSubmit",(()=>{try{this.props.addCombinedField(Ge(this.state.latField,this.state.lonField,this.state.geoPointField)),this.setState({submitError:""})}catch(e){this.setState({submitError:e.message})}}));const t=[{value:"",text:""}],n=[{value:"",text:""}];Ue(e.results).forEach((r=>{He(r,e.results.field_stats)&&t.push({value:r,text:r}),qe(r,e.results.field_stats)&&n.push({value:r,text:r})})),this.state={latField:"",lonField:"",geoPointField:"",geoPointFieldError:"",submitError:"",latFields:t,lonFields:n}}render(){let e;return this.state.submitError&&(e=Object(h.jsx)(c.EuiFormErrorText,null,this.state.submitError)),Object(h.jsx)(r.Fragment,null,Object(h.jsx)(c.EuiFormRow,{label:p.i18n.translate("xpack.dataVisualizer.file.geoPointForm.latFieldLabel",{defaultMessage:"Latitude field"})},Object(h.jsx)(c.EuiSelect,{options:this.state.latFields,value:this.state.latField,onChange:this.onLatFieldChange})),Object(h.jsx)(c.EuiFormRow,{label:p.i18n.translate("xpack.dataVisualizer.file.geoPointForm.lonFieldLabel",{defaultMessage:"Longitude field"})},Object(h.jsx)(c.EuiSelect,{options:this.state.lonFields,value:this.state.lonField,onChange:this.onLonFieldChange})),Object(h.jsx)(c.EuiFormRow,{label:p.i18n.translate("xpack.dataVisualizer.file.geoPointForm.geoPointFieldLabel",{defaultMessage:"Geo point field"}),isInvalid:""!==this.state.geoPointFieldError,error:[this.state.geoPointFieldError]},Object(h.jsx)(c.EuiFieldText,{value:this.state.geoPointField,onChange:this.onGeoPointFieldChange,isInvalid:""!==this.state.geoPointFieldError,"aria-label":p.i18n.translate("xpack.dataVisualizer.file.geoPointForm.geoPointFieldAriaLabel",{defaultMessage:"Geo point field, required field"})})),Object(h.jsx)(c.EuiSpacer,{size:"s"}),e,Object(h.jsx)(c.EuiTextAlign,{textAlign:"right"},Object(h.jsx)(c.EuiButton,{size:"s",fill:!0,disabled:!this.state.latField||!this.state.lonField||!this.state.geoPointField||""!==this.state.geoPointFieldError,onClick:this.onSubmit},Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.geoPointForm.submitButtonLabel",defaultMessage:"Add"}))))}}class combined_fields_form_CombinedFieldsForm extends r.Component{constructor(...e){super(...e),l()(this,"state",{isPopoverOpen:!1}),l()(this,"togglePopover",(()=>{this.setState((e=>({isPopoverOpen:!e.isPopoverOpen})))})),l()(this,"closePopover",(()=>{this.setState({isPopoverOpen:!1})})),l()(this,"addCombinedField",(e=>{if(this.hasNameCollision(e.combinedFieldName))throw new Error($e(e.combinedFieldName));const t=this.parseMappings(),n=this.parsePipeline();this.props.onMappingsStringChange(JSON.stringify(Ve(t,[e]),null,2)),this.props.onPipelineStringChange(JSON.stringify(Be(n,[e]),null,2)),this.props.onCombinedFieldsChange([...this.props.combinedFields,e]),this.closePopover()})),l()(this,"removeCombinedField",(e=>{let t,n;try{t=this.parseMappings(),n=this.parsePipeline()}catch(e){return}const r=[...this.props.combinedFields],i=r.splice(e,1);this.props.onMappingsStringChange(JSON.stringify(function(e,t){const n={...e};return t.forEach((e=>{delete n.properties[e.combinedFieldName]})),n}(t,i),null,2)),this.props.onPipelineStringChange(JSON.stringify(function(e,t){return{...e,processors:e.processors.filter((e=>!("set"in e)||!t.some((t=>e.set.field===t.combinedFieldName))))}}(n,i),null,2)),this.props.onCombinedFieldsChange(r)})),l()(this,"hasNameCollision",(e=>{var t;if(null!==(t=this.props.results.column_names)&&void 0!==t&&t.includes(e))return!0;if(this.props.combinedFields.some((t=>t.combinedFieldName===e)))return!0;return this.parseMappings().properties.hasOwnProperty(e)}))}parseMappings(){try{return JSON.parse(this.props.mappingsString)}catch(e){throw new Error(p.i18n.translate("xpack.dataVisualizer.combinedFieldsForm.mappingsParseError",{defaultMessage:"Error parsing mappings: {error}",values:{error:e.message}}))}}parsePipeline(){try{return JSON.parse(this.props.pipelineString)}catch(e){throw new Error(p.i18n.translate("xpack.dataVisualizer.combinedFieldsForm.pipelineParseError",{defaultMessage:"Error parsing pipeline: {error}",values:{error:e.message}}))}}render(){const e=p.i18n.translate("xpack.dataVisualizer.file.geoPointForm.combinedFieldLabel",{defaultMessage:"Add geo point field"}),t=[{id:0,items:[{name:e,panel:1}]},{id:1,title:e,content:Object(h.jsx)(geo_point_GeoPointForm,{addCombinedField:this.addCombinedField,hasNameCollision:this.hasNameCollision,results:this.props.results})}];return Object(h.jsx)(c.EuiFormRow,{label:p.i18n.translate("xpack.dataVisualizer.combinedFieldsLabel",{defaultMessage:"Combined fields"})},Object(h.jsx)("div",null,this.props.combinedFields.map(((e,t)=>Object(h.jsx)(c.EuiFlexGroup,{key:t,gutterSize:"s"},Object(h.jsx)(c.EuiFlexItem,null,Object(h.jsx)(Xe,{combinedField:e})),!this.props.isDisabled&&Object(h.jsx)(c.EuiFlexItem,{grow:!1},Object(h.jsx)(c.EuiButtonIcon,{iconType:"trash",color:"danger",onClick:this.removeCombinedField.bind(null,t),title:p.i18n.translate("xpack.dataVisualizer.removeCombinedFieldsLabel",{defaultMessage:"Remove combined field"}),"aria-label":p.i18n.translate("xpack.dataVisualizer.removeCombinedFieldsLabel",{defaultMessage:"Remove combined field"})}))))),Object(h.jsx)(c.EuiPopover,{id:"combineFieldsPopover",button:Object(h.jsx)(c.EuiButtonEmpty,{onClick:this.togglePopover,size:"xs",iconType:"plusInCircleFilled",isDisabled:this.props.isDisabled},Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.addCombinedFieldsLabel",defaultMessage:"Add combined field"})),isOpen:this.state.isPopoverOpen,closePopover:this.closePopover,anchorPosition:"rightCenter"},Object(h.jsx)(c.EuiContextMenu,{initialPanelId:0,panels:t}))))}}const Je=({index:e,initialized:t,onIndexChange:n,createIndexPattern:r,onCreateIndexPatternChange:a,indexNameError:o,combinedFields:s})=>Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)(c.EuiFormRow,{label:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.simpleImportSettings.indexNameFormRowLabel",defaultMessage:"Index name"}),isInvalid:""!==o,error:[o]},Object(h.jsx)(c.EuiFieldText,{placeholder:p.i18n.translate("xpack.dataVisualizer.file.simpleImportSettings.indexNamePlaceholder",{defaultMessage:"index name"}),value:e,disabled:!0===t,onChange:n,isInvalid:""!==o,"aria-label":p.i18n.translate("xpack.dataVisualizer.file.simpleImportSettings.indexNameAriaLabel",{defaultMessage:"Index name, required field"}),"data-test-subj":"dataVisualizerFileIndexNameInput"})),Object(h.jsx)(c.EuiSpacer,{size:"m"}),Object(h.jsx)(c.EuiCheckbox,{id:"createIndexPattern",label:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.simpleImportSettings.createIndexPatternLabel",defaultMessage:"Create index pattern"}),checked:!0===r,disabled:!0===t,onChange:a,"data-test-subj":"dataVisualizerFileCreateIndexPatternCheckbox"}),Object(h.jsx)(c.EuiSpacer,{size:"m"}),Object(h.jsx)(Ye,{combinedFields:s})),We="300px",Ke=({index:e,indexPattern:t,initialized:n,onIndexChange:r,createIndexPattern:a,onCreateIndexPatternChange:o,onIndexPatternChange:s,indexSettingsString:l,mappingsString:d,pipelineString:f,onIndexSettingsStringChange:m,onMappingsStringChange:g,onPipelineStringChange:x,indexNameError:b,indexPatternNameError:v,combinedFields:y,onCombinedFieldsChange:w,results:j})=>Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)(c.EuiFormRow,{label:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.advancedImportSettings.indexNameLabel",defaultMessage:"Index name"}),isInvalid:""!==b,error:[b]},Object(h.jsx)(c.EuiFieldText,{placeholder:p.i18n.translate("xpack.dataVisualizer.file.advancedImportSettings.indexNamePlaceholder",{defaultMessage:"index name"}),value:e,disabled:!0===n,onChange:r,isInvalid:""!==b,"aria-label":p.i18n.translate("xpack.dataVisualizer.file.advancedImportSettings.indexNameAriaLabel",{defaultMessage:"Index name, required field"})})),Object(h.jsx)(c.EuiSpacer,{size:"m"}),Object(h.jsx)(c.EuiCheckbox,{id:"createIndexPattern",label:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.advancedImportSettings.createIndexPatternLabel",defaultMessage:"Create index pattern"}),checked:!0===a,disabled:!0===n,onChange:o}),Object(h.jsx)(c.EuiSpacer,{size:"s"}),Object(h.jsx)(c.EuiFormRow,{label:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.advancedImportSettings.indexPatternNameLabel",defaultMessage:"Index pattern name"}),isInvalid:""!==v,error:[v]},Object(h.jsx)(c.EuiFieldText,{disabled:!1===a||!0===n,placeholder:!0===a?e:"",value:t,onChange:s,isInvalid:""!==v})),Object(h.jsx)(combined_fields_form_CombinedFieldsForm,{mappingsString:d,pipelineString:f,onMappingsStringChange:g,onPipelineStringChange:x,combinedFields:y,onCombinedFieldsChange:w,results:j,isDisabled:!0===n}),Object(h.jsx)(c.EuiFlexGroup,null,Object(h.jsx)(c.EuiFlexItem,null,Object(h.jsx)(Ze,{initialized:n,data:l,onChange:m})),Object(h.jsx)(c.EuiFlexItem,null,Object(h.jsx)(Qe,{initialized:n,data:d,onChange:g})),Object(h.jsx)(c.EuiFlexItem,null,Object(h.jsx)(et,{initialized:n,data:f,onChange:x})))),Ze=({initialized:e,data:t,onChange:n})=>Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)(c.EuiFormRow,{label:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.advancedImportSettings.indexSettingsLabel",defaultMessage:"Index settings"}),fullWidth:!0},Object(h.jsx)(S,{mode:O,readOnly:!0===e,value:t,height:We,syntaxChecking:!1,onChange:n}))),Qe=({initialized:e,data:t,onChange:n})=>Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)(c.EuiFormRow,{label:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.advancedImportSettings.mappingsLabel",defaultMessage:"Mappings"}),fullWidth:!0},Object(h.jsx)(S,{mode:O,readOnly:!0===e,value:t,height:We,syntaxChecking:!1,onChange:n}))),et=({initialized:e,data:t,onChange:n})=>Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)(c.EuiFormRow,{label:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.advancedImportSettings.ingestPipelineLabel",defaultMessage:"Ingest pipeline"}),fullWidth:!0},Object(h.jsx)(S,{mode:O,readOnly:!0===e,value:t,height:We,syntaxChecking:!1,onChange:n}))),tt=({index:e,indexPattern:t,initialized:n,onIndexChange:r,createIndexPattern:a,onCreateIndexPatternChange:o,onIndexPatternChange:s,indexSettingsString:l,mappingsString:u,pipelineString:d,onIndexSettingsStringChange:f,onMappingsStringChange:m,onPipelineStringChange:g,indexNameError:x,indexPatternNameError:b,combinedFields:v,onCombinedFieldsChange:y,results:w})=>{const j=[{id:"simple-settings",name:p.i18n.translate("xpack.dataVisualizer.file.importSettings.simpleTabName",{defaultMessage:"Simple"}),content:Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)(c.EuiSpacer,{size:"m"}),Object(h.jsx)(Je,{index:e,initialized:n,onIndexChange:r,createIndexPattern:a,onCreateIndexPatternChange:o,indexNameError:x,combinedFields:v}))},{id:"advanced-settings",name:p.i18n.translate("xpack.dataVisualizer.file.importSettings.advancedTabName",{defaultMessage:"Advanced"}),content:Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)(c.EuiSpacer,{size:"m"}),Object(h.jsx)(Ke,{index:e,indexPattern:t,initialized:n,onIndexChange:r,createIndexPattern:a,onCreateIndexPatternChange:o,onIndexPatternChange:s,indexSettingsString:l,mappingsString:u,pipelineString:d,onIndexSettingsStringChange:f,onMappingsStringChange:m,onPipelineStringChange:g,indexNameError:x,indexPatternNameError:b,combinedFields:v,onCombinedFieldsChange:y,results:w}))}];return Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)(c.EuiTabbedContent,{tabs:j,initialSelectedTab:j[0],onTabClick:()=>{}}))},nt="@timestamp",rt={number_of_shards:1},it={index:"",importing:!1,imported:!1,initialized:!1,reading:!1,readProgress:0,readStatus:Se.INCOMPLETE,parseJSONStatus:Se.INCOMPLETE,indexCreatedStatus:Se.INCOMPLETE,indexPatternCreatedStatus:Se.INCOMPLETE,ingestPipelineCreatedStatus:Se.INCOMPLETE,permissionCheckStatus:Se.INCOMPLETE,uploadProgress:0,uploadStatus:Se.INCOMPLETE,createIndexPattern:!0,indexPattern:"",indexPatternId:"",ingestPipelineId:"",errors:[],importFailures:[],docCount:0,configMode:0,indexSettingsString:"",mappingsString:"",pipelineString:"",indexNames:[],indexPatternNames:[],indexNameError:"",indexPatternNameError:"",timeFieldName:void 0,isFilebeatFlyoutVisible:!1,checkingValidIndex:!1,combinedFields:[]};class import_view_ImportView extends r.Component{constructor(e){super(e),l()(this,"clickReset",(()=>{const e=at(this.state,this.props.results);this.setState(e,(()=>{this.loadIndexPatternNames()}))})),l()(this,"clickImport",(()=>{this.import()})),l()(this,"onConfigModeChange",(e=>{this.setState({configMode:e})})),l()(this,"onIndexChange",(e=>{const t=e.target.value;this.setState({index:t,checkingValidIndex:!0}),this.debounceIndexCheck(t)})),l()(this,"debounceIndexCheck",Object(d.debounce)((async e=>{if(""===e)return void this.setState({checkingValidIndex:!1});const t=await this.props.fileUpload.checkIndexExists(e)?Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.importView.indexNameAlreadyExistsErrorMessage",defaultMessage:"Index name already exists"}):function(e){const t=new RegExp('[\\\\/*?"<>|\\s,#]+');if(e!==e.toLowerCase()||"."===e||".."===e||null!==e.match(/^[-_+]/)||null!==e.match(t))return Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.importView.indexNameContainsIllegalCharactersErrorMessage",defaultMessage:"Index name contains illegal characters"});return""}(e);this.setState({checkingValidIndex:!1,indexNameError:t})}),500)),l()(this,"onIndexPatternChange",(e=>{const t=e.target.value,{indexPatternNames:n,index:r}=this.state;this.setState({indexPattern:t,indexPatternNameError:ot(t,n,r)})})),l()(this,"onCreateIndexPatternChange",(e=>{this.setState({createIndexPattern:e.target.checked})})),l()(this,"onIndexSettingsStringChange",(e=>{this.setState({indexSettingsString:e})})),l()(this,"onMappingsStringChange",(e=>{this.setState({mappingsString:e})})),l()(this,"onPipelineStringChange",(e=>{this.setState({pipelineString:e})})),l()(this,"onCombinedFieldsChange",(e=>{this.setState({combinedFields:e})})),l()(this,"setImportProgress",(e=>{this.setState({uploadProgress:e})})),l()(this,"setReadProgress",(e=>{this.setState({readProgress:e})})),l()(this,"showFilebeatFlyout",(()=>{this.setState({isFilebeatFlyoutVisible:!0}),this.props.hideBottomBar()})),l()(this,"closeFilebeatFlyout",(()=>{this.setState({isFilebeatFlyoutVisible:!1}),this.props.showBottomBar()})),this.state=at(it,this.props.results),this.savedObjectsClient=e.savedObjectsClient}componentDidMount(){this.loadIndexPatternNames()}async import(){const{data:e,results:t,indexPatterns:n,showBottomBar:r,fileUpload:i}=this.props,{format:a}=t;let{timeFieldName:o}=this.state;const{index:s,indexPattern:l,createIndexPattern:u,indexSettingsString:c,mappingsString:d,pipelineString:f}=this.state,h=[];""!==s&&this.setState({importing:!0,errors:h},(async()=>{if(!1===await i.hasImportPermission({checkCreateIndexPattern:u,checkHasManagePipeline:!0,indexName:s}))return h.push(p.i18n.translate("xpack.dataVisualizer.file.importView.importPermissionError",{defaultMessage:"You do not have permission to create or import data into index {index}.",values:{index:s}})),void this.setState({permissionCheckStatus:Se.FAILED,importing:!1,imported:!1,errors:h});this.setState({importing:!0,imported:!1,reading:!0,initialized:!0,permissionCheckStatus:Se.COMPLETE},(()=>{this.props.hideBottomBar(),setTimeout((async()=>{let m=!0;const g=""!==f;let x={},b={},v={};try{x=JSON.parse(c)}catch(e){m=!1;const t=p.i18n.translate("xpack.dataVisualizer.file.importView.parseSettingsError",{defaultMessage:"Error parsing settings:"});h.push(`${t} ${e.message}`)}try{b=JSON.parse(d)}catch(e){m=!1;const t=p.i18n.translate("xpack.dataVisualizer.file.importView.parseMappingsError",{defaultMessage:"Error parsing mappings:"});h.push(`${t} ${e.message}`)}try{g&&(v=JSON.parse(f))}catch(e){m=!1;const t=p.i18n.translate("xpack.dataVisualizer.file.importView.parsePipelineError",{defaultMessage:"Error parsing ingest pipeline:"});h.push(`${t} ${e.message}`)}if(this.setState({parseJSONStatus:m?Se.COMPLETE:Se.FAILED}),void 0!==b.properties["@timestamp"]&&(o=nt,this.setState({timeFieldName:o})),m){const r=await i.importerFactory(a,{excludeLinesPattern:t.exclude_lines_pattern,multilineStartPattern:t.multiline_start_pattern});if(void 0!==r){const t=r.read(e,this.setReadProgress);if(m=t.success,this.setState({readStatus:m?Se.COMPLETE:Se.FAILED,reading:!1}),!1===t.success&&(console.error(t.error),h.push(t.error)),m){const e=await r.initializeImport(s,x,b,v),t=void 0!==e.index;if(this.setState({indexCreatedStatus:t?Se.COMPLETE:Se.FAILED}),g){const n=void 0!==e.pipelineId;t&&this.setState({ingestPipelineCreatedStatus:n?Se.COMPLETE:Se.FAILED,ingestPipelineId:n?e.pipelineId:""}),m=t&&n}else m=t;if(m){const t=e.id,i=e.pipelineId,a=await r.import(t,s,i,this.setImportProgress);if(m=a.success,this.setState({uploadStatus:a.success?Se.COMPLETE:Se.FAILED,importFailures:a.failures,docCount:a.docCount}),m){if(u){const e=""===l?s:l,t=await async function(e,t,n){try{return{success:!0,id:(await t.createAndSave({title:e,timeFieldName:n})).id}}catch(e){return{success:!1,error:e}}}(e,n,o);m=t.success,this.setState({indexPatternCreatedStatus:t.success?Se.COMPLETE:Se.FAILED,indexPatternId:t.id}),!1===t.success&&h.push(t.error)}}else h.push(a.error)}else h.push(e.error)}}}r(),this.setState({importing:!1,imported:m,errors:h})}),500)}))}))}async loadIndexPatternNames(){try{const e=(await this.savedObjectsClient.find({type:"index-pattern",fields:["title"],perPage:1e4})).savedObjects.map((({attributes:e})=>e&&e.title));this.setState({indexPatternNames:e})}catch(e){console.error("failed to load index patterns",e)}}render(){var e,t;const{index:n,indexPattern:r,indexPatternId:a,ingestPipelineId:o,importing:s,imported:l,reading:d,initialized:p,readStatus:f,parseJSONStatus:m,indexCreatedStatus:g,ingestPipelineCreatedStatus:x,indexPatternCreatedStatus:b,permissionCheckStatus:v,uploadProgress:y,uploadStatus:w,createIndexPattern:j,errors:_,docCount:E,importFailures:O,indexSettingsString:M,mappingsString:S,pipelineString:T,indexNameError:C,indexPatternNameError:k,timeFieldName:F,isFilebeatFlyoutVisible:P,checkingValidIndex:R,combinedFields:L}=this.state,N=""!==T,z={reading:d,readStatus:f,parseJSONStatus:m,indexCreatedStatus:g,ingestPipelineCreatedStatus:x,indexPatternCreatedStatus:b,permissionCheckStatus:v,uploadProgress:y,uploadStatus:w,createIndexPattern:j,createPipeline:N},I=""===n||""!==C||!0===j&&""!==k||!0===p||!0===R;return Object(h.jsx)(c.EuiPage,{"data-test-subj":"dataVisualizerPageFileImport"},Object(h.jsx)(c.EuiPageBody,null,Object(h.jsx)(c.EuiPageContentHeader,null,Object(h.jsx)(c.EuiTitle,null,Object(h.jsx)("h1",null,this.props.fileName))),Object(h.jsx)(c.EuiSpacer,{size:"m"}),Object(h.jsx)(c.EuiPanel,{"data-test-subj":"dataVisualizerFileImportSettingsPanel"},Object(h.jsx)(c.EuiTitle,{size:"s"},Object(h.jsx)("h2",null,Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.importView.importDataTitle",defaultMessage:"Import data"}))),Object(h.jsx)(tt,{index:n,indexPattern:r,initialized:p,onIndexChange:this.onIndexChange,createIndexPattern:j,onCreateIndexPatternChange:this.onCreateIndexPatternChange,onIndexPatternChange:this.onIndexPatternChange,indexSettingsString:M,mappingsString:S,pipelineString:T,onIndexSettingsStringChange:this.onIndexSettingsStringChange,onMappingsStringChange:this.onMappingsStringChange,onPipelineStringChange:this.onPipelineStringChange,indexNameError:C,indexPatternNameError:k,combinedFields:L,onCombinedFieldsChange:this.onCombinedFieldsChange,results:this.props.results}),Object(h.jsx)(c.EuiSpacer,{size:"m"}),(!1===p||!0===s)&&Object(h.jsx)(c.EuiButton,{isDisabled:I,onClick:this.clickImport,isLoading:s,iconSide:"right",fill:!0,"data-test-subj":"dataVisualizerFileImportButton"},Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.importView.importButtonLabel",defaultMessage:"Import"})),!0===p&&!1===s&&Object(h.jsx)(c.EuiButton,{onClick:this.clickReset},Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.importView.resetButtonLabel",defaultMessage:"Reset"}))),!0===p&&Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)(c.EuiSpacer,{size:"m"}),Object(h.jsx)(c.EuiPanel,null,Object(h.jsx)(Te,{statuses:z}),!0===l&&Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)(c.EuiSpacer,{size:"m"}),Object(h.jsx)(Le,{index:n,indexPattern:""===r?n:r,ingestPipelineId:o,docCount:E,importFailures:O,createIndexPattern:j,createPipeline:N}),Object(h.jsx)(c.EuiSpacer,{size:"l"}),Object(h.jsx)(xe,{fieldStats:null===(e=this.props.results)||void 0===e?void 0:e.field_stats,index:n,indexPatternId:a,timeFieldName:F,createIndexPattern:j,showFilebeatFlyout:this.showFilebeatFlyout,additionalLinks:null!==(t=this.props.resultsLinks)&&void 0!==t?t:[]}),P&&Object(h.jsx)(Oe,{index:n,results:this.props.results,indexPatternId:a,ingestPipelineId:o,closeFlyout:this.closeFilebeatFlyout})))),_.length>0&&Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)(c.EuiSpacer,{size:"m"}),Object(h.jsx)(ke,{errors:_,statuses:z}))))}}function at(e,t){const n=""===e.indexSettingsString?JSON.stringify(rt,null,2):e.indexSettingsString,r=e.combinedFields.length?e.combinedFields:Ae(t),i=""===e.mappingsString?JSON.stringify(Ve(t.mappings,r),null,2):e.mappingsString,a=""===e.pipelineString&&void 0!==t.ingest_pipeline?JSON.stringify(Be(t.ingest_pipeline,r),null,2):e.pipelineString,o=t.timestamp_field;return{...it,indexSettingsString:n,mappingsString:i,pipelineString:a,timeFieldName:o,combinedFields:r}}function ot(e,t,n){if(""===e)return"";if(t.find((t=>t===e)))return Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.importView.indexPatternNameAlreadyExistsErrorMessage",defaultMessage:"Index pattern name already exists"});let r=e.replace(/\./g,"\\.");r=r.replace(/\+/g,"\\+"),r=r.replace(/\*/g,".*");const i=new RegExp(`^${r}$`);return null===n.match(i)?Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.importView.indexPatternDoesNotMatchIndexNameErrorMessage",defaultMessage:"Index pattern does not match index name"}):""}class file_data_visualizer_view_FileDataVisualizerView extends r.Component{constructor(e){super(e),l()(this,"onFilePickerChange",(e=>{this.overrides={},this.setState({loading:e.length>0,bottomBarVisible:e.length>0,loaded:!1,fileName:"",fileContents:"",data:[],fileSize:0,fileTooLarge:!1,fileCouldNotBeRead:!1,fileCouldNotBeReadPermissionError:!1,serverError:null,results:void 0,explanation:void 0},(()=>{e.length&&this.loadFile(e[0])}))})),l()(this,"closeEditFlyout",(()=>{this.setState({isEditFlyoutVisible:!1}),this.showBottomBar()})),l()(this,"showEditFlyout",(()=>{this.setState({isEditFlyoutVisible:!0}),this.hideBottomBar()})),l()(this,"closeExplanationFlyout",(()=>{this.setState({isExplanationFlyoutVisible:!1}),this.showBottomBar()})),l()(this,"showExplanationFlyout",(()=>{this.setState({isExplanationFlyoutVisible:!0}),this.hideBottomBar()})),l()(this,"showBottomBar",(()=>{this.setState({bottomBarVisible:!0})})),l()(this,"hideBottomBar",(()=>{this.setState({bottomBarVisible:!1})})),l()(this,"setOverrides",(e=>{this.setState({loading:!0,loaded:!1},(()=>{const t=Object(B.b)(e,this.originalSettings);this.analyzeFile(this.state.fileContents,t)}))})),l()(this,"changeMode",(e=>{this.setState({mode:e})})),l()(this,"onCancel",(()=>{this.overrides={},this.previousOverrides={},this.originalSettings={linesToSample:B.a},this.changeMode(b.READ),this.onFilePickerChange([])})),this.state={files:{},fileName:"",fileContents:"",data:[],fileSize:0,fileTooLarge:!1,fileCouldNotBeRead:!1,serverError:null,loading:!1,loaded:!1,results:void 0,explanation:void 0,mode:b.READ,isEditFlyoutVisible:!1,isExplanationFlyoutVisible:!1,bottomBarVisible:!1,hasPermissionToImport:!1,fileCouldNotBeReadPermissionError:!1},this.overrides={},this.previousOverrides={},this.originalSettings={linesToSample:B.a},this.savedObjectsClient=e.savedObjectsClient,this.maxFileUploadBytes=e.fileUpload.getMaxBytes()}async componentDidMount(){const e=await this.props.fileUpload.hasImportPermission({checkCreateIndexPattern:!1,checkHasManagePipeline:!0});this.setState({hasPermissionToImport:e})}async loadFile(e){if(e.size<=this.maxFileUploadBytes)try{const{data:t,fileContents:n}=await Object(B.g)(e);this.setState({data:t,fileContents:n,fileName:e.name,fileSize:e.size}),await this.analyzeFile(n)}catch(e){this.setState({loaded:!1,loading:!1,fileCouldNotBeRead:!0})}else this.setState({loaded:!1,loading:!1,fileTooLarge:!0,fileName:e.name,fileSize:e.size})}async analyzeFile(e,t,n=!1){try{const r=await this.props.fileUpload.analyzeFile(e,t),i=Object(B.f)(r),a=r.overrides;if(this.previousOverrides=t,this.overrides={},"xml"===i.format)throw{message:Object(h.jsx)(u.FormattedMessage,{id:"xpack.dataVisualizer.file.xmlNotCurrentlySupportedErrorMessage",defaultMessage:"XML not currently supported"})};void 0===a?this.originalSettings=i:(Object.keys(a).forEach((e=>{const t=e.replace(/_\w/g,(e=>e[1].toUpperCase()));this.overrides[t]=a[e]})),Object.keys(i).forEach((e=>{const t=i[e];void 0===this.overrides[e]&&(Array.isArray(t)&&!1===Object(d.isEqual)(t,this.originalSettings[e])||t!==this.originalSettings[e])&&(this.originalSettings[e]=t)}))),this.setState({results:r.results,explanation:r.explanation,loaded:!0,loading:!1,fileCouldNotBeRead:n})}catch(t){const r=403===t.body.statusCode;this.setState({results:void 0,explanation:void 0,loaded:!1,loading:!1,fileCouldNotBeRead:!0,fileCouldNotBeReadPermissionError:r,serverError:t}),!1===n&&!1===r&&(this.setState({loading:!0,loaded:!1}),this.analyzeFile(e,this.previousOverrides,!0))}}render(){const{loading:e,loaded:t,results:n,explanation:r,fileContents:a,data:o,fileName:s,fileSize:l,fileTooLarge:u,fileCouldNotBeRead:d,serverError:p,mode:f,isEditFlyoutVisible:m,isExplanationFlyoutVisible:y,bottomBarVisible:w,hasPermissionToImport:j,fileCouldNotBeReadPermissionError:_}=this.state,E=void 0!==n&&void 0!==n.field_stats?Object.keys(n.field_stats):[];return Object(h.jsx)("div",null,f===b.READ&&Object(h.jsx)(i.a.Fragment,null,!e&&!t&&Object(h.jsx)(g,{onFilePickerChange:this.onFilePickerChange,disabled:!_}),e&&Object(h.jsx)(x,null),u&&Object(h.jsx)(J,{fileSize:l,maxFileSize:this.maxFileUploadBytes}),d&&!1===e&&Object(h.jsx)(i.a.Fragment,null,_?Object(h.jsx)(Z,null):Object(h.jsx)(W,{error:p,loaded:t,showEditFlyout:this.showEditFlyout}),Object(h.jsx)(c.EuiSpacer,{size:"l"})),t&&Object(h.jsx)(U,{results:n,explanation:r,fileName:s,data:a,showEditFlyout:this.showEditFlyout,showExplanationFlyout:this.showExplanationFlyout,disableButtons:m||y}),Object(h.jsx)(edit_flyout_EditFlyout,{setOverrides:this.setOverrides,closeEditFlyout:this.closeEditFlyout,isFlyoutVisible:m,originalSettings:this.originalSettings,overrides:this.overrides,fields:E}),y&&Object(h.jsx)(pe,{results:n,closeFlyout:this.closeExplanationFlyout}),w&&t&&Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)(v,{mode:b.READ,onChangeMode:this.changeMode,onCancel:this.onCancel,disableImport:!1===j}),Object(h.jsx)(st,null))),f===b.IMPORT&&Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)(import_view_ImportView,{results:n,fileName:s,fileContents:a,data:o,indexPatterns:this.props.indexPatterns,showBottomBar:this.showBottomBar,hideBottomBar:this.hideBottomBar,savedObjectsClient:this.savedObjectsClient,fileUpload:this.props.fileUpload,resultsLinks:this.props.resultsLinks}),w&&Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)(v,{mode:b.IMPORT,onChangeMode:this.changeMode,onCancel:this.onCancel}),Object(h.jsx)(st,null))))}}function st(){return Object(h.jsx)(i.a.Fragment,null,Object(h.jsx)(c.EuiSpacer,{size:"m"}),Object(h.jsx)(c.EuiSpacer,{size:"l"}),Object(h.jsx)(c.EuiSpacer,{size:"l"}))}const lt=({additionalLinks:e})=>{const t=Object(o.a)(),{data:n,maps:r,embeddable:i,share:s,security:l,fileUpload:u}=Object(o.b)(),c={data:n,maps:r,embeddable:i,share:s,security:l,fileUpload:u,...t};return Object(h.jsx)(a.KibanaContextProvider,{services:{...c}},Object(h.jsx)(file_data_visualizer_view_FileDataVisualizerView,{indexPatterns:n.indexPatterns,savedObjectsClient:t.savedObjects.client,http:t.http,fileUpload:u,resultsLinks:e}))};t.default=lt},function(e,t,n){"use strict";n.d(t,"a",(function(){return H}));var r=n(4),i=n.n(r),a=n(14),o=n(2),s=n(16),l=n(0),u=n(44);function c(e){return e.hasOwnProperty("existsInDocs")}var d=n(3);const p=({config:e,showIcon:t})=>{const{stats:n}=e;if(void 0===n)return null;const{count:r,sampleCount:o}=n,s=null!=r?r:c(e)&&!0===e.existsInDocs?void 0:0,l=void 0!==s&&void 0!==o?Object(u.h)(s/o*100):0;return void 0!==s?Object(d.jsx)(i.a.Fragment,null,t?Object(d.jsx)(a.EuiIcon,{type:"document",size:"m",className:"columnHeader__icon"}):null,Object(d.jsx)(a.EuiText,{size:"xs"},s," (",l,"%)")):null};var f=n(22),h=n.n(f),m=n(74);const g=({config:e})=>{const{stats:t,fieldFormat:n,fieldName:o}=e,[s,l]=Object(r.useState)([]),[c,p]=Object(r.useState)(),f=`dataVisualizerDataGridChart-${o}`;return Object(r.useEffect)((()=>{const e=Object(m.b)(t,100);Array.isArray(e)&&void 0!==e[0].x&&void 0!==e[e.length-1].x&&(l(e),p({min:Object(u.c)(e[0].x),max:Object(u.c)(e[e.length-1].x)}))}),[]),Object(d.jsx)("div",{"data-test-subj":f},Object(d.jsx)("div",{className:"dataGridChart__histogram","data-test-subj":`${f}-histogram`},Object(d.jsx)(m.a,{width:100,height:10,chartData:s,fieldFormat:n,hideXAxis:!0})),Object(d.jsx)("div",{className:"dataGridChart__legend","data-test-subj":`${f}-legend`},c&&Object(d.jsx)(i.a.Fragment,null,Object(d.jsx)(a.EuiFlexGroup,{direction:"row","data-test-subj":`${f}-legend`,responsive:!1},Object(d.jsx)(a.EuiFlexItem,{className:"dataGridChart__legend"},Object(u.d)(c.min,n)),Object(d.jsx)(a.EuiFlexItem,{className:h()("dataGridChart__legend","dataGridChart__legend--numeric")},Object(u.d)(c.max,n))))))},x=[10,25,50,100];var b=n(20);n(94);const v=e=>"object"==typeof e&&e.hasOwnProperty("data")&&e.hasOwnProperty("id")&&e.hasOwnProperty("interval")&&e.hasOwnProperty("stats")&&e.hasOwnProperty("type")&&"numeric"===e.type,y=e=>"object"==typeof e&&e.hasOwnProperty("data")&&e.hasOwnProperty("cardinality")&&e.hasOwnProperty("id")&&e.hasOwnProperty("type")&&("ordinal"===e.type||"boolean"===e.type);var w=n(18),j=n.n(w),_=n(21),E=n(103),O=n.n(E),M=n(23);const S=new _.BehaviorSubject(null),T=Object(a.euiPaletteColorBlind)()[0],C=Object(a.euiPaletteColorBlind)({rotations:2})[10],k=(e,t=20)=>{if("unsupported"===e.type)return o.i18n.translate("xpack.dataVisualizer.dataGridChart.histogramNotAvailable",{defaultMessage:"Chart not supported."});if(0===e.data.length)return o.i18n.translate("xpack.dataVisualizer.dataGridChart.notEnoughData",{defaultMessage:"0 documents contain field."});var n,r,i,a;if("boolean"===e.type)return Object(d.jsx)("table",null,Object(d.jsx)("tbody",null,Object(d.jsx)("tr",null,void 0!==e.data[0]&&Object(d.jsx)("td",{className:"dataGridChart__legendBoolean"},null!==(n=null===(r=e.data[0].key_as_string)||void 0===r?void 0:r.slice(0,1))&&void 0!==n?n:""),void 0!==e.data[1]&&Object(d.jsx)("td",{className:"dataGridChart__legendBoolean"},null!==(i=null===(a=e.data[1].key_as_string)||void 0===a?void 0:a.slice(0,1))&&void 0!==i?i:""))));if(y(e)&&e.cardinality<=t)return o.i18n.translate("xpack.dataVisualizer.dataGridChart.singleCategoryLegend",{defaultMessage:"{cardinality, plural, one {# category} other {# categories}}",values:{cardinality:e.cardinality}});if(y(e)&&e.cardinality>t)return o.i18n.translate("xpack.dataVisualizer.dataGridChart.topCategoriesLegend",{defaultMessage:"top {maxChartColumns} of {cardinality} categories",values:{cardinality:e.cardinality,maxChartColumns:t}});if(v(e)){const t=Math.round(100*e.stats[0])/100,n=Math.round(100*e.stats[1])/100;return t!==n?`${t} - ${n}`:""+t}return""},F=(e,t,n)=>{const r=(e=>{if("non-aggregatable"===e)return;let t;switch(e){case"datetime":t=M.KBN_FIELD_TYPES.DATE;break;case"numeric":t=M.KBN_FIELD_TYPES.NUMBER;break;case"boolean":t=M.KBN_FIELD_TYPES.BOOLEAN;break;case"json":t=M.KBN_FIELD_TYPES.OBJECT;break;default:t=M.KBN_FIELD_TYPES.STRING}return t})(t.schema),i=O()(S),a=(e=>{switch(e){case M.KBN_FIELD_TYPES.BOOLEAN:case M.KBN_FIELD_TYPES.IP:case M.KBN_FIELD_TYPES.STRING:return"ordinal";case M.KBN_FIELD_TYPES.DATE:return"time";case M.KBN_FIELD_TYPES.NUMBER:return"linear"}})(r),o=n=>null==i||y(e)&&"ordinal"===a&&i._source[t.id]===n.key||v(e)&&"linear"===a&&i._source[t.id]>=+n.key&&i._source[t.id]<+n.key+e.interval||v(e)&&"time"===a&&1e3*j()(i._source[t.id]).unix()>=+n.key&&1e3*j()(i._source[t.id]).unix()<+n.key+e.interval?T:C;let s=[];return y(e)?s=e.data.map(((e,t)=>{var n;return{...e,x:t,key_as_string:null!==(n=e.key_as_string)&&void 0!==n?n:e.key,color:o(e)}})):v(e)&&(s=e.data.map(((e,t)=>({...e,x:t,key_as_string:e.key_as_string||e.key,color:o(e)})))),{data:s,legendText:k(e,n),xScaleType:a}},P={bottom:0,left:0,right:0,top:0},R={width:100,height:10},L=({chartData:e,columnType:t,dataTestSubj:n,hideLabel:r,maxChartColumns:i})=>{const{data:a,legendText:o}=F(e,t,i);return Object(d.jsx)("div",{"data-test-subj":n},!("object"==typeof(s=e)&&s.hasOwnProperty("type")&&"unsupported"===s.type)&&a.length>0&&Object(d.jsx)(b.Chart,{size:R},Object(d.jsx)(b.Settings,{xDomain:{min:0,max:9},theme:{chartMargins:P,chartPaddings:P}}),Object(d.jsx)(b.Axis,{id:"bottom",position:b.Position.Bottom,tickFormat:e=>{var t,n;return`${null!==(t=null===(n=a[e])||void 0===n?void 0:n.key_as_string)&&void 0!==t?t:""}`},hide:!0}),Object(d.jsx)(b.BarSeries,{id:"count",xScaleType:b.ScaleType.Linear,yScaleType:b.ScaleType.Linear,xAccessor:"x",yAccessors:["doc_count"],data:a,styleAccessor:e=>e.datum.color})),Object(d.jsx)("div",{className:h()("dataGridChart__legend",{"dataGridChart__legend--numeric":"number"===t.schema}),"data-test-subj":`${n}-legend`},o),!r&&Object(d.jsx)("div",{"data-test-subj":`${n}-id`},t.id));var s},N=({config:e})=>{const{stats:t}=e;if(void 0===t)return null;const{topValues:n,cardinality:r}=t;if(void 0===r||void 0===n||void 0===e.fieldName)return null;const i={cardinality:r,data:n.map((e=>({...e,key:e.key.toString()}))),id:e.fieldName,type:"ordinal"},a={id:e.fieldName,schema:void 0};return Object(d.jsx)(L,{chartData:i,columnType:a,dataTestSubj:`dataVisualizerDataGridChart-${e.fieldName}`,hideLabel:!0,maxChartColumns:10})};var z=n(15);const I=({config:e})=>{const t=e.stats;return void 0===t||void 0===t.min||void 0===t.median||void 0===t.max?null:Object(d.jsx)(a.EuiFlexGroup,{direction:"column",gutterSize:"xs"},Object(d.jsx)(a.EuiFlexGroup,{gutterSize:"xs"},Object(d.jsx)(a.EuiFlexItem,null,Object(d.jsx)(a.EuiText,{size:"xs"},Object(d.jsx)(z.FormattedMessage,{id:"xpack.dataVisualizer.fieldStats.minTitle",defaultMessage:"min"}))),Object(d.jsx)(a.EuiFlexItem,null,Object(d.jsx)(a.EuiText,{size:"xs"},Object(d.jsx)(z.FormattedMessage,{id:"xpack.dataVisualizer.fieldStats.medianTitle",defaultMessage:"median"}))),Object(d.jsx)(a.EuiFlexItem,null,Object(d.jsx)(a.EuiText,{size:"xs"},Object(d.jsx)(z.FormattedMessage,{id:"xpack.dataVisualizer.fieldStats.maxTitle",defaultMessage:"max"})))),Object(d.jsx)(a.EuiFlexGroup,{gutterSize:"xs"},Object(d.jsx)(a.EuiFlexItem,null,Object(d.jsx)(a.EuiText,{size:"xs"},t.min)),Object(d.jsx)(a.EuiFlexItem,null,Object(d.jsx)(a.EuiText,{size:"xs"},t.median)),Object(d.jsx)(a.EuiFlexItem,null,Object(d.jsx)(a.EuiText,{size:"xs"},t.max))))};var D=n(56);const A=({config:e})=>{const t=Object(r.useMemo)((()=>{const t=Object(D.b)(e);if(t){const n=[{key:"true",key_as_string:"true",doc_count:t.trueCount},{key:"false",key_as_string:"false",doc_count:t.falseCount}];return{id:e.fieldName,cardinality:2,data:n,type:"boolean"}}}),[e]);if(!t||void 0===e.fieldName)return null;const n={id:e.fieldName,schema:void 0},i=`dataVisualizerDataGridChart-${e.fieldName}`;return Object(d.jsx)(L,{dataTestSubj:i,chartData:t,columnType:n,hideLabel:!0})},V=({cardinality:e,showIcon:t})=>void 0===e?null:Object(d.jsx)(i.a.Fragment,null,t?Object(d.jsx)(a.EuiIcon,{type:"database",size:"m",className:"columnHeader__icon"}):null,Object(d.jsx)(a.EuiText,{size:"xs"},e));var B=n(59);const H=({items:e,pageState:t,updatePageState:n,getItemIdToExpandedRowMap:i,extendedColumns:u,showPreviewByDefault:f,onChange:h})=>{const[m,b]=Object(r.useState)([]),[v,y]=Object(r.useState)(!1),{onTableChange:w,pagination:j,sorting:_}=function(e,t,n){const{pageIndex:i,pageSize:a,sortField:o,sortDirection:s}=t;return{onTableChange:Object(r.useCallback)((({page:e,sort:r})=>{var i,a,o,s;const l={...t,pageIndex:null!==(i=null==e?void 0:e.index)&&void 0!==i?i:t.pageIndex,pageSize:null!==(a=null==e?void 0:e.size)&&void 0!==a?a:t.pageSize,sortField:null!==(o=null==r?void 0:r.field)&&void 0!==o?o:t.sortField,sortDirection:null!==(s=null==r?void 0:r.direction)&&void 0!==s?s:t.sortDirection};n(l)}),[t,n]),pagination:Object(r.useMemo)((()=>({pageIndex:i,pageSize:a,totalItemCount:e.length,pageSizeOptions:x})),[e,i,a]),sorting:Object(r.useMemo)((()=>({sort:{field:o,direction:s}})),[o,s])}}(e,t,n),[E,O]=Object(r.useState)(null==f||f),[M,S]=Object(r.useState)(Object(D.a)()),[T,C]=Object(r.useState)(1400),k=Object(r.useCallback)((t=>{b(t?e.map((e=>e.fieldName)).filter((e=>void 0!==e)):[]),y(t)}),[e]),F=Object(r.useCallback)(Object(s.throttle)((e=>{C(e.width),S(Object(D.a)(e.width))}),500),[T]),P=Object(r.useCallback)((()=>{O(!E),h&&h({showDistributions:!E})}),[h,E]);const R=Object(r.useMemo)((()=>{const e=[{name:"xs"!==M.breakPoint&&"s"!==M.breakPoint?Object(d.jsx)(a.EuiButtonIcon,{"data-test-subj":"dataVisualizerToggleDetailsForAllRowsButton "+(v?"expanded":"collapsed"),onClick:()=>k(!v),"aria-label":v?o.i18n.translate("xpack.dataVisualizer.dataGrid.collapseDetailsForAllAriaLabel",{defaultMessage:"Collapse details for all fields"}):o.i18n.translate("xpack.dataVisualizer.dataGrid.expandDetailsForAllAriaLabel",{defaultMessage:"Expand details for all fields"}),iconType:v?"arrowDown":"arrowRight"}):null,align:a.RIGHT_ALIGNMENT,width:M.expander,isExpander:!0,render:e=>{var t;const n=null!==(t=e.displayName)&&void 0!==t?t:e.fieldName;if(void 0===e.fieldName)return null;const r=m.includes(e.fieldName)?"arrowDown":"arrowRight";return Object(d.jsx)(a.EuiButtonIcon,{"data-test-subj":`dataVisualizerDetailsToggle-${e.fieldName}-${r}`,onClick:()=>function(e){if(void 0===e.fieldName)return;const t=m.indexOf(e.fieldName);-1!==t?m.splice(t,1):m.push(e.fieldName),b([...m])}(e),"aria-label":m.includes(e.fieldName)?o.i18n.translate("xpack.dataVisualizer.dataGrid.rowCollapse",{defaultMessage:"Hide details for {fieldName}",values:{fieldName:n}}):o.i18n.translate("xpack.dataVisualizer.dataGrid.rowExpand",{defaultMessage:"Show details for {fieldName}",values:{fieldName:n}}),iconType:r})},"data-test-subj":"dataVisualizerTableColumnDetailsToggle"},{field:"type",name:o.i18n.translate("xpack.dataVisualizer.dataGrid.typeColumnName",{defaultMessage:"Type"}),render:e=>Object(d.jsx)(B.a,{type:e,tooltipEnabled:!0,needsAria:!0}),width:M.type,sortable:!0,align:a.CENTER_ALIGNMENT,"data-test-subj":"dataVisualizerTableColumnType"},{field:"fieldName",name:o.i18n.translate("xpack.dataVisualizer.dataGrid.nameColumnName",{defaultMessage:"Name"}),sortable:!0,truncateText:!0,render:(e,t)=>{var n;const r=null!==(n=t.displayName)&&void 0!==n?n:t.fieldName;return Object(d.jsx)(a.EuiText,{size:"xs","data-test-subj":`dataVisualizerDisplayName-${t.fieldName}`},r)},align:a.LEFT_ALIGNMENT,"data-test-subj":"dataVisualizerTableColumnName"},{field:"docCount",name:o.i18n.translate("xpack.dataVisualizer.dataGrid.documentsCountColumnName",{defaultMessage:"Documents (%)"}),render:(e,t)=>Object(d.jsx)(p,{config:t,showIcon:M.showIcon}),sortable:e=>{var t;return null==e||null===(t=e.stats)||void 0===t?void 0:t.count},align:a.LEFT_ALIGNMENT,"data-test-subj":"dataVisualizerTableColumnDocumentsCount",width:M.docCount},{field:"stats.cardinality",name:o.i18n.translate("xpack.dataVisualizer.dataGrid.distinctValuesColumnName",{defaultMessage:"Distinct values"}),render:e=>Object(d.jsx)(V,{cardinality:e,showIcon:M.showIcon}),sortable:!0,align:a.LEFT_ALIGNMENT,"data-test-subj":"dataVisualizerTableColumnDistinctValues",width:M.distinctValues},{name:Object(d.jsx)("div",{className:"columnHeader__title"},M.showIcon?Object(d.jsx)(a.EuiIcon,{type:"visBarVertical",className:"columnHeader__icon"}):null,o.i18n.translate("xpack.dataVisualizer.dataGrid.distributionsColumnName",{defaultMessage:"Distributions"}),Object(d.jsx)(a.EuiToolTip,{content:E?o.i18n.translate("xpack.dataVisualizer.dataGrid.hideDistributionsTooltip",{defaultMessage:"Hide distributions"}):o.i18n.translate("xpack.dataVisualizer.dataGrid.showDistributionsTooltip",{defaultMessage:"Show distributions"})},Object(d.jsx)(a.EuiButtonIcon,{style:{marginLeft:4},size:"s",iconType:E?"eyeClosed":"eye",onClick:()=>P(),"aria-label":E?o.i18n.translate("xpack.dataVisualizer.dataGrid.showDistributionsAriaLabel",{defaultMessage:"Show distributions"}):o.i18n.translate("xpack.dataVisualizer.dataGrid.hideDistributionsAriaLabel",{defaultMessage:"Hide distributions"})}))),render:e=>{var t,n;return void 0===e||!1===E?null:e.type!==l.JOB_FIELD_TYPES.KEYWORD&&e.type!==l.JOB_FIELD_TYPES.IP||void 0===(null===(t=e.stats)||void 0===t?void 0:t.topValues)?e.type===l.JOB_FIELD_TYPES.NUMBER?c(e)&&void 0!==(null===(n=e.stats)||void 0===n?void 0:n.distribution)?Object(d.jsx)(g,{config:e}):Object(d.jsx)(I,{config:e}):e.type===l.JOB_FIELD_TYPES.BOOLEAN?Object(d.jsx)(A,{config:e}):null:Object(d.jsx)(N,{config:e})},width:M.distributions,align:a.LEFT_ALIGNMENT,"data-test-subj":"dataVisualizerTableColumnDistribution"}];return u?[...e,...u]:e}),[v,E,n,u,M.breakPoint,k]),L=Object(r.useMemo)((()=>i(m,e)),[e,m,i]);return Object(d.jsx)(a.EuiResizeObserver,{onResize:F},(t=>Object(d.jsx)("div",{"data-test-subj":"dataVisualizerTableContainer",ref:t},Object(d.jsx)(a.EuiInMemoryTable,{className:"dvTable",items:e,itemId:"fieldName",columns:R,pagination:j,sorting:_,isExpandable:!0,itemIdToExpandedRowMap:L,isSelectable:!1,onTableChange:w,"data-test-subj":"dataVisualizerTable",rowProps:e=>({"data-test-subj":`dataVisualizerRow row-${e.fieldName}`})}))))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return w})),n.d(t,"d",(function(){return F})),n.d(t,"c",(function(){return P})),n.d(t,"e",(function(){return L})),n.d(t,"f",(function(){return z})),n.d(t,"g",(function(){return I}));var r=n(4),i=n.n(r),a=n(14),o=n(20),s=n(15),l=n(2),u=n(49),c=n(56),d=n(44),p=n(76),f=n(47),h=n(46),m=n(45),g=n(3);function x(e,t){return`${e} (${function(e){return 0===e?"0%":e>=.1?`${Object(d.h)(e)}%`:"< 0.1%"}(e/t*100)})`}const b=({config:e})=>{const t="fieldFormat"in e?e.fieldFormat:void 0,n=Object(r.useMemo)((()=>Object(c.b)(e)),[e]),i=Object(p.a)();if(!n)return null;const{trueCount:d,falseCount:b,count:v}=n,y=[{function:"true",display:Object(g.jsx)(s.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.fieldExpandedRow.booleanContent.trueCountLabel",defaultMessage:"true"}),value:x(d,v)},{function:"false",display:Object(g.jsx)(s.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.fieldExpandedRow.booleanContent.falseCountLabel",defaultMessage:"false"}),value:x(b,v)}],w=[{field:"function",name:"",render:(e,t)=>t.display,width:"25px",align:a.RIGHT_ALIGNMENT},{field:"value",name:"",render:e=>Object(g.jsx)("strong",null,e)}],j=l.i18n.translate("xpack.dataVisualizer.dataGrid.fieldExpandedRow.booleanContent.summaryTableTitle",{defaultMessage:"Summary"});return Object(g.jsx)(h.a,{dataTestSubj:"dataVisualizerBooleanContent"},Object(g.jsx)(f.a,{config:e}),Object(g.jsx)(m.a,{className:"dvSummaryTable__wrapper dvPanel__wrapper"},Object(g.jsx)(u.a,null,j),Object(g.jsx)(a.EuiBasicTable,{className:"dvSummaryTable",compressed:!0,items:y,columns:w,tableCaption:j})),Object(g.jsx)(m.a,{className:"dvPanel__wrapper dvPanel--uniform"},Object(g.jsx)(u.a,null,Object(g.jsx)(s.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.field.cardBoolean.valuesLabel",defaultMessage:"Values"})),Object(g.jsx)(a.EuiSpacer,{size:"xs"}),Object(g.jsx)(o.Chart,{renderer:"canvas",size:{height:70}},Object(g.jsx)(o.Axis,{id:"bottom",position:"bottom",showOverlappingTicks:!0}),Object(g.jsx)(o.Axis,{id:"left2",title:"Left axis",hide:!0,tickFormat:e=>x(e,v)}),Object(g.jsx)(o.Settings,{showLegend:!1,theme:i}),Object(g.jsx)(o.BarSeries,{id:e.fieldName||t,data:[{x:"true",count:n.trueCount},{x:"false",count:n.falseCount}],splitSeriesAccessors:["x"],stackAccessors:["x"],xAccessor:"x",xScaleType:"ordinal",yAccessors:["count"],yScaleType:"linear"}))))};var v=n(32);const y="MMM D YYYY, HH:mm:ss.SSS",w=({config:e})=>{const{stats:t}=e;if(void 0===t)return null;const{earliest:n,latest:r}=t,i=l.i18n.translate("xpack.dataVisualizer.dataGrid.field.cardDate.summaryTableTitle",{defaultMessage:"Summary"}),o=[{function:"earliest",display:Object(g.jsx)(s.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.field.cardDate.earliestLabel",defaultMessage:"earliest"}),value:"string"==typeof n?n:Object(v.formatDate)(n,y)},{function:"latest",display:Object(g.jsx)(s.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.field.cardDate.latestLabel",defaultMessage:"latest"}),value:"string"==typeof r?r:Object(v.formatDate)(r,y)}],c=[{name:"",field:"function",render:(e,t)=>t.display,width:"70px",align:a.RIGHT_ALIGNMENT},{field:"value",name:"",render:e=>Object(g.jsx)("strong",null,e)}];return Object(g.jsx)(h.a,{dataTestSubj:"dataVisualizerDateContent"},Object(g.jsx)(f.a,{config:e}),Object(g.jsx)(m.a,{className:"dvSummaryTable__wrapper dvPanel__wrapper"},Object(g.jsx)(u.a,null,i),Object(g.jsx)(a.EuiBasicTable,{className:"dvSummaryTable","data-test-subj":"dataVisualizerDateSummaryTable",compressed:!0,items:o,columns:c,tableCaption:i,tableLayout:"auto"})))};n(60);var j=n(22),_=n.n(j);function E(e,t){const n=100*e/t;return n>=.1?`${Object(d.h)(n,1)}%`:"< 0.1%"}const O=({stats:e,fieldFormat:t,barColor:n,compressed:o,onAddFilter:c})=>{if(void 0===e)return null;const{topValues:p,topValuesSampleSize:f,topValuesSamplerShardSize:h,count:x,isTopValuesSampled:b,fieldName:v}=e,y=!0===b?f:x;return Object(g.jsx)(m.a,{dataTestSubj:"dataVisualizerFieldDataTopValues",className:_()("dvPanel__wrapper",o?"dvPanel--compressed":void 0)},Object(g.jsx)(u.a,null,Object(g.jsx)(s.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.field.topValuesLabel",defaultMessage:"Top values"})),Object(g.jsx)("div",{"data-test-subj":"dataVisualizerFieldDataTopValuesContent",className:_()("fieldDataTopValuesContainer","dvTopValues__wrapper")},Array.isArray(p)&&p.map((e=>Object(g.jsx)(a.EuiFlexGroup,{gutterSize:"xs",alignItems:"center",key:e.key},Object(g.jsx)(a.EuiFlexItem,{"data-test-subj":"dataVisualizerFieldDataTopValueBar"},Object(g.jsx)(a.EuiProgress,{value:e.doc_count,max:y,color:n,size:"xs",label:Object(d.d)(e.key,t),className:_()("eui-textTruncate","topValuesValueLabelContainer"),valueText:void 0!==y?E(e.doc_count,y):void 0})),void 0!==v&&void 0!==e.key&&void 0!==c?Object(g.jsx)(i.a.Fragment,null,Object(g.jsx)(a.EuiButtonIcon,{iconSize:"s",iconType:"plusInCircle",onClick:()=>c(v,"number"==typeof e.key?e.key.toString():e.key,"+"),"aria-label":l.i18n.translate("xpack.dataVisualizer.dataGrid.field.addFilterAriaLabel",{defaultMessage:'Filter for {fieldName}: "{value}"',values:{fieldName:v,value:e.key}}),"data-test-subj":`dvFieldDataTopValuesAddFilterButton-${e.key}-${e.key}`,style:{minHeight:"auto",minWidth:"auto",paddingRight:2,paddingLeft:2,paddingTop:0,paddingBottom:0}}),Object(g.jsx)(a.EuiButtonIcon,{iconSize:"s",iconType:"minusInCircle",onClick:()=>c(v,"number"==typeof e.key?e.key.toString():e.key,"-"),"aria-label":l.i18n.translate("xpack.dataVisualizer.dataGrid.field.removeFilterAriaLabel",{defaultMessage:'Filter out {fieldName}: "{value}"',values:{fieldName:v,value:e.key}}),"data-test-subj":`dvFieldDataTopValuesExcludeFilterButton-${e.key}-${e.key}`,style:{minHeight:"auto",minWidth:"auto",paddingTop:0,paddingBottom:0,paddingRight:2,paddingLeft:2}})):null))),!0===b&&Object(g.jsx)(r.Fragment,null,Object(g.jsx)(a.EuiSpacer,{size:"xs"}),Object(g.jsx)(a.EuiText,{size:"xs",textAlign:"center"},Object(g.jsx)(s.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.field.topValues.calculatedFromSampleDescription",defaultMessage:"Calculated from sample of {topValuesSamplerShardSize} documents per shard",values:{topValuesSamplerShardSize:h}})))))};var M=n(42),S=n(24),T=n(61);const C=(e,t,{layerId:n,field:r})=>({id:Object(a.htmlIdGenerator)()(),label:l.i18n.translate("xpack.dataVisualizer.choroplethMap.topValuesCount",{defaultMessage:"Top values count for {fieldName}",values:{fieldName:e}}),joins:[{leftField:r,right:{id:"anomaly_count",type:S.SOURCE_TYPES.TABLE_SOURCE,__rows:t,__columns:[{name:"key",type:"string"},{name:"doc_count",type:"number"}],term:"key"}}],sourceDescriptor:{type:"EMS_FILE",id:n},style:{type:"VECTOR",properties:{icon:{type:S.STYLE_TYPE.STATIC,options:{value:"marker"}},fillColor:{type:S.STYLE_TYPE.DYNAMIC,options:{color:"Blue to Red",colorCategory:"palette_0",fieldMetaOptions:{isEnabled:!0,sigma:3},type:S.COLOR_MAP_TYPE.ORDINAL,field:{name:"doc_count",origin:S.FIELD_ORIGIN.JOIN},useCustomColorRamp:!1}},lineColor:{type:S.STYLE_TYPE.DYNAMIC,options:{fieldMetaOptions:{isEnabled:!0}}},lineWidth:{type:S.STYLE_TYPE.STATIC,options:{size:1}}},isTimeAware:!0},type:S.LAYER_TYPE.VECTOR}),k=({stats:e,suggestion:t})=>{const{fieldName:n,isTopValuesSampled:i,topValues:o,topValuesSamplerShardSize:l}=e,u=Object(r.useMemo)((()=>[C(n||"",o||[],t)]),[t,n,o]);return Object(g.jsx)(m.a,{dataTestSubj:"fileDataVisualizerChoroplethMapTopValues",className:"dvPanel__wrapper",grow:!0},Object(g.jsx)("div",{className:"dvMap__wrapper"},Object(g.jsx)(T.a,{layerList:u})),!0===i&&Object(g.jsx)("div",null,Object(g.jsx)(a.EuiSpacer,{size:"s"}),Object(g.jsx)(a.EuiText,{size:"xs",textAlign:"center"},Object(g.jsx)(s.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.fieldExpandedRow.choroplethMapTopValues.calculatedFromSampleDescription",defaultMessage:"Calculated from sample of {topValuesSamplerShardSize} documents per shard",values:{topValuesSamplerShardSize:l}}))))},F=({config:e,onAddFilter:t})=>{const[n,i]=Object(r.useState)(),{stats:a,fieldName:o}=e,s="fieldFormat"in e?e.fieldFormat:void 0,{services:{maps:l}}=Object(M.a)(),u=Object(r.useCallback)((async()=>{if(!l)return;const e=await l.suggestEMSTermJoinConfig({sampleValues:Array.isArray(null==a?void 0:a.topValues)?null==a?void 0:a.topValues.map((e=>e.key)):[],sampleValuesColumnName:o||""});i(e)}),[o]);return Object(r.useEffect)((function(){u()}),[u]),Object(g.jsx)(h.a,{dataTestSubj:"dataVisualizerKeywordContent"},Object(g.jsx)(f.a,{config:e}),Object(g.jsx)(O,{stats:a,fieldFormat:s,barColor:"secondary",onAddFilter:t}),n&&a&&Object(g.jsx)(k,{stats:a,suggestion:n}))},P=({config:e,onAddFilter:t})=>{const{stats:n}=e;if(void 0===n)return null;const{count:r,sampleCount:i,cardinality:a}=n;if(void 0===r||void 0===i||void 0===a)return null;const o="fieldFormat"in e?e.fieldFormat:void 0;return Object(g.jsx)(h.a,{dataTestSubj:"dataVisualizerIPContent"},Object(g.jsx)(f.a,{config:e}),Object(g.jsx)(O,{stats:n,fieldFormat:o,barColor:"secondary",onAddFilter:t}))};var R=n(74);const L=({config:e,onAddFilter:t})=>{const{stats:n}=e;Object(r.useEffect)((()=>{const e=Object(R.b)(n,260);o(e)}),[]);const[i,o]=Object(r.useState)([]);if(void 0===n)return null;const{min:c,median:p,max:x,distribution:b}=n,v="fieldFormat"in e?e.fieldFormat:void 0,y=[{function:"min",display:Object(g.jsx)(s.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.fieldExpandedRow.numberContent.minLabel",defaultMessage:"min"}),value:Object(d.d)(c,v)},{function:"median",display:Object(g.jsx)(s.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.fieldExpandedRow.numberContent.medianLabel",defaultMessage:"median"}),value:Object(d.d)(p,v)},{function:"max",display:Object(g.jsx)(s.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.fieldExpandedRow.numberContent.maxLabel",defaultMessage:"max"}),value:Object(d.d)(x,v)}],w=[{name:"",render:e=>e.display,width:"25px",align:a.RIGHT_ALIGNMENT},{field:"value",name:"",render:e=>Object(g.jsx)("strong",null,e)}],j=l.i18n.translate("xpack.dataVisualizer.dataGrid.fieldExpandedRow.numberContent.summaryTableTitle",{defaultMessage:"Summary"});return Object(g.jsx)(h.a,{dataTestSubj:"dataVisualizerNumberContent"},Object(g.jsx)(f.a,{config:e}),Object(g.jsx)(m.a,{className:"dvSummaryTable__wrapper dvPanel__wrapper",grow:1},Object(g.jsx)(u.a,null,j),Object(g.jsx)(a.EuiBasicTable,{className:"dvSummaryTable",compressed:!0,items:y,columns:w,tableCaption:j,"data-test-subj":"dataVisualizerNumberSummaryTable"})),n&&Object(g.jsx)(O,{stats:n,fieldFormat:v,barColor:"secondary",compressed:!0,onAddFilter:t}),b&&Object(g.jsx)(m.a,{dataTestSubj:"dataVisualizerFieldDataMetricDistribution",className:"dvPanel__wrapper",grow:!1},Object(g.jsx)(a.EuiFlexItem,{grow:!1},Object(g.jsx)(u.a,null,Object(g.jsx)(s.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.fieldExpandedRow.numberContent.distributionTitle",defaultMessage:"Distribution"}))),Object(g.jsx)(a.EuiFlexItem,{className:"metricDistributionChartContainer"},Object(g.jsx)(R.a,{width:260,height:200,chartData:i,fieldFormat:v})),Object(g.jsx)(a.EuiFlexItem,{grow:!1},Object(g.jsx)(a.EuiText,{size:"xs",textAlign:"center"},Object(g.jsx)(s.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.fieldExpandedRow.numberContent.displayingPercentilesLabel",defaultMessage:"Displaying {minPercent} - {maxPercent} percentiles",values:{minPercent:Object(d.e)(b.minPercentile),maxPercent:Object(d.e)(b.maxPercentile)}})))))};var N=n(54);const z=({config:e})=>{const{stats:t}=e;return void 0===t?null:void 0===t.count?Object(g.jsx)(i.a.Fragment,null,Array.isArray(t.examples)&&Object(g.jsx)(N.a,{examples:t.examples})):Object(g.jsx)(h.a,{dataTestSubj:"dataVisualizerOtherContent"},Object(g.jsx)(f.a,{config:e}),Array.isArray(t.examples)&&Object(g.jsx)(N.a,{examples:t.examples}))},I=({config:e})=>{const{stats:t}=e;if(void 0===t)return null;const{examples:n}=t;if(void 0===n)return null;const i=n.length;return Object(g.jsx)(h.a,{dataTestSubj:"dataVisualizerTextContent"},Object(g.jsx)(a.EuiFlexItem,{grow:!1,className:"dvText__wrapper"},i>0&&Object(g.jsx)(N.a,{examples:n}),0===i&&Object(g.jsx)(r.Fragment,null,Object(g.jsx)(a.EuiSpacer,{size:"xl"}),Object(g.jsx)(a.EuiCallOut,{title:l.i18n.translate("xpack.dataVisualizer.dataGrid.fieldText.noExamplesForFieldsTitle",{defaultMessage:"No examples were obtained for this field"}),iconType:"alert"},Object(g.jsx)(s.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.fieldText.fieldNotPresentDescription",defaultMessage:"This field was not present in the {sourceParam} field of documents queried.",values:{sourceParam:Object(g.jsx)("span",{className:"dvExpandedRow__codeContent"},"_source")}}),Object(g.jsx)(a.EuiSpacer,{size:"s"}),Object(g.jsx)(s.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.fieldText.fieldMayBePopulatedDescription",defaultMessage:"It may be populated, for example, using a {copyToParam} parameter in the document mapping, or be pruned from the {sourceParam} field after indexing through the use of {includesParam} and {excludesParam} parameters.",values:{copyToParam:Object(g.jsx)("span",{className:"dvExpandedRow__codeContent"},"copy_to"),sourceParam:Object(g.jsx)("span",{className:"dvExpandedRow__codeContent"},"_source"),includesParam:Object(g.jsx)("span",{className:"dvExpandedRow__codeContent"},"includes"),excludesParam:Object(g.jsx)("span",{className:"dvExpandedRow__codeContent"},"excludes")}})))))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return d}));n(4);var r=n(2),i=n(20),a=n(15),o=n(44),s=n(3);const l=({chartPoint:e,maxWidth:t,fieldFormat:n})=>void 0===e?null:Object(s.jsx)("div",{style:{maxWidth:t}},e.dataMax>e.dataMin?Object(s.jsx)(a.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.field.metricDistributionChart.tooltipValueBetweenLabel",defaultMessage:"{percent}% of documents have values between {minValFormatted} and {maxValFormatted}",values:{percent:e.percent,minValFormatted:Object(o.d)(e.dataMin,n),maxValFormatted:Object(o.d)(e.dataMax,n)}}):Object(s.jsx)(a.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.field.metricDistributionChart.tooltipValueEqualLabel",defaultMessage:"{percent}% of documents have a value of {valFormatted}",values:{percent:e.percent,valFormatted:Object(o.d)(e.dataMin,n)}}));var u=n(76);const c=({width:e,height:t,chartData:n,fieldFormat:a,hideXAxis:c})=>{const d=r.i18n.translate("xpack.dataVisualizer.dataGrid.field.metricDistributionChart.seriesName",{defaultMessage:"distribution"}),p=Object(u.a)();return Object(s.jsx)("div",{"data-test-subj":"dataVisualizerFieldDataMetricDistributionChart",className:"dataGridChart__histogram"},Object(s.jsx)(i.Chart,{size:{width:e,height:t}},Object(s.jsx)(i.Settings,{theme:p,tooltip:{headerFormatter:t=>{const r=t.value,i=n.find((e=>e.x===r));return Object(s.jsx)(l,{chartPoint:i,maxWidth:e,fieldFormat:a})}}}),Object(s.jsx)(i.Axis,{id:"bottom",position:i.Position.Bottom,tickFormat:e=>Object(o.d)(e,a),hide:!0===c}),Object(s.jsx)(i.Axis,{id:"left",position:i.Position.Left,tickFormat:e=>e.toFixed(3),hide:!0}),Object(s.jsx)(i.AreaSeries,{id:"metric_distribution",name:d,xScaleType:i.ScaleType.Linear,yScaleType:i.ScaleType.Linear,xAccessor:"x",yAccessors:["y"],data:n.length>0?n:[{x:0,y:0}],curve:i.CurveType.CURVE_STEP_AFTER})))};function d(e,t){let n=[];const r=e.distribution;if(void 0===r)return n;const i=r.percentiles;if(0===i.length)return n;const a=i[0].minValue,o=i[i.length-1].maxValue;let s=a,l=o;o===a&&(0!==a?(s=0,l=2*a):l=1);const u=3/t*(l-s),c=[];let d;i.forEach(((e,t)=>{if(0===t){const t={x0:e.minValue,x1:Math.max(e.minValue+u,e.maxValue),y:0,dataMin:e.minValue,dataMax:e.maxValue,percent:e.percent,isMinWidth:!1};t.y=e.percent/(t.x1-t.x0)*Math.max(1,u/Math.max(e.maxValue-e.minValue,.5*u)),t.isMinWidth=e.maxValue<=e.minValue+u,c.push(t),d=t}else if(!1===d.isMinWidth||e.maxValue>d.x1){const t={x0:d.x1,x1:Math.max(d.x1+u,e.maxValue),y:0,dataMin:e.minValue,dataMax:e.maxValue,percent:e.percent,isMinWidth:!1};t.y=e.percent/(t.x1-t.x0)*Math.max(1,u/Math.max(e.maxValue-e.minValue,.5*u)),t.isMinWidth=e.maxValue<=d.x1+u,c.push(t),d=t}else d.percent=d.percent+e.percent,d.y=d.percent/(d.x1-d.x0),d.dataMax=e.maxValue})),o!==a&&(l=c[c.length-1].x1);let p=c.map((e=>e.y));p=p.sort(((e,t)=>e-t));let f=0;const h=c.length;f=1===Math.abs(h%2)?20*p[Math.floor(h/2)]:20*(p[Math.floor(h/2)-1]+p[Math.floor(h/2)])/2,c.forEach((e=>{e.y=Math.min(e.y,f)})),n=c.map((e=>{const{x0:t,y:n,dataMin:r,dataMax:i,percent:a}=e;return{x:t,y:n,dataMin:r,dataMax:i,percent:a}}));const m=c[c.length-1];return n.push({x:m.x1,y:0,dataMin:m.dataMin,dataMax:m.dataMax,percent:m.percent}),n}},function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return u}));var r=n(14),i=n(15),a=n(4),o=n.n(a),s=n(3);const l=({fieldsCountStats:e})=>e&&void 0!==e.visibleFieldsCount&&void 0!==e.totalFieldsCount?Object(s.jsx)(r.EuiFlexGroup,{gutterSize:"s",alignItems:"center",className:"dvFieldCount__item","data-test-subj":"dataVisualizerFieldsSummary",responsive:!1},Object(s.jsx)(r.EuiFlexItem,{grow:!1},Object(s.jsx)(r.EuiText,null,Object(s.jsx)("h5",null,Object(s.jsx)(i.FormattedMessage,{id:"xpack.dataVisualizer.searchPanel.allFieldsLabel",defaultMessage:"All fields"})))),Object(s.jsx)(r.EuiFlexItem,{grow:!1},Object(s.jsx)(r.EuiNotificationBadge,{color:"subdued",size:"m","data-test-subj":"dataVisualizerVisibleFieldsCount"},Object(s.jsx)("strong",null,e.visibleFieldsCount))),Object(s.jsx)(r.EuiFlexItem,{grow:!1},Object(s.jsx)(r.EuiText,{color:"subdued",size:"s","data-test-subj":"dataVisualizerTotalFieldsCount"},Object(s.jsx)(i.FormattedMessage,{id:"xpack.dataVisualizer.searchPanel.ofFieldsTotal",defaultMessage:"of {totalCount} total",values:{totalCount:e.totalFieldsCount}})))):null,u=({metricsStats:e})=>e&&void 0!==e.visibleMetricsCount&&void 0!==e.totalMetricFieldsCount?Object(s.jsx)(o.a.Fragment,null,e&&Object(s.jsx)(r.EuiFlexGroup,{gutterSize:"s",alignItems:"center",className:"dvFieldCount__item","data-test-subj":"dataVisualizerMetricFieldsSummary",responsive:!1},Object(s.jsx)(r.EuiFlexItem,{grow:!1},Object(s.jsx)(r.EuiText,null,Object(s.jsx)("h5",null,Object(s.jsx)(i.FormattedMessage,{id:"xpack.dataVisualizer.searchPanel.numberFieldsLabel",defaultMessage:"Number fields"})))),Object(s.jsx)(r.EuiFlexItem,{grow:!1},Object(s.jsx)(r.EuiNotificationBadge,{color:"subdued",size:"m","data-test-subj":"dataVisualizerVisibleMetricFieldsCount"},Object(s.jsx)("strong",null,e.visibleMetricsCount))),Object(s.jsx)(r.EuiFlexItem,{grow:!1},Object(s.jsx)(r.EuiText,{color:"subdued",size:"s","data-test-subj":"dataVisualizerMetricFieldsCount"},Object(s.jsx)(i.FormattedMessage,{id:"xpack.dataVisualizer.searchPanel.ofFieldsTotal",defaultMessage:"of {totalCount} total",values:{totalCount:e.totalMetricFieldsCount}}))))):null},function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n(4),i=n(93),a=n.n(i),o=n(30),s=n(2),l=n(42);let u;!function(e){e.LINEAR="linear",e.INFLUENCER="influencer",e.SQRT="sqrt"}(u||(u={}));u.LINEAR,s.i18n.translate("xpack.dataVisualizer.components.colorRangeLegend.linearScaleLabel",{defaultMessage:"Linear"}),u.INFLUENCER,s.i18n.translate("xpack.dataVisualizer.components.colorRangeLegend.influencerScaleLabel",{defaultMessage:"Influencer custom scale"}),u.SQRT,s.i18n.translate("xpack.dataVisualizer.components.colorRangeLegend.sqrtScaleLabel",{defaultMessage:"Sqrt"});let c;!function(e){e.BLUE="blue",e.RED="red",e.RED_GREEN="red-green",e.GREEN_RED="green-red",e.YELLOW_GREEN_BLUE="yellow-green-blue"}(c||(c={}));c.BLUE,s.i18n.translate("xpack.dataVisualizer.components.colorRangeLegend.blueColorRangeLabel",{defaultMessage:"Blue"}),c.RED,s.i18n.translate("xpack.dataVisualizer.components.colorRangeLegend.redColorRangeLabel",{defaultMessage:"Red"}),c.RED_GREEN,s.i18n.translate("xpack.dataVisualizer.components.colorRangeLegend.redGreenColorRangeLabel",{defaultMessage:"Red - Green"}),c.GREEN_RED,s.i18n.translate("xpack.dataVisualizer.components.colorRangeLegend.greenRedColorRangeLabel",{defaultMessage:"Green - Red"}),c.YELLOW_GREEN_BLUE,s.i18n.translate("xpack.dataVisualizer.components.colorRangeLegend.yellowGreenBlueColorRangeLabel",{defaultMessage:"Yellow - Green - Blue"});const d=["#FFFFDD","#AAF191","#80D385","#61B385","#3E9583","#217681","#285285","#1F2D86","#000086"],p=a.a.range(0,1,1/(d.length-1));p.push(1);c.BLUE,c.RED,c.RED_GREEN,c.GREEN_RED,c.YELLOW_GREEN_BLUE;function f(){const{services:{uiSettings:e}}=Object(l.a)();return Object(r.useMemo)((()=>({euiTheme:e.get("theme:darkMode")?o.euiDarkVars:o.euiLightVars})),[e])}const h=()=>{const{euiTheme:e}=f();return Object(r.useMemo)((()=>{const t=e.euiColorVis0;return{axes:{tickLabel:{fontSize:parseInt(e.euiFontSizeXS,10),fontFamily:e.euiFontFamily,fontStyle:"italic"}},background:{color:"transparent"},chartMargins:{left:0,right:0,top:0,bottom:0},chartPaddings:{left:0,right:0,top:4,bottom:0},scales:{barsPadding:.1},colors:{vizColors:[t]},areaSeriesStyle:{line:{strokeWidth:1,visible:!0},point:{visible:!1,radius:0,opacity:0},area:{visible:!0,opacity:1}}}}),[e])}},function(e,t,n){var r=n(39),i=n(78);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1};r(i,a);e.exports=i.locals||{}},function(e,t,n){(t=n(40)(!1)).push([e.i,".embeddedMap__content{width:100%;height:100%;display:flex;flex:1 1 100%;z-index:1;min-height:0}.metricDistributionChartContainer{padding-top:4px;width:100%}@media only screen and (max-width: 574px){.dataVisualizerExpandedRow{flex-direction:column}}@media only screen and (min-width: 575px) and (max-width: 767px){.dataVisualizerExpandedRow{flex-direction:column}}@media only screen and (min-width: 768px) and (max-width: 991px){.dataVisualizerExpandedRow{flex-direction:column}}.dvFieldCount__panel{margin-left:4px}@media only screen and (max-width: 574px){.dvFieldCount__panel{flex-direction:column;align-items:flex-start}}@media only screen and (min-width: 575px) and (max-width: 767px){.dvFieldCount__panel{flex-direction:column;align-items:flex-start}}.dvFieldCount__item{max-width:300px;min-width:300px}.dataVisualizerColumnHeaderIcon{max-width:12px}.dvExpandedRow{padding-left:64px;width:100%}.dvExpandedRow .dvExpandedRow__fieldHeader{text-transform:uppercase;text-align:left;color:#98A2B3;font-weight:bold;padding-bottom:8px}@media only screen and (min-width: 768px) and (max-width: 991px){.dvTable .columnHeader__title{display:flex;align-items:center}.dvTable .columnHeader__icon{padding-right:4px}.dvTable .euiTableRow>.euiTableRowCell{border-bottom:0;border-top:1px solid #343741}.dvTable .euiTableCellContent{padding:4px}.dvTable .euiTableRow-isExpandedRow .euiTableRowCell{background-color:#1D1E24 !important;border-top:0;border-bottom:1px solid #343741}.dvTable .euiTableRow-isExpandedRow .euiTableRowCell:hover{background-color:#1D1E24 !important}.dvTable .dvSummaryTable .euiTableRow>.euiTableRowCell{border-bottom:0}.dvTable .dvSummaryTable .euiTableHeaderCell{display:none}.dvTable .dvSummaryTable__wrapper{min-width:max(20%, 225px);max-width:max(20%, 225px)}.dvTable .dvTopValues__wrapper{min-width:-moz-fit-content;min-width:fit-content}.dvTable .dvPanel__wrapper{margin:4px 12px 12px 0}.dvTable .dvPanel__wrapper.dvPanel--compressed{width:max(20%, 225px)}.dvTable .dvPanel__wrapper.dvPanel--uniform{min-width:max(20%, 225px);max-width:max(20%, 225px)}.dvTable .dvMap__wrapper{height:240px}.dvTable .dvText__wrapper{min-width:max(20%, 225px)}}@media only screen and (min-width: 992px) and (max-width: 1199px){.dvTable .columnHeader__title{display:flex;align-items:center}.dvTable .columnHeader__icon{padding-right:4px}.dvTable .euiTableRow>.euiTableRowCell{border-bottom:0;border-top:1px solid #343741}.dvTable .euiTableCellContent{padding:4px}.dvTable .euiTableRow-isExpandedRow .euiTableRowCell{background-color:#1D1E24 !important;border-top:0;border-bottom:1px solid #343741}.dvTable .euiTableRow-isExpandedRow .euiTableRowCell:hover{background-color:#1D1E24 !important}.dvTable .dvSummaryTable .euiTableRow>.euiTableRowCell{border-bottom:0}.dvTable .dvSummaryTable .euiTableHeaderCell{display:none}.dvTable .dvSummaryTable__wrapper{min-width:max(20%, 225px);max-width:max(20%, 225px)}.dvTable .dvTopValues__wrapper{min-width:-moz-fit-content;min-width:fit-content}.dvTable .dvPanel__wrapper{margin:4px 12px 12px 0}.dvTable .dvPanel__wrapper.dvPanel--compressed{width:max(20%, 225px)}.dvTable .dvPanel__wrapper.dvPanel--uniform{min-width:max(20%, 225px);max-width:max(20%, 225px)}.dvTable .dvMap__wrapper{height:240px}.dvTable .dvText__wrapper{min-width:max(20%, 225px)}}@media only screen and (min-width: 1200px){.dvTable .columnHeader__title{display:flex;align-items:center}.dvTable .columnHeader__icon{padding-right:4px}.dvTable .euiTableRow>.euiTableRowCell{border-bottom:0;border-top:1px solid #343741}.dvTable .euiTableCellContent{padding:4px}.dvTable .euiTableRow-isExpandedRow .euiTableRowCell{background-color:#1D1E24 !important;border-top:0;border-bottom:1px solid #343741}.dvTable .euiTableRow-isExpandedRow .euiTableRowCell:hover{background-color:#1D1E24 !important}.dvTable .dvSummaryTable .euiTableRow>.euiTableRowCell{border-bottom:0}.dvTable .dvSummaryTable .euiTableHeaderCell{display:none}.dvTable .dvSummaryTable__wrapper{min-width:max(20%, 225px);max-width:max(20%, 225px)}.dvTable .dvTopValues__wrapper{min-width:-moz-fit-content;min-width:fit-content}.dvTable .dvPanel__wrapper{margin:4px 12px 12px 0}.dvTable .dvPanel__wrapper.dvPanel--compressed{width:max(20%, 225px)}.dvTable .dvPanel__wrapper.dvPanel--uniform{min-width:max(20%, 225px);max-width:max(20%, 225px)}.dvTable .dvMap__wrapper{height:240px}.dvTable .dvText__wrapper{min-width:max(20%, 225px)}}.fieldDataTopValuesContainer{padding-top:4px}.topValuesValueLabelContainer{margin-right:12px}.analysis-summary-list.euiDescriptionList .euiDescriptionList__title{flex-basis:15%}.analysis-summary-list.euiDescriptionList .euiDescriptionList__description{flex-basis:85%}.import-summary-list.euiDescriptionList .euiDescriptionList__title{flex-basis:15%}.import-summary-list.euiDescriptionList .euiDescriptionList__description{flex-basis:85%}.failure-list{max-height:200px;overflow-y:auto}.failure-list .error-message{color:#F66}.file-datavisualizer-file-picker{max-width:inherit}.file-datavisualizer-file-picker .euiFilePicker__prompt{background-color:#1D1E24;box-shadow:none}.file-datavisualizer-file-picker .euiFilePicker__prompt .euiFilePicker__icon{width:40px;height:40px}.results .euiDescriptionList dd,.results .euiDescriptionList dt{margin-top:5px}.results .euiDescriptionList dd:nth-child(1),.results .euiDescriptionList dt:nth-child(1){margin-top:0}.file-datavisualizer-about-panel__icon{width:96px;height:96px;margin-left:32px;margin-right:24px}.euiFlexItem.file-datavisualizer-about-panel__doc-icon{margin-left:32px;margin-right:4px;margin-top:16px}\n",""]),e.exports=t},function(e,t,n){var r=n(39),i=n(80);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1};r(i,a);e.exports=i.locals||{}},function(e,t,n){(t=n(40)(!1)).push([e.i,".embeddedMap__content{width:100%;height:100%;display:flex;flex:1 1 100%;z-index:1;min-height:0}.metricDistributionChartContainer{padding-top:4px;width:100%}@media only screen and (max-width: 574px){.dataVisualizerExpandedRow{flex-direction:column}}@media only screen and (min-width: 575px) and (max-width: 767px){.dataVisualizerExpandedRow{flex-direction:column}}@media only screen and (min-width: 768px) and (max-width: 991px){.dataVisualizerExpandedRow{flex-direction:column}}.dvFieldCount__panel{margin-left:4px}@media only screen and (max-width: 574px){.dvFieldCount__panel{flex-direction:column;align-items:flex-start}}@media only screen and (min-width: 575px) and (max-width: 767px){.dvFieldCount__panel{flex-direction:column;align-items:flex-start}}.dvFieldCount__item{max-width:300px;min-width:300px}.dataVisualizerColumnHeaderIcon{max-width:12px}.dvExpandedRow{padding-left:64px;width:100%}.dvExpandedRow .dvExpandedRow__fieldHeader{text-transform:uppercase;text-align:left;color:#69707D;font-weight:bold;padding-bottom:8px}@media only screen and (min-width: 768px) and (max-width: 991px){.dvTable .columnHeader__title{display:flex;align-items:center}.dvTable .columnHeader__icon{padding-right:4px}.dvTable .euiTableRow>.euiTableRowCell{border-bottom:0;border-top:1px solid #D3DAE6}.dvTable .euiTableCellContent{padding:4px}.dvTable .euiTableRow-isExpandedRow .euiTableRowCell{background-color:#fff !important;border-top:0;border-bottom:1px solid #D3DAE6}.dvTable .euiTableRow-isExpandedRow .euiTableRowCell:hover{background-color:#fff !important}.dvTable .dvSummaryTable .euiTableRow>.euiTableRowCell{border-bottom:0}.dvTable .dvSummaryTable .euiTableHeaderCell{display:none}.dvTable .dvSummaryTable__wrapper{min-width:max(20%, 225px);max-width:max(20%, 225px)}.dvTable .dvTopValues__wrapper{min-width:-moz-fit-content;min-width:fit-content}.dvTable .dvPanel__wrapper{margin:4px 12px 12px 0}.dvTable .dvPanel__wrapper.dvPanel--compressed{width:max(20%, 225px)}.dvTable .dvPanel__wrapper.dvPanel--uniform{min-width:max(20%, 225px);max-width:max(20%, 225px)}.dvTable .dvMap__wrapper{height:240px}.dvTable .dvText__wrapper{min-width:max(20%, 225px)}}@media only screen and (min-width: 992px) and (max-width: 1199px){.dvTable .columnHeader__title{display:flex;align-items:center}.dvTable .columnHeader__icon{padding-right:4px}.dvTable .euiTableRow>.euiTableRowCell{border-bottom:0;border-top:1px solid #D3DAE6}.dvTable .euiTableCellContent{padding:4px}.dvTable .euiTableRow-isExpandedRow .euiTableRowCell{background-color:#fff !important;border-top:0;border-bottom:1px solid #D3DAE6}.dvTable .euiTableRow-isExpandedRow .euiTableRowCell:hover{background-color:#fff !important}.dvTable .dvSummaryTable .euiTableRow>.euiTableRowCell{border-bottom:0}.dvTable .dvSummaryTable .euiTableHeaderCell{display:none}.dvTable .dvSummaryTable__wrapper{min-width:max(20%, 225px);max-width:max(20%, 225px)}.dvTable .dvTopValues__wrapper{min-width:-moz-fit-content;min-width:fit-content}.dvTable .dvPanel__wrapper{margin:4px 12px 12px 0}.dvTable .dvPanel__wrapper.dvPanel--compressed{width:max(20%, 225px)}.dvTable .dvPanel__wrapper.dvPanel--uniform{min-width:max(20%, 225px);max-width:max(20%, 225px)}.dvTable .dvMap__wrapper{height:240px}.dvTable .dvText__wrapper{min-width:max(20%, 225px)}}@media only screen and (min-width: 1200px){.dvTable .columnHeader__title{display:flex;align-items:center}.dvTable .columnHeader__icon{padding-right:4px}.dvTable .euiTableRow>.euiTableRowCell{border-bottom:0;border-top:1px solid #D3DAE6}.dvTable .euiTableCellContent{padding:4px}.dvTable .euiTableRow-isExpandedRow .euiTableRowCell{background-color:#fff !important;border-top:0;border-bottom:1px solid #D3DAE6}.dvTable .euiTableRow-isExpandedRow .euiTableRowCell:hover{background-color:#fff !important}.dvTable .dvSummaryTable .euiTableRow>.euiTableRowCell{border-bottom:0}.dvTable .dvSummaryTable .euiTableHeaderCell{display:none}.dvTable .dvSummaryTable__wrapper{min-width:max(20%, 225px);max-width:max(20%, 225px)}.dvTable .dvTopValues__wrapper{min-width:-moz-fit-content;min-width:fit-content}.dvTable .dvPanel__wrapper{margin:4px 12px 12px 0}.dvTable .dvPanel__wrapper.dvPanel--compressed{width:max(20%, 225px)}.dvTable .dvPanel__wrapper.dvPanel--uniform{min-width:max(20%, 225px);max-width:max(20%, 225px)}.dvTable .dvMap__wrapper{height:240px}.dvTable .dvText__wrapper{min-width:max(20%, 225px)}}.fieldDataTopValuesContainer{padding-top:4px}.topValuesValueLabelContainer{margin-right:12px}.analysis-summary-list.euiDescriptionList .euiDescriptionList__title{flex-basis:15%}.analysis-summary-list.euiDescriptionList .euiDescriptionList__description{flex-basis:85%}.import-summary-list.euiDescriptionList .euiDescriptionList__title{flex-basis:15%}.import-summary-list.euiDescriptionList .euiDescriptionList__description{flex-basis:85%}.failure-list{max-height:200px;overflow-y:auto}.failure-list .error-message{color:#BD271E}.file-datavisualizer-file-picker{max-width:inherit}.file-datavisualizer-file-picker .euiFilePicker__prompt{background-color:#fff;box-shadow:none}.file-datavisualizer-file-picker .euiFilePicker__prompt .euiFilePicker__icon{width:40px;height:40px}.results .euiDescriptionList dd,.results .euiDescriptionList dt{margin-top:5px}.results .euiDescriptionList dd:nth-child(1),.results .euiDescriptionList dt:nth-child(1){margin-top:0}.file-datavisualizer-about-panel__icon{width:96px;height:96px;margin-left:32px;margin-right:24px}.euiFlexItem.file-datavisualizer-about-panel__doc-icon{margin-left:32px;margin-right:4px;margin-top:16px}\n",""]),e.exports=t},function(e,t,n){var r=n(39),i=n(82);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1};r(i,a);e.exports=i.locals||{}},function(e,t,n){(t=n(40)(!1)).push([e.i,".embeddedMap__content{width:100%;height:100%;display:flex;flex:1 1 100%;z-index:1;min-height:0}.metricDistributionChartContainer{padding-top:4px;width:100%}@media only screen and (max-width: 574px){.dataVisualizerExpandedRow{flex-direction:column}}@media only screen and (min-width: 575px) and (max-width: 767px){.dataVisualizerExpandedRow{flex-direction:column}}@media only screen and (min-width: 768px) and (max-width: 991px){.dataVisualizerExpandedRow{flex-direction:column}}.dvFieldCount__panel{margin-left:4px}@media only screen and (max-width: 574px){.dvFieldCount__panel{flex-direction:column;align-items:flex-start}}@media only screen and (min-width: 575px) and (max-width: 767px){.dvFieldCount__panel{flex-direction:column;align-items:flex-start}}.dvFieldCount__item{max-width:300px;min-width:300px}.dataVisualizerColumnHeaderIcon{max-width:12px}.dvExpandedRow{padding-left:64px;width:100%}.dvExpandedRow .dvExpandedRow__fieldHeader{text-transform:uppercase;text-align:left;color:#98A2B3;font-weight:bold;padding-bottom:8px}@media only screen and (min-width: 768px) and (max-width: 991px){.dvTable .columnHeader__title{display:flex;align-items:center}.dvTable .columnHeader__icon{padding-right:4px}.dvTable .euiTableRow>.euiTableRowCell{border-bottom:0;border-top:1px solid #343741}.dvTable .euiTableCellContent{padding:4px}.dvTable .euiTableRow-isExpandedRow .euiTableRowCell{background-color:#1D1E24 !important;border-top:0;border-bottom:1px solid #343741}.dvTable .euiTableRow-isExpandedRow .euiTableRowCell:hover{background-color:#1D1E24 !important}.dvTable .dvSummaryTable .euiTableRow>.euiTableRowCell{border-bottom:0}.dvTable .dvSummaryTable .euiTableHeaderCell{display:none}.dvTable .dvSummaryTable__wrapper{min-width:max(20%, 225px);max-width:max(20%, 225px)}.dvTable .dvTopValues__wrapper{min-width:-moz-fit-content;min-width:fit-content}.dvTable .dvPanel__wrapper{margin:4px 12px 12px 0}.dvTable .dvPanel__wrapper.dvPanel--compressed{width:max(20%, 225px)}.dvTable .dvPanel__wrapper.dvPanel--uniform{min-width:max(20%, 225px);max-width:max(20%, 225px)}.dvTable .dvMap__wrapper{height:240px}.dvTable .dvText__wrapper{min-width:max(20%, 225px)}}@media only screen and (min-width: 992px) and (max-width: 1199px){.dvTable .columnHeader__title{display:flex;align-items:center}.dvTable .columnHeader__icon{padding-right:4px}.dvTable .euiTableRow>.euiTableRowCell{border-bottom:0;border-top:1px solid #343741}.dvTable .euiTableCellContent{padding:4px}.dvTable .euiTableRow-isExpandedRow .euiTableRowCell{background-color:#1D1E24 !important;border-top:0;border-bottom:1px solid #343741}.dvTable .euiTableRow-isExpandedRow .euiTableRowCell:hover{background-color:#1D1E24 !important}.dvTable .dvSummaryTable .euiTableRow>.euiTableRowCell{border-bottom:0}.dvTable .dvSummaryTable .euiTableHeaderCell{display:none}.dvTable .dvSummaryTable__wrapper{min-width:max(20%, 225px);max-width:max(20%, 225px)}.dvTable .dvTopValues__wrapper{min-width:-moz-fit-content;min-width:fit-content}.dvTable .dvPanel__wrapper{margin:4px 12px 12px 0}.dvTable .dvPanel__wrapper.dvPanel--compressed{width:max(20%, 225px)}.dvTable .dvPanel__wrapper.dvPanel--uniform{min-width:max(20%, 225px);max-width:max(20%, 225px)}.dvTable .dvMap__wrapper{height:240px}.dvTable .dvText__wrapper{min-width:max(20%, 225px)}}@media only screen and (min-width: 1200px){.dvTable .columnHeader__title{display:flex;align-items:center}.dvTable .columnHeader__icon{padding-right:4px}.dvTable .euiTableRow>.euiTableRowCell{border-bottom:0;border-top:1px solid #343741}.dvTable .euiTableCellContent{padding:4px}.dvTable .euiTableRow-isExpandedRow .euiTableRowCell{background-color:#1D1E24 !important;border-top:0;border-bottom:1px solid #343741}.dvTable .euiTableRow-isExpandedRow .euiTableRowCell:hover{background-color:#1D1E24 !important}.dvTable .dvSummaryTable .euiTableRow>.euiTableRowCell{border-bottom:0}.dvTable .dvSummaryTable .euiTableHeaderCell{display:none}.dvTable .dvSummaryTable__wrapper{min-width:max(20%, 225px);max-width:max(20%, 225px)}.dvTable .dvTopValues__wrapper{min-width:-moz-fit-content;min-width:fit-content}.dvTable .dvPanel__wrapper{margin:4px 12px 12px 0}.dvTable .dvPanel__wrapper.dvPanel--compressed{width:max(20%, 225px)}.dvTable .dvPanel__wrapper.dvPanel--uniform{min-width:max(20%, 225px);max-width:max(20%, 225px)}.dvTable .dvMap__wrapper{height:240px}.dvTable .dvText__wrapper{min-width:max(20%, 225px)}}.fieldDataTopValuesContainer{padding-top:4px}.topValuesValueLabelContainer{margin-right:12px}.analysis-summary-list.euiDescriptionList .euiDescriptionList__title{flex-basis:15%}.analysis-summary-list.euiDescriptionList .euiDescriptionList__description{flex-basis:85%}.import-summary-list.euiDescriptionList .euiDescriptionList__title{flex-basis:15%}.import-summary-list.euiDescriptionList .euiDescriptionList__description{flex-basis:85%}.failure-list{max-height:200px;overflow-y:auto}.failure-list .error-message{color:#F86B63}.file-datavisualizer-file-picker{max-width:inherit}.file-datavisualizer-file-picker .euiFilePicker__prompt{background-color:#1D1E24;box-shadow:none}.file-datavisualizer-file-picker .euiFilePicker__prompt .euiFilePicker__icon{width:40px;height:40px}.results .euiDescriptionList dd,.results .euiDescriptionList dt{margin-top:5px}.results .euiDescriptionList dd:nth-child(1),.results .euiDescriptionList dt:nth-child(1){margin-top:0}.file-datavisualizer-about-panel__icon{width:96px;height:96px;margin-left:32px;margin-right:24px}.euiFlexItem.file-datavisualizer-about-panel__doc-icon{margin-left:32px;margin-right:4px;margin-top:16px}\n",""]),e.exports=t},function(e,t,n){var r=n(39),i=n(84);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1};r(i,a);e.exports=i.locals||{}},function(e,t,n){(t=n(40)(!1)).push([e.i,".embeddedMap__content{width:100%;height:100%;display:flex;flex:1 1 100%;z-index:1;min-height:0}.metricDistributionChartContainer{padding-top:4px;width:100%}@media only screen and (max-width: 574px){.dataVisualizerExpandedRow{flex-direction:column}}@media only screen and (min-width: 575px) and (max-width: 767px){.dataVisualizerExpandedRow{flex-direction:column}}@media only screen and (min-width: 768px) and (max-width: 991px){.dataVisualizerExpandedRow{flex-direction:column}}.dvFieldCount__panel{margin-left:4px}@media only screen and (max-width: 574px){.dvFieldCount__panel{flex-direction:column;align-items:flex-start}}@media only screen and (min-width: 575px) and (max-width: 767px){.dvFieldCount__panel{flex-direction:column;align-items:flex-start}}.dvFieldCount__item{max-width:300px;min-width:300px}.dataVisualizerColumnHeaderIcon{max-width:12px}.dvExpandedRow{padding-left:64px;width:100%}.dvExpandedRow .dvExpandedRow__fieldHeader{text-transform:uppercase;text-align:left;color:#69707D;font-weight:bold;padding-bottom:8px}@media only screen and (min-width: 768px) and (max-width: 991px){.dvTable .columnHeader__title{display:flex;align-items:center}.dvTable .columnHeader__icon{padding-right:4px}.dvTable .euiTableRow>.euiTableRowCell{border-bottom:0;border-top:1px solid #D3DAE6}.dvTable .euiTableCellContent{padding:4px}.dvTable .euiTableRow-isExpandedRow .euiTableRowCell{background-color:#fff !important;border-top:0;border-bottom:1px solid #D3DAE6}.dvTable .euiTableRow-isExpandedRow .euiTableRowCell:hover{background-color:#fff !important}.dvTable .dvSummaryTable .euiTableRow>.euiTableRowCell{border-bottom:0}.dvTable .dvSummaryTable .euiTableHeaderCell{display:none}.dvTable .dvSummaryTable__wrapper{min-width:max(20%, 225px);max-width:max(20%, 225px)}.dvTable .dvTopValues__wrapper{min-width:-moz-fit-content;min-width:fit-content}.dvTable .dvPanel__wrapper{margin:4px 12px 12px 0}.dvTable .dvPanel__wrapper.dvPanel--compressed{width:max(20%, 225px)}.dvTable .dvPanel__wrapper.dvPanel--uniform{min-width:max(20%, 225px);max-width:max(20%, 225px)}.dvTable .dvMap__wrapper{height:240px}.dvTable .dvText__wrapper{min-width:max(20%, 225px)}}@media only screen and (min-width: 992px) and (max-width: 1199px){.dvTable .columnHeader__title{display:flex;align-items:center}.dvTable .columnHeader__icon{padding-right:4px}.dvTable .euiTableRow>.euiTableRowCell{border-bottom:0;border-top:1px solid #D3DAE6}.dvTable .euiTableCellContent{padding:4px}.dvTable .euiTableRow-isExpandedRow .euiTableRowCell{background-color:#fff !important;border-top:0;border-bottom:1px solid #D3DAE6}.dvTable .euiTableRow-isExpandedRow .euiTableRowCell:hover{background-color:#fff !important}.dvTable .dvSummaryTable .euiTableRow>.euiTableRowCell{border-bottom:0}.dvTable .dvSummaryTable .euiTableHeaderCell{display:none}.dvTable .dvSummaryTable__wrapper{min-width:max(20%, 225px);max-width:max(20%, 225px)}.dvTable .dvTopValues__wrapper{min-width:-moz-fit-content;min-width:fit-content}.dvTable .dvPanel__wrapper{margin:4px 12px 12px 0}.dvTable .dvPanel__wrapper.dvPanel--compressed{width:max(20%, 225px)}.dvTable .dvPanel__wrapper.dvPanel--uniform{min-width:max(20%, 225px);max-width:max(20%, 225px)}.dvTable .dvMap__wrapper{height:240px}.dvTable .dvText__wrapper{min-width:max(20%, 225px)}}@media only screen and (min-width: 1200px){.dvTable .columnHeader__title{display:flex;align-items:center}.dvTable .columnHeader__icon{padding-right:4px}.dvTable .euiTableRow>.euiTableRowCell{border-bottom:0;border-top:1px solid #D3DAE6}.dvTable .euiTableCellContent{padding:4px}.dvTable .euiTableRow-isExpandedRow .euiTableRowCell{background-color:#fff !important;border-top:0;border-bottom:1px solid #D3DAE6}.dvTable .euiTableRow-isExpandedRow .euiTableRowCell:hover{background-color:#fff !important}.dvTable .dvSummaryTable .euiTableRow>.euiTableRowCell{border-bottom:0}.dvTable .dvSummaryTable .euiTableHeaderCell{display:none}.dvTable .dvSummaryTable__wrapper{min-width:max(20%, 225px);max-width:max(20%, 225px)}.dvTable .dvTopValues__wrapper{min-width:-moz-fit-content;min-width:fit-content}.dvTable .dvPanel__wrapper{margin:4px 12px 12px 0}.dvTable .dvPanel__wrapper.dvPanel--compressed{width:max(20%, 225px)}.dvTable .dvPanel__wrapper.dvPanel--uniform{min-width:max(20%, 225px);max-width:max(20%, 225px)}.dvTable .dvMap__wrapper{height:240px}.dvTable .dvText__wrapper{min-width:max(20%, 225px)}}.fieldDataTopValuesContainer{padding-top:4px}.topValuesValueLabelContainer{margin-right:12px}.analysis-summary-list.euiDescriptionList .euiDescriptionList__title{flex-basis:15%}.analysis-summary-list.euiDescriptionList .euiDescriptionList__description{flex-basis:85%}.import-summary-list.euiDescriptionList .euiDescriptionList__title{flex-basis:15%}.import-summary-list.euiDescriptionList .euiDescriptionList__description{flex-basis:85%}.failure-list{max-height:200px;overflow-y:auto}.failure-list .error-message{color:#BD271E}.file-datavisualizer-file-picker{max-width:inherit}.file-datavisualizer-file-picker .euiFilePicker__prompt{background-color:#fff;box-shadow:none}.file-datavisualizer-file-picker .euiFilePicker__prompt .euiFilePicker__icon{width:40px;height:40px}.results .euiDescriptionList dd,.results .euiDescriptionList dt{margin-top:5px}.results .euiDescriptionList dd:nth-child(1),.results .euiDescriptionList dt:nth-child(1){margin-top:0}.file-datavisualizer-about-panel__icon{width:96px;height:96px;margin-left:32px;margin-right:24px}.euiFlexItem.file-datavisualizer-about-panel__doc-icon{margin-left:32px;margin-right:4px;margin-top:16px}\n",""]),e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ElasticsearchSqlHighlightRules",{enumerable:!0,get:function(){return r.ElasticsearchSqlHighlightRules}}),Object.defineProperty(t,"ScriptHighlightRules",{enumerable:!0,get:function(){return i.ScriptHighlightRules}}),Object.defineProperty(t,"XJsonHighlightRules",{enumerable:!0,get:function(){return a.XJsonHighlightRules}}),Object.defineProperty(t,"addXJsonToRules",{enumerable:!0,get:function(){return a.addToRules}});var r=n(65),i=n(66),a=n(86)},function(e,t,n){"use strict";var r=n(50);Object.defineProperty(t,"__esModule",{value:!0}),t.XJsonHighlightRules=d,t.addToRules=function(e,t){e.$rules=(0,i.defaultsDeep)(e.$rules,c(t)),e.embedRules(s.ScriptHighlightRules,"script-",[{token:"punctuation.end_triple_quote",regex:'"""',next:"pop"}]),e.embedRules(o.ElasticsearchSqlHighlightRules,"sql-",[{token:"punctuation.end_triple_quote",regex:'"""',next:"pop"}])};var i=n(16),a=r(n(51));n(87);var o=n(65),s=n(66);const{JsonHighlightRules:l}=a.default.acequire("ace/mode/json_highlight_rules"),u=a.default.acequire("ace/lib/oop"),c=function(e){const t={},n=[{token:["variable","whitespace","ace.punctuation.colon","whitespace","punctuation.start_triple_quote"],regex:'("(?:[^"]*_)?script"|"inline"|"source")(\\s*?)(:)(\\s*?)(""")',next:"script-start",merge:!1,push:!0},{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"punctuation.start_triple_quote",regex:'"""',next:"string_literal",merge:!1,push:!0},{token:"string",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]'},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"invalid.illegal",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"invalid.illegal",regex:"\\/\\/.*$"},{token:"paren.lparen",merge:!1,regex:"{",next:e=e||"json",push:!0},{token:"paren.lparen",merge:!1,regex:"[[(]"},{token:"paren.rparen",merge:!1,regex:"[\\])]"},{token:"paren.rparen",regex:"}",merge:!1,next:"pop"},{token:"punctuation.comma",regex:","},{token:"punctuation.colon",regex:":"},{token:"whitespace",regex:"\\s+"},{token:"text",regex:".+?"}];return t[e]=n,t[e+"-sql"]=[{token:["variable","whitespace","ace.punctuation.colon","whitespace","punctuation.start_triple_quote"],regex:'("query")(\\s*?)(:)(\\s*?)(""")',next:"sql-start",merge:!1,push:!0}].concat(n),t.string_literal=[{token:"punctuation.end_triple_quote",regex:'"""',next:"pop"},{token:"multi_string",regex:"."}],t};function d(){this.$rules={...c("start")},this.embedRules(s.ScriptHighlightRules,"script-",[{token:"punctuation.end_triple_quote",regex:'"""',next:"pop"}]),this.embedRules(o.ElasticsearchSqlHighlightRules,"sql-",[{token:"punctuation.end_triple_quote",regex:'"""',next:"pop"}])}u.inherits(d,l)},function(e,t,n){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var r=e("../lib/oop"),i=e("./text_highlight_rules").TextHighlightRules,a=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};r.inherits(a,i),t.JsonHighlightRules=a})),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var r=e("../range").Range,i=function(){};(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var n=e.getLine(t).match(/^(\s*\})/);if(!n)return 0;var i=n[1].length,a=e.findMatchingBracket({row:t,column:i});if(!a||a.row==t)return 0;var o=this.$getIndent(e.getLine(a.row));e.replace(new r(t,0,t,i-1),o)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(i.prototype),t.MatchingBraceOutdent=i})),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],(function(e,t,n){"use strict";var r=e("../../lib/oop"),i=e("../../range").Range,a=e("./fold_mode").FoldMode,o=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};r.inherits(o,a),function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,n){var r=e.getLine(n);if(this.singleLineBlockCommentRe.test(r)&&!this.startRegionRe.test(r)&&!this.tripleStarBlockCommentRe.test(r))return"";var i=this._getFoldWidgetBase(e,t,n);return!i&&this.startRegionRe.test(r)?"start":i},this.getFoldWidgetRange=function(e,t,n,r){var i,a=e.getLine(n);if(this.startRegionRe.test(a))return this.getCommentRegionBlock(e,a,n);if(i=a.match(this.foldingStartMarker)){var o=i.index;if(i[1])return this.openingBracketBlock(e,i[1],n,o);var s=e.getCommentFoldRange(n,o+i[0].length,1);return s&&!s.isMultiLine()&&(r?s=this.getSectionRange(e,n):"all"!=t&&(s=null)),s}if("markbegin"!==t&&(i=a.match(this.foldingStopMarker))){o=i.index+i[0].length;return i[1]?this.closingBracketBlock(e,i[1],n,o):e.getCommentFoldRange(n,o,-1)}},this.getSectionRange=function(e,t){for(var n=e.getLine(t),r=n.search(/\S/),a=t,o=n.length,s=t+=1,l=e.getLength();++t<l;){var u=(n=e.getLine(t)).search(/\S/);if(-1!==u){if(r>u)break;var c=this.getFoldWidgetRange(e,"all",t);if(c){if(c.start.row<=a)break;if(c.isMultiLine())t=c.end.row;else if(r==u)break}s=t}}return new i(a,o,s,e.getLine(s).length)},this.getCommentRegionBlock=function(e,t,n){for(var r=t.search(/\s*$/),a=e.getLength(),o=n,s=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,l=1;++n<a;){t=e.getLine(n);var u=s.exec(t);if(u&&(u[1]?l--:l++,!l))break}if(n>o)return new i(o,r,n,t.length)}}.call(o.prototype)})),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle","ace/worker/worker_client"],(function(e,t,r){"use strict";var i=e("../lib/oop"),a=e("./text").Mode,o=e("./json_highlight_rules").JsonHighlightRules,s=e("./matching_brace_outdent").MatchingBraceOutdent,l=e("./behaviour/cstyle").CstyleBehaviour,u=e("./folding/cstyle").FoldMode,c=e("../worker/worker_client").WorkerClient,d=function(){this.HighlightRules=o,this.$outdent=new s,this.$behaviour=new l,this.foldingRules=new u};i.inherits(d,a),function(){this.getNextLineIndent=function(e,t,n){var r=this.$getIndent(t);"start"==e&&(t.match(/^.*[\{\(\[]\s*$/)&&(r+=n));return r},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(e){var t=new c(["ace"],n(88),"JsonWorker");return t.attachToDocument(e.getDocument()),t.on("annotate",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t},this.$id="ace/mode/json"}.call(d.prototype),t.Mode=d}))},function(e,t){e.exports.id="ace/mode/json_worker",e.exports.src='"no use strict";!function(window){function resolveModuleId(id,paths){for(var testPath=id,tail="";testPath;){var alias=paths[testPath];if("string"==typeof alias)return alias+tail;if(alias)return alias.location.replace(/\\/*$/,"/")+(tail||alias.main||alias.name);if(alias===!1)return"";var i=testPath.lastIndexOf("/");if(-1===i)break;tail=testPath.substr(i)+tail,testPath=testPath.slice(0,i)}return id}if(!(void 0!==window.window&&window.document||window.acequire&&window.define)){window.console||(window.console=function(){var msgs=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:msgs})},window.console.error=window.console.warn=window.console.log=window.console.trace=window.console),window.window=window,window.ace=window,window.onerror=function(message,file,line,col,err){postMessage({type:"error",data:{message:message,data:err.data,file:file,line:line,col:col,stack:err.stack}})},window.normalizeModule=function(parentId,moduleName){if(-1!==moduleName.indexOf("!")){var chunks=moduleName.split("!");return window.normalizeModule(parentId,chunks[0])+"!"+window.normalizeModule(parentId,chunks[1])}if("."==moduleName.charAt(0)){var base=parentId.split("/").slice(0,-1).join("/");for(moduleName=(base?base+"/":"")+moduleName;-1!==moduleName.indexOf(".")&&previous!=moduleName;){var previous=moduleName;moduleName=moduleName.replace(/^\\.\\//,"").replace(/\\/\\.\\//,"/").replace(/[^\\/]+\\/\\.\\.\\//,"")}}return moduleName},window.acequire=function acequire(parentId,id){if(id||(id=parentId,parentId=null),!id.charAt)throw Error("worker.js acequire() accepts only (parentId, id) as arguments");id=window.normalizeModule(parentId,id);var module=window.acequire.modules[id];if(module)return module.initialized||(module.initialized=!0,module.exports=module.factory().exports),module.exports;if(!window.acequire.tlns)return console.log("unable to load "+id);var path=resolveModuleId(id,window.acequire.tlns);return".js"!=path.slice(-3)&&(path+=".js"),window.acequire.id=id,window.acequire.modules[id]={},importScripts(path),window.acequire(parentId,id)},window.acequire.modules={},window.acequire.tlns={},window.define=function(id,deps,factory){if(2==arguments.length?(factory=deps,"string"!=typeof id&&(deps=id,id=window.acequire.id)):1==arguments.length&&(factory=id,deps=[],id=window.acequire.id),"function"!=typeof factory)return window.acequire.modules[id]={exports:factory,initialized:!0},void 0;deps.length||(deps=["require","exports","module"]);var req=function(childId){return window.acequire(id,childId)};window.acequire.modules[id]={exports:{},factory:function(){var module=this,returnExports=factory.apply(this,deps.map(function(dep){switch(dep){case"require":return req;case"exports":return module.exports;case"module":return module;default:return req(dep)}}));return returnExports&&(module.exports=returnExports),module}}},window.define.amd={},acequire.tlns={},window.initBaseUrls=function(topLevelNamespaces){for(var i in topLevelNamespaces)acequire.tlns[i]=topLevelNamespaces[i]},window.initSender=function(){var EventEmitter=window.acequire("ace/lib/event_emitter").EventEmitter,oop=window.acequire("ace/lib/oop"),Sender=function(){};return function(){oop.implement(this,EventEmitter),this.callback=function(data,callbackId){postMessage({type:"call",id:callbackId,data:data})},this.emit=function(name,data){postMessage({type:"event",name:name,data:data})}}.call(Sender.prototype),new Sender};var main=window.main=null,sender=window.sender=null;window.onmessage=function(e){var msg=e.data;if(msg.event&&sender)sender._signal(msg.event,msg.data);else if(msg.command)if(main[msg.command])main[msg.command].apply(main,msg.args);else{if(!window[msg.command])throw Error("Unknown command:"+msg.command);window[msg.command].apply(window,msg.args)}else if(msg.init){window.initBaseUrls(msg.tlns),acequire("ace/lib/es5-shim"),sender=window.sender=window.initSender();var clazz=acequire(msg.module)[msg.classname];main=window.main=new clazz(sender)}}}}(this),ace.define("ace/lib/oop",["require","exports","module"],function(acequire,exports){"use strict";exports.inherits=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})},exports.mixin=function(obj,mixin){for(var key in mixin)obj[key]=mixin[key];return obj},exports.implement=function(proto,mixin){exports.mixin(proto,mixin)}}),ace.define("ace/range",["require","exports","module"],function(acequire,exports){"use strict";var comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},Range=function(startRow,startColumn,endRow,endColumn){this.start={row:startRow,column:startColumn},this.end={row:endRow,column:endColumn}};(function(){this.isEqual=function(range){return this.start.row===range.start.row&&this.end.row===range.end.row&&this.start.column===range.start.column&&this.end.column===range.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(row,column){return 0==this.compare(row,column)},this.compareRange=function(range){var cmp,end=range.end,start=range.start;return cmp=this.compare(end.row,end.column),1==cmp?(cmp=this.compare(start.row,start.column),1==cmp?2:0==cmp?1:0):-1==cmp?-2:(cmp=this.compare(start.row,start.column),-1==cmp?-1:1==cmp?42:0)},this.comparePoint=function(p){return this.compare(p.row,p.column)},this.containsRange=function(range){return 0==this.comparePoint(range.start)&&0==this.comparePoint(range.end)},this.intersects=function(range){var cmp=this.compareRange(range);return-1==cmp||0==cmp||1==cmp},this.isEnd=function(row,column){return this.end.row==row&&this.end.column==column},this.isStart=function(row,column){return this.start.row==row&&this.start.column==column},this.setStart=function(row,column){"object"==typeof row?(this.start.column=row.column,this.start.row=row.row):(this.start.row=row,this.start.column=column)},this.setEnd=function(row,column){"object"==typeof row?(this.end.column=row.column,this.end.row=row.row):(this.end.row=row,this.end.column=column)},this.inside=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)||this.isStart(row,column)?!1:!0:!1},this.insideStart=function(row,column){return 0==this.compare(row,column)?this.isEnd(row,column)?!1:!0:!1},this.insideEnd=function(row,column){return 0==this.compare(row,column)?this.isStart(row,column)?!1:!0:!1},this.compare=function(row,column){return this.isMultiLine()||row!==this.start.row?this.start.row>row?-1:row>this.end.row?1:this.start.row===row?column>=this.start.column?0:-1:this.end.row===row?this.end.column>=column?0:1:0:this.start.column>column?-1:column>this.end.column?1:0},this.compareStart=function(row,column){return this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.compareEnd=function(row,column){return this.end.row==row&&this.end.column==column?1:this.compare(row,column)},this.compareInside=function(row,column){return this.end.row==row&&this.end.column==column?1:this.start.row==row&&this.start.column==column?-1:this.compare(row,column)},this.clipRows=function(firstRow,lastRow){if(this.end.row>lastRow)var end={row:lastRow+1,column:0};else if(firstRow>this.end.row)var end={row:firstRow,column:0};if(this.start.row>lastRow)var start={row:lastRow+1,column:0};else if(firstRow>this.start.row)var start={row:firstRow,column:0};return Range.fromPoints(start||this.start,end||this.end)},this.extend=function(row,column){var cmp=this.compare(row,column);if(0==cmp)return this;if(-1==cmp)var start={row:row,column:column};else var end={row:row,column:column};return Range.fromPoints(start||this.start,end||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return Range.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new Range(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new Range(this.start.row,0,this.end.row,0)},this.toScreenRange=function(session){var screenPosStart=session.documentToScreenPosition(this.start),screenPosEnd=session.documentToScreenPosition(this.end);return new Range(screenPosStart.row,screenPosStart.column,screenPosEnd.row,screenPosEnd.column)},this.moveBy=function(row,column){this.start.row+=row,this.start.column+=column,this.end.row+=row,this.end.column+=column}}).call(Range.prototype),Range.fromPoints=function(start,end){return new Range(start.row,start.column,end.row,end.column)},Range.comparePoints=comparePoints,Range.comparePoints=function(p1,p2){return p1.row-p2.row||p1.column-p2.column},exports.Range=Range}),ace.define("ace/apply_delta",["require","exports","module"],function(acequire,exports){"use strict";exports.applyDelta=function(docLines,delta){var row=delta.start.row,startColumn=delta.start.column,line=docLines[row]||"";switch(delta.action){case"insert":var lines=delta.lines;if(1===lines.length)docLines[row]=line.substring(0,startColumn)+delta.lines[0]+line.substring(startColumn);else{var args=[row,1].concat(delta.lines);docLines.splice.apply(docLines,args),docLines[row]=line.substring(0,startColumn)+docLines[row],docLines[row+delta.lines.length-1]+=line.substring(startColumn)}break;case"remove":var endColumn=delta.end.column,endRow=delta.end.row;row===endRow?docLines[row]=line.substring(0,startColumn)+line.substring(endColumn):docLines.splice(row,endRow-row+1,line.substring(0,startColumn)+docLines[endRow].substring(endColumn))}}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(acequire,exports){"use strict";var EventEmitter={},stopPropagation=function(){this.propagationStopped=!0},preventDefault=function(){this.defaultPrevented=!0};EventEmitter._emit=EventEmitter._dispatchEvent=function(eventName,e){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var listeners=this._eventRegistry[eventName]||[],defaultHandler=this._defaultHandlers[eventName];if(listeners.length||defaultHandler){"object"==typeof e&&e||(e={}),e.type||(e.type=eventName),e.stopPropagation||(e.stopPropagation=stopPropagation),e.preventDefault||(e.preventDefault=preventDefault),listeners=listeners.slice();for(var i=0;listeners.length>i&&(listeners[i](e,this),!e.propagationStopped);i++);return defaultHandler&&!e.defaultPrevented?defaultHandler(e,this):void 0}},EventEmitter._signal=function(eventName,e){var listeners=(this._eventRegistry||{})[eventName];if(listeners){listeners=listeners.slice();for(var i=0;listeners.length>i;i++)listeners[i](e,this)}},EventEmitter.once=function(eventName,callback){var _self=this;callback&&this.addEventListener(eventName,function newCallback(){_self.removeEventListener(eventName,newCallback),callback.apply(null,arguments)})},EventEmitter.setDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers||(handlers=this._defaultHandlers={_disabled_:{}}),handlers[eventName]){var old=handlers[eventName],disabled=handlers._disabled_[eventName];disabled||(handlers._disabled_[eventName]=disabled=[]),disabled.push(old);var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}handlers[eventName]=callback},EventEmitter.removeDefaultHandler=function(eventName,callback){var handlers=this._defaultHandlers;if(handlers){var disabled=handlers._disabled_[eventName];if(handlers[eventName]==callback)handlers[eventName],disabled&&this.setDefaultHandler(eventName,disabled.pop());else if(disabled){var i=disabled.indexOf(callback);-1!=i&&disabled.splice(i,1)}}},EventEmitter.on=EventEmitter.addEventListener=function(eventName,callback,capturing){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];return listeners||(listeners=this._eventRegistry[eventName]=[]),-1==listeners.indexOf(callback)&&listeners[capturing?"unshift":"push"](callback),callback},EventEmitter.off=EventEmitter.removeListener=EventEmitter.removeEventListener=function(eventName,callback){this._eventRegistry=this._eventRegistry||{};var listeners=this._eventRegistry[eventName];if(listeners){var index=listeners.indexOf(callback);-1!==index&&listeners.splice(index,1)}},EventEmitter.removeAllListeners=function(eventName){this._eventRegistry&&(this._eventRegistry[eventName]=[])},exports.EventEmitter=EventEmitter}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),EventEmitter=acequire("./lib/event_emitter").EventEmitter,Anchor=exports.Anchor=function(doc,row,column){this.$onChange=this.onChange.bind(this),this.attach(doc),column===void 0?this.setPosition(row.row,row.column):this.setPosition(row,column)};(function(){function $pointsInOrder(point1,point2,equalPointsInOrder){var bColIsAfter=equalPointsInOrder?point1.column<=point2.column:point1.column<point2.column;return point1.row<point2.row||point1.row==point2.row&&bColIsAfter}function $getTransformedPoint(delta,point,moveIfEqual){var deltaIsInsert="insert"==delta.action,deltaRowShift=(deltaIsInsert?1:-1)*(delta.end.row-delta.start.row),deltaColShift=(deltaIsInsert?1:-1)*(delta.end.column-delta.start.column),deltaStart=delta.start,deltaEnd=deltaIsInsert?deltaStart:delta.end;return $pointsInOrder(point,deltaStart,moveIfEqual)?{row:point.row,column:point.column}:$pointsInOrder(deltaEnd,point,!moveIfEqual)?{row:point.row+deltaRowShift,column:point.column+(point.row==deltaEnd.row?deltaColShift:0)}:{row:deltaStart.row,column:deltaStart.column}}oop.implement(this,EventEmitter),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(delta){if(!(delta.start.row==delta.end.row&&delta.start.row!=this.row||delta.start.row>this.row)){var point=$getTransformedPoint(delta,{row:this.row,column:this.column},this.$insertRight);this.setPosition(point.row,point.column,!0)}},this.setPosition=function(row,column,noClip){var pos;if(pos=noClip?{row:row,column:column}:this.$clipPositionToDocument(row,column),this.row!=pos.row||this.column!=pos.column){var old={row:this.row,column:this.column};this.row=pos.row,this.column=pos.column,this._signal("change",{old:old,value:pos})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(doc){this.document=doc||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(row,column){var pos={};return row>=this.document.getLength()?(pos.row=Math.max(0,this.document.getLength()-1),pos.column=this.document.getLine(pos.row).length):0>row?(pos.row=0,pos.column=0):(pos.row=row,pos.column=Math.min(this.document.getLine(pos.row).length,Math.max(0,column))),0>column&&(pos.column=0),pos}}).call(Anchor.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(acequire,exports){"use strict";var oop=acequire("./lib/oop"),applyDelta=acequire("./apply_delta").applyDelta,EventEmitter=acequire("./lib/event_emitter").EventEmitter,Range=acequire("./range").Range,Anchor=acequire("./anchor").Anchor,Document=function(textOrLines){this.$lines=[""],0===textOrLines.length?this.$lines=[""]:Array.isArray(textOrLines)?this.insertMergedLines({row:0,column:0},textOrLines):this.insert({row:0,column:0},textOrLines)};(function(){oop.implement(this,EventEmitter),this.setValue=function(text){var len=this.getLength()-1;this.remove(new Range(0,0,len,this.getLine(len).length)),this.insert({row:0,column:0},text)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(row,column){return new Anchor(this,row,column)},this.$split=0==="aaa".split(/a/).length?function(text){return text.replace(/\\r\\n|\\r/g,"\\n").split("\\n")}:function(text){return text.split(/\\r\\n|\\r|\\n/)},this.$detectNewLine=function(text){var match=text.match(/^.*?(\\r\\n|\\r|\\n)/m);this.$autoNewLine=match?match[1]:"\\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\\r\\n";case"unix":return"\\n";default:return this.$autoNewLine||"\\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(newLineMode){this.$newLineMode!==newLineMode&&(this.$newLineMode=newLineMode,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(text){return"\\r\\n"==text||"\\r"==text||"\\n"==text},this.getLine=function(row){return this.$lines[row]||""},this.getLines=function(firstRow,lastRow){return this.$lines.slice(firstRow,lastRow+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(range){return this.getLinesForRange(range).join(this.getNewLineCharacter())},this.getLinesForRange=function(range){var lines;if(range.start.row===range.end.row)lines=[this.getLine(range.start.row).substring(range.start.column,range.end.column)];else{lines=this.getLines(range.start.row,range.end.row),lines[0]=(lines[0]||"").substring(range.start.column);var l=lines.length-1;range.end.row-range.start.row==l&&(lines[l]=lines[l].substring(0,range.end.column))}return lines},this.insertLines=function(row,lines){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(row,lines)},this.removeLines=function(firstRow,lastRow){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(firstRow,lastRow)},this.insertNewLine=function(position){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\'\', \'\']) instead."),this.insertMergedLines(position,["",""])},this.insert=function(position,text){return 1>=this.getLength()&&this.$detectNewLine(text),this.insertMergedLines(position,this.$split(text))},this.insertInLine=function(position,text){var start=this.clippedPos(position.row,position.column),end=this.pos(position.row,position.column+text.length);return this.applyDelta({start:start,end:end,action:"insert",lines:[text]},!0),this.clonePos(end)},this.clippedPos=function(row,column){var length=this.getLength();void 0===row?row=length:0>row?row=0:row>=length&&(row=length-1,column=void 0);var line=this.getLine(row);return void 0==column&&(column=line.length),column=Math.min(Math.max(column,0),line.length),{row:row,column:column}},this.clonePos=function(pos){return{row:pos.row,column:pos.column}},this.pos=function(row,column){return{row:row,column:column}},this.$clipPosition=function(position){var length=this.getLength();return position.row>=length?(position.row=Math.max(0,length-1),position.column=this.getLine(length-1).length):(position.row=Math.max(0,position.row),position.column=Math.min(Math.max(position.column,0),this.getLine(position.row).length)),position},this.insertFullLines=function(row,lines){row=Math.min(Math.max(row,0),this.getLength());var column=0;this.getLength()>row?(lines=lines.concat([""]),column=0):(lines=[""].concat(lines),row--,column=this.$lines[row].length),this.insertMergedLines({row:row,column:column},lines)},this.insertMergedLines=function(position,lines){var start=this.clippedPos(position.row,position.column),end={row:start.row+lines.length-1,column:(1==lines.length?start.column:0)+lines[lines.length-1].length};return this.applyDelta({start:start,end:end,action:"insert",lines:lines}),this.clonePos(end)},this.remove=function(range){var start=this.clippedPos(range.start.row,range.start.column),end=this.clippedPos(range.end.row,range.end.column);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})}),this.clonePos(start)},this.removeInLine=function(row,startColumn,endColumn){var start=this.clippedPos(row,startColumn),end=this.clippedPos(row,endColumn);return this.applyDelta({start:start,end:end,action:"remove",lines:this.getLinesForRange({start:start,end:end})},!0),this.clonePos(start)},this.removeFullLines=function(firstRow,lastRow){firstRow=Math.min(Math.max(0,firstRow),this.getLength()-1),lastRow=Math.min(Math.max(0,lastRow),this.getLength()-1);var deleteFirstNewLine=lastRow==this.getLength()-1&&firstRow>0,deleteLastNewLine=this.getLength()-1>lastRow,startRow=deleteFirstNewLine?firstRow-1:firstRow,startCol=deleteFirstNewLine?this.getLine(startRow).length:0,endRow=deleteLastNewLine?lastRow+1:lastRow,endCol=deleteLastNewLine?0:this.getLine(endRow).length,range=new Range(startRow,startCol,endRow,endCol),deletedLines=this.$lines.slice(firstRow,lastRow+1);return this.applyDelta({start:range.start,end:range.end,action:"remove",lines:this.getLinesForRange(range)}),deletedLines},this.removeNewLine=function(row){this.getLength()-1>row&&row>=0&&this.applyDelta({start:this.pos(row,this.getLine(row).length),end:this.pos(row+1,0),action:"remove",lines:["",""]})},this.replace=function(range,text){if(range instanceof Range||(range=Range.fromPoints(range.start,range.end)),0===text.length&&range.isEmpty())return range.start;if(text==this.getTextRange(range))return range.end;this.remove(range);var end;return end=text?this.insert(range.start,text):range.start},this.applyDeltas=function(deltas){for(var i=0;deltas.length>i;i++)this.applyDelta(deltas[i])},this.revertDeltas=function(deltas){for(var i=deltas.length-1;i>=0;i--)this.revertDelta(deltas[i])},this.applyDelta=function(delta,doNotValidate){var isInsert="insert"==delta.action;(isInsert?1>=delta.lines.length&&!delta.lines[0]:!Range.comparePoints(delta.start,delta.end))||(isInsert&&delta.lines.length>2e4&&this.$splitAndapplyLargeDelta(delta,2e4),applyDelta(this.$lines,delta,doNotValidate),this._signal("change",delta))},this.$splitAndapplyLargeDelta=function(delta,MAX){for(var lines=delta.lines,l=lines.length,row=delta.start.row,column=delta.start.column,from=0,to=0;;){from=to,to+=MAX-1;var chunk=lines.slice(from,to);if(to>l){delta.lines=chunk,delta.start.row=row+from,delta.start.column=column;break}chunk.push(""),this.applyDelta({start:this.pos(row+from,column),end:this.pos(row+to,column=0),action:delta.action,lines:chunk},!0)}},this.revertDelta=function(delta){this.applyDelta({start:this.clonePos(delta.start),end:this.clonePos(delta.end),action:"insert"==delta.action?"remove":"insert",lines:delta.lines.slice()})},this.indexToPosition=function(index,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,i=startRow||0,l=lines.length;l>i;i++)if(index-=lines[i].length+newlineLength,0>index)return{row:i,column:index+lines[i].length+newlineLength};return{row:l-1,column:lines[l-1].length}},this.positionToIndex=function(pos,startRow){for(var lines=this.$lines||this.getAllLines(),newlineLength=this.getNewLineCharacter().length,index=0,row=Math.min(pos.row,lines.length),i=startRow||0;row>i;++i)index+=lines[i].length+newlineLength;return index+pos.column}}).call(Document.prototype),exports.Document=Document}),ace.define("ace/lib/lang",["require","exports","module"],function(acequire,exports){"use strict";exports.last=function(a){return a[a.length-1]},exports.stringReverse=function(string){return string.split("").reverse().join("")},exports.stringRepeat=function(string,count){for(var result="";count>0;)1&count&&(result+=string),(count>>=1)&&(string+=string);return result};var trimBeginRegexp=/^\\s\\s*/,trimEndRegexp=/\\s\\s*$/;exports.stringTrimLeft=function(string){return string.replace(trimBeginRegexp,"")},exports.stringTrimRight=function(string){return string.replace(trimEndRegexp,"")},exports.copyObject=function(obj){var copy={};for(var key in obj)copy[key]=obj[key];return copy},exports.copyArray=function(array){for(var copy=[],i=0,l=array.length;l>i;i++)copy[i]=array[i]&&"object"==typeof array[i]?this.copyObject(array[i]):array[i];return copy},exports.deepCopy=function deepCopy(obj){if("object"!=typeof obj||!obj)return obj;var copy;if(Array.isArray(obj)){copy=[];for(var key=0;obj.length>key;key++)copy[key]=deepCopy(obj[key]);return copy}if("[object Object]"!==Object.prototype.toString.call(obj))return obj;copy={};for(var key in obj)copy[key]=deepCopy(obj[key]);return copy},exports.arrayToMap=function(arr){for(var map={},i=0;arr.length>i;i++)map[arr[i]]=1;return map},exports.createMap=function(props){var map=Object.create(null);for(var i in props)map[i]=props[i];return map},exports.arrayRemove=function(array,value){for(var i=0;array.length>=i;i++)value===array[i]&&array.splice(i,1)},exports.escapeRegExp=function(str){return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g,"\\\\$1")},exports.escapeHTML=function(str){return str.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/\'/g,"&#39;").replace(/</g,"&#60;")},exports.getMatchOffsets=function(string,regExp){var matches=[];return string.replace(regExp,function(str){matches.push({offset:arguments[arguments.length-2],length:str.length})}),matches},exports.deferredCall=function(fcn){var timer=null,callback=function(){timer=null,fcn()},deferred=function(timeout){return deferred.cancel(),timer=setTimeout(callback,timeout||0),deferred};return deferred.schedule=deferred,deferred.call=function(){return this.cancel(),fcn(),deferred},deferred.cancel=function(){return clearTimeout(timer),timer=null,deferred},deferred.isPending=function(){return timer},deferred},exports.delayedCall=function(fcn,defaultTimeout){var timer=null,callback=function(){timer=null,fcn()},_self=function(timeout){null==timer&&(timer=setTimeout(callback,timeout||defaultTimeout))};return _self.delay=function(timeout){timer&&clearTimeout(timer),timer=setTimeout(callback,timeout||defaultTimeout)},_self.schedule=_self,_self.call=function(){this.cancel(),fcn()},_self.cancel=function(){timer&&clearTimeout(timer),timer=null},_self.isPending=function(){return timer},_self}}),ace.define("ace/worker/mirror",["require","exports","module","ace/range","ace/document","ace/lib/lang"],function(acequire,exports){"use strict";acequire("../range").Range;var Document=acequire("../document").Document,lang=acequire("../lib/lang"),Mirror=exports.Mirror=function(sender){this.sender=sender;var doc=this.doc=new Document(""),deferredUpdate=this.deferredUpdate=lang.delayedCall(this.onUpdate.bind(this)),_self=this;sender.on("change",function(e){var data=e.data;if(data[0].start)doc.applyDeltas(data);else for(var i=0;data.length>i;i+=2){if(Array.isArray(data[i+1]))var d={action:"insert",start:data[i],lines:data[i+1]};else var d={action:"remove",start:data[i],end:data[i+1]};doc.applyDelta(d,!0)}return _self.$timeout?deferredUpdate.schedule(_self.$timeout):(_self.onUpdate(),void 0)})};(function(){this.$timeout=500,this.setTimeout=function(timeout){this.$timeout=timeout},this.setValue=function(value){this.doc.setValue(value),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(callbackId){this.sender.callback(this.doc.getValue(),callbackId)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(Mirror.prototype)}),ace.define("ace/mode/json/json_parse",["require","exports","module"],function(){"use strict";var at,ch,text,value,escapee={\'"\':\'"\',"\\\\":"\\\\","/":"/",b:"\\b",f:"\\f",n:"\\n",r:"\\r",t:"\t"},error=function(m){throw{name:"SyntaxError",message:m,at:at,text:text}},next=function(c){return c&&c!==ch&&error("Expected \'"+c+"\' instead of \'"+ch+"\'"),ch=text.charAt(at),at+=1,ch},number=function(){var number,string="";for("-"===ch&&(string="-",next("-"));ch>="0"&&"9">=ch;)string+=ch,next();if("."===ch)for(string+=".";next()&&ch>="0"&&"9">=ch;)string+=ch;if("e"===ch||"E"===ch)for(string+=ch,next(),("-"===ch||"+"===ch)&&(string+=ch,next());ch>="0"&&"9">=ch;)string+=ch,next();return number=+string,isNaN(number)?(error("Bad number"),void 0):number},string=function(){var hex,i,uffff,string="";if(\'"\'===ch)for(;next();){if(\'"\'===ch)return next(),string;if("\\\\"===ch)if(next(),"u"===ch){for(uffff=0,i=0;4>i&&(hex=parseInt(next(),16),isFinite(hex));i+=1)uffff=16*uffff+hex;string+=String.fromCharCode(uffff)}else{if("string"!=typeof escapee[ch])break;string+=escapee[ch]}else string+=ch}error("Bad string")},white=function(){for(;ch&&" ">=ch;)next()},word=function(){switch(ch){case"t":return next("t"),next("r"),next("u"),next("e"),!0;case"f":return next("f"),next("a"),next("l"),next("s"),next("e"),!1;case"n":return next("n"),next("u"),next("l"),next("l"),null}error("Unexpected \'"+ch+"\'")},array=function(){var array=[];if("["===ch){if(next("["),white(),"]"===ch)return next("]"),array;for(;ch;){if(array.push(value()),white(),"]"===ch)return next("]"),array;next(","),white()}}error("Bad array")},object=function(){var key,object={};if("{"===ch){if(next("{"),white(),"}"===ch)return next("}"),object;for(;ch;){if(key=string(),white(),next(":"),Object.hasOwnProperty.call(object,key)&&error(\'Duplicate key "\'+key+\'"\'),object[key]=value(),white(),"}"===ch)return next("}"),object;next(","),white()}}error("Bad object")};return value=function(){switch(white(),ch){case"{":return object();case"[":return array();case\'"\':return string();case"-":return number();default:return ch>="0"&&"9">=ch?number():word()}},function(source,reviver){var result;return text=source,at=0,ch=" ",result=value(),white(),ch&&error("Syntax error"),"function"==typeof reviver?function walk(holder,key){var k,v,value=holder[key];if(value&&"object"==typeof value)for(k in value)Object.hasOwnProperty.call(value,k)&&(v=walk(value,k),void 0!==v?value[k]=v:delete value[k]);return reviver.call(holder,key,value)}({"":result},""):result}}),ace.define("ace/mode/json_worker",["require","exports","module","ace/lib/oop","ace/worker/mirror","ace/mode/json/json_parse"],function(acequire,exports){"use strict";var oop=acequire("../lib/oop"),Mirror=acequire("../worker/mirror").Mirror,parse=acequire("./json/json_parse"),JsonWorker=exports.JsonWorker=function(sender){Mirror.call(this,sender),this.setTimeout(200)};oop.inherits(JsonWorker,Mirror),function(){this.onUpdate=function(){var value=this.doc.getValue(),errors=[];try{value&&parse(value)}catch(e){var pos=this.doc.indexToPosition(e.at-1);errors.push({row:pos.row,column:pos.column,text:e.message,type:"error"})}this.sender.emit("annotate",errors)}}.call(JsonWorker.prototype)}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(){function Empty(){}function doesDefinePropertyWork(object){try{return Object.defineProperty(object,"sentinel",{}),"sentinel"in object}catch(exception){}}function toInteger(n){return n=+n,n!==n?n=0:0!==n&&n!==1/0&&n!==-(1/0)&&(n=(n>0||-1)*Math.floor(Math.abs(n))),n}Function.prototype.bind||(Function.prototype.bind=function(that){var target=this;if("function"!=typeof target)throw new TypeError("Function.prototype.bind called on incompatible "+target);var args=slice.call(arguments,1),bound=function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))};return target.prototype&&(Empty.prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound});var defineGetter,defineSetter,lookupGetter,lookupSetter,supportsAccessors,call=Function.prototype.call,prototypeOfArray=Array.prototype,prototypeOfObject=Object.prototype,slice=prototypeOfArray.slice,_toString=call.bind(prototypeOfObject.toString),owns=call.bind(prototypeOfObject.hasOwnProperty);if((supportsAccessors=owns(prototypeOfObject,"__defineGetter__"))&&(defineGetter=call.bind(prototypeOfObject.__defineGetter__),defineSetter=call.bind(prototypeOfObject.__defineSetter__),lookupGetter=call.bind(prototypeOfObject.__lookupGetter__),lookupSetter=call.bind(prototypeOfObject.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function makeArray(l){var a=Array(l+2);return a[0]=a[1]=0,a}var lengthBefore,array=[];return array.splice.apply(array,makeArray(20)),array.splice.apply(array,makeArray(26)),lengthBefore=array.length,array.splice(5,0,"XXX"),lengthBefore+1==array.length,lengthBefore+1==array.length?!0:void 0\n}()){var array_splice=Array.prototype.splice;Array.prototype.splice=function(start,deleteCount){return arguments.length?array_splice.apply(this,[void 0===start?0:start,void 0===deleteCount?this.length-start:deleteCount].concat(slice.call(arguments,2))):[]}}else Array.prototype.splice=function(pos,removeCount){var length=this.length;pos>0?pos>length&&(pos=length):void 0==pos?pos=0:0>pos&&(pos=Math.max(length+pos,0)),length>pos+removeCount||(removeCount=length-pos);var removed=this.slice(pos,pos+removeCount),insert=slice.call(arguments,2),add=insert.length;if(pos===length)add&&this.push.apply(this,insert);else{var remove=Math.min(removeCount,length-pos),tailOldPos=pos+remove,tailNewPos=tailOldPos+add-remove,tailCount=length-tailOldPos,lengthAfterRemove=length-remove;if(tailOldPos>tailNewPos)for(var i=0;tailCount>i;++i)this[tailNewPos+i]=this[tailOldPos+i];else if(tailNewPos>tailOldPos)for(i=tailCount;i--;)this[tailNewPos+i]=this[tailOldPos+i];if(add&&pos===lengthAfterRemove)this.length=lengthAfterRemove,this.push.apply(this,insert);else for(this.length=lengthAfterRemove+add,i=0;add>i;++i)this[pos+i]=insert[i]}return removed};Array.isArray||(Array.isArray=function(obj){return"[object Array]"==_toString(obj)});var boxedString=Object("a"),splitString="a"!=boxedString[0]||!(0 in boxedString);if(Array.prototype.forEach||(Array.prototype.forEach=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,thisp=arguments[1],i=-1,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError;for(;length>++i;)i in self&&fun.call(thisp,self[i],i,object)}),Array.prototype.map||(Array.prototype.map=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=Array(length),thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(result[i]=fun.call(thisp,self[i],i,object));return result}),Array.prototype.filter||(Array.prototype.filter=function(fun){var value,object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,result=[],thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)i in self&&(value=self[i],fun.call(thisp,value,i,object)&&result.push(value));return result}),Array.prototype.every||(Array.prototype.every=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&!fun.call(thisp,self[i],i,object))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0,thisp=arguments[1];if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");for(var i=0;length>i;i++)if(i in self&&fun.call(thisp,self[i],i,object))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var result,i=0;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i++];break}if(++i>=length)throw new TypeError("reduce of empty array with no initial value")}for(;length>i;i++)i in self&&(result=fun.call(void 0,result,self[i],i,object));return result}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(fun){var object=toObject(this),self=splitString&&"[object String]"==_toString(this)?this.split(""):object,length=self.length>>>0;if("[object Function]"!=_toString(fun))throw new TypeError(fun+" is not a function");if(!length&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var result,i=length-1;if(arguments.length>=2)result=arguments[1];else for(;;){if(i in self){result=self[i--];break}if(0>--i)throw new TypeError("reduceRight of empty array with no initial value")}do i in this&&(result=fun.call(void 0,result,self[i],i,object));while(i--);return result}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=0;for(arguments.length>1&&(i=toInteger(arguments[1])),i=i>=0?i:Math.max(0,length+i);length>i;i++)if(i in self&&self[i]===sought)return i;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(sought){var self=splitString&&"[object String]"==_toString(this)?this.split(""):toObject(this),length=self.length>>>0;if(!length)return-1;var i=length-1;for(arguments.length>1&&(i=Math.min(i,toInteger(arguments[1]))),i=i>=0?i:length-Math.abs(i);i>=0;i--)if(i in self&&sought===self[i])return i;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(object){return object.__proto__||(object.constructor?object.constructor.prototype:prototypeOfObject)}),!Object.getOwnPropertyDescriptor){var ERR_NON_OBJECT="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(object,property){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT+object);if(owns(object,property)){var descriptor,getter,setter;if(descriptor={enumerable:!0,configurable:!0},supportsAccessors){var prototype=object.__proto__;object.__proto__=prototypeOfObject;var getter=lookupGetter(object,property),setter=lookupSetter(object,property);if(object.__proto__=prototype,getter||setter)return getter&&(descriptor.get=getter),setter&&(descriptor.set=setter),descriptor}return descriptor.value=object[property],descriptor}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(object){return Object.keys(object)}),!Object.create){var createEmpty;createEmpty=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var empty={};for(var i in empty)empty[i]=null;return empty.constructor=empty.hasOwnProperty=empty.propertyIsEnumerable=empty.isPrototypeOf=empty.toLocaleString=empty.toString=empty.valueOf=empty.__proto__=null,empty},Object.create=function(prototype,properties){var object;if(null===prototype)object=createEmpty();else{if("object"!=typeof prototype)throw new TypeError("typeof prototype["+typeof prototype+"] != \'object\'");var Type=function(){};Type.prototype=prototype,object=new Type,object.__proto__=prototype}return void 0!==properties&&Object.defineProperties(object,properties),object}}if(Object.defineProperty){var definePropertyWorksOnObject=doesDefinePropertyWork({}),definePropertyWorksOnDom="undefined"==typeof document||doesDefinePropertyWork(document.createElement("div"));if(!definePropertyWorksOnObject||!definePropertyWorksOnDom)var definePropertyFallback=Object.defineProperty}if(!Object.defineProperty||definePropertyFallback){var ERR_NON_OBJECT_DESCRIPTOR="Property description must be an object: ",ERR_NON_OBJECT_TARGET="Object.defineProperty called on non-object: ",ERR_ACCESSORS_NOT_SUPPORTED="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(object,property,descriptor){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError(ERR_NON_OBJECT_TARGET+object);if("object"!=typeof descriptor&&"function"!=typeof descriptor||null===descriptor)throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR+descriptor);if(definePropertyFallback)try{return definePropertyFallback.call(Object,object,property,descriptor)}catch(exception){}if(owns(descriptor,"value"))if(supportsAccessors&&(lookupGetter(object,property)||lookupSetter(object,property))){var prototype=object.__proto__;object.__proto__=prototypeOfObject,delete object[property],object[property]=descriptor.value,object.__proto__=prototype}else object[property]=descriptor.value;else{if(!supportsAccessors)throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);owns(descriptor,"get")&&defineGetter(object,property,descriptor.get),owns(descriptor,"set")&&defineSetter(object,property,descriptor.set)}return object}}Object.defineProperties||(Object.defineProperties=function(object,properties){for(var property in properties)owns(properties,property)&&Object.defineProperty(object,property,properties[property]);return object}),Object.seal||(Object.seal=function(object){return object}),Object.freeze||(Object.freeze=function(object){return object});try{Object.freeze(function(){})}catch(exception){Object.freeze=function(freezeObject){return function(object){return"function"==typeof object?object:freezeObject(object)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(object){return object}),Object.isSealed||(Object.isSealed=function(){return!1}),Object.isFrozen||(Object.isFrozen=function(){return!1}),Object.isExtensible||(Object.isExtensible=function(object){if(Object(object)===object)throw new TypeError;for(var name="";owns(object,name);)name+="?";object[name]=!0;var returnValue=owns(object,name);return delete object[name],returnValue}),!Object.keys){var hasDontEnumBug=!0,dontEnums=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],dontEnumsLength=dontEnums.length;for(var key in{toString:null})hasDontEnumBug=!1;Object.keys=function(object){if("object"!=typeof object&&"function"!=typeof object||null===object)throw new TypeError("Object.keys called on a non-object");var keys=[];for(var name in object)owns(object,name)&&keys.push(name);if(hasDontEnumBug)for(var i=0,ii=dontEnumsLength;ii>i;i++){var dontEnum=dontEnums[i];owns(object,dontEnum)&&keys.push(dontEnum)}return keys}}Date.now||(Date.now=function(){return(new Date).getTime()});var ws="\t\\n\v\\f\\r   ᠎             　\\u2028\\u2029\ufeff";if(!String.prototype.trim||ws.trim()){ws="["+ws+"]";var trimBeginRegexp=RegExp("^"+ws+ws+"*"),trimEndRegexp=RegExp(ws+ws+"*$");String.prototype.trim=function(){return(this+"").replace(trimBeginRegexp,"").replace(trimEndRegexp,"")}}var toObject=function(o){if(null==o)throw new TypeError("can\'t convert "+o+" to object");return Object(o)}});'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"XJsonMode",{enumerable:!0,get:function(){return r.XJsonMode}}),Object.defineProperty(t,"installXJsonMode",{enumerable:!0,get:function(){return r.installXJsonMode}});var r=n(90)},function(e,t,n){"use strict";var r=n(50);Object.defineProperty(t,"__esModule",{value:!0}),t.XJsonMode=void 0,t.installXJsonMode=function(e){e.getSession().setMode(new h)};var i=r(n(51)),a=n(64),o=n(91);const{WorkerClient:s}=i.default.acequire("ace/worker/worker_client"),l=i.default.acequire("ace/lib/oop"),{Mode:u}=i.default.acequire("ace/mode/json"),{Tokenizer:c}=i.default.acequire("ace/tokenizer"),{MatchingBraceOutdent:d}=i.default.acequire("ace/mode/matching_brace_outdent"),{CstyleBehaviour:p}=i.default.acequire("ace/mode/behaviour/cstyle"),{FoldMode:f}=i.default.acequire("ace/mode/folding/cstyle"),h=function(){const e=new a.XJsonHighlightRules;e.normalizeRules(),this.$tokenizer=new c(e.getRules()),this.$outdent=new d,this.$behaviour=new p,this.foldingRules=new f};t.XJsonMode=h,l.inherits(h,u),h.prototype.createWorker=function(e){const t=new s(["ace"],o.workerModule,"JsonWorker");return t.attachToDocument(e.getDocument()),t.on("annotate",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t}},function(e,t,n){"use strict";var r=n(50);Object.defineProperty(t,"__esModule",{value:!0}),t.workerModule=void 0;const i={id:"ace/mode/json_worker",src:r(n(92)).default};t.workerModule=i},function(e,t,n){"use strict";n.r(t),t.default='/*\n * Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one\n * or more contributor license agreements. Licensed under the Elastic License\n * 2.0 and the Server Side Public License, v 1; you may not use this file except\n * in compliance with, at your election, the Elastic License 2.0 or the Server\n * Side Public License, v 1.\n */\n\n/* @notice\n *\n * This product includes code that is based on Ace editor, which was available\n * under a "BSD" license.\n *\n * Distributed under the BSD license:\n *\n * Copyright (c) 2010, Ajax.org B.V.\n * All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are met:\n *     * Redistributions of source code must retain the above copyright\n *       notice, this list of conditions and the following disclaimer.\n *     * Redistributions in binary form must reproduce the above copyright\n *       notice, this list of conditions and the following disclaimer in the\n *       documentation and/or other materials provided with the distribution.\n *     * Neither the name of Ajax.org B.V. nor the\n *       names of its contributors may be used to endorse or promote products\n *       derived from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND\n * ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED\n * WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\n * DISCLAIMED. IN NO EVENT SHALL AJAX.ORG B.V. BE LIABLE FOR ANY\n * DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES\n * (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;\n * LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND\n * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS\n * SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n/* eslint-disable */\n/*\n  This file is loaded up as a blob by Brace to hand to Ace to load as Jsonp\n  (hence the redefining of everything).  It is based on the json\n  mode from the brace distro.\n\n  It is very likely that this file will be removed in future but for now it enables\n  extended JSON parsing, like e.g. """{}""" (triple quotes)\n*/\n// @internal\n// @ts-nocheck\n"no use strict";\n! function(window) {\n  function resolveModuleId(id, paths) {\n    for (var testPath = id, tail = ""; testPath;) {\n      var alias = paths[testPath];\n      if ("string" == typeof alias) return alias + tail;\n      if (alias) return alias.location.replace(/\\/*$/, "/") + (tail || alias.main || alias.name);\n      if (alias === !1) return "";\n      var i = testPath.lastIndexOf("/");\n      if (-1 === i) break;\n      tail = testPath.substr(i) + tail, testPath = testPath.slice(0, i)\n    }\n    return id\n  }\n  if (!(void 0 !== window.window && window.document || window.acequire && window.define)) {\n    window.console || (window.console = function() {\n      var msgs = Array.prototype.slice.call(arguments, 0);\n      postMessage({\n        type: "log",\n        data: msgs\n      })\n    }, window.console.error = window.console.warn = window.console.log = window.console.trace = window.console), window.window = window, window.ace = window, window.onerror = function(message, file, line, col, err) {\n      postMessage({\n        type: "error",\n        data: {\n          message: message,\n          data: err.data,\n          file: file,\n          line: line,\n          col: col,\n          stack: err.stack\n        }\n      })\n    }, window.normalizeModule = function(parentId, moduleName) {\n      if (-1 !== moduleName.indexOf("!")) {\n        var chunks = moduleName.split("!");\n        return window.normalizeModule(parentId, chunks[0]) + "!" + window.normalizeModule(parentId, chunks[1])\n      }\n      if ("." == moduleName.charAt(0)) {\n        var base = parentId.split("/").slice(0, -1).join("/");\n        for (moduleName = (base ? base + "/" : "") + moduleName; - 1 !== moduleName.indexOf(".") && previous != moduleName;) {\n          var previous = moduleName;\n          moduleName = moduleName.replace(/^\\.\\//, "").replace(/\\/\\.\\//, "/").replace(/[^\\/]+\\/\\.\\.\\//, "")\n        }\n      }\n      return moduleName\n    }, window.acequire = function acequire(parentId, id) {\n      if (id || (id = parentId, parentId = null), !id.charAt) throw Error("worker.js acequire() accepts only (parentId, id) as arguments");\n      id = window.normalizeModule(parentId, id);\n      var module = window.acequire.modules[id];\n      if (module) return module.initialized || (module.initialized = !0, module.exports = module.factory().exports), module.exports;\n      if (!window.acequire.tlns) return console.log("unable to load " + id);\n      var path = resolveModuleId(id, window.acequire.tlns);\n      return ".js" != path.slice(-3) && (path += ".js"), window.acequire.id = id, window.acequire.modules[id] = {}, importScripts(path), window.acequire(parentId, id)\n    }, window.acequire.modules = {}, window.acequire.tlns = {}, window.define = function(id, deps, factory) {\n      if (2 == arguments.length ? (factory = deps, "string" != typeof id && (deps = id, id = window.acequire.id)) : 1 == arguments.length && (factory = id, deps = [], id = window.acequire.id), "function" != typeof factory) return window.acequire.modules[id] = {\n        exports: factory,\n        initialized: !0\n      }, void 0;\n      deps.length || (deps = ["require", "exports", "module"]);\n      var req = function(childId) {\n        return window.acequire(id, childId)\n      };\n      window.acequire.modules[id] = {\n        exports: {},\n        factory: function() {\n          var module = this,\n            returnExports = factory.apply(this, deps.map(function(dep) {\n              switch (dep) {\n                case "require":\n                  return req;\n                case "exports":\n                  return module.exports;\n                case "module":\n                  return module;\n                default:\n                  return req(dep)\n              }\n            }));\n          return returnExports && (module.exports = returnExports), module\n        }\n      }\n    }, window.define.amd = {}, acequire.tlns = {}, window.initBaseUrls = function(topLevelNamespaces) {\n      for (var i in topLevelNamespaces) acequire.tlns[i] = topLevelNamespaces[i]\n    }, window.initSender = function() {\n      var EventEmitter = window.acequire("ace/lib/event_emitter").EventEmitter,\n        oop = window.acequire("ace/lib/oop"),\n        Sender = function() {};\n      return function() {\n        oop.implement(this, EventEmitter), this.callback = function(data, callbackId) {\n          postMessage({\n            type: "call",\n            id: callbackId,\n            data: data\n          })\n        }, this.emit = function(name, data) {\n          postMessage({\n            type: "event",\n            name: name,\n            data: data\n          })\n        }\n      }.call(Sender.prototype), new Sender\n    };\n    var main = window.main = null,\n      sender = window.sender = null;\n    window.onmessage = function(e) {\n      var msg = e.data;\n      if (msg.event && sender) sender._signal(msg.event, msg.data);\n      else if (msg.command)\n        if (main[msg.command]) main[msg.command].apply(main, msg.args);\n        else {\n          if (!window[msg.command]) throw Error("Unknown command:" + msg.command);\n          window[msg.command].apply(window, msg.args)\n        }\n      else if (msg.init) {\n        window.initBaseUrls(msg.tlns), acequire("ace/lib/es5-shim"), sender = window.sender = window.initSender();\n        var clazz = acequire(msg.module)[msg.classname];\n        main = window.main = new clazz(sender)\n      }\n    }\n  }\n}(this), ace.define("ace/lib/oop", ["require", "exports", "module"], function(acequire, exports) {\n  "use strict";\n  exports.inherits = function(ctor, superCtor) {\n    ctor.super_ = superCtor, ctor.prototype = Object.create(superCtor.prototype, {\n      constructor: {\n        value: ctor,\n        enumerable: !1,\n        writable: !0,\n        configurable: !0\n      }\n    })\n  }, exports.mixin = function(obj, mixin) {\n    for (var key in mixin) obj[key] = mixin[key];\n    return obj\n  }, exports.implement = function(proto, mixin) {\n    exports.mixin(proto, mixin)\n  }\n}), ace.define("ace/range", ["require", "exports", "module"], function(acequire, exports) {\n  "use strict";\n  var comparePoints = function(p1, p2) {\n      return p1.row - p2.row || p1.column - p2.column\n    },\n    Range = function(startRow, startColumn, endRow, endColumn) {\n      this.start = {\n        row: startRow,\n        column: startColumn\n      }, this.end = {\n        row: endRow,\n        column: endColumn\n      }\n    };\n  (function() {\n    this.isEqual = function(range) {\n      return this.start.row === range.start.row && this.end.row === range.end.row && this.start.column === range.start.column && this.end.column === range.end.column\n    }, this.toString = function() {\n      return "Range: [" + this.start.row + "/" + this.start.column + "] -> [" + this.end.row + "/" + this.end.column + "]"\n    }, this.contains = function(row, column) {\n      return 0 == this.compare(row, column)\n    }, this.compareRange = function(range) {\n      var cmp, end = range.end,\n        start = range.start;\n      return cmp = this.compare(end.row, end.column), 1 == cmp ? (cmp = this.compare(start.row, start.column), 1 == cmp ? 2 : 0 == cmp ? 1 : 0) : -1 == cmp ? -2 : (cmp = this.compare(start.row, start.column), -1 == cmp ? -1 : 1 == cmp ? 42 : 0)\n    }, this.comparePoint = function(p) {\n      return this.compare(p.row, p.column)\n    }, this.containsRange = function(range) {\n      return 0 == this.comparePoint(range.start) && 0 == this.comparePoint(range.end)\n    }, this.intersects = function(range) {\n      var cmp = this.compareRange(range);\n      return -1 == cmp || 0 == cmp || 1 == cmp\n    }, this.isEnd = function(row, column) {\n      return this.end.row == row && this.end.column == column\n    }, this.isStart = function(row, column) {\n      return this.start.row == row && this.start.column == column\n    }, this.setStart = function(row, column) {\n      "object" == typeof row ? (this.start.column = row.column, this.start.row = row.row) : (this.start.row = row, this.start.column = column)\n    }, this.setEnd = function(row, column) {\n      "object" == typeof row ? (this.end.column = row.column, this.end.row = row.row) : (this.end.row = row, this.end.column = column)\n    }, this.inside = function(row, column) {\n      return 0 == this.compare(row, column) ? this.isEnd(row, column) || this.isStart(row, column) ? !1 : !0 : !1\n    }, this.insideStart = function(row, column) {\n      return 0 == this.compare(row, column) ? this.isEnd(row, column) ? !1 : !0 : !1\n    }, this.insideEnd = function(row, column) {\n      return 0 == this.compare(row, column) ? this.isStart(row, column) ? !1 : !0 : !1\n    }, this.compare = function(row, column) {\n      return this.isMultiLine() || row !== this.start.row ? this.start.row > row ? -1 : row > this.end.row ? 1 : this.start.row === row ? column >= this.start.column ? 0 : -1 : this.end.row === row ? this.end.column >= column ? 0 : 1 : 0 : this.start.column > column ? -1 : column > this.end.column ? 1 : 0\n    }, this.compareStart = function(row, column) {\n      return this.start.row == row && this.start.column == column ? -1 : this.compare(row, column)\n    }, this.compareEnd = function(row, column) {\n      return this.end.row == row && this.end.column == column ? 1 : this.compare(row, column)\n    }, this.compareInside = function(row, column) {\n      return this.end.row == row && this.end.column == column ? 1 : this.start.row == row && this.start.column == column ? -1 : this.compare(row, column)\n    }, this.clipRows = function(firstRow, lastRow) {\n      if (this.end.row > lastRow) var end = {\n        row: lastRow + 1,\n        column: 0\n      };\n      else if (firstRow > this.end.row) var end = {\n        row: firstRow,\n        column: 0\n      };\n      if (this.start.row > lastRow) var start = {\n        row: lastRow + 1,\n        column: 0\n      };\n      else if (firstRow > this.start.row) var start = {\n        row: firstRow,\n        column: 0\n      };\n      return Range.fromPoints(start || this.start, end || this.end)\n    }, this.extend = function(row, column) {\n      var cmp = this.compare(row, column);\n      if (0 == cmp) return this;\n      if (-1 == cmp) var start = {\n        row: row,\n        column: column\n      };\n      else var end = {\n        row: row,\n        column: column\n      };\n      return Range.fromPoints(start || this.start, end || this.end)\n    }, this.isEmpty = function() {\n      return this.start.row === this.end.row && this.start.column === this.end.column\n    }, this.isMultiLine = function() {\n      return this.start.row !== this.end.row\n    }, this.clone = function() {\n      return Range.fromPoints(this.start, this.end)\n    }, this.collapseRows = function() {\n      return 0 == this.end.column ? new Range(this.start.row, 0, Math.max(this.start.row, this.end.row - 1), 0) : new Range(this.start.row, 0, this.end.row, 0)\n    }, this.toScreenRange = function(session) {\n      var screenPosStart = session.documentToScreenPosition(this.start),\n        screenPosEnd = session.documentToScreenPosition(this.end);\n      return new Range(screenPosStart.row, screenPosStart.column, screenPosEnd.row, screenPosEnd.column)\n    }, this.moveBy = function(row, column) {\n      this.start.row += row, this.start.column += column, this.end.row += row, this.end.column += column\n    }\n  }).call(Range.prototype), Range.fromPoints = function(start, end) {\n    return new Range(start.row, start.column, end.row, end.column)\n  }, Range.comparePoints = comparePoints, Range.comparePoints = function(p1, p2) {\n    return p1.row - p2.row || p1.column - p2.column\n  }, exports.Range = Range\n}), ace.define("ace/apply_delta", ["require", "exports", "module"], function(acequire, exports) {\n  "use strict";\n  exports.applyDelta = function(docLines, delta) {\n    var row = delta.start.row,\n      startColumn = delta.start.column,\n      line = docLines[row] || "";\n    switch (delta.action) {\n      case "insert":\n        var lines = delta.lines;\n        if (1 === lines.length) docLines[row] = line.substring(0, startColumn) + delta.lines[0] + line.substring(startColumn);\n        else {\n          var args = [row, 1].concat(delta.lines);\n          docLines.splice.apply(docLines, args), docLines[row] = line.substring(0, startColumn) + docLines[row], docLines[row + delta.lines.length - 1] += line.substring(startColumn)\n        }\n        break;\n      case "remove":\n        var endColumn = delta.end.column,\n          endRow = delta.end.row;\n        row === endRow ? docLines[row] = line.substring(0, startColumn) + line.substring(endColumn) : docLines.splice(row, endRow - row + 1, line.substring(0, startColumn) + docLines[endRow].substring(endColumn))\n    }\n  }\n}), ace.define("ace/lib/event_emitter", ["require", "exports", "module"], function(acequire, exports) {\n  "use strict";\n  var EventEmitter = {},\n    stopPropagation = function() {\n      this.propagationStopped = !0\n    },\n    preventDefault = function() {\n      this.defaultPrevented = !0\n    };\n  EventEmitter._emit = EventEmitter._dispatchEvent = function(eventName, e) {\n    this._eventRegistry || (this._eventRegistry = {}), this._defaultHandlers || (this._defaultHandlers = {});\n    var listeners = this._eventRegistry[eventName] || [],\n      defaultHandler = this._defaultHandlers[eventName];\n    if (listeners.length || defaultHandler) {\n      "object" == typeof e && e || (e = {}), e.type || (e.type = eventName), e.stopPropagation || (e.stopPropagation = stopPropagation), e.preventDefault || (e.preventDefault = preventDefault), listeners = listeners.slice();\n      for (var i = 0; listeners.length > i && (listeners[i](e, this), !e.propagationStopped); i++);\n      return defaultHandler && !e.defaultPrevented ? defaultHandler(e, this) : void 0\n    }\n  }, EventEmitter._signal = function(eventName, e) {\n    var listeners = (this._eventRegistry || {})[eventName];\n    if (listeners) {\n      listeners = listeners.slice();\n      for (var i = 0; listeners.length > i; i++) listeners[i](e, this)\n    }\n  }, EventEmitter.once = function(eventName, callback) {\n    var _self = this;\n    callback && this.addEventListener(eventName, function newCallback() {\n      _self.removeEventListener(eventName, newCallback), callback.apply(null, arguments)\n    })\n  }, EventEmitter.setDefaultHandler = function(eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (handlers || (handlers = this._defaultHandlers = {\n        _disabled_: {}\n      }), handlers[eventName]) {\n      var old = handlers[eventName],\n        disabled = handlers._disabled_[eventName];\n      disabled || (handlers._disabled_[eventName] = disabled = []), disabled.push(old);\n      var i = disabled.indexOf(callback); - 1 != i && disabled.splice(i, 1)\n    }\n    handlers[eventName] = callback\n  }, EventEmitter.removeDefaultHandler = function(eventName, callback) {\n    var handlers = this._defaultHandlers;\n    if (handlers) {\n      var disabled = handlers._disabled_[eventName];\n      if (handlers[eventName] == callback) handlers[eventName], disabled && this.setDefaultHandler(eventName, disabled.pop());\n      else if (disabled) {\n        var i = disabled.indexOf(callback); - 1 != i && disabled.splice(i, 1)\n      }\n    }\n  }, EventEmitter.on = EventEmitter.addEventListener = function(eventName, callback, capturing) {\n    this._eventRegistry = this._eventRegistry || {};\n    var listeners = this._eventRegistry[eventName];\n    return listeners || (listeners = this._eventRegistry[eventName] = []), -1 == listeners.indexOf(callback) && listeners[capturing ? "unshift" : "push"](callback), callback\n  }, EventEmitter.off = EventEmitter.removeListener = EventEmitter.removeEventListener = function(eventName, callback) {\n    this._eventRegistry = this._eventRegistry || {};\n    var listeners = this._eventRegistry[eventName];\n    if (listeners) {\n      var index = listeners.indexOf(callback); - 1 !== index && listeners.splice(index, 1)\n    }\n  }, EventEmitter.removeAllListeners = function(eventName) {\n    this._eventRegistry && (this._eventRegistry[eventName] = [])\n  }, exports.EventEmitter = EventEmitter\n}), ace.define("ace/anchor", ["require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter"], function(acequire, exports) {\n  "use strict";\n  var oop = acequire("./lib/oop"),\n    EventEmitter = acequire("./lib/event_emitter").EventEmitter,\n    Anchor = exports.Anchor = function(doc, row, column) {\n      this.$onChange = this.onChange.bind(this), this.attach(doc), column === void 0 ? this.setPosition(row.row, row.column) : this.setPosition(row, column)\n    };\n  (function() {\n    function $pointsInOrder(point1, point2, equalPointsInOrder) {\n      var bColIsAfter = equalPointsInOrder ? point1.column <= point2.column : point1.column < point2.column;\n      return point1.row < point2.row || point1.row == point2.row && bColIsAfter\n    }\n\n    function $getTransformedPoint(delta, point, moveIfEqual) {\n      var deltaIsInsert = "insert" == delta.action,\n        deltaRowShift = (deltaIsInsert ? 1 : -1) * (delta.end.row - delta.start.row),\n        deltaColShift = (deltaIsInsert ? 1 : -1) * (delta.end.column - delta.start.column),\n        deltaStart = delta.start,\n        deltaEnd = deltaIsInsert ? deltaStart : delta.end;\n      return $pointsInOrder(point, deltaStart, moveIfEqual) ? {\n        row: point.row,\n        column: point.column\n      } : $pointsInOrder(deltaEnd, point, !moveIfEqual) ? {\n        row: point.row + deltaRowShift,\n        column: point.column + (point.row == deltaEnd.row ? deltaColShift : 0)\n      } : {\n        row: deltaStart.row,\n        column: deltaStart.column\n      }\n    }\n    oop.implement(this, EventEmitter), this.getPosition = function() {\n      return this.$clipPositionToDocument(this.row, this.column)\n    }, this.getDocument = function() {\n      return this.document\n    }, this.$insertRight = !1, this.onChange = function(delta) {\n      if (!(delta.start.row == delta.end.row && delta.start.row != this.row || delta.start.row > this.row)) {\n        var point = $getTransformedPoint(delta, {\n          row: this.row,\n          column: this.column\n        }, this.$insertRight);\n        this.setPosition(point.row, point.column, !0)\n      }\n    }, this.setPosition = function(row, column, noClip) {\n      var pos;\n      if (pos = noClip ? {\n          row: row,\n          column: column\n        } : this.$clipPositionToDocument(row, column), this.row != pos.row || this.column != pos.column) {\n        var old = {\n          row: this.row,\n          column: this.column\n        };\n        this.row = pos.row, this.column = pos.column, this._signal("change", {\n          old: old,\n          value: pos\n        })\n      }\n    }, this.detach = function() {\n      this.document.removeEventListener("change", this.$onChange)\n    }, this.attach = function(doc) {\n      this.document = doc || this.document, this.document.on("change", this.$onChange)\n    }, this.$clipPositionToDocument = function(row, column) {\n      var pos = {};\n      return row >= this.document.getLength() ? (pos.row = Math.max(0, this.document.getLength() - 1), pos.column = this.document.getLine(pos.row).length) : 0 > row ? (pos.row = 0, pos.column = 0) : (pos.row = row, pos.column = Math.min(this.document.getLine(pos.row).length, Math.max(0, column))), 0 > column && (pos.column = 0), pos\n    }\n  }).call(Anchor.prototype)\n}), ace.define("ace/document", ["require", "exports", "module", "ace/lib/oop", "ace/apply_delta", "ace/lib/event_emitter", "ace/range", "ace/anchor"], function(acequire, exports) {\n  "use strict";\n  var oop = acequire("./lib/oop"),\n    applyDelta = acequire("./apply_delta").applyDelta,\n    EventEmitter = acequire("./lib/event_emitter").EventEmitter,\n    Range = acequire("./range").Range,\n    Anchor = acequire("./anchor").Anchor,\n    Document = function(textOrLines) {\n      this.$lines = [""], 0 === textOrLines.length ? this.$lines = [""] : Array.isArray(textOrLines) ? this.insertMergedLines({\n        row: 0,\n        column: 0\n      }, textOrLines) : this.insert({\n        row: 0,\n        column: 0\n      }, textOrLines)\n    };\n  (function() {\n    oop.implement(this, EventEmitter), this.setValue = function(text) {\n      var len = this.getLength() - 1;\n      this.remove(new Range(0, 0, len, this.getLine(len).length)), this.insert({\n        row: 0,\n        column: 0\n      }, text)\n    }, this.getValue = function() {\n      return this.getAllLines().join(this.getNewLineCharacter())\n    }, this.createAnchor = function(row, column) {\n      return new Anchor(this, row, column)\n    }, this.$split = 0 === "aaa".split(/a/).length ? function(text) {\n      return text.replace(/\\r\\n|\\r/g, "\\n").split("\\n")\n    } : function(text) {\n      return text.split(/\\r\\n|\\r|\\n/)\n    }, this.$detectNewLine = function(text) {\n      var match = text.match(/^.*?(\\r\\n|\\r|\\n)/m);\n      this.$autoNewLine = match ? match[1] : "\\n", this._signal("changeNewLineMode")\n    }, this.getNewLineCharacter = function() {\n      switch (this.$newLineMode) {\n        case "windows":\n          return "\\r\\n";\n        case "unix":\n          return "\\n";\n        default:\n          return this.$autoNewLine || "\\n"\n      }\n    }, this.$autoNewLine = "", this.$newLineMode = "auto", this.setNewLineMode = function(newLineMode) {\n      this.$newLineMode !== newLineMode && (this.$newLineMode = newLineMode, this._signal("changeNewLineMode"))\n    }, this.getNewLineMode = function() {\n      return this.$newLineMode\n    }, this.isNewLine = function(text) {\n      return "\\r\\n" == text || "\\r" == text || "\\n" == text\n    }, this.getLine = function(row) {\n      return this.$lines[row] || ""\n    }, this.getLines = function(firstRow, lastRow) {\n      return this.$lines.slice(firstRow, lastRow + 1)\n    }, this.getAllLines = function() {\n      return this.getLines(0, this.getLength())\n    }, this.getLength = function() {\n      return this.$lines.length\n    }, this.getTextRange = function(range) {\n      return this.getLinesForRange(range).join(this.getNewLineCharacter())\n    }, this.getLinesForRange = function(range) {\n      var lines;\n      if (range.start.row === range.end.row) lines = [this.getLine(range.start.row).substring(range.start.column, range.end.column)];\n      else {\n        lines = this.getLines(range.start.row, range.end.row), lines[0] = (lines[0] || "").substring(range.start.column);\n        var l = lines.length - 1;\n        range.end.row - range.start.row == l && (lines[l] = lines[l].substring(0, range.end.column))\n      }\n      return lines\n    }, this.insertLines = function(row, lines) {\n      return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."), this.insertFullLines(row, lines)\n    }, this.removeLines = function(firstRow, lastRow) {\n      return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."), this.removeFullLines(firstRow, lastRow)\n    }, this.insertNewLine = function(position) {\n      return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, [\'\', \'\']) instead."), this.insertMergedLines(position, ["", ""])\n    }, this.insert = function(position, text) {\n      return 1 >= this.getLength() && this.$detectNewLine(text), this.insertMergedLines(position, this.$split(text))\n    }, this.insertInLine = function(position, text) {\n      var start = this.clippedPos(position.row, position.column),\n        end = this.pos(position.row, position.column + text.length);\n      return this.applyDelta({\n        start: start,\n        end: end,\n        action: "insert",\n        lines: [text]\n      }, !0), this.clonePos(end)\n    }, this.clippedPos = function(row, column) {\n      var length = this.getLength();\n      void 0 === row ? row = length : 0 > row ? row = 0 : row >= length && (row = length - 1, column = void 0);\n      var line = this.getLine(row);\n      return void 0 == column && (column = line.length), column = Math.min(Math.max(column, 0), line.length), {\n        row: row,\n        column: column\n      }\n    }, this.clonePos = function(pos) {\n      return {\n        row: pos.row,\n        column: pos.column\n      }\n    }, this.pos = function(row, column) {\n      return {\n        row: row,\n        column: column\n      }\n    }, this.$clipPosition = function(position) {\n      var length = this.getLength();\n      return position.row >= length ? (position.row = Math.max(0, length - 1), position.column = this.getLine(length - 1).length) : (position.row = Math.max(0, position.row), position.column = Math.min(Math.max(position.column, 0), this.getLine(position.row).length)), position\n    }, this.insertFullLines = function(row, lines) {\n      row = Math.min(Math.max(row, 0), this.getLength());\n      var column = 0;\n      this.getLength() > row ? (lines = lines.concat([""]), column = 0) : (lines = [""].concat(lines), row--, column = this.$lines[row].length), this.insertMergedLines({\n        row: row,\n        column: column\n      }, lines)\n    }, this.insertMergedLines = function(position, lines) {\n      var start = this.clippedPos(position.row, position.column),\n        end = {\n          row: start.row + lines.length - 1,\n          column: (1 == lines.length ? start.column : 0) + lines[lines.length - 1].length\n        };\n      return this.applyDelta({\n        start: start,\n        end: end,\n        action: "insert",\n        lines: lines\n      }), this.clonePos(end)\n    }, this.remove = function(range) {\n      var start = this.clippedPos(range.start.row, range.start.column),\n        end = this.clippedPos(range.end.row, range.end.column);\n      return this.applyDelta({\n        start: start,\n        end: end,\n        action: "remove",\n        lines: this.getLinesForRange({\n          start: start,\n          end: end\n        })\n      }), this.clonePos(start)\n    }, this.removeInLine = function(row, startColumn, endColumn) {\n      var start = this.clippedPos(row, startColumn),\n        end = this.clippedPos(row, endColumn);\n      return this.applyDelta({\n        start: start,\n        end: end,\n        action: "remove",\n        lines: this.getLinesForRange({\n          start: start,\n          end: end\n        })\n      }, !0), this.clonePos(start)\n    }, this.removeFullLines = function(firstRow, lastRow) {\n      firstRow = Math.min(Math.max(0, firstRow), this.getLength() - 1), lastRow = Math.min(Math.max(0, lastRow), this.getLength() - 1);\n      var deleteFirstNewLine = lastRow == this.getLength() - 1 && firstRow > 0,\n        deleteLastNewLine = this.getLength() - 1 > lastRow,\n        startRow = deleteFirstNewLine ? firstRow - 1 : firstRow,\n        startCol = deleteFirstNewLine ? this.getLine(startRow).length : 0,\n        endRow = deleteLastNewLine ? lastRow + 1 : lastRow,\n        endCol = deleteLastNewLine ? 0 : this.getLine(endRow).length,\n        range = new Range(startRow, startCol, endRow, endCol),\n        deletedLines = this.$lines.slice(firstRow, lastRow + 1);\n      return this.applyDelta({\n        start: range.start,\n        end: range.end,\n        action: "remove",\n        lines: this.getLinesForRange(range)\n      }), deletedLines\n    }, this.removeNewLine = function(row) {\n      this.getLength() - 1 > row && row >= 0 && this.applyDelta({\n        start: this.pos(row, this.getLine(row).length),\n        end: this.pos(row + 1, 0),\n        action: "remove",\n        lines: ["", ""]\n      })\n    }, this.replace = function(range, text) {\n      if (range instanceof Range || (range = Range.fromPoints(range.start, range.end)), 0 === text.length && range.isEmpty()) return range.start;\n      if (text == this.getTextRange(range)) return range.end;\n      this.remove(range);\n      var end;\n      return end = text ? this.insert(range.start, text) : range.start\n    }, this.applyDeltas = function(deltas) {\n      for (var i = 0; deltas.length > i; i++) this.applyDelta(deltas[i])\n    }, this.revertDeltas = function(deltas) {\n      for (var i = deltas.length - 1; i >= 0; i--) this.revertDelta(deltas[i])\n    }, this.applyDelta = function(delta, doNotValidate) {\n      var isInsert = "insert" == delta.action;\n      (isInsert ? 1 >= delta.lines.length && !delta.lines[0] : !Range.comparePoints(delta.start, delta.end)) || (isInsert && delta.lines.length > 2e4 && this.$splitAndapplyLargeDelta(delta, 2e4), applyDelta(this.$lines, delta, doNotValidate), this._signal("change", delta))\n    }, this.$splitAndapplyLargeDelta = function(delta, MAX) {\n      for (var lines = delta.lines, l = lines.length, row = delta.start.row, column = delta.start.column, from = 0, to = 0;;) {\n        from = to, to += MAX - 1;\n        var chunk = lines.slice(from, to);\n        if (to > l) {\n          delta.lines = chunk, delta.start.row = row + from, delta.start.column = column;\n          break\n        }\n        chunk.push(""), this.applyDelta({\n          start: this.pos(row + from, column),\n          end: this.pos(row + to, column = 0),\n          action: delta.action,\n          lines: chunk\n        }, !0)\n      }\n    }, this.revertDelta = function(delta) {\n      this.applyDelta({\n        start: this.clonePos(delta.start),\n        end: this.clonePos(delta.end),\n        action: "insert" == delta.action ? "remove" : "insert",\n        lines: delta.lines.slice()\n      })\n    }, this.indexToPosition = function(index, startRow) {\n      for (var lines = this.$lines || this.getAllLines(), newlineLength = this.getNewLineCharacter().length, i = startRow || 0, l = lines.length; l > i; i++)\n        if (index -= lines[i].length + newlineLength, 0 > index) return {\n          row: i,\n          column: index + lines[i].length + newlineLength\n        };\n      return {\n        row: l - 1,\n        column: lines[l - 1].length\n      }\n    }, this.positionToIndex = function(pos, startRow) {\n      for (var lines = this.$lines || this.getAllLines(), newlineLength = this.getNewLineCharacter().length, index = 0, row = Math.min(pos.row, lines.length), i = startRow || 0; row > i; ++i) index += lines[i].length + newlineLength;\n      return index + pos.column\n    }\n  }).call(Document.prototype), exports.Document = Document\n}), ace.define("ace/lib/lang", ["require", "exports", "module"], function(acequire, exports) {\n  "use strict";\n  exports.last = function(a) {\n    return a[a.length - 1]\n  }, exports.stringReverse = function(string) {\n    return string.split("").reverse().join("")\n  }, exports.stringRepeat = function(string, count) {\n    for (var result = ""; count > 0;) 1 & count && (result += string), (count >>= 1) && (string += string);\n    return result\n  };\n  var trimBeginRegexp = /^\\s\\s*/,\n    trimEndRegexp = /\\s\\s*$/;\n  exports.stringTrimLeft = function(string) {\n    return string.replace(trimBeginRegexp, "")\n  }, exports.stringTrimRight = function(string) {\n    return string.replace(trimEndRegexp, "")\n  }, exports.copyObject = function(obj) {\n    var copy = {};\n    for (var key in obj) copy[key] = obj[key];\n    return copy\n  }, exports.copyArray = function(array) {\n    for (var copy = [], i = 0, l = array.length; l > i; i++) copy[i] = array[i] && "object" == typeof array[i] ? this.copyObject(array[i]) : array[i];\n    return copy\n  }, exports.deepCopy = function deepCopy(obj) {\n    if ("object" != typeof obj || !obj) return obj;\n    var copy;\n    if (Array.isArray(obj)) {\n      copy = [];\n      for (var key = 0; obj.length > key; key++) copy[key] = deepCopy(obj[key]);\n      return copy\n    }\n    if ("[object Object]" !== Object.prototype.toString.call(obj)) return obj;\n    copy = {};\n    for (var key in obj) copy[key] = deepCopy(obj[key]);\n    return copy\n  }, exports.arrayToMap = function(arr) {\n    for (var map = {}, i = 0; arr.length > i; i++) map[arr[i]] = 1;\n    return map\n  }, exports.createMap = function(props) {\n    var map = Object.create(null);\n    for (var i in props) map[i] = props[i];\n    return map\n  }, exports.arrayRemove = function(array, value) {\n    for (var i = 0; array.length >= i; i++) value === array[i] && array.splice(i, 1)\n  }, exports.escapeRegExp = function(str) {\n    return str.replace(/([.*+?^${}()|[\\]\\/\\\\])/g, "\\\\$1")\n  }, exports.escapeHTML = function(str) {\n    return str.replace(/&/g, "&#38;").replace(/"/g, "&#34;").replace(/\'/g, "&#39;").replace(/</g, "&#60;")\n  }, exports.getMatchOffsets = function(string, regExp) {\n    var matches = [];\n    return string.replace(regExp, function(str) {\n      matches.push({\n        offset: arguments[arguments.length - 2],\n        length: str.length\n      })\n    }), matches\n  }, exports.deferredCall = function(fcn) {\n    var timer = null,\n      callback = function() {\n        timer = null, fcn()\n      },\n      deferred = function(timeout) {\n        return deferred.cancel(), timer = setTimeout(callback, timeout || 0), deferred\n      };\n    return deferred.schedule = deferred, deferred.call = function() {\n      return this.cancel(), fcn(), deferred\n    }, deferred.cancel = function() {\n      return clearTimeout(timer), timer = null, deferred\n    }, deferred.isPending = function() {\n      return timer\n    }, deferred\n  }, exports.delayedCall = function(fcn, defaultTimeout) {\n    var timer = null,\n      callback = function() {\n        timer = null, fcn()\n      },\n      _self = function(timeout) {\n        null == timer && (timer = setTimeout(callback, timeout || defaultTimeout))\n      };\n    return _self.delay = function(timeout) {\n      timer && clearTimeout(timer), timer = setTimeout(callback, timeout || defaultTimeout)\n    }, _self.schedule = _self, _self.call = function() {\n      this.cancel(), fcn()\n    }, _self.cancel = function() {\n      timer && clearTimeout(timer), timer = null\n    }, _self.isPending = function() {\n      return timer\n    }, _self\n  }\n}), ace.define("ace/worker/mirror", ["require", "exports", "module", "ace/range", "ace/document", "ace/lib/lang"], function(acequire, exports) {\n  "use strict";\n  acequire("../range").Range;\n  var Document = acequire("../document").Document,\n    lang = acequire("../lib/lang"),\n    Mirror = exports.Mirror = function(sender) {\n      this.sender = sender;\n      var doc = this.doc = new Document(""),\n        deferredUpdate = this.deferredUpdate = lang.delayedCall(this.onUpdate.bind(this)),\n        _self = this;\n      sender.on("change", function(e) {\n        var data = e.data;\n        if (data[0].start) doc.applyDeltas(data);\n        else\n          for (var i = 0; data.length > i; i += 2) {\n            if (Array.isArray(data[i + 1])) var d = {\n              action: "insert",\n              start: data[i],\n              lines: data[i + 1]\n            };\n            else var d = {\n              action: "remove",\n              start: data[i],\n              end: data[i + 1]\n            };\n            doc.applyDelta(d, !0)\n          }\n        return _self.$timeout ? deferredUpdate.schedule(_self.$timeout) : (_self.onUpdate(), void 0)\n      })\n    };\n  (function() {\n    this.$timeout = 500, this.setTimeout = function(timeout) {\n      this.$timeout = timeout\n    }, this.setValue = function(value) {\n      this.doc.setValue(value), this.deferredUpdate.schedule(this.$timeout)\n    }, this.getValue = function(callbackId) {\n      this.sender.callback(this.doc.getValue(), callbackId)\n    }, this.onUpdate = function() {}, this.isPending = function() {\n      return this.deferredUpdate.isPending()\n    }\n  }).call(Mirror.prototype)\n}), ace.define("ace/mode/json/json_parse", ["require", "exports", "module"], function() {\n  "use strict";\n  var at, ch, text, value, escapee = {\n      \'"\': \'"\',\n      "\\\\": "\\\\",\n      "/": "/",\n      b: "\\b",\n      f: "\\f",\n      n: "\\n",\n      r: "\\r",\n      t: "\t"\n    },\n    error = function(m) {\n      throw {\n        name: "SyntaxError",\n        message: m,\n        at: at,\n        text: text\n      }\n    },\n    reset = function (newAt) {\n      ch = text.charAt(newAt);\n      at = newAt + 1;\n    },\n    next = function(c) {\n      return c && c !== ch && error("Expected \'" + c + "\' instead of \'" + ch + "\'"), ch = text.charAt(at), at += 1, ch\n    },\n    nextUpTo = function (upTo, errorMessage) {\n      let currentAt = at,\n        i = text.indexOf(upTo, currentAt);\n      if (i < 0) {\n        error(errorMessage || \'Expected \\\'\' + upTo + \'\\\'\');\n      }\n      reset(i + upTo.length);\n      return text.substring(currentAt, i);\n    },\n    peek = function (c) {\n      return text.substr(at, c.length) === c; // nocommit - double check\n    },\n    number = function() {\n      var number, string = "";\n      for ("-" === ch && (string = "-", next("-")); ch >= "0" && "9" >= ch;) string += ch, next();\n      if ("." === ch)\n        for (string += "."; next() && ch >= "0" && "9" >= ch;) string += ch;\n      if ("e" === ch || "E" === ch)\n        for (string += ch, next(), ("-" === ch || "+" === ch) && (string += ch, next()); ch >= "0" && "9" >= ch;) string += ch, next();\n      return number = +string, isNaN(number) ? (error("Bad number"), void 0) : number\n    },\n    string = function() {\n      var hex, i, uffff, string = "";\n      if (\'"\' === ch) {\n        if (peek(\'""\')) {\n          // literal\n          next(\'"\');\n          next(\'"\');\n          return nextUpTo(\'"""\', \'failed to find closing \\\'"""\\\'\');\n        } else {\n          for (; next();) {\n            if (\'"\' === ch) return next(), string;\n            if ("\\\\" === ch)\n              if (next(), "u" === ch) {\n                for (uffff = 0, i = 0; 4 > i && (hex = parseInt(next(), 16), isFinite(hex)); i += 1) uffff = 16 * uffff + hex;\n                string += String.fromCharCode(uffff)\n              } else {\n                if ("string" != typeof escapee[ch]) break;\n                string += escapee[ch]\n              }\n            else string += ch\n          }\n        }\n      }\n      error("Bad string")\n    },\n    white = function() {\n      for (; ch && " " >= ch;) next()\n    },\n    word = function() {\n      switch (ch) {\n        case "t":\n          return next("t"), next("r"), next("u"), next("e"), !0;\n        case "f":\n          return next("f"), next("a"), next("l"), next("s"), next("e"), !1;\n        case "n":\n          return next("n"), next("u"), next("l"), next("l"), null\n      }\n      error("Unexpected \'" + ch + "\'")\n    },\n    array = function() {\n      var array = [];\n      if ("[" === ch) {\n        if (next("["), white(), "]" === ch) return next("]"), array;\n        for (; ch;) {\n          if (array.push(value()), white(), "]" === ch) return next("]"), array;\n          next(","), white()\n        }\n      }\n      error("Bad array")\n    },\n    object = function() {\n      var key, object = {};\n      if ("{" === ch) {\n        if (next("{"), white(), "}" === ch) return next("}"), object;\n        for (; ch;) {\n          if (key = string(), white(), next(":"), Object.hasOwnProperty.call(object, key) && error(\'Duplicate key "\' + key + \'"\'), object[key] = value(), white(), "}" === ch) return next("}"), object;\n          next(","), white()\n        }\n      }\n      error("Bad object")\n    };\n  return value = function() {\n      switch (white(), ch) {\n        case "{":\n          return object();\n        case "[":\n          return array();\n        case \'"\':\n          return string();\n        case "-":\n          return number();\n        default:\n          return ch >= "0" && "9" >= ch ? number() : word()\n      }\n    },\n    function(source, reviver) {\n      var result;\n      return text = source, at = 0, ch = " ", result = value(), white(), ch && error("Syntax error"), "function" == typeof reviver ? function walk(holder, key) {\n        var k, v, value = holder[key];\n        if (value && "object" == typeof value)\n          for (k in value) Object.hasOwnProperty.call(value, k) && (v = walk(value, k), void 0 !== v ? value[k] = v : delete value[k]);\n        return reviver.call(holder, key, value)\n      }({\n        "": result\n      }, "") : result\n    }\n}), ace.define("ace/mode/json_worker", ["require", "exports", "module", "ace/lib/oop", "ace/worker/mirror", "ace/mode/json/json_parse"], function(acequire, exports) {\n  "use strict";\n  var oop = acequire("../lib/oop"),\n    Mirror = acequire("../worker/mirror").Mirror,\n    parse = acequire("./json/json_parse"),\n    JsonWorker = exports.JsonWorker = function(sender) {\n      Mirror.call(this, sender), this.setTimeout(200)\n    };\n  oop.inherits(JsonWorker, Mirror),\n    function() {\n      this.onUpdate = function() {\n        var value = this.doc.getValue(),\n          errors = [];\n        try {\n          value && parse(value)\n        } catch (e) {\n          var pos = this.doc.indexToPosition(e.at - 1);\n          errors.push({\n            row: pos.row,\n            column: pos.column,\n            text: e.message,\n            type: "error"\n          })\n        }\n        this.sender.emit("annotate", errors)\n      }\n    }.call(JsonWorker.prototype)\n}), ace.define("ace/lib/es5-shim", ["require", "exports", "module"], function() {\n  function Empty() {}\n\n  function doesDefinePropertyWork(object) {\n    try {\n      return Object.defineProperty(object, "sentinel", {}), "sentinel" in object\n    } catch (exception) {}\n  }\n\n  function toInteger(n) {\n    return n = +n, n !== n ? n = 0 : 0 !== n && n !== 1 / 0 && n !== -(1 / 0) && (n = (n > 0 || -1) * Math.floor(Math.abs(n))), n\n  }\n  Function.prototype.bind || (Function.prototype.bind = function(that) {\n    var target = this;\n    if ("function" != typeof target) throw new TypeError("Function.prototype.bind called on incompatible " + target);\n    var args = slice.call(arguments, 1),\n      bound = function() {\n        if (this instanceof bound) {\n          var result = target.apply(this, args.concat(slice.call(arguments)));\n          return Object(result) === result ? result : this\n        }\n        return target.apply(that, args.concat(slice.call(arguments)))\n      };\n    return target.prototype && (Empty.prototype = target.prototype, bound.prototype = new Empty, Empty.prototype = null), bound\n  });\n  var defineGetter, defineSetter, lookupGetter, lookupSetter, supportsAccessors, call = Function.prototype.call,\n    prototypeOfArray = Array.prototype,\n    prototypeOfObject = Object.prototype,\n    slice = prototypeOfArray.slice,\n    _toString = call.bind(prototypeOfObject.toString),\n    owns = call.bind(prototypeOfObject.hasOwnProperty);\n  if ((supportsAccessors = owns(prototypeOfObject, "__defineGetter__")) && (defineGetter = call.bind(prototypeOfObject.__defineGetter__), defineSetter = call.bind(prototypeOfObject.__defineSetter__), lookupGetter = call.bind(prototypeOfObject.__lookupGetter__), lookupSetter = call.bind(prototypeOfObject.__lookupSetter__)), 2 != [1, 2].splice(0).length)\n    if (function() {\n        function makeArray(l) {\n          var a = Array(l + 2);\n          return a[0] = a[1] = 0, a\n        }\n        var lengthBefore, array = [];\n        return array.splice.apply(array, makeArray(20)), array.splice.apply(array, makeArray(26)), lengthBefore = array.length, array.splice(5, 0, "XXX"), lengthBefore + 1 == array.length, lengthBefore + 1 == array.length ? !0 : void 0\n      }()) {\n      var array_splice = Array.prototype.splice;\n      Array.prototype.splice = function(start, deleteCount) {\n        return arguments.length ? array_splice.apply(this, [void 0 === start ? 0 : start, void 0 === deleteCount ? this.length - start : deleteCount].concat(slice.call(arguments, 2))) : []\n      }\n    } else Array.prototype.splice = function(pos, removeCount) {\n      var length = this.length;\n      pos > 0 ? pos > length && (pos = length) : void 0 == pos ? pos = 0 : 0 > pos && (pos = Math.max(length + pos, 0)), length > pos + removeCount || (removeCount = length - pos);\n      var removed = this.slice(pos, pos + removeCount),\n        insert = slice.call(arguments, 2),\n        add = insert.length;\n      if (pos === length) add && this.push.apply(this, insert);\n      else {\n        var remove = Math.min(removeCount, length - pos),\n          tailOldPos = pos + remove,\n          tailNewPos = tailOldPos + add - remove,\n          tailCount = length - tailOldPos,\n          lengthAfterRemove = length - remove;\n        if (tailOldPos > tailNewPos)\n          for (var i = 0; tailCount > i; ++i) this[tailNewPos + i] = this[tailOldPos + i];\n        else if (tailNewPos > tailOldPos)\n          for (i = tailCount; i--;) this[tailNewPos + i] = this[tailOldPos + i];\n        if (add && pos === lengthAfterRemove) this.length = lengthAfterRemove, this.push.apply(this, insert);\n        else\n          for (this.length = lengthAfterRemove + add, i = 0; add > i; ++i) this[pos + i] = insert[i]\n      }\n      return removed\n    };\n  Array.isArray || (Array.isArray = function(obj) {\n    return "[object Array]" == _toString(obj)\n  });\n  var boxedString = Object("a"),\n    splitString = "a" != boxedString[0] || !(0 in boxedString);\n  if (Array.prototype.forEach || (Array.prototype.forEach = function(fun) {\n      var object = toObject(this),\n        self = splitString && "[object String]" == _toString(this) ? this.split("") : object,\n        thisp = arguments[1],\n        i = -1,\n        length = self.length >>> 0;\n      if ("[object Function]" != _toString(fun)) throw new TypeError;\n      for (; length > ++i;) i in self && fun.call(thisp, self[i], i, object)\n    }), Array.prototype.map || (Array.prototype.map = function(fun) {\n      var object = toObject(this),\n        self = splitString && "[object String]" == _toString(this) ? this.split("") : object,\n        length = self.length >>> 0,\n        result = Array(length),\n        thisp = arguments[1];\n      if ("[object Function]" != _toString(fun)) throw new TypeError(fun + " is not a function");\n      for (var i = 0; length > i; i++) i in self && (result[i] = fun.call(thisp, self[i], i, object));\n      return result\n    }), Array.prototype.filter || (Array.prototype.filter = function(fun) {\n      var value, object = toObject(this),\n        self = splitString && "[object String]" == _toString(this) ? this.split("") : object,\n        length = self.length >>> 0,\n        result = [],\n        thisp = arguments[1];\n      if ("[object Function]" != _toString(fun)) throw new TypeError(fun + " is not a function");\n      for (var i = 0; length > i; i++) i in self && (value = self[i], fun.call(thisp, value, i, object) && result.push(value));\n      return result\n    }), Array.prototype.every || (Array.prototype.every = function(fun) {\n      var object = toObject(this),\n        self = splitString && "[object String]" == _toString(this) ? this.split("") : object,\n        length = self.length >>> 0,\n        thisp = arguments[1];\n      if ("[object Function]" != _toString(fun)) throw new TypeError(fun + " is not a function");\n      for (var i = 0; length > i; i++)\n        if (i in self && !fun.call(thisp, self[i], i, object)) return !1;\n      return !0\n    }), Array.prototype.some || (Array.prototype.some = function(fun) {\n      var object = toObject(this),\n        self = splitString && "[object String]" == _toString(this) ? this.split("") : object,\n        length = self.length >>> 0,\n        thisp = arguments[1];\n      if ("[object Function]" != _toString(fun)) throw new TypeError(fun + " is not a function");\n      for (var i = 0; length > i; i++)\n        if (i in self && fun.call(thisp, self[i], i, object)) return !0;\n      return !1\n    }), Array.prototype.reduce || (Array.prototype.reduce = function(fun) {\n      var object = toObject(this),\n        self = splitString && "[object String]" == _toString(this) ? this.split("") : object,\n        length = self.length >>> 0;\n      if ("[object Function]" != _toString(fun)) throw new TypeError(fun + " is not a function");\n      if (!length && 1 == arguments.length) throw new TypeError("reduce of empty array with no initial value");\n      var result, i = 0;\n      if (arguments.length >= 2) result = arguments[1];\n      else\n        for (;;) {\n          if (i in self) {\n            result = self[i++];\n            break\n          }\n          if (++i >= length) throw new TypeError("reduce of empty array with no initial value")\n        }\n      for (; length > i; i++) i in self && (result = fun.call(void 0, result, self[i], i, object));\n      return result\n    }), Array.prototype.reduceRight || (Array.prototype.reduceRight = function(fun) {\n      var object = toObject(this),\n        self = splitString && "[object String]" == _toString(this) ? this.split("") : object,\n        length = self.length >>> 0;\n      if ("[object Function]" != _toString(fun)) throw new TypeError(fun + " is not a function");\n      if (!length && 1 == arguments.length) throw new TypeError("reduceRight of empty array with no initial value");\n      var result, i = length - 1;\n      if (arguments.length >= 2) result = arguments[1];\n      else\n        for (;;) {\n          if (i in self) {\n            result = self[i--];\n            break\n          }\n          if (0 > --i) throw new TypeError("reduceRight of empty array with no initial value")\n        }\n      do i in this && (result = fun.call(void 0, result, self[i], i, object)); while (i--);\n      return result\n    }), Array.prototype.indexOf && -1 == [0, 1].indexOf(1, 2) || (Array.prototype.indexOf = function(sought) {\n      var self = splitString && "[object String]" == _toString(this) ? this.split("") : toObject(this),\n        length = self.length >>> 0;\n      if (!length) return -1;\n      var i = 0;\n      for (arguments.length > 1 && (i = toInteger(arguments[1])), i = i >= 0 ? i : Math.max(0, length + i); length > i; i++)\n        if (i in self && self[i] === sought) return i;\n      return -1\n    }), Array.prototype.lastIndexOf && -1 == [0, 1].lastIndexOf(0, -3) || (Array.prototype.lastIndexOf = function(sought) {\n      var self = splitString && "[object String]" == _toString(this) ? this.split("") : toObject(this),\n        length = self.length >>> 0;\n      if (!length) return -1;\n      var i = length - 1;\n      for (arguments.length > 1 && (i = Math.min(i, toInteger(arguments[1]))), i = i >= 0 ? i : length - Math.abs(i); i >= 0; i--)\n        if (i in self && sought === self[i]) return i;\n      return -1\n    }), Object.getPrototypeOf || (Object.getPrototypeOf = function(object) {\n      return object.__proto__ || (object.constructor ? object.constructor.prototype : prototypeOfObject)\n    }), !Object.getOwnPropertyDescriptor) {\n    var ERR_NON_OBJECT = "Object.getOwnPropertyDescriptor called on a non-object: ";\n    Object.getOwnPropertyDescriptor = function(object, property) {\n      if ("object" != typeof object && "function" != typeof object || null === object) throw new TypeError(ERR_NON_OBJECT + object);\n      if (owns(object, property)) {\n        var descriptor, getter, setter;\n        if (descriptor = {\n            enumerable: !0,\n            configurable: !0\n          }, supportsAccessors) {\n          var prototype = object.__proto__;\n          object.__proto__ = prototypeOfObject;\n          var getter = lookupGetter(object, property),\n            setter = lookupSetter(object, property);\n          if (object.__proto__ = prototype, getter || setter) return getter && (descriptor.get = getter), setter && (descriptor.set = setter), descriptor\n        }\n        return descriptor.value = object[property], descriptor\n      }\n    }\n  }\n  if (Object.getOwnPropertyNames || (Object.getOwnPropertyNames = function(object) {\n      return Object.keys(object)\n    }), !Object.create) {\n    var createEmpty;\n    createEmpty = null === Object.prototype.__proto__ ? function() {\n      return {\n        __proto__: null\n      }\n    } : function() {\n      var empty = {};\n      for (var i in empty) empty[i] = null;\n      return empty.constructor = empty.hasOwnProperty = empty.propertyIsEnumerable = empty.isPrototypeOf = empty.toLocaleString = empty.toString = empty.valueOf = empty.__proto__ = null, empty\n    }, Object.create = function(prototype, properties) {\n      var object;\n      if (null === prototype) object = createEmpty();\n      else {\n        if ("object" != typeof prototype) throw new TypeError("typeof prototype[" + typeof prototype + "] != \'object\'");\n        var Type = function() {};\n        Type.prototype = prototype, object = new Type, object.__proto__ = prototype\n      }\n      return void 0 !== properties && Object.defineProperties(object, properties), object\n    }\n  }\n  if (Object.defineProperty) {\n    var definePropertyWorksOnObject = doesDefinePropertyWork({}),\n      definePropertyWorksOnDom = "undefined" == typeof document || doesDefinePropertyWork(document.createElement("div"));\n    if (!definePropertyWorksOnObject || !definePropertyWorksOnDom) var definePropertyFallback = Object.defineProperty\n  }\n  if (!Object.defineProperty || definePropertyFallback) {\n    var ERR_NON_OBJECT_DESCRIPTOR = "Property description must be an object: ",\n      ERR_NON_OBJECT_TARGET = "Object.defineProperty called on non-object: ",\n      ERR_ACCESSORS_NOT_SUPPORTED = "getters & setters can not be defined on this javascript engine";\n    Object.defineProperty = function(object, property, descriptor) {\n      if ("object" != typeof object && "function" != typeof object || null === object) throw new TypeError(ERR_NON_OBJECT_TARGET + object);\n      if ("object" != typeof descriptor && "function" != typeof descriptor || null === descriptor) throw new TypeError(ERR_NON_OBJECT_DESCRIPTOR + descriptor);\n      if (definePropertyFallback) try {\n        return definePropertyFallback.call(Object, object, property, descriptor)\n      } catch (exception) {}\n      if (owns(descriptor, "value"))\n        if (supportsAccessors && (lookupGetter(object, property) || lookupSetter(object, property))) {\n          var prototype = object.__proto__;\n          object.__proto__ = prototypeOfObject, delete object[property], object[property] = descriptor.value, object.__proto__ = prototype\n        } else object[property] = descriptor.value;\n      else {\n        if (!supportsAccessors) throw new TypeError(ERR_ACCESSORS_NOT_SUPPORTED);\n        owns(descriptor, "get") && defineGetter(object, property, descriptor.get), owns(descriptor, "set") && defineSetter(object, property, descriptor.set)\n      }\n      return object\n    }\n  }\n  Object.defineProperties || (Object.defineProperties = function(object, properties) {\n    for (var property in properties) owns(properties, property) && Object.defineProperty(object, property, properties[property]);\n    return object\n  }), Object.seal || (Object.seal = function(object) {\n    return object\n  }), Object.freeze || (Object.freeze = function(object) {\n    return object\n  });\n  try {\n    Object.freeze(function() {})\n  } catch (exception) {\n    Object.freeze = function(freezeObject) {\n      return function(object) {\n        return "function" == typeof object ? object : freezeObject(object)\n      }\n    }(Object.freeze)\n  }\n  if (Object.preventExtensions || (Object.preventExtensions = function(object) {\n      return object\n    }), Object.isSealed || (Object.isSealed = function() {\n      return !1\n    }), Object.isFrozen || (Object.isFrozen = function() {\n      return !1\n    }), Object.isExtensible || (Object.isExtensible = function(object) {\n      if (Object(object) === object) throw new TypeError;\n      for (var name = ""; owns(object, name);) name += "?";\n      object[name] = !0;\n      var returnValue = owns(object, name);\n      return delete object[name], returnValue\n    }), !Object.keys) {\n    var hasDontEnumBug = !0,\n      dontEnums = ["toString", "toLocaleString", "valueOf", "hasOwnProperty", "isPrototypeOf", "propertyIsEnumerable", "constructor"],\n      dontEnumsLength = dontEnums.length;\n    for (var key in {\n        toString: null\n      }) hasDontEnumBug = !1;\n    Object.keys = function(object) {\n      if ("object" != typeof object && "function" != typeof object || null === object) throw new TypeError("Object.keys called on a non-object");\n      var keys = [];\n      for (var name in object) owns(object, name) && keys.push(name);\n      if (hasDontEnumBug)\n        for (var i = 0, ii = dontEnumsLength; ii > i; i++) {\n          var dontEnum = dontEnums[i];\n          owns(object, dontEnum) && keys.push(dontEnum)\n        }\n      return keys\n    }\n  }\n  Date.now || (Date.now = function() {\n    return (new Date).getTime()\n  });\n  var ws = "\t\\n\v\\f\\r   ᠎             　\\u2028\\u2029\ufeff";\n  if (!String.prototype.trim || ws.trim()) {\n    ws = "[" + ws + "]";\n    var trimBeginRegexp = RegExp("^" + ws + ws + "*"),\n      trimEndRegexp = RegExp(ws + ws + "*$");\n    String.prototype.trim = function() {\n      return (this + "").replace(trimBeginRegexp, "").replace(trimEndRegexp, "")\n    }\n  }\n  var toObject = function(o) {\n    if (null == o) throw new TypeError("can\'t convert " + o + " to object");\n    return Object(o)\n  }\n});\n'},function(e,t,n){var r,i;!function(){var a={version:"3.5.17"},o=[].slice,s=function(e){return o.call(e)},l=this.document;function u(e){return e&&(e.ownerDocument||e.document||e).documentElement}function c(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}if(l)try{s(l.documentElement.childNodes)[0].nodeType}catch(e){s=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),l)try{l.createElement("DIV").style.setProperty("opacity",0,"")}catch(e){var d=this.Element.prototype,p=d.setAttribute,f=d.setAttributeNS,h=this.CSSStyleDeclaration.prototype,m=h.setProperty;d.setAttribute=function(e,t){p.call(this,e,t+"")},d.setAttributeNS=function(e,t,n){f.call(this,e,t,n+"")},h.setProperty=function(e,t,n){m.call(this,e,t+"",n)}}function g(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function x(e){return null===e?NaN:+e}function b(e){return!isNaN(e)}function v(e){return{left:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)<0?r=a+1:i=a}return r},right:function(t,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=t.length);r<i;){var a=r+i>>>1;e(t[a],n)>0?i=a:r=a+1}return r}}}a.ascending=g,a.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},a.min=function(e,t){var n,r,i=-1,a=e.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<a;)null!=(r=e[i])&&n>r&&(n=r)}else{for(;++i<a;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<a;)null!=(r=t.call(e,e[i],i))&&n>r&&(n=r)}return n},a.max=function(e,t){var n,r,i=-1,a=e.length;if(1===arguments.length){for(;++i<a;)if(null!=(r=e[i])&&r>=r){n=r;break}for(;++i<a;)null!=(r=e[i])&&r>n&&(n=r)}else{for(;++i<a;)if(null!=(r=t.call(e,e[i],i))&&r>=r){n=r;break}for(;++i<a;)null!=(r=t.call(e,e[i],i))&&r>n&&(n=r)}return n},a.extent=function(e,t){var n,r,i,a=-1,o=e.length;if(1===arguments.length){for(;++a<o;)if(null!=(r=e[a])&&r>=r){n=i=r;break}for(;++a<o;)null!=(r=e[a])&&(n>r&&(n=r),i<r&&(i=r))}else{for(;++a<o;)if(null!=(r=t.call(e,e[a],a))&&r>=r){n=i=r;break}for(;++a<o;)null!=(r=t.call(e,e[a],a))&&(n>r&&(n=r),i<r&&(i=r))}return[n,i]},a.sum=function(e,t){var n,r=0,i=e.length,a=-1;if(1===arguments.length)for(;++a<i;)b(n=+e[a])&&(r+=n);else for(;++a<i;)b(n=+t.call(e,e[a],a))&&(r+=n);return r},a.mean=function(e,t){var n,r=0,i=e.length,a=-1,o=i;if(1===arguments.length)for(;++a<i;)b(n=x(e[a]))?r+=n:--o;else for(;++a<i;)b(n=x(t.call(e,e[a],a)))?r+=n:--o;if(o)return r/o},a.quantile=function(e,t){var n=(e.length-1)*t+1,r=Math.floor(n),i=+e[r-1],a=n-r;return a?i+a*(e[r]-i):i},a.median=function(e,t){var n,r=[],i=e.length,o=-1;if(1===arguments.length)for(;++o<i;)b(n=x(e[o]))&&r.push(n);else for(;++o<i;)b(n=x(t.call(e,e[o],o)))&&r.push(n);if(r.length)return a.quantile(r.sort(g),.5)},a.variance=function(e,t){var n,r,i=e.length,a=0,o=0,s=-1,l=0;if(1===arguments.length)for(;++s<i;)b(n=x(e[s]))&&(o+=(r=n-a)*(n-(a+=r/++l)));else for(;++s<i;)b(n=x(t.call(e,e[s],s)))&&(o+=(r=n-a)*(n-(a+=r/++l)));if(l>1)return o/(l-1)},a.deviation=function(){var e=a.variance.apply(this,arguments);return e?Math.sqrt(e):e};var y=v(g);function w(e){return e.length}a.bisectLeft=y.left,a.bisect=a.bisectRight=y.right,a.bisector=function(e){return v(1===e.length?function(t,n){return g(e(t),n)}:e)},a.shuffle=function(e,t,n){(a=arguments.length)<3&&(n=e.length,a<2&&(t=0));for(var r,i,a=n-t;a;)i=Math.random()*a--|0,r=e[a+t],e[a+t]=e[i+t],e[i+t]=r;return e},a.permute=function(e,t){for(var n=t.length,r=new Array(n);n--;)r[n]=e[t[n]];return r},a.pairs=function(e){for(var t=0,n=e.length-1,r=e[0],i=new Array(n<0?0:n);t<n;)i[t]=[r,r=e[++t]];return i},a.transpose=function(e){if(!(i=e.length))return[];for(var t=-1,n=a.min(e,w),r=new Array(n);++t<n;)for(var i,o=-1,s=r[t]=new Array(i);++o<i;)s[o]=e[o][t];return r},a.zip=function(){return a.transpose(arguments)},a.keys=function(e){var t=[];for(var n in e)t.push(n);return t},a.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},a.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},a.merge=function(e){for(var t,n,r,i=e.length,a=-1,o=0;++a<i;)o+=e[a].length;for(n=new Array(o);--i>=0;)for(t=(r=e[i]).length;--t>=0;)n[--o]=r[t];return n};var j=Math.abs;function _(e){for(var t=1;e*t%1;)t*=10;return t}function E(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function O(){this._=Object.create(null)}a.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n==1/0)throw new Error("infinite range");var r,i=[],a=_(j(n)),o=-1;if(e*=a,t*=a,(n*=a)<0)for(;(r=e+n*++o)>t;)i.push(r/a);else for(;(r=e+n*++o)<t;)i.push(r/a);return i},a.map=function(e,t){var n=new O;if(e instanceof O)e.forEach((function(e,t){n.set(e,t)}));else if(Array.isArray(e)){var r,i=-1,a=e.length;if(1===arguments.length)for(;++i<a;)n.set(i,e[i]);else for(;++i<a;)n.set(t.call(e,r=e[i],i),r)}else for(var o in e)n.set(o,e[o]);return n};function M(e){return"__proto__"==(e+="")||"\0"===e[0]?"\0"+e:e}function S(e){return"\0"===(e+="")[0]?e.slice(1):e}function T(e){return M(e)in this._}function C(e){return(e=M(e))in this._&&delete this._[e]}function k(){var e=[];for(var t in this._)e.push(S(t));return e}function F(){var e=0;for(var t in this._)++e;return e}function P(){for(var e in this._)return!1;return!0}function R(){this._=Object.create(null)}function L(e){return e}function N(e,t,n){return function(){var r=n.apply(t,arguments);return r===t?e:r}}function z(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,r=I.length;n<r;++n){var i=I[n]+t;if(i in e)return i}}E(O,{has:T,get:function(e){return this._[M(e)]},set:function(e,t){return this._[M(e)]=t},remove:C,keys:k,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:S(t),value:this._[t]});return e},size:F,empty:P,forEach:function(e){for(var t in this._)e.call(this,S(t),this._[t])}}),a.nest=function(){var e,t,n={},r=[],i=[];function o(i,a,s){if(s>=r.length)return t?t.call(n,a):e?a.sort(e):a;for(var l,u,c,d,p=-1,f=a.length,h=r[s++],m=new O;++p<f;)(d=m.get(l=h(u=a[p])))?d.push(u):m.set(l,[u]);return i?(u=i(),c=function(e,t){u.set(e,o(i,t,s))}):(u={},c=function(e,t){u[e]=o(i,t,s)}),m.forEach(c),u}function s(e,t){if(t>=r.length)return e;var n=[],a=i[t++];return e.forEach((function(e,r){n.push({key:e,values:s(r,t)})})),a?n.sort((function(e,t){return a(e.key,t.key)})):n}return n.map=function(e,t){return o(t,e,0)},n.entries=function(e){return s(o(a.map,e,0),0)},n.key=function(e){return r.push(e),n},n.sortKeys=function(e){return i[r.length-1]=e,n},n.sortValues=function(t){return e=t,n},n.rollup=function(e){return t=e,n},n},a.set=function(e){var t=new R;if(e)for(var n=0,r=e.length;n<r;++n)t.add(e[n]);return t},E(R,{has:T,add:function(e){return this._[M(e+="")]=!0,e},remove:C,values:k,size:F,empty:P,forEach:function(e){for(var t in this._)e.call(this,S(t))}}),a.behavior={},a.rebind=function(e,t){for(var n,r=1,i=arguments.length;++r<i;)e[n=arguments[r]]=N(e,t,t[n]);return e};var I=["webkit","ms","moz","Moz","o","O"];function D(){}function A(){}function V(e){var t=[],n=new O;function r(){for(var n,r=t,i=-1,a=r.length;++i<a;)(n=r[i].on)&&n.apply(this,arguments);return e}return r.on=function(r,i){var a,o=n.get(r);return arguments.length<2?o&&o.on:(o&&(o.on=null,t=t.slice(0,a=t.indexOf(o)).concat(t.slice(a+1)),n.remove(r)),i&&t.push(n.set(r,{on:i})),e)},r}function B(){a.event.preventDefault()}function H(){for(var e,t=a.event;e=t.sourceEvent;)t=e;return t}function q(e){for(var t=new A,n=0,r=arguments.length;++n<r;)t[arguments[n]]=V(t);return t.of=function(n,r){return function(i){try{var o=i.sourceEvent=a.event;i.target=e,a.event=i,t[i.type].apply(n,r)}finally{a.event=o}}},t}a.dispatch=function(){for(var e=new A,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=V(e);return e},A.prototype.on=function(e,t){var n=e.indexOf("."),r="";if(n>=0&&(r=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(r):this[e].on(r,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(r,null);return this}},a.event=null,a.requote=function(e){return e.replace(G,"\\$&")};var G=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,$={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]};function U(e){return $(e,W),e}var X=function(e,t){return t.querySelector(e)},Y=function(e,t){return t.querySelectorAll(e)},J=function(e,t){var n=e.matches||e[z(e,"matchesSelector")];return J=function(e,t){return n.call(e,t)},J(e,t)};"function"==typeof Sizzle&&(X=function(e,t){return Sizzle(e,t)[0]||null},Y=Sizzle,J=Sizzle.matchesSelector),a.selection=function(){return a.select(l.documentElement)};var W=a.selection.prototype=[];function K(e){return"function"==typeof e?e:function(){return X(e,this)}}function Z(e){return"function"==typeof e?e:function(){return Y(e,this)}}W.select=function(e){var t,n,r,i,a=[];e=K(e);for(var o=-1,s=this.length;++o<s;){a.push(t=[]),t.parentNode=(r=this[o]).parentNode;for(var l=-1,u=r.length;++l<u;)(i=r[l])?(t.push(n=e.call(i,i.__data__,l,o)),n&&"__data__"in i&&(n.__data__=i.__data__)):t.push(null)}return U(a)},W.selectAll=function(e){var t,n,r=[];e=Z(e);for(var i=-1,a=this.length;++i<a;)for(var o=this[i],l=-1,u=o.length;++l<u;)(n=o[l])&&(r.push(t=s(e.call(n,n.__data__,l,i))),t.parentNode=n);return U(r)};var Q="http://www.w3.org/1999/xhtml",ee={svg:"http://www.w3.org/2000/svg",xhtml:Q,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function te(e,t){return e=a.ns.qualify(e),null==t?e.local?function(){this.removeAttributeNS(e.space,e.local)}:function(){this.removeAttribute(e)}:"function"==typeof t?e.local?function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}:function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}:e.local?function(){this.setAttributeNS(e.space,e.local,t)}:function(){this.setAttribute(e,t)}}function ne(e){return e.trim().replace(/\s+/g," ")}function re(e){return new RegExp("(?:^|\\s+)"+a.requote(e)+"(?:\\s+|$)","g")}function ie(e){return(e+"").trim().split(/^|\s+/)}function ae(e,t){var n=(e=ie(e).map(oe)).length;return"function"==typeof t?function(){for(var r=-1,i=t.apply(this,arguments);++r<n;)e[r](this,i)}:function(){for(var r=-1;++r<n;)e[r](this,t)}}function oe(e){var t=re(e);return function(n,r){if(i=n.classList)return r?i.add(e):i.remove(e);var i=n.getAttribute("class")||"";r?(t.lastIndex=0,t.test(i)||n.setAttribute("class",ne(i+" "+e))):n.setAttribute("class",ne(i.replace(t," ")))}}function se(e,t,n){return null==t?function(){this.style.removeProperty(e)}:"function"==typeof t?function(){var r=t.apply(this,arguments);null==r?this.style.removeProperty(e):this.style.setProperty(e,r,n)}:function(){this.style.setProperty(e,t,n)}}function le(e,t){return null==t?function(){delete this[e]}:"function"==typeof t?function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}:function(){this[e]=t}}function ue(e){return"function"==typeof e?e:(e=a.ns.qualify(e)).local?function(){return this.ownerDocument.createElementNS(e.space,e.local)}:function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Q&&t.documentElement.namespaceURI===Q?t.createElement(e):t.createElementNS(n,e)}}function ce(){var e=this.parentNode;e&&e.removeChild(this)}function de(e){return{__data__:e}}function pe(e){return function(){return J(this,e)}}function fe(e){return arguments.length||(e=g),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function he(e,t){for(var n=0,r=e.length;n<r;n++)for(var i,a=e[n],o=0,s=a.length;o<s;o++)(i=a[o])&&t(i,o,n);return e}function me(e){return $(e,ge),e}a.ns={prefix:ee,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),ee.hasOwnProperty(n)?{space:ee[n],local:e}:e}},W.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return(e=a.ns.qualify(e)).local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(te(t,e[t]));return this}return this.each(te(e,t))},W.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),r=(e=ie(e)).length,i=-1;if(t=n.classList){for(;++i<r;)if(!t.contains(e[i]))return!1}else for(t=n.getAttribute("class");++i<r;)if(!re(e[i]).test(t))return!1;return!0}for(t in e)this.each(ae(t,e[t]));return this}return this.each(ae(e,t))},W.style=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){for(n in r<2&&(t=""),e)this.each(se(n,e[n],t));return this}if(r<2){var i=this.node();return c(i).getComputedStyle(i,null).getPropertyValue(e)}n=""}return this.each(se(e,t,n))},W.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(le(t,e[t]));return this}return this.each(le(e,t))},W.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},W.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},W.append=function(e){return e=ue(e),this.select((function(){return this.appendChild(e.apply(this,arguments))}))},W.insert=function(e,t){return e=ue(e),t=K(t),this.select((function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)}))},W.remove=function(){return this.each(ce)},W.data=function(e,t){var n,r,i=-1,a=this.length;if(!arguments.length){for(e=new Array(a=(n=this[0]).length);++i<a;)(r=n[i])&&(e[i]=r.__data__);return e}function o(e,n){var r,i,a,o=e.length,c=n.length,d=Math.min(o,c),p=new Array(c),f=new Array(c),h=new Array(o);if(t){var m,g=new O,x=new Array(o);for(r=-1;++r<o;)(i=e[r])&&(g.has(m=t.call(i,i.__data__,r))?h[r]=i:g.set(m,i),x[r]=m);for(r=-1;++r<c;)(i=g.get(m=t.call(n,a=n[r],r)))?!0!==i&&(p[r]=i,i.__data__=a):f[r]=de(a),g.set(m,!0);for(r=-1;++r<o;)r in x&&!0!==g.get(x[r])&&(h[r]=e[r])}else{for(r=-1;++r<d;)i=e[r],a=n[r],i?(i.__data__=a,p[r]=i):f[r]=de(a);for(;r<c;++r)f[r]=de(n[r]);for(;r<o;++r)h[r]=e[r]}f.update=p,f.parentNode=p.parentNode=h.parentNode=e.parentNode,s.push(f),l.push(p),u.push(h)}var s=me([]),l=U([]),u=U([]);if("function"==typeof e)for(;++i<a;)o(n=this[i],e.call(n,n.parentNode.__data__,i));else for(;++i<a;)o(n=this[i],e);return l.enter=function(){return s},l.exit=function(){return u},l},W.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},W.filter=function(e){var t,n,r,i=[];"function"!=typeof e&&(e=pe(e));for(var a=0,o=this.length;a<o;a++){i.push(t=[]),t.parentNode=(n=this[a]).parentNode;for(var s=0,l=n.length;s<l;s++)(r=n[s])&&e.call(r,r.__data__,s,a)&&t.push(r)}return U(i)},W.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,r=this[e],i=r.length-1,a=r[i];--i>=0;)(n=r[i])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},W.sort=function(e){e=fe.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},W.each=function(e){return he(this,(function(t,n,r){e.call(t,t.__data__,n,r)}))},W.call=function(e){var t=s(arguments);return e.apply(t[0]=this,t),this},W.empty=function(){return!this.node()},W.node=function(){for(var e=0,t=this.length;e<t;e++)for(var n=this[e],r=0,i=n.length;r<i;r++){var a=n[r];if(a)return a}return null},W.size=function(){var e=0;return he(this,(function(){++e})),e};var ge=[];function xe(e){var t,n;return function(r,i,a){var o,s=e[a].update,l=s.length;for(a!=n&&(n=a,t=0),i>=t&&(t=i+1);!(o=s[t])&&++t<l;);return o}}function be(e,t,n){var r="__on"+e,i=e.indexOf("."),o=ye;i>0&&(e=e.slice(0,i));var l=ve.get(e);function u(){var t=this[r];t&&(this.removeEventListener(e,t,t.$),delete this[r])}return l&&(e=l,o=we),i?t?function(){var i=o(t,s(arguments));u.call(this),this.addEventListener(e,this[r]=i,i.$=n),i._=t}:u:t?D:function(){var t,n=new RegExp("^__on([^.]+)"+a.requote(e)+"$");for(var r in this)if(t=r.match(n)){var i=this[r];this.removeEventListener(t[1],i,i.$),delete this[r]}}}a.selection.enter=me,a.selection.enter.prototype=ge,ge.append=W.append,ge.empty=W.empty,ge.node=W.node,ge.call=W.call,ge.size=W.size,ge.select=function(e){for(var t,n,r,i,a,o=[],s=-1,l=this.length;++s<l;){r=(i=this[s]).update,o.push(t=[]),t.parentNode=i.parentNode;for(var u=-1,c=i.length;++u<c;)(a=i[u])?(t.push(r[u]=n=e.call(i.parentNode,a.__data__,u,s)),n.__data__=a.__data__):t.push(null)}return U(o)},ge.insert=function(e,t){return arguments.length<2&&(t=xe(this)),W.insert.call(this,e,t)},a.select=function(e){var t;return"string"==typeof e?(t=[X(e,l)]).parentNode=l.documentElement:(t=[e]).parentNode=u(e),U([t])},a.selectAll=function(e){var t;return"string"==typeof e?(t=s(Y(e,l))).parentNode=l.documentElement:(t=s(e)).parentNode=null,U([t])},W.on=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){for(n in r<2&&(t=!1),e)this.each(be(n,e[n],t));return this}if(r<2)return(r=this.node()["__on"+e])&&r._;n=!1}return this.each(be(e,t,n))};var ve=a.map({mouseenter:"mouseover",mouseleave:"mouseout"});function ye(e,t){return function(n){var r=a.event;a.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{a.event=r}}}function we(e,t){var n=ye(e,t);return function(e){var t=this,r=e.relatedTarget;r&&(r===t||8&r.compareDocumentPosition(t))||n.call(t,e)}}l&&ve.forEach((function(e){"on"+e in l&&ve.remove(e)}));var je,_e=0;function Ee(e){var t=".dragsuppress-"+ ++_e,n="click"+t,r=a.select(c(e)).on("touchmove"+t,B).on("dragstart"+t,B).on("selectstart"+t,B);if(null==je&&(je=!("onselectstart"in e)&&z(e.style,"userSelect")),je){var i=u(e).style,o=i[je];i[je]="none"}return function(e){if(r.on(t,null),je&&(i[je]=o),e){var a=function(){r.on(n,null)};r.on(n,(function(){B(),a()}),!0),setTimeout(a,0)}}}a.mouse=function(e){return Me(e,H())};var Oe=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function Me(e,t){t.changedTouches&&(t=t.changedTouches[0]);var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();if(Oe<0){var i=c(e);if(i.scrollX||i.scrollY){var o=(n=a.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();Oe=!(o.f||o.e),n.remove()}}return Oe?(r.x=t.pageX,r.y=t.pageY):(r.x=t.clientX,r.y=t.clientY),[(r=r.matrixTransform(e.getScreenCTM().inverse())).x,r.y]}var s=e.getBoundingClientRect();return[t.clientX-s.left-e.clientLeft,t.clientY-s.top-e.clientTop]}function Se(){return a.event.changedTouches[0].identifier}a.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=H().changedTouches),t)for(var r,i=0,a=t.length;i<a;++i)if((r=t[i]).identifier===n)return Me(e,r)},a.behavior.drag=function(){var e=q(i,"drag","dragstart","dragend"),t=null,n=o(D,a.mouse,c,"mousemove","mouseup"),r=o(Se,a.touch,L,"touchmove","touchend");function i(){this.on("mousedown.drag",n).on("touchstart.drag",r)}function o(n,r,i,o,s){return function(){var l,u=this,c=a.event.target.correspondingElement||a.event.target,d=u.parentNode,p=e.of(u,arguments),f=0,h=n(),m=".drag"+(null==h?"":"-"+h),g=a.select(i(c)).on(o+m,v).on(s+m,y),x=Ee(c),b=r(d,h);function v(){var e,t,n=r(d,h);n&&(e=n[0]-b[0],t=n[1]-b[1],f|=e|t,b=n,p({type:"drag",x:n[0]+l[0],y:n[1]+l[1],dx:e,dy:t}))}function y(){r(d,h)&&(g.on(o+m,null).on(s+m,null),x(f),p({type:"dragend"}))}l=t?[(l=t.apply(u,arguments)).x-b[0],l.y-b[1]]:[0,0],p({type:"dragstart"})}}return i.origin=function(e){return arguments.length?(t=e,i):t},a.rebind(i,e,"on")},a.touches=function(e,t){return arguments.length<2&&(t=H().touches),t?s(t).map((function(t){var n=Me(e,t);return n.identifier=t.identifier,n})):[]};var Te=1e-6,Ce=Te*Te,ke=Math.PI,Fe=2*ke,Pe=Fe-Te,Re=ke/2,Le=ke/180,Ne=180/ke;function ze(e){return e>0?1:e<0?-1:0}function Ie(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function De(e){return e>1?0:e<-1?ke:Math.acos(e)}function Ae(e){return e>1?Re:e<-1?-Re:Math.asin(e)}function Ve(e){return((e=Math.exp(e))+1/e)/2}function Be(e){return(e=Math.sin(e/2))*e}var He=Math.SQRT2;a.interpolateZoom=function(e,t){var n,r,i=e[0],a=e[1],o=e[2],s=t[0],l=t[1],u=t[2],c=s-i,d=l-a,p=c*c+d*d;if(p<Ce)r=Math.log(u/o)/He,n=function(e){return[i+e*c,a+e*d,o*Math.exp(He*e*r)]};else{var f=Math.sqrt(p),h=(u*u-o*o+4*p)/(2*o*2*f),m=(u*u-o*o-4*p)/(2*u*2*f),g=Math.log(Math.sqrt(h*h+1)-h),x=Math.log(Math.sqrt(m*m+1)-m);r=(x-g)/He,n=function(e){var t,n=e*r,s=Ve(g),l=o/(2*f)*(s*(t=He*n+g,((t=Math.exp(2*t))-1)/(t+1))-function(e){return((e=Math.exp(e))-1/e)/2}(g));return[i+l*c,a+l*d,o*s/Ve(He*n+g)]}}return n.duration=1e3*r,n},a.behavior.zoom=function(){var e,t,n,r,i,o,s,u,d,p={x:0,y:0,k:1},f=[960,500],h=$e,m=250,g=0,x="mousedown.zoom",b="mousemove.zoom",v="mouseup.zoom",y="touchstart.zoom",w=q(j,"zoomstart","zoom","zoomend");function j(e){e.on(x,F).on(Ge+".zoom",R).on("dblclick.zoom",L).on(y,P)}function _(e){return[(e[0]-p.x)/p.k,(e[1]-p.y)/p.k]}function E(e){p.k=Math.max(h[0],Math.min(h[1],e))}function O(e,t){t=function(e){return[e[0]*p.k+p.x,e[1]*p.k+p.y]}(t),p.x+=e[0]-t[0],p.y+=e[1]-t[1]}function M(e,n,r,i){e.__chart__={x:p.x,y:p.y,k:p.k},E(Math.pow(2,i)),O(t=n,r),e=a.select(e),m>0&&(e=e.transition().duration(m)),e.call(j.event)}function S(){s&&s.domain(o.range().map((function(e){return(e-p.x)/p.k})).map(o.invert)),d&&d.domain(u.range().map((function(e){return(e-p.y)/p.k})).map(u.invert))}function T(e){g++||e({type:"zoomstart"})}function C(e){S(),e({type:"zoom",scale:p.k,translate:[p.x,p.y]})}function k(e){--g||(e({type:"zoomend"}),t=null)}function F(){var e=this,t=w.of(e,arguments),n=0,r=a.select(c(e)).on(b,s).on(v,l),i=_(a.mouse(e)),o=Ee(e);function s(){n=1,O(a.mouse(e),i),C(t)}function l(){r.on(b,null).on(v,null),o(n),k(t)}zs.call(e),T(t)}function P(){var e,t=this,n=w.of(t,arguments),r={},o=0,s=".zoom-"+a.event.changedTouches[0].identifier,l="touchmove"+s,u="touchend"+s,c=[],d=a.select(t),f=Ee(t);function h(){var n=a.touches(t);return e=p.k,n.forEach((function(e){e.identifier in r&&(r[e.identifier]=_(e))})),n}function m(){var e=a.event.target;a.select(e).on(l,g).on(u,b),c.push(e);for(var n=a.event.changedTouches,s=0,d=n.length;s<d;++s)r[n[s].identifier]=null;var f=h(),m=Date.now();if(1===f.length){if(m-i<500){var x=f[0];M(t,x,r[x.identifier],Math.floor(Math.log(p.k)/Math.LN2)+1),B()}i=m}else if(f.length>1){x=f[0];var v=f[1],y=x[0]-v[0],w=x[1]-v[1];o=y*y+w*w}}function g(){var s,l,u,c,d=a.touches(t);zs.call(t);for(var p=0,f=d.length;p<f;++p,c=null)if(u=d[p],c=r[u.identifier]){if(l)break;s=u,l=c}if(c){var h=(h=u[0]-s[0])*h+(h=u[1]-s[1])*h,m=o&&Math.sqrt(h/o);s=[(s[0]+u[0])/2,(s[1]+u[1])/2],l=[(l[0]+c[0])/2,(l[1]+c[1])/2],E(m*e)}i=null,O(s,l),C(n)}function b(){if(a.event.touches.length){for(var e=a.event.changedTouches,t=0,i=e.length;t<i;++t)delete r[e[t].identifier];for(var o in r)return void h()}a.selectAll(c).on(s,null),d.on(x,F).on(y,P),f(),k(n)}m(),T(n),d.on(x,null).on(y,m)}function R(){var i=w.of(this,arguments);r?clearTimeout(r):(zs.call(this),e=_(t=n||a.mouse(this)),T(i)),r=setTimeout((function(){r=null,k(i)}),50),B(),E(Math.pow(2,.002*qe())*p.k),O(t,e),C(i)}function L(){var e=a.mouse(this),t=Math.log(p.k)/Math.LN2;M(this,e,_(e),a.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}return Ge||(Ge="onwheel"in l?(qe=function(){return-a.event.deltaY*(a.event.deltaMode?120:1)},"wheel"):"onmousewheel"in l?(qe=function(){return a.event.wheelDelta},"mousewheel"):(qe=function(){return-a.event.detail},"MozMousePixelScroll")),j.event=function(e){e.each((function(){var e=w.of(this,arguments),n=p;As?a.select(this).transition().each("start.zoom",(function(){p=this.__chart__||{x:0,y:0,k:1},T(e)})).tween("zoom:zoom",(function(){var r=f[0],i=f[1],o=t?t[0]:r/2,s=t?t[1]:i/2,l=a.interpolateZoom([(o-p.x)/p.k,(s-p.y)/p.k,r/p.k],[(o-n.x)/n.k,(s-n.y)/n.k,r/n.k]);return function(t){var n=l(t),i=r/n[2];this.__chart__=p={x:o-n[0]*i,y:s-n[1]*i,k:i},C(e)}})).each("interrupt.zoom",(function(){k(e)})).each("end.zoom",(function(){k(e)})):(this.__chart__=p,T(e),C(e),k(e))}))},j.translate=function(e){return arguments.length?(p={x:+e[0],y:+e[1],k:p.k},S(),j):[p.x,p.y]},j.scale=function(e){return arguments.length?(p={x:p.x,y:p.y,k:null},E(+e),S(),j):p.k},j.scaleExtent=function(e){return arguments.length?(h=null==e?$e:[+e[0],+e[1]],j):h},j.center=function(e){return arguments.length?(n=e&&[+e[0],+e[1]],j):n},j.size=function(e){return arguments.length?(f=e&&[+e[0],+e[1]],j):f},j.duration=function(e){return arguments.length?(m=+e,j):m},j.x=function(e){return arguments.length?(s=e,o=e.copy(),p={x:0,y:0,k:1},j):s},j.y=function(e){return arguments.length?(d=e,u=e.copy(),p={x:0,y:0,k:1},j):d},a.rebind(j,w,"on")};var qe,Ge,$e=[0,1/0];function Ue(){}function Xe(e,t,n){return this instanceof Xe?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof Xe?new Xe(e.h,e.s,e.l):ht(""+e,mt,Xe):new Xe(e,t,n)}a.color=Ue,Ue.prototype.toString=function(){return this.rgb()+""},a.hsl=Xe;var Ye=Xe.prototype=new Ue;function Je(e,t,n){var r,i;function a(e){return Math.round(255*function(e){return e>360?e-=360:e<0&&(e+=360),e<60?r+(i-r)*e/60:e<180?i:e<240?r+(i-r)*(240-e)/60:r}(e))}return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)||t<0?0:t>1?1:t,r=2*(n=n<0?0:n>1?1:n)-(i=n<=.5?n*(1+t):n+t-n*t),new ut(a(e+120),a(e),a(e-120))}function We(e,t,n){return this instanceof We?(this.h=+e,this.c=+t,void(this.l=+n)):arguments.length<2?e instanceof We?new We(e.h,e.c,e.l):at(e instanceof Qe?e.l:(e=gt((e=a.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new We(e,t,n)}Ye.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new Xe(this.h,this.s,this.l/e)},Ye.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new Xe(this.h,this.s,e*this.l)},Ye.rgb=function(){return Je(this.h,this.s,this.l)},a.hcl=We;var Ke=We.prototype=new Ue;function Ze(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new Qe(n,Math.cos(e*=Le)*t,Math.sin(e)*t)}function Qe(e,t,n){return this instanceof Qe?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof Qe?new Qe(e.l,e.a,e.b):e instanceof We?Ze(e.h,e.c,e.l):gt((e=ut(e)).r,e.g,e.b):new Qe(e,t,n)}Ke.brighter=function(e){return new We(this.h,this.c,Math.min(100,this.l+et*(arguments.length?e:1)))},Ke.darker=function(e){return new We(this.h,this.c,Math.max(0,this.l-et*(arguments.length?e:1)))},Ke.rgb=function(){return Ze(this.h,this.c,this.l).rgb()},a.lab=Qe;var et=18,tt=.95047,nt=1.08883,rt=Qe.prototype=new Ue;function it(e,t,n){var r=(e+16)/116,i=r+t/500,a=r-n/200;return new ut(lt(3.2404542*(i=ot(i)*tt)-1.5371385*(r=1*ot(r))-.4985314*(a=ot(a)*nt)),lt(-.969266*i+1.8760108*r+.041556*a),lt(.0556434*i-.2040259*r+1.0572252*a))}function at(e,t,n){return e>0?new We(Math.atan2(n,t)*Ne,Math.sqrt(t*t+n*n),e):new We(NaN,NaN,e)}function ot(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function st(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function lt(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function ut(e,t,n){return this instanceof ut?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof ut?new ut(e.r,e.g,e.b):ht(""+e,ut,Je):new ut(e,t,n)}function ct(e){return new ut(e>>16,e>>8&255,255&e)}function dt(e){return ct(e)+""}rt.brighter=function(e){return new Qe(Math.min(100,this.l+et*(arguments.length?e:1)),this.a,this.b)},rt.darker=function(e){return new Qe(Math.max(0,this.l-et*(arguments.length?e:1)),this.a,this.b)},rt.rgb=function(){return it(this.l,this.a,this.b)},a.rgb=ut;var pt=ut.prototype=new Ue;function ft(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function ht(e,t,n){var r,i,a,o=0,s=0,l=0;if(r=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return t(bt(i[0]),bt(i[1]),bt(i[2]))}return(a=vt.get(e))?t(a.r,a.g,a.b):(null==e||"#"!==e.charAt(0)||isNaN(a=parseInt(e.slice(1),16))||(4===e.length?(o=(3840&a)>>4,o|=o>>4,s=240&a,s|=s>>4,l=15&a,l|=l<<4):7===e.length&&(o=(16711680&a)>>16,s=(65280&a)>>8,l=255&a)),t(o,s,l))}function mt(e,t,n){var r,i,a=Math.min(e/=255,t/=255,n/=255),o=Math.max(e,t,n),s=o-a,l=(o+a)/2;return s?(i=l<.5?s/(o+a):s/(2-o-a),r=e==o?(t-n)/s+(t<n?6:0):t==o?(n-e)/s+2:(e-t)/s+4,r*=60):(r=NaN,i=l>0&&l<1?0:r),new Xe(r,i,l)}function gt(e,t,n){var r=st((.4124564*(e=xt(e))+.3575761*(t=xt(t))+.1804375*(n=xt(n)))/tt),i=st((.2126729*e+.7151522*t+.072175*n)/1);return Qe(116*i-16,500*(r-i),200*(i-st((.0193339*e+.119192*t+.9503041*n)/nt)))}function xt(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function bt(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}pt.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,r=this.b,i=30;return t||n||r?(t&&t<i&&(t=i),n&&n<i&&(n=i),r&&r<i&&(r=i),new ut(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,r/e))):new ut(i,i,i)},pt.darker=function(e){return new ut((e=Math.pow(.7,arguments.length?e:1))*this.r,e*this.g,e*this.b)},pt.hsl=function(){return mt(this.r,this.g,this.b)},pt.toString=function(){return"#"+ft(this.r)+ft(this.g)+ft(this.b)};var vt=a.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function yt(e){return"function"==typeof e?e:function(){return e}}function wt(e){return function(t,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),jt(t,n,e,r)}}function jt(e,t,n,r){var i={},o=a.dispatch("beforesend","progress","load","error"),l={},u=new XMLHttpRequest,c=null;function d(){var e,t=u.status;if(!t&&function(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}(u)||t>=200&&t<300||304===t){try{e=n.call(i,u)}catch(e){return void o.error.call(i,e)}o.load.call(i,e)}else o.error.call(i,u)}return this.XDomainRequest&&!("withCredentials"in u)&&/^(http(s)?:)?\/\//.test(e)&&(u=new XDomainRequest),"onload"in u?u.onload=u.onerror=d:u.onreadystatechange=function(){u.readyState>3&&d()},u.onprogress=function(e){var t=a.event;a.event=e;try{o.progress.call(i,u)}finally{a.event=t}},i.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?l[e]:(null==t?delete l[e]:l[e]=t+"",i)},i.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",i):t},i.responseType=function(e){return arguments.length?(c=e,i):c},i.response=function(e){return n=e,i},["get","post"].forEach((function(e){i[e]=function(){return i.send.apply(i,[e].concat(s(arguments)))}})),i.send=function(n,r,a){if(2===arguments.length&&"function"==typeof r&&(a=r,r=null),u.open(n,e,!0),null==t||"accept"in l||(l.accept=t+",*/*"),u.setRequestHeader)for(var s in l)u.setRequestHeader(s,l[s]);return null!=t&&u.overrideMimeType&&u.overrideMimeType(t),null!=c&&(u.responseType=c),null!=a&&i.on("error",a).on("load",(function(e){a(null,e)})),o.beforesend.call(i,u),u.send(null==r?null:r),i},i.abort=function(){return u.abort(),i},a.rebind(i,o,"on"),null==r?i:i.get(function(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}(r))}vt.forEach((function(e,t){vt.set(e,ct(t))})),a.functor=yt,a.xhr=wt(L),a.dsv=function(e,t){var n=new RegExp('["'+e+"\n]"),r=e.charCodeAt(0);function i(e,n,r){arguments.length<3&&(r=n,n=null);var i=jt(e,t,null==n?a:o(n),r);return i.row=function(e){return arguments.length?i.response(null==(n=e)?a:o(e)):n},i}function a(e){return i.parse(e.responseText)}function o(e){return function(t){return i.parse(t.responseText,e)}}function s(t){return t.map(l).join(e)}function l(e){return n.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}return i.parse=function(e,t){var n;return i.parseRows(e,(function(e,r){if(n)return n(e,r-1);var i=new Function("d","return {"+e.map((function(e,t){return JSON.stringify(e)+": d["+t+"]"})).join(",")+"}");n=t?function(e,n){return t(i(e),n)}:i}))},i.parseRows=function(e,t){var n,i,a={},o={},s=[],l=e.length,u=0,c=0;function d(){if(u>=l)return o;if(i)return i=!1,a;var t=u;if(34===e.charCodeAt(t)){for(var n=t;n++<l;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}return u=n+2,13===(s=e.charCodeAt(n+1))?(i=!0,10===e.charCodeAt(n+2)&&++u):10===s&&(i=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;u<l;){var s,c=1;if(10===(s=e.charCodeAt(u++)))i=!0;else if(13===s)i=!0,10===e.charCodeAt(u)&&(++u,++c);else if(s!==r)continue;return e.slice(t,u-c)}return e.slice(t)}for(;(n=d())!==o;){for(var p=[];n!==a&&n!==o;)p.push(n),n=d();t&&null==(p=t(p,c++))||s.push(p)}return s},i.format=function(t){if(Array.isArray(t[0]))return i.formatRows(t);var n=new R,r=[];return t.forEach((function(e){for(var t in e)n.has(t)||r.push(n.add(t))})),[r.map(l).join(e)].concat(t.map((function(t){return r.map((function(e){return l(t[e])})).join(e)}))).join("\n")},i.formatRows=function(e){return e.map(s).join("\n")},i},a.csv=a.dsv(",","text/csv"),a.tsv=a.dsv("\t","text/tab-separated-values");var _t,Et,Ot,Mt,St=this[z(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};function Tt(e,t,n){var r=arguments.length;r<2&&(t=0),r<3&&(n=Date.now());var i=n+t,a={c:e,t:i,n:null};return Et?Et.n=a:_t=a,Et=a,Ot||(Mt=clearTimeout(Mt),Ot=1,St(Ct)),a}function Ct(){var e=kt(),t=Ft()-e;t>24?(isFinite(t)&&(clearTimeout(Mt),Mt=setTimeout(Ct,t)),Ot=0):(Ot=1,St(Ct))}function kt(){for(var e=Date.now(),t=_t;t;)e>=t.t&&t.c(e-t.t)&&(t.c=null),t=t.n;return e}function Ft(){for(var e,t=_t,n=1/0;t;)t.c?(t.t<n&&(n=t.t),t=(e=t).n):t=e?e.n=t.n:_t=t.n;return Et=e,n}function Pt(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}a.timer=function(){Tt.apply(this,arguments)},a.timer.flush=function(){kt(),Ft()},a.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var Rt=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map((function(e,t){var n=Math.pow(10,3*j(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}}));function Lt(e){var t=e.decimal,n=e.thousands,r=e.grouping,i=e.currency,o=r&&n?function(e,t){for(var i=e.length,a=[],o=0,s=r[0],l=0;i>0&&s>0&&(l+s+1>t&&(s=Math.max(1,t-l)),a.push(e.substring(i-=s,i+s)),!((l+=s+1)>t));)s=r[o=(o+1)%r.length];return a.reverse().join(n)}:L;return function(e){var n=Nt.exec(e),r=n[1]||" ",s=n[2]||">",l=n[3]||"-",u=n[4]||"",c=n[5],d=+n[6],p=n[7],f=n[8],h=n[9],m=1,g="",x="",b=!1,v=!0;switch(f&&(f=+f.substring(1)),(c||"0"===r&&"="===s)&&(c=r="0",s="="),h){case"n":p=!0,h="g";break;case"%":m=100,x="%",h="f";break;case"p":m=100,x="%",h="r";break;case"b":case"o":case"x":case"X":"#"===u&&(g="0"+h.toLowerCase());case"c":v=!1;case"d":b=!0,f=0;break;case"s":m=-1,h="r"}"$"===u&&(g=i[0],x=i[1]),"r"!=h||f||(h="g"),null!=f&&("g"==h?f=Math.max(1,Math.min(21,f)):"e"!=h&&"f"!=h||(f=Math.max(0,Math.min(20,f)))),h=zt.get(h)||It;var y=c&&p;return function(e){var n=x;if(b&&e%1)return"";var i=e<0||0===e&&1/e<0?(e=-e,"-"):"-"===l?"":l;if(m<0){var u=a.formatPrefix(e,f);e=u.scale(e),n=u.symbol+x}else e*=m;var w,j,_=(e=h(e,f)).lastIndexOf(".");if(_<0){var E=v?e.lastIndexOf("e"):-1;E<0?(w=e,j=""):(w=e.substring(0,E),j=e.substring(E))}else w=e.substring(0,_),j=t+e.substring(_+1);!c&&p&&(w=o(w,1/0));var O=g.length+w.length+j.length+(y?0:i.length),M=O<d?new Array(O=d-O+1).join(r):"";return y&&(w=o(M+w,M.length?d-j.length:1/0)),i+=g,e=w+j,("<"===s?i+e+M:">"===s?M+i+e:"^"===s?M.substring(0,O>>=1)+i+e+M.substring(O):i+(y?e:M+e))+n}}}a.formatPrefix=function(e,t){var n=0;return(e=+e)&&(e<0&&(e*=-1),t&&(e=a.round(e,Pt(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),Rt[8+n/3]};var Nt=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,zt=a.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=a.round(e,Pt(e,t))).toFixed(Math.max(0,Math.min(20,Pt(e*(1+1e-15),t))))}});function It(e){return e+""}var Dt=a.time={},At=Date;function Vt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Vt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Bt.setUTCDate.apply(this._,arguments)},setDay:function(){Bt.setUTCDay.apply(this._,arguments)},setFullYear:function(){Bt.setUTCFullYear.apply(this._,arguments)},setHours:function(){Bt.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Bt.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Bt.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Bt.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Bt.setUTCSeconds.apply(this._,arguments)},setTime:function(){Bt.setTime.apply(this._,arguments)}};var Bt=Date.prototype;function Ht(e,t,n){function r(t){var n=e(t),r=a(n,1);return t-n<r-t?n:r}function i(n){return t(n=e(new At(n-1)),1),n}function a(e,n){return t(e=new At(+e),n),e}function o(e,r,a){var o=i(e),s=[];if(a>1)for(;o<r;)n(o)%a||s.push(new Date(+o)),t(o,1);else for(;o<r;)s.push(new Date(+o)),t(o,1);return s}e.floor=e,e.round=r,e.ceil=i,e.offset=a,e.range=o;var s=e.utc=qt(e);return s.floor=s,s.round=qt(r),s.ceil=qt(i),s.offset=qt(a),s.range=function(e,t,n){try{At=Vt;var r=new Vt;return r._=e,o(r,t,n)}finally{At=Date}},e}function qt(e){return function(t,n){try{At=Vt;var r=new Vt;return r._=t,e(r,n)._}finally{At=Date}}}function Gt(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,s=e.shortDays,l=e.months,u=e.shortMonths;function c(e){var t=e.length;function n(n){for(var r,i,a,o=[],s=-1,l=0;++s<t;)37===e.charCodeAt(s)&&(o.push(e.slice(l,s)),null!=(i=$t[r=e.charAt(++s)])&&(r=e.charAt(++s)),(a=w[r])&&(r=a(n,null==i?"e"===r?" ":"0":i)),o.push(r),l=s+1);return o.push(e.slice(l,s)),o.join("")}return n.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(d(n,e,t,0)!=t.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var r=null!=n.Z&&At!==Vt,i=new(r?Vt:At);return"j"in n?i.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),i.setFullYear(n.y,0,1),i.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(i.getDay()+5)%7:n.w+7*n.U-(i.getDay()+6)%7)):i.setFullYear(n.y,n.m,n.d),i.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),r?i._:i},n.toString=function(){return e},n}function d(e,t,n,r){for(var i,a,o,s=0,l=t.length,u=n.length;s<l;){if(r>=u)return-1;if(37===(i=t.charCodeAt(s++))){if(o=t.charAt(s++),!(a=j[o in $t?t.charAt(s++):o])||(r=a(e,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}c.utc=function(e){var t=c(e);function n(e){try{var n=new(At=Vt);return n._=e,t(n)}finally{At=Date}}return n.parse=function(e){try{At=Vt;var n=t.parse(e);return n&&n._}finally{At=Date}},n.toString=t.toString,n},c.multi=c.utc.multi=fn;var p=a.map(),f=Jt(o),h=Wt(o),m=Jt(s),g=Wt(s),x=Jt(l),b=Wt(l),v=Jt(u),y=Wt(u);i.forEach((function(e,t){p.set(e.toLowerCase(),t)}));var w={a:function(e){return s[e.getDay()]},A:function(e){return o[e.getDay()]},b:function(e){return u[e.getMonth()]},B:function(e){return l[e.getMonth()]},c:c(t),d:function(e,t){return Yt(e.getDate(),t,2)},e:function(e,t){return Yt(e.getDate(),t,2)},H:function(e,t){return Yt(e.getHours(),t,2)},I:function(e,t){return Yt(e.getHours()%12||12,t,2)},j:function(e,t){return Yt(1+Dt.dayOfYear(e),t,3)},L:function(e,t){return Yt(e.getMilliseconds(),t,3)},m:function(e,t){return Yt(e.getMonth()+1,t,2)},M:function(e,t){return Yt(e.getMinutes(),t,2)},p:function(e){return i[+(e.getHours()>=12)]},S:function(e,t){return Yt(e.getSeconds(),t,2)},U:function(e,t){return Yt(Dt.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return Yt(Dt.mondayOfYear(e),t,2)},x:c(n),X:c(r),y:function(e,t){return Yt(e.getFullYear()%100,t,2)},Y:function(e,t){return Yt(e.getFullYear()%1e4,t,4)},Z:dn,"%":function(){return"%"}},j={a:function(e,t,n){m.lastIndex=0;var r=m.exec(t.slice(n));return r?(e.w=g.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(e,t,n){f.lastIndex=0;var r=f.exec(t.slice(n));return r?(e.w=h.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(e,t,n){v.lastIndex=0;var r=v.exec(t.slice(n));return r?(e.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(e,t,n){x.lastIndex=0;var r=x.exec(t.slice(n));return r?(e.m=b.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(e,t,n){return d(e,w.c.toString(),t,n)},d:an,e:an,H:sn,I:sn,j:on,L:cn,m:rn,M:ln,p:function(e,t,n){var r=p.get(t.slice(n,n+=2).toLowerCase());return null==r?-1:(e.p=r,n)},S:un,U:Zt,w:Kt,W:Qt,x:function(e,t,n){return d(e,w.x.toString(),t,n)},X:function(e,t,n){return d(e,w.X.toString(),t,n)},y:tn,Y:en,Z:nn,"%":pn};return c}Dt.year=Ht((function(e){return(e=Dt.day(e)).setMonth(0,1),e}),(function(e,t){e.setFullYear(e.getFullYear()+t)}),(function(e){return e.getFullYear()})),Dt.years=Dt.year.range,Dt.years.utc=Dt.year.utc.range,Dt.day=Ht((function(e){var t=new At(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t}),(function(e,t){e.setDate(e.getDate()+t)}),(function(e){return e.getDate()-1})),Dt.days=Dt.day.range,Dt.days.utc=Dt.day.utc.range,Dt.dayOfYear=function(e){var t=Dt.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach((function(e,t){t=7-t;var n=Dt[e]=Ht((function(e){return(e=Dt.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e}),(function(e,t){e.setDate(e.getDate()+7*Math.floor(t))}),(function(e){var n=Dt.year(e).getDay();return Math.floor((Dt.dayOfYear(e)+(n+t)%7)/7)-(n!==t)}));Dt[e+"s"]=n.range,Dt[e+"s"].utc=n.utc.range,Dt[e+"OfYear"]=function(e){var n=Dt.year(e).getDay();return Math.floor((Dt.dayOfYear(e)+(n+t)%7)/7)}})),Dt.week=Dt.sunday,Dt.weeks=Dt.sunday.range,Dt.weeks.utc=Dt.sunday.utc.range,Dt.weekOfYear=Dt.sundayOfYear;var $t={"-":"",_:" ",0:"0"},Ut=/^\s*\d+/,Xt=/^%/;function Yt(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function Jt(e){return new RegExp("^(?:"+e.map(a.requote).join("|")+")","i")}function Wt(e){for(var t=new O,n=-1,r=e.length;++n<r;)t.set(e[n].toLowerCase(),n);return t}function Kt(e,t,n){Ut.lastIndex=0;var r=Ut.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Zt(e,t,n){Ut.lastIndex=0;var r=Ut.exec(t.slice(n));return r?(e.U=+r[0],n+r[0].length):-1}function Qt(e,t,n){Ut.lastIndex=0;var r=Ut.exec(t.slice(n));return r?(e.W=+r[0],n+r[0].length):-1}function en(e,t,n){Ut.lastIndex=0;var r=Ut.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function tn(e,t,n){Ut.lastIndex=0;var r,i=Ut.exec(t.slice(n,n+2));return i?(e.y=(r=+i[0])+(r>68?1900:2e3),n+i[0].length):-1}function nn(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function rn(e,t,n){Ut.lastIndex=0;var r=Ut.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function an(e,t,n){Ut.lastIndex=0;var r=Ut.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function on(e,t,n){Ut.lastIndex=0;var r=Ut.exec(t.slice(n,n+3));return r?(e.j=+r[0],n+r[0].length):-1}function sn(e,t,n){Ut.lastIndex=0;var r=Ut.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function ln(e,t,n){Ut.lastIndex=0;var r=Ut.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function un(e,t,n){Ut.lastIndex=0;var r=Ut.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function cn(e,t,n){Ut.lastIndex=0;var r=Ut.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function dn(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",r=j(t)/60|0,i=j(t)%60;return n+Yt(r,"0",2)+Yt(i,"0",2)}function pn(e,t,n){Xt.lastIndex=0;var r=Xt.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function fn(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,r=e[n];!r[1](t);)r=e[++n];return r[0](t)}}a.locale=function(e){return{numberFormat:Lt(e),timeFormat:Gt(e)}};var hn=a.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function mn(){}a.format=hn.numberFormat,a.geo={},mn.prototype={s:0,t:0,add:function(e){xn(e,this.t,gn),xn(gn.s,this.s,this),this.s?this.t+=gn.t:this.s=gn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var gn=new mn;function xn(e,t,n){var r=n.s=e+t,i=r-e,a=r-i;n.t=e-a+(t-i)}function bn(e,t){e&&yn.hasOwnProperty(e.type)&&yn[e.type](e,t)}a.geo.stream=function(e,t){e&&vn.hasOwnProperty(e.type)?vn[e.type](e,t):bn(e,t)};var vn={Feature:function(e,t){bn(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)bn(n[r].geometry,t)}},yn={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){wn(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)wn(n[r],t,0)},Polygon:function(e,t){jn(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)jn(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)bn(n[r],t)}};function wn(e,t,n){var r,i=-1,a=e.length-n;for(t.lineStart();++i<a;)r=e[i],t.point(r[0],r[1],r[2]);t.lineEnd()}function jn(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)wn(e[n],t,1);t.polygonEnd()}a.geo.area=function(e){return _n=0,a.geo.stream(e,zn),_n};var _n,En,On,Mn,Sn,Tn,Cn,kn,Fn,Pn,Rn,Ln,Nn=new mn,zn={sphere:function(){_n+=4*ke},point:D,lineStart:D,lineEnd:D,polygonStart:function(){Nn.reset(),zn.lineStart=In},polygonEnd:function(){var e=2*Nn;_n+=e<0?4*ke+e:e,zn.lineStart=zn.lineEnd=zn.point=D}};function In(){var e,t,n,r,i;function a(e,t){t=t*Le/2+ke/4;var a=(e*=Le)-n,o=a>=0?1:-1,s=o*a,l=Math.cos(t),u=Math.sin(t),c=i*u,d=r*l+c*Math.cos(s),p=c*o*Math.sin(s);Nn.add(Math.atan2(p,d)),n=e,r=l,i=u}zn.point=function(o,s){zn.point=a,n=(e=o)*Le,r=Math.cos(s=(t=s)*Le/2+ke/4),i=Math.sin(s)},zn.lineEnd=function(){a(e,t)}}function Dn(e){var t=e[0],n=e[1],r=Math.cos(n);return[r*Math.cos(t),r*Math.sin(t),Math.sin(n)]}function An(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Vn(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Bn(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Hn(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function qn(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Gn(e){return[Math.atan2(e[1],e[0]),Ae(e[2])]}function $n(e,t){return j(e[0]-t[0])<Te&&j(e[1]-t[1])<Te}a.geo.bounds=function(){var e,t,n,r,i,o,s,l,u,c,d,p={point:f,lineStart:m,lineEnd:g,polygonStart:function(){p.point=x,p.lineStart=b,p.lineEnd=v,u=0,zn.polygonStart()},polygonEnd:function(){zn.polygonEnd(),p.point=f,p.lineStart=m,p.lineEnd=g,Nn<0?(e=-(n=180),t=-(r=90)):u>Te?r=90:u<-Te&&(t=-90),d[0]=e,d[1]=n}};function f(i,a){c.push(d=[e=i,n=i]),a<t&&(t=a),a>r&&(r=a)}function h(a,o){var s=Dn([a*Le,o*Le]);if(l){var u=Vn(l,s),c=Vn([u[1],-u[0],0],u);qn(c),c=Gn(c);var d=a-i,p=d>0?1:-1,h=c[0]*Ne*p,m=j(d)>180;if(m^(p*i<h&&h<p*a))(g=c[1]*Ne)>r&&(r=g);else if(m^(p*i<(h=(h+360)%360-180)&&h<p*a)){var g;(g=-c[1]*Ne)<t&&(t=g)}else o<t&&(t=o),o>r&&(r=o);m?a<i?y(e,a)>y(e,n)&&(n=a):y(a,n)>y(e,n)&&(e=a):n>=e?(a<e&&(e=a),a>n&&(n=a)):a>i?y(e,a)>y(e,n)&&(n=a):y(a,n)>y(e,n)&&(e=a)}else f(a,o);l=s,i=a}function m(){p.point=h}function g(){d[0]=e,d[1]=n,p.point=f,l=null}function x(e,t){if(l){var n=e-i;u+=j(n)>180?n+(n>0?360:-360):n}else o=e,s=t;zn.point(e,t),h(e,t)}function b(){zn.lineStart()}function v(){x(o,s),zn.lineEnd(),j(u)>Te&&(e=-(n=180)),d[0]=e,d[1]=n,l=null}function y(e,t){return(t-=e)<0?t+360:t}function w(e,t){return e[0]-t[0]}function _(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}return function(i){if(r=n=-(e=t=1/0),c=[],a.geo.stream(i,p),u=c.length){c.sort(w);for(var o=1,s=[m=c[0]];o<u;++o)_((f=c[o])[0],m)||_(f[1],m)?(y(m[0],f[1])>y(m[0],m[1])&&(m[1]=f[1]),y(f[0],m[1])>y(m[0],m[1])&&(m[0]=f[0])):s.push(m=f);for(var l,u,f,h=-1/0,m=(o=0,s[u=s.length-1]);o<=u;m=f,++o)f=s[o],(l=y(m[1],f[0]))>h&&(h=l,e=f[0],n=m[1])}return c=d=null,e===1/0||t===1/0?[[NaN,NaN],[NaN,NaN]]:[[e,t],[n,r]]}}(),a.geo.centroid=function(e){En=On=Mn=Sn=Tn=Cn=kn=Fn=Pn=Rn=Ln=0,a.geo.stream(e,Un);var t=Pn,n=Rn,r=Ln,i=t*t+n*n+r*r;return i<Ce&&(t=Cn,n=kn,r=Fn,On<Te&&(t=Mn,n=Sn,r=Tn),(i=t*t+n*n+r*r)<Ce)?[NaN,NaN]:[Math.atan2(n,t)*Ne,Ae(r/Math.sqrt(i))*Ne]};var Un={sphere:D,point:Xn,lineStart:Jn,lineEnd:Wn,polygonStart:function(){Un.lineStart=Kn},polygonEnd:function(){Un.lineStart=Jn}};function Xn(e,t){e*=Le;var n=Math.cos(t*=Le);Yn(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function Yn(e,t,n){++En,Mn+=(e-Mn)/En,Sn+=(t-Sn)/En,Tn+=(n-Tn)/En}function Jn(){var e,t,n;function r(r,i){r*=Le;var a=Math.cos(i*=Le),o=a*Math.cos(r),s=a*Math.sin(r),l=Math.sin(i),u=Math.atan2(Math.sqrt((u=t*l-n*s)*u+(u=n*o-e*l)*u+(u=e*s-t*o)*u),e*o+t*s+n*l);On+=u,Cn+=u*(e+(e=o)),kn+=u*(t+(t=s)),Fn+=u*(n+(n=l)),Yn(e,t,n)}Un.point=function(i,a){i*=Le;var o=Math.cos(a*=Le);e=o*Math.cos(i),t=o*Math.sin(i),n=Math.sin(a),Un.point=r,Yn(e,t,n)}}function Wn(){Un.point=Xn}function Kn(){var e,t,n,r,i;function a(e,t){e*=Le;var a=Math.cos(t*=Le),o=a*Math.cos(e),s=a*Math.sin(e),l=Math.sin(t),u=r*l-i*s,c=i*o-n*l,d=n*s-r*o,p=Math.sqrt(u*u+c*c+d*d),f=n*o+r*s+i*l,h=p&&-De(f)/p,m=Math.atan2(p,f);Pn+=h*u,Rn+=h*c,Ln+=h*d,On+=m,Cn+=m*(n+(n=o)),kn+=m*(r+(r=s)),Fn+=m*(i+(i=l)),Yn(n,r,i)}Un.point=function(o,s){e=o,t=s,Un.point=a,o*=Le;var l=Math.cos(s*=Le);n=l*Math.cos(o),r=l*Math.sin(o),i=Math.sin(s),Yn(n,r,i)},Un.lineEnd=function(){a(e,t),Un.lineEnd=Wn,Un.point=Xn}}function Zn(e,t){function n(n,r){return n=e(n,r),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,r){return(n=t.invert(n,r))&&e.invert(n[0],n[1])}),n}function Qn(){return!0}function er(e,t,n,r,i){var a=[],o=[];if(e.forEach((function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],r=e[t];if($n(n,r)){i.lineStart();for(var s=0;s<t;++s)i.point((n=e[s])[0],n[1]);i.lineEnd()}else{var l=new nr(n,e,null,!0),u=new nr(n,null,l,!1);l.o=u,a.push(l),o.push(u),l=new nr(r,e,null,!1),u=new nr(r,null,l,!0),l.o=u,a.push(l),o.push(u)}}})),o.sort(t),tr(a),tr(o),a.length){for(var s=0,l=n,u=o.length;s<u;++s)o[s].e=l=!l;for(var c,d,p=a[0];;){for(var f=p,h=!0;f.v;)if((f=f.n)===p)return;c=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(h)for(s=0,u=c.length;s<u;++s)i.point((d=c[s])[0],d[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(h)for(s=(c=f.p.z).length-1;s>=0;--s)i.point((d=c[s])[0],d[1]);else r(f.x,f.p.x,-1,i);f=f.p}c=(f=f.o).z,h=!h}while(!f.v);i.lineEnd()}}}function tr(e){if(t=e.length){for(var t,n,r=0,i=e[0];++r<t;)i.n=n=e[r],n.p=i,i=n;i.n=n=e[0],n.p=i}}function nr(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function rr(e,t,n,r){return function(i,o){var s,l=t(o),u=i.invert(r[0],r[1]),c={point:d,lineStart:f,lineEnd:h,polygonStart:function(){c.point=y,c.lineStart=w,c.lineEnd=j,s=[],m=[]},polygonEnd:function(){c.point=d,c.lineStart=f,c.lineEnd=h,s=a.merge(s);var e=function(e,t){var n=e[0],r=e[1],i=[Math.sin(n),-Math.cos(n),0],a=0,o=0;Nn.reset();for(var s=0,l=t.length;s<l;++s){var u=t[s],c=u.length;if(c)for(var d=u[0],p=d[0],f=d[1]/2+ke/4,h=Math.sin(f),m=Math.cos(f),g=1;;){g===c&&(g=0);var x=(e=u[g])[0],b=e[1]/2+ke/4,v=Math.sin(b),y=Math.cos(b),w=x-p,j=w>=0?1:-1,_=j*w,E=_>ke,O=h*v;if(Nn.add(Math.atan2(O*j*Math.sin(_),m*y+O*Math.cos(_))),a+=E?w+j*Fe:w,E^p>=n^x>=n){var M=Vn(Dn(d),Dn(e));qn(M);var S=Vn(i,M);qn(S);var T=(E^w>=0?-1:1)*Ae(S[2]);(r>T||r===T&&(M[0]||M[1]))&&(o+=E^w>=0?1:-1)}if(!g++)break;p=x,h=v,m=y,d=e}}return(a<-Te||a<Te&&Nn<-Te)^1&o}(u,m);s.length?(v||(o.polygonStart(),v=!0),er(s,or,e,n,o)):e&&(v||(o.polygonStart(),v=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),v&&(o.polygonEnd(),v=!1),s=m=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function d(t,n){var r=i(t,n);e(t=r[0],n=r[1])&&o.point(t,n)}function p(e,t){var n=i(e,t);l.point(n[0],n[1])}function f(){c.point=p,l.lineStart()}function h(){c.point=d,l.lineEnd()}var m,g,x=ar(),b=t(x),v=!1;function y(e,t){g.push([e,t]);var n=i(e,t);b.point(n[0],n[1])}function w(){b.lineStart(),g=[]}function j(){y(g[0][0],g[0][1]),b.lineEnd();var e,t=b.clean(),n=x.buffer(),r=n.length;if(g.pop(),m.push(g),g=null,r)if(1&t){var i,a=-1;if((r=(e=n[0]).length-1)>0){for(v||(o.polygonStart(),v=!0),o.lineStart();++a<r;)o.point((i=e[a])[0],i[1]);o.lineEnd()}}else r>1&&2&t&&n.push(n.pop().concat(n.shift())),s.push(n.filter(ir))}return c}}function ir(e){return e.length>1}function ar(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:D,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function or(e,t){return((e=e.x)[0]<0?e[1]-Re-Te:Re-e[1])-((t=t.x)[0]<0?t[1]-Re-Te:Re-t[1])}var sr=rr(Qn,(function(e){var t,n=NaN,r=NaN,i=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(a,o){var s=a>0?ke:-ke,l=j(a-n);j(l-ke)<Te?(e.point(n,r=(r+o)/2>0?Re:-Re),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(a,r),t=0):i!==s&&l>=ke&&(j(n-i)<Te&&(n-=i*Te),j(a-s)<Te&&(a-=s*Te),r=function(e,t,n,r){var i,a,o=Math.sin(e-n);return j(o)>Te?Math.atan((Math.sin(t)*(a=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(t))*Math.sin(e))/(i*a*o)):(t+r)/2}(n,r,a,o),e.point(i,r),e.lineEnd(),e.lineStart(),e.point(s,r),t=0),e.point(n=a,r=o),i=s},lineEnd:function(){e.lineEnd(),n=r=NaN},clean:function(){return 2-t}}}),(function(e,t,n,r){var i;if(null==e)i=n*Re,r.point(-ke,i),r.point(0,i),r.point(ke,i),r.point(ke,0),r.point(ke,-i),r.point(0,-i),r.point(-ke,-i),r.point(-ke,0),r.point(-ke,i);else if(j(e[0]-t[0])>Te){var a=e[0]<t[0]?ke:-ke;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}),[-ke,-ke/2]);function lr(e){var t=Math.cos(e),n=t>0,r=j(t)>Te;return rr(i,(function(e){var t,s,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(d,p){var f,h=[d,p],m=i(d,p),g=n?m?0:o(d,p):m?o(d+(d<0?ke:-ke),p):0;if(!t&&(u=l=m)&&e.lineStart(),m!==l&&(f=a(t,h),($n(t,f)||$n(h,f))&&(h[0]+=Te,h[1]+=Te,m=i(h[0],h[1]))),m!==l)c=0,m?(e.lineStart(),f=a(h,t),e.point(f[0],f[1])):(f=a(t,h),e.point(f[0],f[1]),e.lineEnd()),t=f;else if(r&&t&&n^m){var x;g&s||!(x=a(h,t,!0))||(c=0,n?(e.lineStart(),e.point(x[0][0],x[0][1]),e.point(x[1][0],x[1][1]),e.lineEnd()):(e.point(x[1][0],x[1][1]),e.lineEnd(),e.lineStart(),e.point(x[0][0],x[0][1])))}!m||t&&$n(t,h)||e.point(h[0],h[1]),t=h,l=m,s=g},lineEnd:function(){l&&e.lineEnd(),t=null},clean:function(){return c|(u&&l)<<1}}}),$r(e,6*Le),n?[0,-e]:[-ke,e-ke]);function i(e,n){return Math.cos(e)*Math.cos(n)>t}function a(e,n,r){var i=[1,0,0],a=Vn(Dn(e),Dn(n)),o=An(a,a),s=a[0],l=o-s*s;if(!l)return!r&&e;var u=t*o/l,c=-t*s/l,d=Vn(i,a),p=Hn(i,u);Bn(p,Hn(a,c));var f=d,h=An(p,f),m=An(f,f),g=h*h-m*(An(p,p)-1);if(!(g<0)){var x=Math.sqrt(g),b=Hn(f,(-h-x)/m);if(Bn(b,p),b=Gn(b),!r)return b;var v,y=e[0],w=n[0],_=e[1],E=n[1];w<y&&(v=y,y=w,w=v);var O=w-y,M=j(O-ke)<Te;if(!M&&E<_&&(v=_,_=E,E=v),M||O<Te?M?_+E>0^b[1]<(j(b[0]-y)<Te?_:E):_<=b[1]&&b[1]<=E:O>ke^(y<=b[0]&&b[0]<=w)){var S=Hn(f,(-h+x)/m);return Bn(S,p),[b,Gn(S)]}}}function o(t,r){var i=n?e:ke-e,a=0;return t<-i?a|=1:t>i&&(a|=2),r<-i?a|=4:r>i&&(a|=8),a}}function ur(e,t,n,r){return function(i){var a,o=i.a,s=i.b,l=o.x,u=o.y,c=0,d=1,p=s.x-l,f=s.y-u;if(a=e-l,p||!(a>0)){if(a/=p,p<0){if(a<c)return;a<d&&(d=a)}else if(p>0){if(a>d)return;a>c&&(c=a)}if(a=n-l,p||!(a<0)){if(a/=p,p<0){if(a>d)return;a>c&&(c=a)}else if(p>0){if(a<c)return;a<d&&(d=a)}if(a=t-u,f||!(a>0)){if(a/=f,f<0){if(a<c)return;a<d&&(d=a)}else if(f>0){if(a>d)return;a>c&&(c=a)}if(a=r-u,f||!(a<0)){if(a/=f,f<0){if(a>d)return;a>c&&(c=a)}else if(f>0){if(a<c)return;a<d&&(d=a)}return c>0&&(i.a={x:l+c*p,y:u+c*f}),d<1&&(i.b={x:l+d*p,y:u+d*f}),i}}}}}}var cr=1e9;function dr(e,t,n,r){return function(l){var u,c,d,p,f,h,m,g,x,b,v,y=l,w=ar(),j=ur(e,t,n,r),_={point:M,lineStart:function(){_.point=S,c&&c.push(d=[]);b=!0,x=!1,m=g=NaN},lineEnd:function(){u&&(S(p,f),h&&x&&w.rejoin(),u.push(w.buffer()));_.point=M,x&&l.lineEnd()},polygonStart:function(){l=w,u=[],c=[],v=!0},polygonEnd:function(){l=y,u=a.merge(u);var t=function(e){for(var t=0,n=c.length,r=e[1],i=0;i<n;++i)for(var a,o=1,s=c[i],l=s.length,u=s[0];o<l;++o)a=s[o],u[1]<=r?a[1]>r&&Ie(u,a,e)>0&&++t:a[1]<=r&&Ie(u,a,e)<0&&--t,u=a;return 0!==t}([e,r]),n=v&&t,i=u.length;(n||i)&&(l.polygonStart(),n&&(l.lineStart(),E(null,null,1,l),l.lineEnd()),i&&er(u,o,t,E,l),l.polygonEnd()),u=c=d=null}};function E(a,o,l,u){var c=0,d=0;if(null==a||(c=i(a,l))!==(d=i(o,l))||s(a,o)<0^l>0)do{u.point(0===c||3===c?e:n,c>1?r:t)}while((c=(c+l+4)%4)!==d);else u.point(o[0],o[1])}function O(i,a){return e<=i&&i<=n&&t<=a&&a<=r}function M(e,t){O(e,t)&&l.point(e,t)}function S(e,t){var n=O(e=Math.max(-1e9,Math.min(cr,e)),t=Math.max(-1e9,Math.min(cr,t)));if(c&&d.push([e,t]),b)p=e,f=t,h=n,b=!1,n&&(l.lineStart(),l.point(e,t));else if(n&&x)l.point(e,t);else{var r={a:{x:m,y:g},b:{x:e,y:t}};j(r)?(x||(l.lineStart(),l.point(r.a.x,r.a.y)),l.point(r.b.x,r.b.y),n||l.lineEnd(),v=!1):n&&(l.lineStart(),l.point(e,t),v=!1)}m=e,g=t,x=n}return _};function i(r,i){return j(r[0]-e)<Te?i>0?0:3:j(r[0]-n)<Te?i>0?2:1:j(r[1]-t)<Te?i>0?1:0:i>0?3:2}function o(e,t){return s(e.x,t.x)}function s(e,t){var n=i(e,1),r=i(t,1);return n!==r?n-r:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}}function pr(e){var t=0,n=ke/3,r=Ir(e),i=r(t,n);return i.parallels=function(e){return arguments.length?r(t=e[0]*ke/180,n=e[1]*ke/180):[t/ke*180,n/ke*180]},i}function fr(e,t){var n=Math.sin(e),r=(n+Math.sin(t))/2,i=1+n*(2*r-n),a=Math.sqrt(i)/r;function o(e,t){var n=Math.sqrt(i-2*r*Math.sin(t))/r;return[n*Math.sin(e*=r),a-n*Math.cos(e)]}return o.invert=function(e,t){var n=a-t;return[Math.atan2(e,n)/r,Ae((i-(e*e+n*n)*r*r)/(2*r))]},o}a.geo.clipExtent=function(){var e,t,n,r,i,a,o={stream:function(e){return i&&(i.valid=!1),(i=a(e)).valid=!0,i},extent:function(s){return arguments.length?(a=dr(e=+s[0][0],t=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),o):[[e,t],[n,r]]}};return o.extent([[0,0],[960,500]])},(a.geo.conicEqualArea=function(){return pr(fr)}).raw=fr,a.geo.albers=function(){return a.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},a.geo.albersUsa=function(){var e,t,n,r,i=a.geo.albers(),o=a.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=a.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){e=[t,n]}};function u(i){var a=i[0],o=i[1];return e=null,t(a,o),e||(n(a,o),e)||r(a,o),e}return u.invert=function(e){var t=i.scale(),n=i.translate(),r=(e[0]-n[0])/t,a=(e[1]-n[1])/t;return(a>=.12&&a<.234&&r>=-.425&&r<-.214?o:a>=.166&&a<.234&&r>=-.214&&r<-.115?s:i).invert(e)},u.stream=function(e){var t=i.stream(e),n=o.stream(e),r=s.stream(e);return{point:function(e,i){t.point(e,i),n.point(e,i),r.point(e,i)},sphere:function(){t.sphere(),n.sphere(),r.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},u.precision=function(e){return arguments.length?(i.precision(e),o.precision(e),s.precision(e),u):i.precision()},u.scale=function(e){return arguments.length?(i.scale(e),o.scale(.35*e),s.scale(e),u.translate(i.translate())):i.scale()},u.translate=function(e){if(!arguments.length)return i.translate();var a=i.scale(),c=+e[0],d=+e[1];return t=i.translate(e).clipExtent([[c-.455*a,d-.238*a],[c+.455*a,d+.238*a]]).stream(l).point,n=o.translate([c-.307*a,d+.201*a]).clipExtent([[c-.425*a+Te,d+.12*a+Te],[c-.214*a-Te,d+.234*a-Te]]).stream(l).point,r=s.translate([c-.205*a,d+.212*a]).clipExtent([[c-.214*a+Te,d+.166*a+Te],[c-.115*a-Te,d+.234*a-Te]]).stream(l).point,u},u.scale(1070)};var hr,mr,gr,xr,br,vr,yr={point:D,lineStart:D,lineEnd:D,polygonStart:function(){mr=0,yr.lineStart=wr},polygonEnd:function(){yr.lineStart=yr.lineEnd=yr.point=D,hr+=j(mr/2)}};function wr(){var e,t,n,r;function i(e,t){mr+=r*e-n*t,n=e,r=t}yr.point=function(a,o){yr.point=i,e=n=a,t=r=o},yr.lineEnd=function(){i(e,t)}}var jr={point:function(e,t){e<gr&&(gr=e);e>br&&(br=e);t<xr&&(xr=t);t>vr&&(vr=t)},lineStart:D,lineEnd:D,polygonStart:D,polygonEnd:D};function _r(){var e=Er(4.5),t=[],n={point:r,lineStart:function(){n.point=i},lineEnd:o,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=o,n.point=r},pointRadius:function(t){return e=Er(t),n},result:function(){if(t.length){var e=t.join("");return t=[],e}}};function r(n,r){t.push("M",n,",",r,e)}function i(e,r){t.push("M",e,",",r),n.point=a}function a(e,n){t.push("L",e,",",n)}function o(){n.point=r}function s(){t.push("Z")}return n}function Er(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}var Or,Mr={point:Sr,lineStart:Tr,lineEnd:Cr,polygonStart:function(){Mr.lineStart=kr},polygonEnd:function(){Mr.point=Sr,Mr.lineStart=Tr,Mr.lineEnd=Cr}};function Sr(e,t){Mn+=e,Sn+=t,++Tn}function Tr(){var e,t;function n(n,r){var i=n-e,a=r-t,o=Math.sqrt(i*i+a*a);Cn+=o*(e+n)/2,kn+=o*(t+r)/2,Fn+=o,Sr(e=n,t=r)}Mr.point=function(r,i){Mr.point=n,Sr(e=r,t=i)}}function Cr(){Mr.point=Sr}function kr(){var e,t,n,r;function i(e,t){var i=e-n,a=t-r,o=Math.sqrt(i*i+a*a);Cn+=o*(n+e)/2,kn+=o*(r+t)/2,Fn+=o,Pn+=(o=r*e-n*t)*(n+e),Rn+=o*(r+t),Ln+=3*o,Sr(n=e,r=t)}Mr.point=function(a,o){Mr.point=i,Sr(e=n=a,t=r=o)},Mr.lineEnd=function(){i(e,t)}}function Fr(e){var t=4.5,n={point:r,lineStart:function(){n.point=i},lineEnd:o,polygonStart:function(){n.lineEnd=s},polygonEnd:function(){n.lineEnd=o,n.point=r},pointRadius:function(e){return t=e,n},result:D};function r(n,r){e.moveTo(n+t,r),e.arc(n,r,t,0,Fe)}function i(t,r){e.moveTo(t,r),n.point=a}function a(t,n){e.lineTo(t,n)}function o(){n.point=r}function s(){e.closePath()}return n}function Pr(e){var t=.5,n=Math.cos(30*Le),r=16;function i(e){return(r?o:a)(e)}function a(t){return Nr(t,(function(n,r){n=e(n,r),t.point(n[0],n[1])}))}function o(t){var n,i,a,o,l,u,c,d,p,f,h,m,g={point:x,lineStart:b,lineEnd:y,polygonStart:function(){t.polygonStart(),g.lineStart=w},polygonEnd:function(){t.polygonEnd(),g.lineStart=b}};function x(n,r){n=e(n,r),t.point(n[0],n[1])}function b(){d=NaN,g.point=v,t.lineStart()}function v(n,i){var a=Dn([n,i]),o=e(n,i);s(d,p,c,f,h,m,d=o[0],p=o[1],c=n,f=a[0],h=a[1],m=a[2],r,t),t.point(d,p)}function y(){g.point=x,t.lineEnd()}function w(){b(),g.point=j,g.lineEnd=_}function j(e,t){v(n=e,t),i=d,a=p,o=f,l=h,u=m,g.point=v}function _(){s(d,p,c,f,h,m,i,a,n,o,l,u,r,t),g.lineEnd=y,y()}return g}function s(r,i,a,o,l,u,c,d,p,f,h,m,g,x){var b=c-r,v=d-i,y=b*b+v*v;if(y>4*t&&g--){var w=o+f,_=l+h,E=u+m,O=Math.sqrt(w*w+_*_+E*E),M=Math.asin(E/=O),S=j(j(E)-1)<Te||j(a-p)<Te?(a+p)/2:Math.atan2(_,w),T=e(S,M),C=T[0],k=T[1],F=C-r,P=k-i,R=v*F-b*P;(R*R/y>t||j((b*F+v*P)/y-.5)>.3||o*f+l*h+u*m<n)&&(s(r,i,a,o,l,u,C,k,S,w/=O,_/=O,E,g,x),x.point(C,k),s(C,k,S,w,_,E,c,d,p,f,h,m,g,x))}}return i.precision=function(e){return arguments.length?(r=(t=e*e)>0&&16,i):Math.sqrt(t)},i}function Rr(e){var t=Pr((function(t,n){return e([t*Ne,n*Ne])}));return function(e){return Dr(t(e))}}function Lr(e){this.stream=e}function Nr(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function zr(e){return Ir((function(){return e}))()}function Ir(e){var t,n,r,i,o,s,l=Pr((function(e,n){return[(e=t(e,n))[0]*u+i,o-e[1]*u]})),u=150,c=480,d=250,p=0,f=0,h=0,m=0,g=0,x=sr,b=L,v=null,y=null;function w(e){return[(e=r(e[0]*Le,e[1]*Le))[0]*u+i,o-e[1]*u]}function j(e){return(e=r.invert((e[0]-i)/u,(o-e[1])/u))&&[e[0]*Ne,e[1]*Ne]}function _(){r=Zn(n=Br(h,m,g),t);var e=t(p,f);return i=c-e[0]*u,o=d+e[1]*u,E()}function E(){return s&&(s.valid=!1,s=null),w}return w.stream=function(e){return s&&(s.valid=!1),(s=Dr(x(n,l(b(e))))).valid=!0,s},w.clipAngle=function(e){return arguments.length?(x=null==e?(v=e,sr):lr((v=+e)*Le),E()):v},w.clipExtent=function(e){return arguments.length?(y=e,b=e?dr(e[0][0],e[0][1],e[1][0],e[1][1]):L,E()):y},w.scale=function(e){return arguments.length?(u=+e,_()):u},w.translate=function(e){return arguments.length?(c=+e[0],d=+e[1],_()):[c,d]},w.center=function(e){return arguments.length?(p=e[0]%360*Le,f=e[1]%360*Le,_()):[p*Ne,f*Ne]},w.rotate=function(e){return arguments.length?(h=e[0]%360*Le,m=e[1]%360*Le,g=e.length>2?e[2]%360*Le:0,_()):[h*Ne,m*Ne,g*Ne]},a.rebind(w,l,"precision"),function(){return t=e.apply(this,arguments),w.invert=t.invert&&j,_()}}function Dr(e){return Nr(e,(function(t,n){e.point(t*Le,n*Le)}))}function Ar(e,t){return[e,t]}function Vr(e,t){return[e>ke?e-Fe:e<-ke?e+Fe:e,t]}function Br(e,t,n){return e?t||n?Zn(qr(e),Gr(t,n)):qr(e):t||n?Gr(t,n):Vr}function Hr(e){return function(t,n){return[(t+=e)>ke?t-Fe:t<-ke?t+Fe:t,n]}}function qr(e){var t=Hr(e);return t.invert=Hr(-e),t}function Gr(e,t){var n=Math.cos(e),r=Math.sin(e),i=Math.cos(t),a=Math.sin(t);function o(e,t){var o=Math.cos(t),s=Math.cos(e)*o,l=Math.sin(e)*o,u=Math.sin(t),c=u*n+s*r;return[Math.atan2(l*i-c*a,s*n-u*r),Ae(c*i+l*a)]}return o.invert=function(e,t){var o=Math.cos(t),s=Math.cos(e)*o,l=Math.sin(e)*o,u=Math.sin(t),c=u*i-l*a;return[Math.atan2(l*i+u*a,s*n+c*r),Ae(c*n-s*r)]},o}function $r(e,t){var n=Math.cos(e),r=Math.sin(e);return function(i,a,o,s){var l=o*t;null!=i?(i=Ur(n,i),a=Ur(n,a),(o>0?i<a:i>a)&&(i+=o*Fe)):(i=e+o*Fe,a=e-.5*l);for(var u,c=i;o>0?c>a:c<a;c-=l)s.point((u=Gn([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],u[1])}}function Ur(e,t){var n=Dn(t);n[0]-=e,qn(n);var r=De(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Te)%(2*Math.PI)}function Xr(e,t,n){var r=a.range(e,t-Te,n).concat(t);return function(e){return r.map((function(t){return[e,t]}))}}function Yr(e,t,n){var r=a.range(e,t-Te,n).concat(t);return function(e){return r.map((function(t){return[t,e]}))}}function Jr(e){return e.source}function Wr(e){return e.target}a.geo.path=function(){var e,t,n,r,i,o=4.5;function s(e){return e&&("function"==typeof o&&r.pointRadius(+o.apply(this,arguments)),i&&i.valid||(i=n(r)),a.geo.stream(e,i)),r.result()}function l(){return i=null,s}return s.area=function(e){return hr=0,a.geo.stream(e,n(yr)),hr},s.centroid=function(e){return Mn=Sn=Tn=Cn=kn=Fn=Pn=Rn=Ln=0,a.geo.stream(e,n(Mr)),Ln?[Pn/Ln,Rn/Ln]:Fn?[Cn/Fn,kn/Fn]:Tn?[Mn/Tn,Sn/Tn]:[NaN,NaN]},s.bounds=function(e){return br=vr=-(gr=xr=1/0),a.geo.stream(e,n(jr)),[[gr,xr],[br,vr]]},s.projection=function(t){return arguments.length?(n=(e=t)?t.stream||Rr(t):L,l()):e},s.context=function(e){return arguments.length?(r=null==(t=e)?new _r:new Fr(e),"function"!=typeof o&&r.pointRadius(o),l()):t},s.pointRadius=function(e){return arguments.length?(o="function"==typeof e?e:(r.pointRadius(+e),+e),s):o},s.projection(a.geo.albersUsa()).context(null)},a.geo.transform=function(e){return{stream:function(t){var n=new Lr(t);for(var r in e)n[r]=e[r];return n}}},Lr.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},a.geo.projection=zr,a.geo.projectionMutator=Ir,(a.geo.equirectangular=function(){return zr(Ar)}).raw=Ar.invert=Ar,a.geo.rotation=function(e){function t(t){return(t=e(t[0]*Le,t[1]*Le))[0]*=Ne,t[1]*=Ne,t}return e=Br(e[0]%360*Le,e[1]*Le,e.length>2?e[2]*Le:0),t.invert=function(t){return(t=e.invert(t[0]*Le,t[1]*Le))[0]*=Ne,t[1]*=Ne,t},t},Vr.invert=Ar,a.geo.circle=function(){var e,t,n=[0,0],r=6;function i(){var e="function"==typeof n?n.apply(this,arguments):n,r=Br(-e[0]*Le,-e[1]*Le,0).invert,i=[];return t(null,null,1,{point:function(e,t){i.push(e=r(e,t)),e[0]*=Ne,e[1]*=Ne}}),{type:"Polygon",coordinates:[i]}}return i.origin=function(e){return arguments.length?(n=e,i):n},i.angle=function(n){return arguments.length?(t=$r((e=+n)*Le,r*Le),i):e},i.precision=function(n){return arguments.length?(t=$r(e*Le,(r=+n)*Le),i):r},i.angle(90)},a.geo.distance=function(e,t){var n,r=(t[0]-e[0])*Le,i=e[1]*Le,a=t[1]*Le,o=Math.sin(r),s=Math.cos(r),l=Math.sin(i),u=Math.cos(i),c=Math.sin(a),d=Math.cos(a);return Math.atan2(Math.sqrt((n=d*o)*n+(n=u*c-l*d*s)*n),l*c+u*d*s)},a.geo.graticule=function(){var e,t,n,r,i,o,s,l,u,c,d,p,f=10,h=f,m=90,g=360,x=2.5;function b(){return{type:"MultiLineString",coordinates:v()}}function v(){return a.range(Math.ceil(r/m)*m,n,m).map(d).concat(a.range(Math.ceil(l/g)*g,s,g).map(p)).concat(a.range(Math.ceil(t/f)*f,e,f).filter((function(e){return j(e%m)>Te})).map(u)).concat(a.range(Math.ceil(o/h)*h,i,h).filter((function(e){return j(e%g)>Te})).map(c))}return b.lines=function(){return v().map((function(e){return{type:"LineString",coordinates:e}}))},b.outline=function(){return{type:"Polygon",coordinates:[d(r).concat(p(s).slice(1),d(n).reverse().slice(1),p(l).reverse().slice(1))]}},b.extent=function(e){return arguments.length?b.majorExtent(e).minorExtent(e):b.minorExtent()},b.majorExtent=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],l=+e[0][1],s=+e[1][1],r>n&&(e=r,r=n,n=e),l>s&&(e=l,l=s,s=e),b.precision(x)):[[r,l],[n,s]]},b.minorExtent=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],o=+n[0][1],i=+n[1][1],t>e&&(n=t,t=e,e=n),o>i&&(n=o,o=i,i=n),b.precision(x)):[[t,o],[e,i]]},b.step=function(e){return arguments.length?b.majorStep(e).minorStep(e):b.minorStep()},b.majorStep=function(e){return arguments.length?(m=+e[0],g=+e[1],b):[m,g]},b.minorStep=function(e){return arguments.length?(f=+e[0],h=+e[1],b):[f,h]},b.precision=function(a){return arguments.length?(x=+a,u=Xr(o,i,90),c=Yr(t,e,x),d=Xr(l,s,90),p=Yr(r,n,x),b):x},b.majorExtent([[-180,-90+Te],[180,90-Te]]).minorExtent([[-180,-80-Te],[180,80+Te]])},a.geo.greatArc=function(){var e,t,n=Jr,r=Wr;function i(){return{type:"LineString",coordinates:[e||n.apply(this,arguments),t||r.apply(this,arguments)]}}return i.distance=function(){return a.geo.distance(e||n.apply(this,arguments),t||r.apply(this,arguments))},i.source=function(t){return arguments.length?(n=t,e="function"==typeof t?null:t,i):n},i.target=function(e){return arguments.length?(r=e,t="function"==typeof e?null:e,i):r},i.precision=function(){return arguments.length?i:0},i},a.geo.interpolate=function(e,t){return n=e[0]*Le,r=e[1]*Le,i=t[0]*Le,a=t[1]*Le,o=Math.cos(r),s=Math.sin(r),l=Math.cos(a),u=Math.sin(a),c=o*Math.cos(n),d=o*Math.sin(n),p=l*Math.cos(i),f=l*Math.sin(i),h=2*Math.asin(Math.sqrt(Be(a-r)+o*l*Be(i-n))),m=1/Math.sin(h),(g=h?function(e){var t=Math.sin(e*=h)*m,n=Math.sin(h-e)*m,r=n*c+t*p,i=n*d+t*f,a=n*s+t*u;return[Math.atan2(i,r)*Ne,Math.atan2(a,Math.sqrt(r*r+i*i))*Ne]}:function(){return[n*Ne,r*Ne]}).distance=h,g;var n,r,i,a,o,s,l,u,c,d,p,f,h,m,g},a.geo.length=function(e){return Or=0,a.geo.stream(e,Kr),Or};var Kr={sphere:D,point:D,lineStart:function(){var e,t,n;function r(r,i){var a=Math.sin(i*=Le),o=Math.cos(i),s=j((r*=Le)-e),l=Math.cos(s);Or+=Math.atan2(Math.sqrt((s=o*Math.sin(s))*s+(s=n*a-t*o*l)*s),t*a+n*o*l),e=r,t=a,n=o}Kr.point=function(i,a){e=i*Le,t=Math.sin(a*=Le),n=Math.cos(a),Kr.point=r},Kr.lineEnd=function(){Kr.point=Kr.lineEnd=D}},lineEnd:D,polygonStart:D,polygonEnd:D};function Zr(e,t){function n(t,n){var r=Math.cos(t),i=Math.cos(n),a=e(r*i);return[a*i*Math.sin(t),a*Math.sin(n)]}return n.invert=function(e,n){var r=Math.sqrt(e*e+n*n),i=t(r),a=Math.sin(i),o=Math.cos(i);return[Math.atan2(e*a,r*o),Math.asin(r&&n*a/r)]},n}var Qr=Zr((function(e){return Math.sqrt(2/(1+e))}),(function(e){return 2*Math.asin(e/2)}));(a.geo.azimuthalEqualArea=function(){return zr(Qr)}).raw=Qr;var ei=Zr((function(e){var t=Math.acos(e);return t&&t/Math.sin(t)}),L);function ti(e,t){var n=Math.cos(e),r=function(e){return Math.tan(ke/4+e/2)},i=e===t?Math.sin(e):Math.log(n/Math.cos(t))/Math.log(r(t)/r(e)),a=n*Math.pow(r(e),i)/i;if(!i)return ii;function o(e,t){a>0?t<-Re+Te&&(t=-Re+Te):t>Re-Te&&(t=Re-Te);var n=a/Math.pow(r(t),i);return[n*Math.sin(i*e),a-n*Math.cos(i*e)]}return o.invert=function(e,t){var n=a-t,r=ze(i)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/i,2*Math.atan(Math.pow(a/r,1/i))-Re]},o}function ni(e,t){var n=Math.cos(e),r=e===t?Math.sin(e):(n-Math.cos(t))/(t-e),i=n/r+e;if(j(r)<Te)return Ar;function a(e,t){var n=i-t;return[n*Math.sin(r*e),i-n*Math.cos(r*e)]}return a.invert=function(e,t){var n=i-t;return[Math.atan2(e,n)/r,i-ze(r)*Math.sqrt(e*e+n*n)]},a}(a.geo.azimuthalEquidistant=function(){return zr(ei)}).raw=ei,(a.geo.conicConformal=function(){return pr(ti)}).raw=ti,(a.geo.conicEquidistant=function(){return pr(ni)}).raw=ni;var ri=Zr((function(e){return 1/e}),Math.atan);function ii(e,t){return[e,Math.log(Math.tan(ke/4+t/2))]}function ai(e){var t,n=zr(e),r=n.scale,i=n.translate,a=n.clipExtent;return n.scale=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var o=a.apply(n,arguments);if(o===n){if(t=null==e){var s=ke*r(),l=i();a([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else t&&(o=null);return o},n.clipExtent(null)}(a.geo.gnomonic=function(){return zr(ri)}).raw=ri,ii.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Re]},(a.geo.mercator=function(){return ai(ii)}).raw=ii;var oi=Zr((function(){return 1}),Math.asin);(a.geo.orthographic=function(){return zr(oi)}).raw=oi;var si=Zr((function(e){return 1/(1+e)}),(function(e){return 2*Math.atan(e)}));function li(e,t){return[Math.log(Math.tan(ke/4+t/2)),-e]}function ui(e){return e[0]}function ci(e){return e[1]}function di(e){for(var t=e.length,n=[0,1],r=2,i=2;i<t;i++){for(;r>1&&Ie(e[n[r-2]],e[n[r-1]],e[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function pi(e,t){return e[0]-t[0]||e[1]-t[1]}(a.geo.stereographic=function(){return zr(si)}).raw=si,li.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Re]},(a.geo.transverseMercator=function(){var e=ai(li),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90])}).raw=li,a.geom={},a.geom.hull=function(e){var t=ui,n=ci;if(arguments.length)return r(e);function r(e){if(e.length<3)return[];var r,i=yt(t),a=yt(n),o=e.length,s=[],l=[];for(r=0;r<o;r++)s.push([+i.call(this,e[r],r),+a.call(this,e[r],r),r]);for(s.sort(pi),r=0;r<o;r++)l.push([s[r][0],-s[r][1]]);var u=di(s),c=di(l),d=c[0]===u[0],p=c[c.length-1]===u[u.length-1],f=[];for(r=u.length-1;r>=0;--r)f.push(e[s[u[r]][2]]);for(r=+d;r<c.length-p;++r)f.push(e[s[c[r]][2]]);return f}return r.x=function(e){return arguments.length?(t=e,r):t},r.y=function(e){return arguments.length?(n=e,r):n},r},a.geom.polygon=function(e){return $(e,fi),e};var fi=a.geom.polygon.prototype=[];function hi(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function mi(e,t,n,r){var i=e[0],a=n[0],o=t[0]-i,s=r[0]-a,l=e[1],u=n[1],c=t[1]-l,d=r[1]-u,p=(s*(l-u)-d*(i-a))/(d*o-s*c);return[i+p*o,l+p*c]}function gi(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}fi.area=function(){for(var e,t=-1,n=this.length,r=this[n-1],i=0;++t<n;)e=r,r=this[t],i+=e[1]*r[0]-e[0]*r[1];return.5*i},fi.centroid=function(e){var t,n,r=-1,i=this.length,a=0,o=0,s=this[i-1];for(arguments.length||(e=-1/(6*this.area()));++r<i;)t=s,s=this[r],n=t[0]*s[1]-s[0]*t[1],a+=(t[0]+s[0])*n,o+=(t[1]+s[1])*n;return[a*e,o*e]},fi.clip=function(e){for(var t,n,r,i,a,o,s=gi(e),l=-1,u=this.length-gi(this),c=this[u-1];++l<u;){for(t=e.slice(),e.length=0,i=this[l],a=t[(r=t.length-s)-1],n=-1;++n<r;)hi(o=t[n],c,i)?(hi(a,c,i)||e.push(mi(a,o,c,i)),e.push(o)):hi(a,c,i)&&e.push(mi(a,o,c,i)),a=o;s&&e.push(e[0]),c=i}return e};var xi,bi,vi,yi,wi,ji=[],_i=[];function Ei(){qi(this),this.edge=this.site=this.circle=null}function Oi(e){var t=ji.pop()||new Ei;return t.site=e,t}function Mi(e){Ni(e),vi.remove(e),ji.push(e),qi(e)}function Si(e){var t=e.circle,n=t.x,r=t.cy,i={x:n,y:r},a=e.P,o=e.N,s=[e];Mi(e);for(var l=a;l.circle&&j(n-l.circle.x)<Te&&j(r-l.circle.cy)<Te;)a=l.P,s.unshift(l),Mi(l),l=a;s.unshift(l),Ni(l);for(var u=o;u.circle&&j(n-u.circle.x)<Te&&j(r-u.circle.cy)<Te;)o=u.N,s.push(u),Mi(u),u=o;s.push(u),Ni(u);var c,d=s.length;for(c=1;c<d;++c)u=s[c],l=s[c-1],Vi(u.edge,l.site,u.site,i);l=s[0],(u=s[d-1]).edge=Di(l.site,u.site,null,i),Li(l),Li(u)}function Ti(e){for(var t,n,r,i,a=e.x,o=e.y,s=vi._;s;)if((r=Ci(s,o)-a)>Te)s=s.L;else{if(!((i=a-ki(s,o))>Te)){r>-Te?(t=s.P,n=s):i>-Te?(t=s,n=s.N):t=n=s;break}if(!s.R){t=s;break}s=s.R}var l=Oi(e);if(vi.insert(t,l),t||n){if(t===n)return Ni(t),n=Oi(t.site),vi.insert(l,n),l.edge=n.edge=Di(t.site,l.site),Li(t),void Li(n);if(n){Ni(t),Ni(n);var u=t.site,c=u.x,d=u.y,p=e.x-c,f=e.y-d,h=n.site,m=h.x-c,g=h.y-d,x=2*(p*g-f*m),b=p*p+f*f,v=m*m+g*g,y={x:(g*b-f*v)/x+c,y:(p*v-m*b)/x+d};Vi(n.edge,u,h,y),l.edge=Di(u,e,null,y),n.edge=Di(e,h,null,y),Li(t),Li(n)}else l.edge=Di(t.site,l.site)}}function Ci(e,t){var n=e.site,r=n.x,i=n.y,a=i-t;if(!a)return r;var o=e.P;if(!o)return-1/0;var s=(n=o.site).x,l=n.y,u=l-t;if(!u)return s;var c=s-r,d=1/a-1/u,p=c/u;return d?(-p+Math.sqrt(p*p-2*d*(c*c/(-2*u)-l+u/2+i-a/2)))/d+r:(r+s)/2}function ki(e,t){var n=e.N;if(n)return Ci(n,t);var r=e.site;return r.y===t?r.x:1/0}function Fi(e){this.site=e,this.edges=[]}function Pi(e,t){return t.angle-e.angle}function Ri(){qi(this),this.x=this.y=this.arc=this.site=this.cy=null}function Li(e){var t=e.P,n=e.N;if(t&&n){var r=t.site,i=e.site,a=n.site;if(r!==a){var o=i.x,s=i.y,l=r.x-o,u=r.y-s,c=a.x-o,d=2*(l*(g=a.y-s)-u*c);if(!(d>=-Ce)){var p=l*l+u*u,f=c*c+g*g,h=(g*p-u*f)/d,m=(l*f-c*p)/d,g=m+s,x=_i.pop()||new Ri;x.arc=e,x.site=i,x.x=h+o,x.y=g+Math.sqrt(h*h+m*m),x.cy=g,e.circle=x;for(var b=null,v=wi._;v;)if(x.y<v.y||x.y===v.y&&x.x<=v.x){if(!v.L){b=v.P;break}v=v.L}else{if(!v.R){b=v;break}v=v.R}wi.insert(b,x),b||(yi=x)}}}}function Ni(e){var t=e.circle;t&&(t.P||(yi=t.N),wi.remove(t),_i.push(t),qi(t),e.circle=null)}function zi(e,t){var n=e.b;if(n)return!0;var r,i,a=e.a,o=t[0][0],s=t[1][0],l=t[0][1],u=t[1][1],c=e.l,d=e.r,p=c.x,f=c.y,h=d.x,m=d.y,g=(p+h)/2,x=(f+m)/2;if(m===f){if(g<o||g>=s)return;if(p>h){if(a){if(a.y>=u)return}else a={x:g,y:l};n={x:g,y:u}}else{if(a){if(a.y<l)return}else a={x:g,y:u};n={x:g,y:l}}}else if(i=x-(r=(p-h)/(m-f))*g,r<-1||r>1)if(p>h){if(a){if(a.y>=u)return}else a={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else{if(a){if(a.y<l)return}else a={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else if(f<m){if(a){if(a.x>=s)return}else a={x:o,y:r*o+i};n={x:s,y:r*s+i}}else{if(a){if(a.x<o)return}else a={x:s,y:r*s+i};n={x:o,y:r*o+i}}return e.a=a,e.b=n,!0}function Ii(e,t){this.l=e,this.r=t,this.a=this.b=null}function Di(e,t,n,r){var i=new Ii(e,t);return xi.push(i),n&&Vi(i,e,t,n),r&&Vi(i,t,e,r),bi[e.i].edges.push(new Bi(i,e,t)),bi[t.i].edges.push(new Bi(i,t,e)),i}function Ai(e,t,n){var r=new Ii(e,null);return r.a=t,r.b=n,xi.push(r),r}function Vi(e,t,n,r){e.a||e.b?e.l===n?e.b=r:e.a=r:(e.a=r,e.l=t,e.r=n)}function Bi(e,t,n){var r=e.a,i=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function Hi(){this._=null}function qi(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function Gi(e,t){var n=t,r=t.R,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function $i(e,t){var n=t,r=t.L,i=n.U;i?i.L===n?i.L=r:i.R=r:e._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Ui(e){for(;e.L;)e=e.L;return e}function Xi(e,t){var n,r,i,a=e.sort(Yi).pop();for(xi=[],bi=new Array(e.length),vi=new Hi,wi=new Hi;;)if(i=yi,a&&(!i||a.y<i.y||a.y===i.y&&a.x<i.x))a.x===n&&a.y===r||(bi[a.i]=new Fi(a),Ti(a),n=a.x,r=a.y),a=e.pop();else{if(!i)break;Si(i.arc)}t&&(function(e){for(var t,n=xi,r=ur(e[0][0],e[0][1],e[1][0],e[1][1]),i=n.length;i--;)(!zi(t=n[i],e)||!r(t)||j(t.a.x-t.b.x)<Te&&j(t.a.y-t.b.y)<Te)&&(t.a=t.b=null,n.splice(i,1))}(t),function(e){for(var t,n,r,i,a,o,s,l,u,c,d=e[0][0],p=e[1][0],f=e[0][1],h=e[1][1],m=bi,g=m.length;g--;)if((a=m[g])&&a.prepare())for(l=(s=a.edges).length,o=0;o<l;)r=(c=s[o].end()).x,i=c.y,t=(u=s[++o%l].start()).x,n=u.y,(j(r-t)>Te||j(i-n)>Te)&&(s.splice(o,0,new Bi(Ai(a.site,c,j(r-d)<Te&&h-i>Te?{x:d,y:j(t-d)<Te?n:h}:j(i-h)<Te&&p-r>Te?{x:j(n-h)<Te?t:p,y:h}:j(r-p)<Te&&i-f>Te?{x:p,y:j(t-p)<Te?n:f}:j(i-f)<Te&&r-d>Te?{x:j(n-f)<Te?t:d,y:f}:null),a.site,null)),++l)}(t));var o={cells:bi,edges:xi};return vi=wi=xi=bi=null,o}function Yi(e,t){return t.y-e.y||t.x-e.x}Fi.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)(e=t[n].edge).b&&e.a||t.splice(n,1);return t.sort(Pi),t.length},Bi.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Hi.prototype={insert:function(e,t){var n,r,i;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=Ui(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.R&&(Gi(this,n),n=(e=n).U),n.C=!1,r.C=!0,$i(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,e=r):(e===n.L&&($i(this,n),n=(e=n).U),n.C=!1,r.C=!0,Gi(this,r)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,r,i=e.U,a=e.L,o=e.R;if(n=a?o?Ui(o):a:o,i?i.L===e?i.L=n:i.R=n:this._=n,a&&o?(r=n.C,n.C=e.C,n.L=a,a.U=n,n!==o?(i=n.U,n.U=e.U,e=n.R,i.L=e,n.R=o,o.U=n):(n.U=i,i=n,e=n.R)):(r=e.C,e=n),e&&(e.U=i),!r)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===i.L){if((t=i.R).C&&(t.C=!1,i.C=!0,Gi(this,i),t=i.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,$i(this,t),t=i.R),t.C=i.C,i.C=t.R.C=!1,Gi(this,i),e=this._;break}}else if((t=i.L).C&&(t.C=!1,i.C=!0,$i(this,i),t=i.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,Gi(this,t),t=i.L),t.C=i.C,i.C=t.L.C=!1,$i(this,i),e=this._;break}t.C=!0,e=i,i=i.U}while(!e.C);e&&(e.C=!1)}}},a.geom.voronoi=function(e){var t=ui,n=ci,r=t,i=n,a=Ji;if(e)return o(e);function o(e){var t=new Array(e.length),n=a[0][0],r=a[0][1],i=a[1][0],o=a[1][1];return Xi(s(e),a).cells.forEach((function(a,s){var l=a.edges,u=a.site;(t[s]=l.length?l.map((function(e){var t=e.start();return[t.x,t.y]})):u.x>=n&&u.x<=i&&u.y>=r&&u.y<=o?[[n,o],[i,o],[i,r],[n,r]]:[]).point=e[s]})),t}function s(e){return e.map((function(e,t){return{x:Math.round(r(e,t)/Te)*Te,y:Math.round(i(e,t)/Te)*Te,i:t}}))}return o.links=function(e){return Xi(s(e)).edges.filter((function(e){return e.l&&e.r})).map((function(t){return{source:e[t.l.i],target:e[t.r.i]}}))},o.triangles=function(e){var t=[];return Xi(s(e)).cells.forEach((function(n,r){for(var i,a,o,s,l=n.site,u=n.edges.sort(Pi),c=-1,d=u.length,p=u[d-1].edge,f=p.l===l?p.r:p.l;++c<d;)p,i=f,f=(p=u[c].edge).l===l?p.r:p.l,r<i.i&&r<f.i&&(o=i,s=f,((a=l).x-s.x)*(o.y-a.y)-(a.x-o.x)*(s.y-a.y)<0)&&t.push([e[r],e[i.i],e[f.i]])})),t},o.x=function(e){return arguments.length?(r=yt(t=e),o):t},o.y=function(e){return arguments.length?(i=yt(n=e),o):n},o.clipExtent=function(e){return arguments.length?(a=null==e?Ji:e,o):a===Ji?null:a},o.size=function(e){return arguments.length?o.clipExtent(e&&[[0,0],e]):a===Ji?null:a&&a[1]},o};var Ji=[[-1e6,-1e6],[1e6,1e6]];function Wi(e){return e.x}function Ki(e){return e.y}function Zi(e,t,n,r,i,a){if(!e(t,n,r,i,a)){var o=.5*(n+i),s=.5*(r+a),l=t.nodes;l[0]&&Zi(e,l[0],n,r,o,s),l[1]&&Zi(e,l[1],o,r,i,s),l[2]&&Zi(e,l[2],n,s,o,a),l[3]&&Zi(e,l[3],o,s,i,a)}}function Qi(e,t,n,r,i,a,o){var s,l=1/0;return function e(u,c,d,p,f){if(!(c>a||d>o||p<r||f<i)){if(h=u.point){var h,m=t-u.x,g=n-u.y,x=m*m+g*g;if(x<l){var b=Math.sqrt(l=x);r=t-b,i=n-b,a=t+b,o=n+b,s=h}}for(var v=u.nodes,y=.5*(c+p),w=.5*(d+f),j=(n>=w)<<1|t>=y,_=j+4;j<_;++j)if(u=v[3&j])switch(3&j){case 0:e(u,c,d,y,w);break;case 1:e(u,y,d,p,w);break;case 2:e(u,c,w,y,f);break;case 3:e(u,y,w,p,f)}}}(e,r,i,a,o),s}function ea(e,t){e=a.rgb(e),t=a.rgb(t);var n=e.r,r=e.g,i=e.b,o=t.r-n,s=t.g-r,l=t.b-i;return function(e){return"#"+ft(Math.round(n+o*e))+ft(Math.round(r+s*e))+ft(Math.round(i+l*e))}}function ta(e,t){var n,r={},i={};for(n in e)n in t?r[n]=oa(e[n],t[n]):i[n]=e[n];for(n in t)n in e||(i[n]=t[n]);return function(e){for(n in r)i[n]=r[n](e);return i}}function na(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function ra(e,t){var n,r,i,a=ia.lastIndex=aa.lastIndex=0,o=-1,s=[],l=[];for(e+="",t+="";(n=ia.exec(e))&&(r=aa.exec(t));)(i=r.index)>a&&(i=t.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,l.push({i:o,x:na(n,r)})),a=aa.lastIndex;return a<t.length&&(i=t.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?l[0]?(t=l[0].x,function(e){return t(e)+""}):function(){return t}:(t=l.length,function(e){for(var n,r=0;r<t;++r)s[(n=l[r]).i]=n.x(e);return s.join("")})}a.geom.delaunay=function(e){return a.geom.voronoi().triangles(e)},a.geom.quadtree=function(e,t,n,r,i){var a,o=ui,s=ci;if(a=arguments.length)return o=Wi,s=Ki,3===a&&(i=n,r=t,n=t=0),l(e);function l(e){var l,u,c,d,p,f,h,m,g,x=yt(o),b=yt(s);if(null!=t)f=t,h=n,m=r,g=i;else if(m=g=-(f=h=1/0),u=[],c=[],p=e.length,a)for(d=0;d<p;++d)(l=e[d]).x<f&&(f=l.x),l.y<h&&(h=l.y),l.x>m&&(m=l.x),l.y>g&&(g=l.y),u.push(l.x),c.push(l.y);else for(d=0;d<p;++d){var v=+x(l=e[d],d),y=+b(l,d);v<f&&(f=v),y<h&&(h=y),v>m&&(m=v),y>g&&(g=y),u.push(v),c.push(y)}var w=m-f,_=g-h;function E(e,t,n,r,i,a,o,s){if(!isNaN(n)&&!isNaN(r))if(e.leaf){var l=e.x,u=e.y;if(null!=l)if(j(l-n)+j(u-r)<.01)O(e,t,n,r,i,a,o,s);else{var c=e.point;e.x=e.y=e.point=null,O(e,c,l,u,i,a,o,s),O(e,t,n,r,i,a,o,s)}else e.x=n,e.y=r,e.point=t}else O(e,t,n,r,i,a,o,s)}function O(e,t,n,r,i,a,o,s){var l=.5*(i+o),u=.5*(a+s),c=n>=l,d=r>=u,p=d<<1|c;e.leaf=!1,c?i=l:o=l,d?a=u:s=u,E(e=e.nodes[p]||(e.nodes[p]={leaf:!0,nodes:[],point:null,x:null,y:null}),t,n,r,i,a,o,s)}w>_?g=h+w:m=f+_;var M={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(e){E(M,e,+x(e,++d),+b(e,d),f,h,m,g)},visit:function(e){Zi(e,M,f,h,m,g)},find:function(e){return Qi(M,e[0],e[1],f,h,m,g)}};if(d=-1,null==t){for(;++d<p;)E(M,e[d],u[d],c[d],f,h,m,g);--d}else e.forEach(M.add);return u=c=e=l=null,M}return l.x=function(e){return arguments.length?(o=e,l):o},l.y=function(e){return arguments.length?(s=e,l):s},l.extent=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=+e[0][0],n=+e[0][1],r=+e[1][0],i=+e[1][1]),l):null==t?null:[[t,n],[r,i]]},l.size=function(e){return arguments.length?(null==e?t=n=r=i=null:(t=n=0,r=+e[0],i=+e[1]),l):null==t?null:[r-t,i-n]},l},a.interpolateRgb=ea,a.interpolateObject=ta,a.interpolateNumber=na,a.interpolateString=ra;var ia=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,aa=new RegExp(ia.source,"g");function oa(e,t){for(var n,r=a.interpolators.length;--r>=0&&!(n=a.interpolators[r](e,t)););return n}function sa(e,t){var n,r=[],i=[],a=e.length,o=t.length,s=Math.min(e.length,t.length);for(n=0;n<s;++n)r.push(oa(e[n],t[n]));for(;n<a;++n)i[n]=e[n];for(;n<o;++n)i[n]=t[n];return function(e){for(n=0;n<s;++n)i[n]=r[n](e);return i}}a.interpolate=oa,a.interpolators=[function(e,t){var n=typeof t;return("string"===n?vt.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?ea:ra:t instanceof Ue?ea:Array.isArray(t)?sa:"object"===n&&isNaN(t)?ta:na)(e,t)}],a.interpolateArray=sa;var la=function(){return L},ua=a.map({linear:la,poly:function(e){return function(t){return Math.pow(t,e)}},quad:function(){return ha},cubic:function(){return ma},sin:function(){return xa},exp:function(){return ba},circle:function(){return va},elastic:function(e,t){var n;arguments.length<2&&(t=.45);arguments.length?n=t/Fe*Math.asin(1/e):(e=1,n=t/4);return function(r){return 1+e*Math.pow(2,-10*r)*Math.sin((r-n)*Fe/t)}},back:function(e){e||(e=1.70158);return function(t){return t*t*((e+1)*t-e)}},bounce:function(){return ya}}),ca=a.map({in:L,out:pa,"in-out":fa,"out-in":function(e){return fa(pa(e))}});function da(e){return function(t){return t<=0?0:t>=1?1:e(t)}}function pa(e){return function(t){return 1-e(1-t)}}function fa(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function ha(e){return e*e}function ma(e){return e*e*e}function ga(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function xa(e){return 1-Math.cos(e*Re)}function ba(e){return Math.pow(2,10*(e-1))}function va(e){return 1-Math.sqrt(1-e*e)}function ya(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function wa(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function ja(e){var t,n,r,i=[e.a,e.b],a=[e.c,e.d],o=Ea(i),s=_a(i,a),l=Ea(((t=a)[0]+=(r=-s)*(n=i)[0],t[1]+=r*n[1],t))||0;i[0]*a[1]<a[0]*i[1]&&(i[0]*=-1,i[1]*=-1,o*=-1,s*=-1),this.rotate=(o?Math.atan2(i[1],i[0]):Math.atan2(-a[0],a[1]))*Ne,this.translate=[e.e,e.f],this.scale=[o,l],this.skew=l?Math.atan2(s,l)*Ne:0}function _a(e,t){return e[0]*t[0]+e[1]*t[1]}function Ea(e){var t=Math.sqrt(_a(e,e));return t&&(e[0]/=t,e[1]/=t),t}a.ease=function(e){var t=e.indexOf("-"),n=t>=0?e.slice(0,t):e,r=t>=0?e.slice(t+1):"in";return n=ua.get(n)||la,da((r=ca.get(r)||L)(n.apply(null,o.call(arguments,1))))},a.interpolateHcl=function(e,t){e=a.hcl(e),t=a.hcl(t);var n=e.h,r=e.c,i=e.l,o=t.h-n,s=t.c-r,l=t.l-i;isNaN(s)&&(s=0,r=isNaN(r)?t.c:r);isNaN(o)?(o=0,n=isNaN(n)?t.h:n):o>180?o-=360:o<-180&&(o+=360);return function(e){return Ze(n+o*e,r+s*e,i+l*e)+""}},a.interpolateHsl=function(e,t){e=a.hsl(e),t=a.hsl(t);var n=e.h,r=e.s,i=e.l,o=t.h-n,s=t.s-r,l=t.l-i;isNaN(s)&&(s=0,r=isNaN(r)?t.s:r);isNaN(o)?(o=0,n=isNaN(n)?t.h:n):o>180?o-=360:o<-180&&(o+=360);return function(e){return Je(n+o*e,r+s*e,i+l*e)+""}},a.interpolateLab=function(e,t){e=a.lab(e),t=a.lab(t);var n=e.l,r=e.a,i=e.b,o=t.l-n,s=t.a-r,l=t.b-i;return function(e){return it(n+o*e,r+s*e,i+l*e)+""}},a.interpolateRound=wa,a.transform=function(e){var t=l.createElementNS(a.ns.prefix.svg,"g");return(a.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new ja(n?n.matrix:Oa)})(e)},ja.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var Oa={a:1,b:0,c:0,d:1,e:0,f:0};function Ma(e){return e.length?e.pop()+",":""}function Sa(e,t){var n=[],r=[];return e=a.transform(e),t=a.transform(t),function(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var i=n.push("translate(",null,",",null,")");r.push({i:i-4,x:na(e[0],t[0])},{i:i-2,x:na(e[1],t[1])})}else(t[0]||t[1])&&n.push("translate("+t+")")}(e.translate,t.translate,n,r),function(e,t,n,r){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),r.push({i:n.push(Ma(n)+"rotate(",null,")")-2,x:na(e,t)})):t&&n.push(Ma(n)+"rotate("+t+")")}(e.rotate,t.rotate,n,r),function(e,t,n,r){e!==t?r.push({i:n.push(Ma(n)+"skewX(",null,")")-2,x:na(e,t)}):t&&n.push(Ma(n)+"skewX("+t+")")}(e.skew,t.skew,n,r),function(e,t,n,r){if(e[0]!==t[0]||e[1]!==t[1]){var i=n.push(Ma(n)+"scale(",null,",",null,")");r.push({i:i-4,x:na(e[0],t[0])},{i:i-2,x:na(e[1],t[1])})}else 1===t[0]&&1===t[1]||n.push(Ma(n)+"scale("+t+")")}(e.scale,t.scale,n,r),e=t=null,function(e){for(var t,i=-1,a=r.length;++i<a;)n[(t=r[i]).i]=t.x(e);return n.join("")}}function Ta(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function Ca(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function ka(e){for(var t=e.source,n=e.target,r=function(e,t){if(e===t)return e;var n=Fa(e),r=Fa(t),i=n.pop(),a=r.pop(),o=null;for(;i===a;)o=i,i=n.pop(),a=r.pop();return o}(t,n),i=[t];t!==r;)t=t.parent,i.push(t);for(var a=i.length;n!==r;)i.splice(a,0,n),n=n.parent;return i}function Fa(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function Pa(e){e.fixed|=2}function Ra(e){e.fixed&=-7}function La(e){e.fixed|=4,e.px=e.x,e.py=e.y}function Na(e){e.fixed&=-5}function za(e,t,n){var r=0,i=0;if(e.charge=0,!e.leaf)for(var a,o=e.nodes,s=o.length,l=-1;++l<s;)null!=(a=o[l])&&(za(a,t,n),e.charge+=a.charge,r+=a.charge*a.cx,i+=a.charge*a.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var u=t*n[e.point.index];e.charge+=e.pointCharge=u,r+=u*e.point.x,i+=u*e.point.y}e.cx=r/e.charge,e.cy=i/e.charge}a.interpolateTransform=Sa,a.layout={},a.layout.bundle=function(){return function(e){for(var t=[],n=-1,r=e.length;++n<r;)t.push(ka(e[n]));return t}},a.layout.chord=function(){var e,t,n,r,i,o,s,l={},u=0;function c(){var l,c,p,f,h,m={},g=[],x=a.range(r),b=[];for(e=[],t=[],l=0,f=-1;++f<r;){for(c=0,h=-1;++h<r;)c+=n[f][h];g.push(c),b.push(a.range(r)),l+=c}for(i&&x.sort((function(e,t){return i(g[e],g[t])})),o&&b.forEach((function(e,t){e.sort((function(e,r){return o(n[t][e],n[t][r])}))})),l=(Fe-u*r)/l,c=0,f=-1;++f<r;){for(p=c,h=-1;++h<r;){var v=x[f],y=b[v][h],w=n[v][y],j=c,_=c+=w*l;m[v+"-"+y]={index:v,subindex:y,startAngle:j,endAngle:_,value:w}}t[v]={index:v,startAngle:p,endAngle:c,value:g[v]},c+=u}for(f=-1;++f<r;)for(h=f-1;++h<r;){var E=m[f+"-"+h],O=m[h+"-"+f];(E.value||O.value)&&e.push(E.value<O.value?{source:O,target:E}:{source:E,target:O})}s&&d()}function d(){e.sort((function(e,t){return s((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)}))}return l.matrix=function(i){return arguments.length?(r=(n=i)&&n.length,e=t=null,l):n},l.padding=function(n){return arguments.length?(u=n,e=t=null,l):u},l.sortGroups=function(n){return arguments.length?(i=n,e=t=null,l):i},l.sortSubgroups=function(t){return arguments.length?(o=t,e=null,l):o},l.sortChords=function(t){return arguments.length?(s=t,e&&d(),l):s},l.chords=function(){return e||c(),e},l.groups=function(){return t||c(),t},l},a.layout.force=function(){var e,t,n,r,i,o,s={},l=a.dispatch("start","tick","end"),u=[1,1],c=.9,d=Ia,p=Da,f=-30,h=Aa,m=.1,g=.64,x=[],b=[];function v(e){return function(t,n,r,i){if(t.point!==e){var a=t.cx-e.x,o=t.cy-e.y,s=i-n,l=a*a+o*o;if(s*s/g<l){if(l<h){var u=t.charge/l;e.px-=a*u,e.py-=o*u}return!0}if(t.point&&l&&l<h){u=t.pointCharge/l;e.px-=a*u,e.py-=o*u}}return!t.charge}}function y(e){e.px=a.event.x,e.py=a.event.y,s.resume()}return s.tick=function(){if((n*=.99)<.005)return e=null,l.end({type:"end",alpha:n=0}),!0;var t,s,d,p,h,g,y,w,j,_=x.length,E=b.length;for(s=0;s<E;++s)p=(d=b[s]).source,(g=(w=(h=d.target).x-p.x)*w+(j=h.y-p.y)*j)&&(w*=g=n*i[s]*((g=Math.sqrt(g))-r[s])/g,j*=g,h.x-=w*(y=p.weight+h.weight?p.weight/(p.weight+h.weight):.5),h.y-=j*y,p.x+=w*(y=1-y),p.y+=j*y);if((y=n*m)&&(w=u[0]/2,j=u[1]/2,s=-1,y))for(;++s<_;)(d=x[s]).x+=(w-d.x)*y,d.y+=(j-d.y)*y;if(f)for(za(t=a.geom.quadtree(x),n,o),s=-1;++s<_;)(d=x[s]).fixed||t.visit(v(d));for(s=-1;++s<_;)(d=x[s]).fixed?(d.x=d.px,d.y=d.py):(d.x-=(d.px-(d.px=d.x))*c,d.y-=(d.py-(d.py=d.y))*c);l.tick({type:"tick",alpha:n})},s.nodes=function(e){return arguments.length?(x=e,s):x},s.links=function(e){return arguments.length?(b=e,s):b},s.size=function(e){return arguments.length?(u=e,s):u},s.linkDistance=function(e){return arguments.length?(d="function"==typeof e?e:+e,s):d},s.distance=s.linkDistance,s.linkStrength=function(e){return arguments.length?(p="function"==typeof e?e:+e,s):p},s.friction=function(e){return arguments.length?(c=+e,s):c},s.charge=function(e){return arguments.length?(f="function"==typeof e?e:+e,s):f},s.chargeDistance=function(e){return arguments.length?(h=e*e,s):Math.sqrt(h)},s.gravity=function(e){return arguments.length?(m=+e,s):m},s.theta=function(e){return arguments.length?(g=e*e,s):Math.sqrt(g)},s.alpha=function(t){return arguments.length?(t=+t,n?t>0?n=t:(e.c=null,e.t=NaN,e=null,l.end({type:"end",alpha:n=0})):t>0&&(l.start({type:"start",alpha:n=t}),e=Tt(s.tick)),s):n},s.start=function(){var e,t,n,a=x.length,l=b.length,c=u[0],h=u[1];for(e=0;e<a;++e)(n=x[e]).index=e,n.weight=0;for(e=0;e<l;++e)"number"==typeof(n=b[e]).source&&(n.source=x[n.source]),"number"==typeof n.target&&(n.target=x[n.target]),++n.source.weight,++n.target.weight;for(e=0;e<a;++e)n=x[e],isNaN(n.x)&&(n.x=m("x",c)),isNaN(n.y)&&(n.y=m("y",h)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(r=[],"function"==typeof d)for(e=0;e<l;++e)r[e]=+d.call(this,b[e],e);else for(e=0;e<l;++e)r[e]=d;if(i=[],"function"==typeof p)for(e=0;e<l;++e)i[e]=+p.call(this,b[e],e);else for(e=0;e<l;++e)i[e]=p;if(o=[],"function"==typeof f)for(e=0;e<a;++e)o[e]=+f.call(this,x[e],e);else for(e=0;e<a;++e)o[e]=f;function m(n,r){if(!t){for(t=new Array(a),u=0;u<a;++u)t[u]=[];for(u=0;u<l;++u){var i=b[u];t[i.source.index].push(i.target),t[i.target.index].push(i.source)}}for(var o,s=t[e],u=-1,c=s.length;++u<c;)if(!isNaN(o=s[u][n]))return o;return Math.random()*r}return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){if(t||(t=a.behavior.drag().origin(L).on("dragstart.force",Pa).on("drag.force",y).on("dragend.force",Ra)),!arguments.length)return t;this.on("mouseover.force",La).on("mouseout.force",Na).call(t)},a.rebind(s,l,"on")};var Ia=20,Da=1,Aa=1/0;function Va(e,t){return a.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=Ua,e}function Ba(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(i=e.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function Ha(e,t){for(var n=[e],r=[];null!=(e=n.pop());)if(r.push(e),(a=e.children)&&(i=a.length))for(var i,a,o=-1;++o<i;)n.push(a[o]);for(;null!=(e=r.pop());)t(e)}function qa(e){return e.children}function Ga(e){return e.value}function $a(e,t){return t.value-e.value}function Ua(e){return a.merge(e.map((function(e){return(e.children||[]).map((function(t){return{source:e,target:t}}))})))}a.layout.hierarchy=function(){var e=$a,t=qa,n=Ga;function r(i){var a,o=[i],s=[];for(i.depth=0;null!=(a=o.pop());)if(s.push(a),(u=t.call(r,a,a.depth))&&(l=u.length)){for(var l,u,c;--l>=0;)o.push(c=u[l]),c.parent=a,c.depth=a.depth+1;n&&(a.value=0),a.children=u}else n&&(a.value=+n.call(r,a,a.depth)||0),delete a.children;return Ha(i,(function(t){var r,i;e&&(r=t.children)&&r.sort(e),n&&(i=t.parent)&&(i.value+=t.value)})),s}return r.sort=function(t){return arguments.length?(e=t,r):e},r.children=function(e){return arguments.length?(t=e,r):t},r.value=function(e){return arguments.length?(n=e,r):n},r.revalue=function(e){return n&&(Ba(e,(function(e){e.children&&(e.value=0)})),Ha(e,(function(e){var t;e.children||(e.value=+n.call(r,e,e.depth)||0),(t=e.parent)&&(t.value+=e.value)}))),e},r},a.layout.partition=function(){var e=a.layout.hierarchy(),t=[1,1];function n(e,t,r,i){var a=e.children;if(e.x=t,e.y=e.depth*i,e.dx=r,e.dy=i,a&&(o=a.length)){var o,s,l,u=-1;for(r=e.value?r/e.value:0;++u<o;)n(s=a[u],t,l=s.value*r,i),t+=l}}function r(e){var t=e.children,n=0;if(t&&(i=t.length))for(var i,a=-1;++a<i;)n=Math.max(n,r(t[a]));return 1+n}function i(i,a){var o=e.call(this,i,a);return n(o[0],0,t[0],t[1]/r(o[0])),o}return i.size=function(e){return arguments.length?(t=e,i):t},Va(i,e)},a.layout.pie=function(){var e=Number,t=Xa,n=0,r=Fe,i=0;function o(s){var l,u=s.length,c=s.map((function(t,n){return+e.call(o,t,n)})),d=+("function"==typeof n?n.apply(this,arguments):n),p=("function"==typeof r?r.apply(this,arguments):r)-d,f=Math.min(Math.abs(p)/u,+("function"==typeof i?i.apply(this,arguments):i)),h=f*(p<0?-1:1),m=a.sum(c),g=m?(p-u*h)/m:0,x=a.range(u),b=[];return null!=t&&x.sort(t===Xa?function(e,t){return c[t]-c[e]}:function(e,n){return t(s[e],s[n])}),x.forEach((function(e){b[e]={data:s[e],value:l=c[e],startAngle:d,endAngle:d+=l*g+h,padAngle:f}})),b}return o.value=function(t){return arguments.length?(e=t,o):e},o.sort=function(e){return arguments.length?(t=e,o):t},o.startAngle=function(e){return arguments.length?(n=e,o):n},o.endAngle=function(e){return arguments.length?(r=e,o):r},o.padAngle=function(e){return arguments.length?(i=e,o):i},o};var Xa={};function Ya(e){return e.x}function Ja(e){return e.y}function Wa(e,t,n){e.y0=t,e.y=n}a.layout.stack=function(){var e=L,t=Qa,n=eo,r=Wa,i=Ya,o=Ja;function s(l,u){if(!(f=l.length))return l;var c=l.map((function(t,n){return e.call(s,t,n)})),d=c.map((function(e){return e.map((function(e,t){return[i.call(s,e,t),o.call(s,e,t)]}))})),p=t.call(s,d,u);c=a.permute(c,p),d=a.permute(d,p);var f,h,m,g,x=n.call(s,d,u),b=c[0].length;for(m=0;m<b;++m)for(r.call(s,c[0][m],g=x[m],d[0][m][1]),h=1;h<f;++h)r.call(s,c[h][m],g+=d[h-1][m][1],d[h][m][1]);return l}return s.values=function(t){return arguments.length?(e=t,s):e},s.order=function(e){return arguments.length?(t="function"==typeof e?e:Ka.get(e)||Qa,s):t},s.offset=function(e){return arguments.length?(n="function"==typeof e?e:Za.get(e)||eo,s):n},s.x=function(e){return arguments.length?(i=e,s):i},s.y=function(e){return arguments.length?(o=e,s):o},s.out=function(e){return arguments.length?(r=e,s):r},s};var Ka=a.map({"inside-out":function(e){var t,n,r=e.length,i=e.map(to),o=e.map(no),s=a.range(r).sort((function(e,t){return i[e]-i[t]})),l=0,u=0,c=[],d=[];for(t=0;t<r;++t)n=s[t],l<u?(l+=o[n],c.push(n)):(u+=o[n],d.push(n));return d.reverse().concat(c)},reverse:function(e){return a.range(e.length).reverse()},default:Qa}),Za=a.map({silhouette:function(e){var t,n,r,i=e.length,a=e[0].length,o=[],s=0,l=[];for(n=0;n<a;++n){for(t=0,r=0;t<i;t++)r+=e[t][n][1];r>s&&(s=r),o.push(r)}for(n=0;n<a;++n)l[n]=(s-o[n])/2;return l},wiggle:function(e){var t,n,r,i,a,o,s,l,u,c=e.length,d=e[0],p=d.length,f=[];for(f[0]=l=u=0,n=1;n<p;++n){for(t=0,i=0;t<c;++t)i+=e[t][n][1];for(t=0,a=0,s=d[n][0]-d[n-1][0];t<c;++t){for(r=0,o=(e[t][n][1]-e[t][n-1][1])/(2*s);r<t;++r)o+=(e[r][n][1]-e[r][n-1][1])/s;a+=o*e[t][n][1]}f[n]=l-=i?a/i*s:0,l<u&&(u=l)}for(n=0;n<p;++n)f[n]-=u;return f},expand:function(e){var t,n,r,i=e.length,a=e[0].length,o=1/i,s=[];for(n=0;n<a;++n){for(t=0,r=0;t<i;t++)r+=e[t][n][1];if(r)for(t=0;t<i;t++)e[t][n][1]/=r;else for(t=0;t<i;t++)e[t][n][1]=o}for(n=0;n<a;++n)s[n]=0;return s},zero:eo});function Qa(e){return a.range(e.length)}function eo(e){for(var t=-1,n=e[0].length,r=[];++t<n;)r[t]=0;return r}function to(e){for(var t,n=1,r=0,i=e[0][1],a=e.length;n<a;++n)(t=e[n][1])>i&&(r=n,i=t);return r}function no(e){return e.reduce(ro,0)}function ro(e,t){return e+t[1]}function io(e,t){return ao(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function ao(e,t){for(var n=-1,r=+e[0],i=(e[1]-r)/t,a=[];++n<=t;)a[n]=i*n+r;return a}function oo(e){return[a.min(e),a.max(e)]}function so(e,t){return e.value-t.value}function lo(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function uo(e,t){e._pack_next=t,t._pack_prev=e}function co(e,t){var n=t.x-e.x,r=t.y-e.y,i=e.r+t.r;return.999*i*i>n*n+r*r}function po(e){if((t=e.children)&&(l=t.length)){var t,n,r,i,a,o,s,l,u=1/0,c=-1/0,d=1/0,p=-1/0;if(t.forEach(fo),(n=t[0]).x=-n.r,n.y=0,v(n),l>1&&((r=t[1]).x=r.r,r.y=0,v(r),l>2))for(go(n,r,i=t[2]),v(i),lo(n,i),n._pack_prev=i,lo(i,r),r=n._pack_next,a=3;a<l;a++){go(n,r,i=t[a]);var f=0,h=1,m=1;for(o=r._pack_next;o!==r;o=o._pack_next,h++)if(co(o,i)){f=1;break}if(1==f)for(s=n._pack_prev;s!==o._pack_prev&&!co(s,i);s=s._pack_prev,m++);f?(h<m||h==m&&r.r<n.r?uo(n,r=o):uo(n=s,r),a--):(lo(n,i),r=i,v(i))}var g=(u+c)/2,x=(d+p)/2,b=0;for(a=0;a<l;a++)(i=t[a]).x-=g,i.y-=x,b=Math.max(b,i.r+Math.sqrt(i.x*i.x+i.y*i.y));e.r=b,t.forEach(ho)}function v(e){u=Math.min(e.x-e.r,u),c=Math.max(e.x+e.r,c),d=Math.min(e.y-e.r,d),p=Math.max(e.y+e.r,p)}}function fo(e){e._pack_next=e._pack_prev=e}function ho(e){delete e._pack_next,delete e._pack_prev}function mo(e,t,n,r){var i=e.children;if(e.x=t+=r*e.x,e.y=n+=r*e.y,e.r*=r,i)for(var a=-1,o=i.length;++a<o;)mo(i[a],t,n,r)}function go(e,t,n){var r=e.r+n.r,i=t.x-e.x,a=t.y-e.y;if(r&&(i||a)){var o=t.r+n.r,s=i*i+a*a,l=.5+((r*=r)-(o*=o))/(2*s),u=Math.sqrt(Math.max(0,2*o*(r+s)-(r-=s)*r-o*o))/(2*s);n.x=e.x+l*i+u*a,n.y=e.y+l*a-u*i}else n.x=e.x+r,n.y=e.y}function xo(e,t){return e.parent==t.parent?1:2}function bo(e){var t=e.children;return t.length?t[0]:e.t}function vo(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function yo(e,t,n){var r=n/(t.i-e.i);t.c-=r,t.s+=n,e.c+=r,t.z+=n,t.m+=n}function wo(e,t,n){return e.a.parent===t.parent?e.a:n}function jo(e){var t=e.children;return t&&t.length?jo(t[0]):e}function _o(e){var t,n=e.children;return n&&(t=n.length)?_o(n[t-1]):e}function Eo(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function Oo(e,t){var n=e.x+t[3],r=e.y+t[0],i=e.dx-t[1]-t[3],a=e.dy-t[0]-t[2];return i<0&&(n+=i/2,i=0),a<0&&(r+=a/2,a=0),{x:n,y:r,dx:i,dy:a}}function Mo(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function So(e){return e.rangeExtent?e.rangeExtent():Mo(e.range())}function To(e,t,n,r){var i=n(e[0],e[1]),a=r(t[0],t[1]);return function(e){return a(i(e))}}function Co(e,t){var n,r=0,i=e.length-1,a=e[r],o=e[i];return o<a&&(n=r,r=i,i=n,n=a,a=o,o=n),e[r]=t.floor(a),e[i]=t.ceil(o),e}function ko(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:Fo}a.layout.histogram=function(){var e=!0,t=Number,n=oo,r=io;function i(i,o){for(var s,l,u=[],c=i.map(t,this),d=n.call(this,c,o),p=r.call(this,d,c,o),f=(o=-1,c.length),h=p.length-1,m=e?1:1/f;++o<h;)(s=u[o]=[]).dx=p[o+1]-(s.x=p[o]),s.y=0;if(h>0)for(o=-1;++o<f;)(l=c[o])>=d[0]&&l<=d[1]&&((s=u[a.bisect(p,l,1,h)-1]).y+=m,s.push(i[o]));return u}return i.value=function(e){return arguments.length?(t=e,i):t},i.range=function(e){return arguments.length?(n=yt(e),i):n},i.bins=function(e){return arguments.length?(r="number"==typeof e?function(t){return ao(t,e)}:yt(e),i):r},i.frequency=function(t){return arguments.length?(e=!!t,i):e},i},a.layout.pack=function(){var e,t=a.layout.hierarchy().sort(so),n=0,r=[1,1];function i(i,a){var o=t.call(this,i,a),s=o[0],l=r[0],u=r[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,Ha(s,(function(e){e.r=+c(e.value)})),Ha(s,po),n){var d=n*(e?1:Math.max(2*s.r/l,2*s.r/u))/2;Ha(s,(function(e){e.r+=d})),Ha(s,po),Ha(s,(function(e){e.r-=d}))}return mo(s,l/2,u/2,e?1:1/Math.max(2*s.r/l,2*s.r/u)),o}return i.size=function(e){return arguments.length?(r=e,i):r},i.radius=function(t){return arguments.length?(e=null==t||"function"==typeof t?t:+t,i):e},i.padding=function(e){return arguments.length?(n=+e,i):n},Va(i,t)},a.layout.tree=function(){var e=a.layout.hierarchy().sort(null).value(null),t=xo,n=[1,1],r=null;function i(i,a){var u=e.call(this,i,a),c=u[0],d=function(e){var t,n={A:null,children:[e]},r=[n];for(;null!=(t=r.pop());)for(var i,a=t.children,o=0,s=a.length;o<s;++o)r.push((a[o]=i={_:a[o],parent:t,children:(i=a[o].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=i);return n.children[0]}(c);if(Ha(d,o),d.parent.m=-d.z,Ba(d,s),r)Ba(c,l);else{var p=c,f=c,h=c;Ba(c,(function(e){e.x<p.x&&(p=e),e.x>f.x&&(f=e),e.depth>h.depth&&(h=e)}));var m=t(p,f)/2-p.x,g=n[0]/(f.x+t(f,p)/2+m),x=n[1]/(h.depth||1);Ba(c,(function(e){e.x=(e.x+m)*g,e.y=e.depth*x}))}return u}function o(e){var n=e.children,r=e.parent.children,i=e.i?r[e.i-1]:null;if(n.length){!function(e){var t,n=0,r=0,i=e.children,a=i.length;for(;--a>=0;)(t=i[a]).z+=n,t.m+=n,n+=t.s+(r+=t.c)}(e);var a=(n[0].z+n[n.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-a):e.z=a}else i&&(e.z=i.z+t(e._,i._));e.parent.A=function(e,n,r){if(n){for(var i,a=e,o=e,s=n,l=a.parent.children[0],u=a.m,c=o.m,d=s.m,p=l.m;s=vo(s),a=bo(a),s&&a;)l=bo(l),(o=vo(o)).a=e,(i=s.z+d-a.z-u+t(s._,a._))>0&&(yo(wo(s,e,r),e,i),u+=i,c+=i),d+=s.m,u+=a.m,p+=l.m,c+=o.m;s&&!vo(o)&&(o.t=s,o.m+=d-c),a&&!bo(l)&&(l.t=a,l.m+=u-p,r=e)}return r}(e,i,e.parent.A||r[0])}function s(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function l(e){e.x*=n[0],e.y=e.depth*n[1]}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(e){return arguments.length?(r=null==(n=e)?l:null,i):r?null:n},i.nodeSize=function(e){return arguments.length?(r=null==(n=e)?null:l,i):r?n:null},Va(i,e)},a.layout.cluster=function(){var e=a.layout.hierarchy().sort(null).value(null),t=xo,n=[1,1],r=!1;function i(i,o){var s,l=e.call(this,i,o),u=l[0],c=0;Ha(u,(function(e){var n=e.children;n&&n.length?(e.x=function(e){return e.reduce((function(e,t){return e+t.x}),0)/e.length}(n),e.y=function(e){return 1+a.max(e,(function(e){return e.y}))}(n)):(e.x=s?c+=t(e,s):0,e.y=0,s=e)}));var d=jo(u),p=_o(u),f=d.x-t(d,p)/2,h=p.x+t(p,d)/2;return Ha(u,r?function(e){e.x=(e.x-u.x)*n[0],e.y=(u.y-e.y)*n[1]}:function(e){e.x=(e.x-f)/(h-f)*n[0],e.y=(1-(u.y?e.y/u.y:1))*n[1]}),l}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(e){return arguments.length?(r=null==(n=e),i):r?null:n},i.nodeSize=function(e){return arguments.length?(r=null!=(n=e),i):r?n:null},Va(i,e)},a.layout.treemap=function(){var e,t=a.layout.hierarchy(),n=Math.round,r=[1,1],i=null,o=Eo,s=!1,l="squarify",u=.5*(1+Math.sqrt(5));function c(e,t){for(var n,r,i=-1,a=e.length;++i<a;)r=(n=e[i]).value*(t<0?0:t),n.area=isNaN(r)||r<=0?0:r}function d(e){var t=e.children;if(t&&t.length){var n,r,i,a=o(e),s=[],u=t.slice(),p=1/0,m="slice"===l?a.dx:"dice"===l?a.dy:"slice-dice"===l?1&e.depth?a.dy:a.dx:Math.min(a.dx,a.dy);for(c(u,a.dx*a.dy/e.value),s.area=0;(i=u.length)>0;)s.push(n=u[i-1]),s.area+=n.area,"squarify"!==l||(r=f(s,m))<=p?(u.pop(),p=r):(s.area-=s.pop().area,h(s,m,a,!1),m=Math.min(a.dx,a.dy),s.length=s.area=0,p=1/0);s.length&&(h(s,m,a,!0),s.length=s.area=0),t.forEach(d)}}function p(e){var t=e.children;if(t&&t.length){var n,r=o(e),i=t.slice(),a=[];for(c(i,r.dx*r.dy/e.value),a.area=0;n=i.pop();)a.push(n),a.area+=n.area,null!=n.z&&(h(a,n.z?r.dx:r.dy,r,!i.length),a.length=a.area=0);t.forEach(p)}}function f(e,t){for(var n,r=e.area,i=0,a=1/0,o=-1,s=e.length;++o<s;)(n=e[o].area)&&(n<a&&(a=n),n>i&&(i=n));return t*=t,(r*=r)?Math.max(t*i*u/r,r/(t*a*u)):1/0}function h(e,t,r,i){var a,o=-1,s=e.length,l=r.x,u=r.y,c=t?n(e.area/t):0;if(t==r.dx){for((i||c>r.dy)&&(c=r.dy);++o<s;)(a=e[o]).x=l,a.y=u,a.dy=c,l+=a.dx=Math.min(r.x+r.dx-l,c?n(a.area/c):0);a.z=!0,a.dx+=r.x+r.dx-l,r.y+=c,r.dy-=c}else{for((i||c>r.dx)&&(c=r.dx);++o<s;)(a=e[o]).x=l,a.y=u,a.dx=c,u+=a.dy=Math.min(r.y+r.dy-u,c?n(a.area/c):0);a.z=!1,a.dy+=r.y+r.dy-u,r.x+=c,r.dx-=c}}function m(n){var i=e||t(n),a=i[0];return a.x=a.y=0,a.value?(a.dx=r[0],a.dy=r[1]):a.dx=a.dy=0,e&&t.revalue(a),c([a],a.dx*a.dy/a.value),(e?p:d)(a),s&&(e=i),i}return m.size=function(e){return arguments.length?(r=e,m):r},m.padding=function(e){if(!arguments.length)return i;function t(t){var n=e.call(m,t,t.depth);return null==n?Eo(t):Oo(t,"number"==typeof n?[n,n,n,n]:n)}function n(t){return Oo(t,e)}var r;return o=null==(i=e)?Eo:"function"==(r=typeof e)?t:"number"===r?(e=[e,e,e,e],n):n,m},m.round=function(e){return arguments.length?(n=e?Math.round:Number,m):n!=Number},m.sticky=function(t){return arguments.length?(s=t,e=null,m):s},m.ratio=function(e){return arguments.length?(u=e,m):u},m.mode=function(e){return arguments.length?(l=e+"",m):l},Va(m,t)},a.random={normal:function(e,t){var n=arguments.length;return n<2&&(t=1),n<1&&(e=0),function(){var n,r,i;do{i=(n=2*Math.random()-1)*n+(r=2*Math.random()-1)*r}while(!i||i>1);return e+t*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var e=a.random.normal.apply(a,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=a.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t}}},a.scale={};var Fo={floor:L,ceil:L};function Po(e,t,n,r){var i=[],o=[],s=0,l=Math.min(e.length,t.length)-1;for(e[l]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<=l;)i.push(n(e[s-1],e[s])),o.push(r(t[s-1],t[s]));return function(t){var n=a.bisect(e,t,1,l)-1;return o[n](i[n](t))}}function Ro(e,t,n,r){var i,a;function o(){var o=Math.min(e.length,t.length)>2?Po:To,l=r?Ca:Ta;return i=o(e,t,l,n),a=o(t,e,l,oa),s}function s(e){return i(e)}return s.invert=function(e){return a(e)},s.domain=function(t){return arguments.length?(e=t.map(Number),o()):e},s.range=function(e){return arguments.length?(t=e,o()):t},s.rangeRound=function(e){return s.range(e).interpolate(wa)},s.clamp=function(e){return arguments.length?(r=e,o()):r},s.interpolate=function(e){return arguments.length?(n=e,o()):n},s.ticks=function(t){return Io(e,t)},s.tickFormat=function(t,n){return Do(e,t,n)},s.nice=function(t){return No(e,t),o()},s.copy=function(){return Ro(e,t,n,r)},o()}function Lo(e,t){return a.rebind(e,t,"range","rangeRound","interpolate","clamp")}function No(e,t){return Co(e,ko(zo(e,t)[2])),Co(e,ko(zo(e,t)[2])),e}function zo(e,t){null==t&&(t=10);var n=Mo(e),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),a=t/r*i;return a<=.15?i*=10:a<=.35?i*=5:a<=.75&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Io(e,t){return a.range.apply(a,zo(e,t))}function Do(e,t,n){var r=zo(e,t);if(n){var i=Nt.exec(n);if(i.shift(),"s"===i[8]){var o=a.formatPrefix(Math.max(j(r[0]),j(r[1])));return i[7]||(i[7]="."+Vo(o.scale(r[2]))),i[8]="f",n=a.format(i.join("")),function(e){return n(o.scale(e))+o.symbol}}i[7]||(i[7]="."+function(e,t){var n=Vo(t[2]);return e in Ao?Math.abs(n-Vo(Math.max(j(t[0]),j(t[1]))))+ +("e"!==e):n-2*("%"===e)}(i[8],r)),n=i.join("")}else n=",."+Vo(r[2])+"f";return a.format(n)}a.scale.linear=function(){return Ro([0,1],[0,1],oa,!1)};var Ao={s:1,g:1,p:1,r:1,e:1};function Vo(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}function Bo(e,t,n,r){function i(e){return(n?Math.log(e<0?0:e):-Math.log(e>0?0:-e))/Math.log(t)}function o(e){return n?Math.pow(t,e):-Math.pow(t,-e)}function s(t){return e(i(t))}return s.invert=function(t){return o(e.invert(t))},s.domain=function(t){return arguments.length?(n=t[0]>=0,e.domain((r=t.map(Number)).map(i)),s):r},s.base=function(n){return arguments.length?(t=+n,e.domain(r.map(i)),s):t},s.nice=function(){var t=Co(r.map(i),n?Math:qo);return e.domain(t),r=t.map(o),s},s.ticks=function(){var e=Mo(r),a=[],s=e[0],l=e[1],u=Math.floor(i(s)),c=Math.ceil(i(l)),d=t%1?2:t;if(isFinite(c-u)){if(n){for(;u<c;u++)for(var p=1;p<d;p++)a.push(o(u)*p);a.push(o(u))}else for(a.push(o(u));u++<c;)for(p=d-1;p>0;p--)a.push(o(u)*p);for(u=0;a[u]<s;u++);for(c=a.length;a[c-1]>l;c--);a=a.slice(u,c)}return a},s.tickFormat=function(e,n){if(!arguments.length)return Ho;arguments.length<2?n=Ho:"function"!=typeof n&&(n=a.format(n));var r=Math.max(1,t*e/s.ticks().length);return function(e){var a=e/o(Math.round(i(e)));return a*t<t-.5&&(a*=t),a<=r?n(e):""}},s.copy=function(){return Bo(e.copy(),t,n,r)},Lo(s,e)}a.scale.log=function(){return Bo(a.scale.linear().domain([0,1]),10,!0,[1,10])};var Ho=a.format(".0e"),qo={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};function Go(e,t,n){var r=$o(t),i=$o(1/t);function a(t){return e(r(t))}return a.invert=function(t){return i(e.invert(t))},a.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(r)),a):n},a.ticks=function(e){return Io(n,e)},a.tickFormat=function(e,t){return Do(n,e,t)},a.nice=function(e){return a.domain(No(n,e))},a.exponent=function(o){return arguments.length?(r=$o(t=o),i=$o(1/t),e.domain(n.map(r)),a):t},a.copy=function(){return Go(e.copy(),t,n)},Lo(a,e)}function $o(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Uo(e,t){var n,r,i;function o(i){return r[((n.get(i)||("range"===t.t?n.set(i,e.push(i)):NaN))-1)%r.length]}function s(t,n){return a.range(e.length).map((function(e){return t+n*e}))}return o.domain=function(r){if(!arguments.length)return e;e=[],n=new O;for(var i,a=-1,s=r.length;++a<s;)n.has(i=r[a])||n.set(i,e.push(i));return o[t.t].apply(o,t.a)},o.range=function(e){return arguments.length?(r=e,i=0,t={t:"range",a:arguments},o):r},o.rangePoints=function(n,a){arguments.length<2&&(a=0);var l=n[0],u=n[1],c=e.length<2?(l=(l+u)/2,0):(u-l)/(e.length-1+a);return r=s(l+c*a/2,c),i=0,t={t:"rangePoints",a:arguments},o},o.rangeRoundPoints=function(n,a){arguments.length<2&&(a=0);var l=n[0],u=n[1],c=e.length<2?(l=u=Math.round((l+u)/2),0):(u-l)/(e.length-1+a)|0;return r=s(l+Math.round(c*a/2+(u-l-(e.length-1+a)*c)/2),c),i=0,t={t:"rangeRoundPoints",a:arguments},o},o.rangeBands=function(n,a,l){arguments.length<2&&(a=0),arguments.length<3&&(l=a);var u=n[1]<n[0],c=n[u-0],d=n[1-u],p=(d-c)/(e.length-a+2*l);return r=s(c+p*l,p),u&&r.reverse(),i=p*(1-a),t={t:"rangeBands",a:arguments},o},o.rangeRoundBands=function(n,a,l){arguments.length<2&&(a=0),arguments.length<3&&(l=a);var u=n[1]<n[0],c=n[u-0],d=n[1-u],p=Math.floor((d-c)/(e.length-a+2*l));return r=s(c+Math.round((d-c-(e.length-a)*p)/2),p),u&&r.reverse(),i=Math.round(p*(1-a)),t={t:"rangeRoundBands",a:arguments},o},o.rangeBand=function(){return i},o.rangeExtent=function(){return Mo(t.a[0])},o.copy=function(){return Uo(e,t)},o.domain(e)}a.scale.pow=function(){return Go(a.scale.linear(),1,[0,1])},a.scale.sqrt=function(){return a.scale.pow().exponent(.5)},a.scale.ordinal=function(){return Uo([],{t:"range",a:[[]]})},a.scale.category10=function(){return a.scale.ordinal().range(Xo)},a.scale.category20=function(){return a.scale.ordinal().range(Yo)},a.scale.category20b=function(){return a.scale.ordinal().range(Jo)},a.scale.category20c=function(){return a.scale.ordinal().range(Wo)};var Xo=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(dt),Yo=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(dt),Jo=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(dt),Wo=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(dt);function Ko(e,t){var n;function r(){var r=0,o=t.length;for(n=[];++r<o;)n[r-1]=a.quantile(e,r/o);return i}function i(e){if(!isNaN(e=+e))return t[a.bisect(n,e)]}return i.domain=function(t){return arguments.length?(e=t.map(x).filter(b).sort(g),r()):e},i.range=function(e){return arguments.length?(t=e,r()):t},i.quantiles=function(){return n},i.invertExtent=function(r){return(r=t.indexOf(r))<0?[NaN,NaN]:[r>0?n[r-1]:e[0],r<n.length?n[r]:e[e.length-1]]},i.copy=function(){return Ko(e,t)},r()}function Zo(e,t,n){var r,i;function a(t){return n[Math.max(0,Math.min(i,Math.floor(r*(t-e))))]}function o(){return r=n.length/(t-e),i=n.length-1,a}return a.domain=function(n){return arguments.length?(e=+n[0],t=+n[n.length-1],o()):[e,t]},a.range=function(e){return arguments.length?(n=e,o()):n},a.invertExtent=function(t){return[t=(t=n.indexOf(t))<0?NaN:t/r+e,t+1/r]},a.copy=function(){return Zo(e,t,n)},o()}function Qo(e,t){function n(n){if(n<=n)return t[a.bisect(e,n)]}return n.domain=function(t){return arguments.length?(e=t,n):e},n.range=function(e){return arguments.length?(t=e,n):t},n.invertExtent=function(n){return n=t.indexOf(n),[e[n-1],e[n]]},n.copy=function(){return Qo(e,t)},n}function es(e){function t(e){return+e}return t.invert=t,t.domain=t.range=function(n){return arguments.length?(e=n.map(t),t):e},t.ticks=function(t){return Io(e,t)},t.tickFormat=function(t,n){return Do(e,t,n)},t.copy=function(){return es(e)},t}function ts(){return 0}a.scale.quantile=function(){return Ko([],[])},a.scale.quantize=function(){return Zo(0,1,[0,1])},a.scale.threshold=function(){return Qo([.5],[0,1])},a.scale.identity=function(){return es([0,1])},a.svg={},a.svg.arc=function(){var e=rs,t=is,n=ts,r=ns,i=as,a=os,o=ss;function s(){var s=Math.max(0,+e.apply(this,arguments)),u=Math.max(0,+t.apply(this,arguments)),c=i.apply(this,arguments)-Re,d=a.apply(this,arguments)-Re,p=Math.abs(d-c),f=c>d?0:1;if(u<s&&(h=u,u=s,s=h),p>=Pe)return l(u,f)+(s?l(s,1-f):"")+"Z";var h,m,g,x,b,v,y,w,j,_,E,O,M=0,S=0,T=[];if((x=(+o.apply(this,arguments)||0)/2)&&(g=r===ns?Math.sqrt(s*s+u*u):+r.apply(this,arguments),f||(S*=-1),u&&(S=Ae(g/u*Math.sin(x))),s&&(M=Ae(g/s*Math.sin(x)))),u){b=u*Math.cos(c+S),v=u*Math.sin(c+S),y=u*Math.cos(d-S),w=u*Math.sin(d-S);var C=Math.abs(d-c-2*S)<=ke?0:1;if(S&&ls(b,v,y,w)===f^C){var k=(c+d)/2;b=u*Math.cos(k),v=u*Math.sin(k),y=w=null}}else b=v=0;if(s){j=s*Math.cos(d-M),_=s*Math.sin(d-M),E=s*Math.cos(c+M),O=s*Math.sin(c+M);var F=Math.abs(c-d+2*M)<=ke?0:1;if(M&&ls(j,_,E,O)===1-f^F){var P=(c+d)/2;j=s*Math.cos(P),_=s*Math.sin(P),E=O=null}}else j=_=0;if(p>Te&&(h=Math.min(Math.abs(u-s)/2,+n.apply(this,arguments)))>.001){m=s<u^f?0:1;var R=h,L=h;if(p<ke){var N=null==E?[j,_]:null==y?[b,v]:mi([b,v],[E,O],[y,w],[j,_]),z=b-N[0],I=v-N[1],D=y-N[0],A=w-N[1],V=1/Math.sin(Math.acos((z*D+I*A)/(Math.sqrt(z*z+I*I)*Math.sqrt(D*D+A*A)))/2),B=Math.sqrt(N[0]*N[0]+N[1]*N[1]);L=Math.min(h,(s-B)/(V-1)),R=Math.min(h,(u-B)/(V+1))}if(null!=y){var H=us(null==E?[j,_]:[E,O],[b,v],u,R,f),q=us([y,w],[j,_],u,R,f);h===R?T.push("M",H[0],"A",R,",",R," 0 0,",m," ",H[1],"A",u,",",u," 0 ",1-f^ls(H[1][0],H[1][1],q[1][0],q[1][1]),",",f," ",q[1],"A",R,",",R," 0 0,",m," ",q[0]):T.push("M",H[0],"A",R,",",R," 0 1,",m," ",q[0])}else T.push("M",b,",",v);if(null!=E){var G=us([b,v],[E,O],s,-L,f),$=us([j,_],null==y?[b,v]:[y,w],s,-L,f);h===L?T.push("L",$[0],"A",L,",",L," 0 0,",m," ",$[1],"A",s,",",s," 0 ",f^ls($[1][0],$[1][1],G[1][0],G[1][1]),",",1-f," ",G[1],"A",L,",",L," 0 0,",m," ",G[0]):T.push("L",$[0],"A",L,",",L," 0 0,",m," ",G[0])}else T.push("L",j,",",_)}else T.push("M",b,",",v),null!=y&&T.push("A",u,",",u," 0 ",C,",",f," ",y,",",w),T.push("L",j,",",_),null!=E&&T.push("A",s,",",s," 0 ",F,",",1-f," ",E,",",O);return T.push("Z"),T.join("")}function l(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}return s.innerRadius=function(t){return arguments.length?(e=yt(t),s):e},s.outerRadius=function(e){return arguments.length?(t=yt(e),s):t},s.cornerRadius=function(e){return arguments.length?(n=yt(e),s):n},s.padRadius=function(e){return arguments.length?(r=e==ns?ns:yt(e),s):r},s.startAngle=function(e){return arguments.length?(i=yt(e),s):i},s.endAngle=function(e){return arguments.length?(a=yt(e),s):a},s.padAngle=function(e){return arguments.length?(o=yt(e),s):o},s.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-Re;return[Math.cos(r)*n,Math.sin(r)*n]},s};var ns="auto";function rs(e){return e.innerRadius}function is(e){return e.outerRadius}function as(e){return e.startAngle}function os(e){return e.endAngle}function ss(e){return e&&e.padAngle}function ls(e,t,n,r){return(e-n)*t-(t-r)*e>0?0:1}function us(e,t,n,r,i){var a=e[0]-t[0],o=e[1]-t[1],s=(i?r:-r)/Math.sqrt(a*a+o*o),l=s*o,u=-s*a,c=e[0]+l,d=e[1]+u,p=t[0]+l,f=t[1]+u,h=(c+p)/2,m=(d+f)/2,g=p-c,x=f-d,b=g*g+x*x,v=n-r,y=c*f-p*d,w=(x<0?-1:1)*Math.sqrt(Math.max(0,v*v*b-y*y)),j=(y*x-g*w)/b,_=(-y*g-x*w)/b,E=(y*x+g*w)/b,O=(-y*g+x*w)/b,M=j-h,S=_-m,T=E-h,C=O-m;return M*M+S*S>T*T+C*C&&(j=E,_=O),[[j-l,_-u],[j*n/v,_*n/v]]}function cs(e){var t=ui,n=ci,r=Qn,i=ps,a=i.key,o=.7;function s(a){var s,l=[],u=[],c=-1,d=a.length,p=yt(t),f=yt(n);function h(){l.push("M",i(e(u),o))}for(;++c<d;)r.call(this,s=a[c],c)?u.push([+p.call(this,s,c),+f.call(this,s,c)]):u.length&&(h(),u=[]);return u.length&&h(),l.length?l.join(""):null}return s.x=function(e){return arguments.length?(t=e,s):t},s.y=function(e){return arguments.length?(n=e,s):n},s.defined=function(e){return arguments.length?(r=e,s):r},s.interpolate=function(e){return arguments.length?(a="function"==typeof e?i=e:(i=ds.get(e)||ps).key,s):a},s.tension=function(e){return arguments.length?(o=e,s):o},s}a.svg.line=function(){return cs(L)};var ds=a.map({linear:ps,"linear-closed":fs,step:function(e){var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];for(;++t<n;)i.push("H",(r[0]+(r=e[t])[0])/2,"V",r[1]);n>1&&i.push("H",r[0]);return i.join("")},"step-before":hs,"step-after":ms,basis:bs,"basis-open":function(e){if(e.length<4)return ps(e);var t,n=[],r=-1,i=e.length,a=[0],o=[0];for(;++r<3;)t=e[r],a.push(t[0]),o.push(t[1]);n.push(vs(js,a)+","+vs(js,o)),--r;for(;++r<i;)t=e[r],a.shift(),a.push(t[0]),o.shift(),o.push(t[1]),_s(n,a,o);return n.join("")},"basis-closed":function(e){var t,n,r=-1,i=e.length,a=i+4,o=[],s=[];for(;++r<4;)n=e[r%i],o.push(n[0]),s.push(n[1]);t=[vs(js,o),",",vs(js,s)],--r;for(;++r<a;)n=e[r%i],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),_s(t,o,s);return t.join("")},bundle:function(e,t){var n=e.length-1;if(n)for(var r,i,a=e[0][0],o=e[0][1],s=e[n][0]-a,l=e[n][1]-o,u=-1;++u<=n;)r=e[u],i=u/n,r[0]=t*r[0]+(1-t)*(a+i*s),r[1]=t*r[1]+(1-t)*(o+i*l);return bs(e)},cardinal:function(e,t){return e.length<3?ps(e):e[0]+gs(e,xs(e,t))},"cardinal-open":function(e,t){return e.length<4?ps(e):e[1]+gs(e.slice(1,-1),xs(e,t))},"cardinal-closed":function(e,t){return e.length<3?fs(e):e[0]+gs((e.push(e[0]),e),xs([e[e.length-2]].concat(e,[e[1]]),t))},monotone:function(e){return e.length<3?ps(e):e[0]+gs(e,function(e){var t,n,r,i,a=[],o=function(e){var t=0,n=e.length-1,r=[],i=e[0],a=e[1],o=r[0]=Es(i,a);for(;++t<n;)r[t]=(o+(o=Es(i=a,a=e[t+1])))/2;return r[t]=o,r}(e),s=-1,l=e.length-1;for(;++s<l;)t=Es(e[s],e[s+1]),j(t)<Te?o[s]=o[s+1]=0:(i=(n=o[s]/t)*n+(r=o[s+1]/t)*r)>9&&(i=3*t/Math.sqrt(i),o[s]=i*n,o[s+1]=i*r);s=-1;for(;++s<=l;)i=(e[Math.min(l,s+1)][0]-e[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),a.push([i||0,o[s]*i||0]);return a}(e))}});function ps(e){return e.length>1?e.join("L"):e+"Z"}function fs(e){return e.join("L")+"Z"}function hs(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("V",(r=e[t])[1],"H",r[0]);return i.join("")}function ms(e){for(var t=0,n=e.length,r=e[0],i=[r[0],",",r[1]];++t<n;)i.push("H",(r=e[t])[0],"V",r[1]);return i.join("")}function gs(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return ps(e);var n=e.length!=t.length,r="",i=e[0],a=e[1],o=t[0],s=o,l=1;if(n&&(r+="Q"+(a[0]-2*o[0]/3)+","+(a[1]-2*o[1]/3)+","+a[0]+","+a[1],i=e[1],l=2),t.length>1){s=t[1],a=e[l],l++,r+="C"+(i[0]+o[0])+","+(i[1]+o[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var u=2;u<t.length;u++,l++)a=e[l],s=t[u],r+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}if(n){var c=e[l];r+="Q"+(a[0]+2*s[0]/3)+","+(a[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function xs(e,t){for(var n,r=[],i=(1-t)/2,a=e[0],o=e[1],s=1,l=e.length;++s<l;)n=a,a=o,o=e[s],r.push([i*(o[0]-n[0]),i*(o[1]-n[1])]);return r}function bs(e){if(e.length<3)return ps(e);var t=1,n=e.length,r=e[0],i=r[0],a=r[1],o=[i,i,i,(r=e[1])[0]],s=[a,a,a,r[1]],l=[i,",",a,"L",vs(js,o),",",vs(js,s)];for(e.push(e[n-1]);++t<=n;)r=e[t],o.shift(),o.push(r[0]),s.shift(),s.push(r[1]),_s(l,o,s);return e.pop(),l.push("L",r),l.join("")}function vs(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}ds.forEach((function(e,t){t.key=e,t.closed=/-closed$/.test(e)}));var ys=[0,2/3,1/3,0],ws=[0,1/3,2/3,0],js=[0,1/6,2/3,1/6];function _s(e,t,n){e.push("C",vs(ys,t),",",vs(ys,n),",",vs(ws,t),",",vs(ws,n),",",vs(js,t),",",vs(js,n))}function Es(e,t){return(t[1]-e[1])/(t[0]-e[0])}function Os(e){for(var t,n,r,i=-1,a=e.length;++i<a;)n=(t=e[i])[0],r=t[1]-Re,t[0]=n*Math.cos(r),t[1]=n*Math.sin(r);return e}function Ms(e){var t=ui,n=ui,r=0,i=ci,a=Qn,o=ps,s=o.key,l=o,u="L",c=.7;function d(s){var d,p,f,h=[],m=[],g=[],x=-1,b=s.length,v=yt(t),y=yt(r),w=t===n?function(){return p}:yt(n),j=r===i?function(){return f}:yt(i);function _(){h.push("M",o(e(g),c),u,l(e(m.reverse()),c),"Z")}for(;++x<b;)a.call(this,d=s[x],x)?(m.push([p=+v.call(this,d,x),f=+y.call(this,d,x)]),g.push([+w.call(this,d,x),+j.call(this,d,x)])):m.length&&(_(),m=[],g=[]);return m.length&&_(),h.length?h.join(""):null}return d.x=function(e){return arguments.length?(t=n=e,d):n},d.x0=function(e){return arguments.length?(t=e,d):t},d.x1=function(e){return arguments.length?(n=e,d):n},d.y=function(e){return arguments.length?(r=i=e,d):i},d.y0=function(e){return arguments.length?(r=e,d):r},d.y1=function(e){return arguments.length?(i=e,d):i},d.defined=function(e){return arguments.length?(a=e,d):a},d.interpolate=function(e){return arguments.length?(s="function"==typeof e?o=e:(o=ds.get(e)||ps).key,l=o.reverse||o,u=o.closed?"M":"L",d):s},d.tension=function(e){return arguments.length?(c=e,d):c},d}function Ss(e){return e.radius}function Ts(e){return[e.x,e.y]}function Cs(e){return function(){var t=e.apply(this,arguments),n=t[0],r=t[1]-Re;return[n*Math.cos(r),n*Math.sin(r)]}}function ks(){return 64}function Fs(){return"circle"}function Ps(e){var t=Math.sqrt(e/ke);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}a.svg.line.radial=function(){var e=cs(Os);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},hs.reverse=ms,ms.reverse=hs,a.svg.area=function(){return Ms(L)},a.svg.area.radial=function(){var e=Ms(Os);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},a.svg.chord=function(){var e=Jr,t=Wr,n=Ss,r=as,i=os;function a(n,r){var i,a,u=o(this,e,n,r),c=o(this,t,n,r);return"M"+u.p0+s(u.r,u.p1,u.a1-u.a0)+(a=c,((i=u).a0==a.a0&&i.a1==a.a1?l(u.r,u.p1,u.r,u.p0):l(u.r,u.p1,c.r,c.p0)+s(c.r,c.p1,c.a1-c.a0)+l(c.r,c.p1,u.r,u.p0))+"Z")}function o(e,t,a,o){var s=t.call(e,a,o),l=n.call(e,s,o),u=r.call(e,s,o)-Re,c=i.call(e,s,o)-Re;return{r:l,a0:u,a1:c,p0:[l*Math.cos(u),l*Math.sin(u)],p1:[l*Math.cos(c),l*Math.sin(c)]}}function s(e,t,n){return"A"+e+","+e+" 0 "+ +(n>ke)+",1 "+t}function l(e,t,n,r){return"Q 0,0 "+r}return a.radius=function(e){return arguments.length?(n=yt(e),a):n},a.source=function(t){return arguments.length?(e=yt(t),a):e},a.target=function(e){return arguments.length?(t=yt(e),a):t},a.startAngle=function(e){return arguments.length?(r=yt(e),a):r},a.endAngle=function(e){return arguments.length?(i=yt(e),a):i},a},a.svg.diagonal=function(){var e=Jr,t=Wr,n=Ts;function r(r,i){var a=e.call(this,r,i),o=t.call(this,r,i),s=(a.y+o.y)/2,l=[a,{x:a.x,y:s},{x:o.x,y:s},o];return"M"+(l=l.map(n))[0]+"C"+l[1]+" "+l[2]+" "+l[3]}return r.source=function(t){return arguments.length?(e=yt(t),r):e},r.target=function(e){return arguments.length?(t=yt(e),r):t},r.projection=function(e){return arguments.length?(n=e,r):n},r},a.svg.diagonal.radial=function(){var e=a.svg.diagonal(),t=Ts,n=e.projection;return e.projection=function(e){return arguments.length?n(Cs(t=e)):t},e},a.svg.symbol=function(){var e=Fs,t=ks;function n(n,r){return(Rs.get(e.call(this,n,r))||Ps)(t.call(this,n,r))}return n.type=function(t){return arguments.length?(e=yt(t),n):e},n.size=function(e){return arguments.length?(t=yt(e),n):t},n};var Rs=a.map({circle:Ps,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*Ns)),n=t*Ns;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/Ls),n=t*Ls/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/Ls),n=t*Ls/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});a.svg.symbolTypes=Rs.keys();var Ls=Math.sqrt(3),Ns=Math.tan(30*Le);W.transition=function(e){for(var t,n,r=As||++Hs,i=$s(e),a=[],o=Vs||{time:Date.now(),ease:ga,delay:0,duration:250},s=-1,l=this.length;++s<l;){a.push(t=[]);for(var u=this[s],c=-1,d=u.length;++c<d;)(n=u[c])&&Us(n,c,i,r,o),t.push(n)}return Ds(a,i,r)},W.interrupt=function(e){return this.each(null==e?zs:Is($s(e)))};var zs=Is($s());function Is(e){return function(){var t,n,r;(t=this[e])&&(r=t[n=t.active])&&(r.timer.c=null,r.timer.t=NaN,--t.count?delete t[n]:delete this[e],t.active+=.5,r.event&&r.event.interrupt.call(this,this.__data__,r.index))}}function Ds(e,t,n){return $(e,Bs),e.namespace=t,e.id=n,e}var As,Vs,Bs=[],Hs=0;function qs(e,t,n,r){var i=e.id,a=e.namespace;return he(e,"function"==typeof n?function(e,o,s){e[a][i].tween.set(t,r(n.call(e,e.__data__,o,s)))}:(n=r(n),function(e){e[a][i].tween.set(t,n)}))}function Gs(e){return null==e&&(e=""),function(){this.textContent=e}}function $s(e){return null==e?"__transition__":"__transition_"+e+"__"}function Us(e,t,n,r,i){var a,o,s,l,u,c=e[n]||(e[n]={active:0,count:0}),d=c[r];function p(n){var i=c.active,p=c[i];for(var h in p&&(p.timer.c=null,p.timer.t=NaN,--c.count,delete c[i],p.event&&p.event.interrupt.call(e,e.__data__,p.index)),c)if(+h<r){var m=c[h];m.timer.c=null,m.timer.t=NaN,--c.count,delete c[h]}o.c=f,Tt((function(){return o.c&&f(n||1)&&(o.c=null,o.t=NaN),1}),0,a),c.active=r,d.event&&d.event.start.call(e,e.__data__,t),u=[],d.tween.forEach((function(n,r){(r=r.call(e,e.__data__,t))&&u.push(r)})),l=d.ease,s=d.duration}function f(i){for(var a=i/s,o=l(a),p=u.length;p>0;)u[--p].call(e,o);if(a>=1)return d.event&&d.event.end.call(e,e.__data__,t),--c.count?delete c[r]:delete e[n],1}d||(a=i.time,o=Tt((function(e){var t=d.delay;if(o.t=t+a,t<=e)return p(e-t);o.c=p}),0,a),d=c[r]={tween:new O,time:a,timer:o,delay:i.delay,duration:i.duration,ease:i.ease,index:t},i=null,++c.count)}Bs.call=W.call,Bs.empty=W.empty,Bs.node=W.node,Bs.size=W.size,a.transition=function(e,t){return e&&e.transition?As?e.transition(t):e:a.selection().transition(e)},a.transition.prototype=Bs,Bs.select=function(e){var t,n,r,i=this.id,a=this.namespace,o=[];e=K(e);for(var s=-1,l=this.length;++s<l;){o.push(t=[]);for(var u=this[s],c=-1,d=u.length;++c<d;)(r=u[c])&&(n=e.call(r,r.__data__,c,s))?("__data__"in r&&(n.__data__=r.__data__),Us(n,c,a,i,r[a][i]),t.push(n)):t.push(null)}return Ds(o,a,i)},Bs.selectAll=function(e){var t,n,r,i,a,o=this.id,s=this.namespace,l=[];e=Z(e);for(var u=-1,c=this.length;++u<c;)for(var d=this[u],p=-1,f=d.length;++p<f;)if(r=d[p]){a=r[s][o],n=e.call(r,r.__data__,p,u),l.push(t=[]);for(var h=-1,m=n.length;++h<m;)(i=n[h])&&Us(i,h,s,o,a),t.push(i)}return Ds(l,s,o)},Bs.filter=function(e){var t,n,r=[];"function"!=typeof e&&(e=pe(e));for(var i=0,a=this.length;i<a;i++){r.push(t=[]);for(var o,s=0,l=(o=this[i]).length;s<l;s++)(n=o[s])&&e.call(n,n.__data__,s,i)&&t.push(n)}return Ds(r,this.namespace,this.id)},Bs.tween=function(e,t){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(e):he(this,null==t?function(t){t[r][n].tween.remove(e)}:function(i){i[r][n].tween.set(e,t)})},Bs.attr=function(e,t){if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var n="transform"==e?Sa:oa,r=a.ns.qualify(e);function i(){this.removeAttribute(r)}function o(){this.removeAttributeNS(r.space,r.local)}function s(e){return null==e?i:(e+="",function(){var t,i=this.getAttribute(r);return i!==e&&(t=n(i,e),function(e){this.setAttribute(r,t(e))})})}function l(e){return null==e?o:(e+="",function(){var t,i=this.getAttributeNS(r.space,r.local);return i!==e&&(t=n(i,e),function(e){this.setAttributeNS(r.space,r.local,t(e))})})}return qs(this,"attr."+e,t,r.local?l:s)},Bs.attrTween=function(e,t){var n=a.ns.qualify(e);return this.tween("attr."+e,n.local?function(e,r){var i=t.call(this,e,r,this.getAttributeNS(n.space,n.local));return i&&function(e){this.setAttributeNS(n.space,n.local,i(e))}}:function(e,r){var i=t.call(this,e,r,this.getAttribute(n));return i&&function(e){this.setAttribute(n,i(e))}})},Bs.style=function(e,t,n){var r=arguments.length;if(r<3){if("string"!=typeof e){for(n in r<2&&(t=""),e)this.style(n,e[n],t);return this}n=""}function i(){this.style.removeProperty(e)}function a(t){return null==t?i:(t+="",function(){var r,i=c(this).getComputedStyle(this,null).getPropertyValue(e);return i!==t&&(r=oa(i,t),function(t){this.style.setProperty(e,r(t),n)})})}return qs(this,"style."+e,t,a)},Bs.styleTween=function(e,t,n){function r(r,i){var a=t.call(this,r,i,c(this).getComputedStyle(this,null).getPropertyValue(e));return a&&function(t){this.style.setProperty(e,a(t),n)}}return arguments.length<3&&(n=""),this.tween("style."+e,r)},Bs.text=function(e){return qs(this,"text",e,Gs)},Bs.remove=function(){var e=this.namespace;return this.each("end.transition",(function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)}))},Bs.ease=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].ease:("function"!=typeof e&&(e=a.ease.apply(a,arguments)),he(this,(function(r){r[n][t].ease=e})))},Bs.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:he(this,"function"==typeof e?function(r,i,a){r[n][t].delay=+e.call(r,r.__data__,i,a)}:(e=+e,function(r){r[n][t].delay=e}))},Bs.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:he(this,"function"==typeof e?function(r,i,a){r[n][t].duration=Math.max(1,e.call(r,r.__data__,i,a))}:(e=Math.max(1,e),function(r){r[n][t].duration=e}))},Bs.each=function(e,t){var n=this.id,r=this.namespace;if(arguments.length<2){var i=Vs,o=As;try{As=n,he(this,(function(t,i,a){Vs=t[r][n],e.call(t,t.__data__,i,a)}))}finally{Vs=i,As=o}}else he(this,(function(i){var o=i[r][n];(o.event||(o.event=a.dispatch("start","end","interrupt"))).on(e,t)}));return this},Bs.transition=function(){for(var e,t,n,r=this.id,i=++Hs,a=this.namespace,o=[],s=0,l=this.length;s<l;s++){o.push(e=[]);for(var u,c=0,d=(u=this[s]).length;c<d;c++)(t=u[c])&&Us(t,c,a,i,{time:(n=t[a][r]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),e.push(t)}return Ds(o,a,i)},a.svg.axis=function(){var e,t=a.scale.linear(),n=Xs,r=6,i=6,o=3,l=[10],u=null;function c(s){s.each((function(){var s,c=a.select(this),d=this.__chart__||t,p=this.__chart__=t.copy(),f=null==u?p.ticks?p.ticks.apply(p,l):p.domain():u,h=null==e?p.tickFormat?p.tickFormat.apply(p,l):L:e,m=c.selectAll(".tick").data(f,p),g=m.enter().insert("g",".domain").attr("class","tick").style("opacity",Te),x=a.transition(m.exit()).style("opacity",Te).remove(),b=a.transition(m.order()).style("opacity",1),v=Math.max(r,0)+o,y=So(p),w=c.selectAll(".domain").data([0]),j=(w.enter().append("path").attr("class","domain"),a.transition(w));g.append("line"),g.append("text");var _,E,O,M,S=g.select("line"),T=b.select("line"),C=m.select("text").text(h),k=g.select("text"),F=b.select("text"),P="top"===n||"left"===n?-1:1;if("bottom"===n||"top"===n?(s=Js,_="x",O="y",E="x2",M="y2",C.attr("dy",P<0?"0em":".71em").style("text-anchor","middle"),j.attr("d","M"+y[0]+","+P*i+"V0H"+y[1]+"V"+P*i)):(s=Ws,_="y",O="x",E="y2",M="x2",C.attr("dy",".32em").style("text-anchor",P<0?"end":"start"),j.attr("d","M"+P*i+","+y[0]+"H0V"+y[1]+"H"+P*i)),S.attr(M,P*r),k.attr(O,P*v),T.attr(E,0).attr(M,P*r),F.attr(_,0).attr(O,P*v),p.rangeBand){var R=p,N=R.rangeBand()/2;d=p=function(e){return R(e)+N}}else d.rangeBand?d=p:x.call(s,p,d);g.call(s,d,p),b.call(s,p,p)}))}return c.scale=function(e){return arguments.length?(t=e,c):t},c.orient=function(e){return arguments.length?(n=e in Ys?e+"":Xs,c):n},c.ticks=function(){return arguments.length?(l=s(arguments),c):l},c.tickValues=function(e){return arguments.length?(u=e,c):u},c.tickFormat=function(t){return arguments.length?(e=t,c):e},c.tickSize=function(e){var t=arguments.length;return t?(r=+e,i=+arguments[t-1],c):r},c.innerTickSize=function(e){return arguments.length?(r=+e,c):r},c.outerTickSize=function(e){return arguments.length?(i=+e,c):i},c.tickPadding=function(e){return arguments.length?(o=+e,c):o},c.tickSubdivide=function(){return arguments.length&&c},c};var Xs="bottom",Ys={top:1,right:1,bottom:1,left:1};function Js(e,t,n){e.attr("transform",(function(e){var r=t(e);return"translate("+(isFinite(r)?r:n(e))+",0)"}))}function Ws(e,t,n){e.attr("transform",(function(e){var r=t(e);return"translate(0,"+(isFinite(r)?r:n(e))+")"}))}a.svg.brush=function(){var e,t,n=q(p,"brushstart","brush","brushend"),r=null,i=null,o=[0,0],s=[0,0],l=!0,u=!0,d=Zs[0];function p(e){e.each((function(){var e=a.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",g).on("touchstart.brush",g),t=e.selectAll(".background").data([0]);t.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=e.selectAll(".resize").data(d,L);n.exit().remove(),n.enter().append("g").attr("class",(function(e){return"resize "+e})).style("cursor",(function(e){return Ks[e]})).append("rect").attr("x",(function(e){return/[ew]$/.test(e)?-3:null})).attr("y",(function(e){return/^[ns]/.test(e)?-3:null})).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",p.empty()?"none":null);var o,s=a.transition(e),l=a.transition(t);r&&(o=So(r),l.attr("x",o[0]).attr("width",o[1]-o[0]),h(s)),i&&(o=So(i),l.attr("y",o[0]).attr("height",o[1]-o[0]),m(s)),f(s)}))}function f(e){e.selectAll(".resize").attr("transform",(function(e){return"translate("+o[+/e$/.test(e)]+","+s[+/^s/.test(e)]+")"}))}function h(e){e.select(".extent").attr("x",o[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",o[1]-o[0])}function m(e){e.select(".extent").attr("y",s[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",s[1]-s[0])}function g(){var d,g,x=this,b=a.select(a.event.target),v=n.of(x,arguments),y=a.select(x),w=b.datum(),j=!/^(n|s)$/.test(w)&&r,_=!/^(e|w)$/.test(w)&&i,E=b.classed("extent"),O=Ee(x),M=a.mouse(x),S=a.select(c(x)).on("keydown.brush",k).on("keyup.brush",F);if(a.event.changedTouches?S.on("touchmove.brush",P).on("touchend.brush",L):S.on("mousemove.brush",P).on("mouseup.brush",L),y.interrupt().selectAll("*").interrupt(),E)M[0]=o[0]-M[0],M[1]=s[0]-M[1];else if(w){var T=+/w$/.test(w),C=+/^n/.test(w);g=[o[1-T]-M[0],s[1-C]-M[1]],M[0]=o[T],M[1]=s[C]}else a.event.altKey&&(d=M.slice());function k(){32==a.event.keyCode&&(E||(d=null,M[0]-=o[1],M[1]-=s[1],E=2),B())}function F(){32==a.event.keyCode&&2==E&&(M[0]+=o[1],M[1]+=s[1],E=0,B())}function P(){var e=a.mouse(x),t=!1;g&&(e[0]+=g[0],e[1]+=g[1]),E||(a.event.altKey?(d||(d=[(o[0]+o[1])/2,(s[0]+s[1])/2]),M[0]=o[+(e[0]<d[0])],M[1]=s[+(e[1]<d[1])]):d=null),j&&R(e,r,0)&&(h(y),t=!0),_&&R(e,i,1)&&(m(y),t=!0),t&&(f(y),v({type:"brush",mode:E?"move":"resize"}))}function R(n,r,i){var a,c,p=So(r),f=p[0],h=p[1],m=M[i],g=i?s:o,x=g[1]-g[0];if(E&&(f-=m,h-=x+m),a=(i?u:l)?Math.max(f,Math.min(h,n[i])):n[i],E?c=(a+=m)+x:(d&&(m=Math.max(f,Math.min(h,2*d[i]-a))),m<a?(c=a,a=m):c=m),g[0]!=a||g[1]!=c)return i?t=null:e=null,g[0]=a,g[1]=c,!0}function L(){P(),y.style("pointer-events","all").selectAll(".resize").style("display",p.empty()?"none":null),a.select("body").style("cursor",null),S.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),O(),v({type:"brushend"})}y.style("pointer-events","none").selectAll(".resize").style("display",null),a.select("body").style("cursor",b.style("cursor")),v({type:"brushstart"}),P()}return p.event=function(r){r.each((function(){var r=n.of(this,arguments),i={x:o,y:s,i:e,j:t},l=this.__chart__||i;this.__chart__=i,As?a.select(this).transition().each("start.brush",(function(){e=l.i,t=l.j,o=l.x,s=l.y,r({type:"brushstart"})})).tween("brush:brush",(function(){var n=sa(o,i.x),a=sa(s,i.y);return e=t=null,function(e){o=i.x=n(e),s=i.y=a(e),r({type:"brush",mode:"resize"})}})).each("end.brush",(function(){e=i.i,t=i.j,r({type:"brush",mode:"resize"}),r({type:"brushend"})})):(r({type:"brushstart"}),r({type:"brush",mode:"resize"}),r({type:"brushend"}))}))},p.x=function(e){return arguments.length?(d=Zs[!(r=e)<<1|!i],p):r},p.y=function(e){return arguments.length?(d=Zs[!r<<1|!(i=e)],p):i},p.clamp=function(e){return arguments.length?(r&&i?(l=!!e[0],u=!!e[1]):r?l=!!e:i&&(u=!!e),p):r&&i?[l,u]:r?l:i?u:null},p.extent=function(n){var a,l,u,c,d;return arguments.length?(r&&(a=n[0],l=n[1],i&&(a=a[0],l=l[0]),e=[a,l],r.invert&&(a=r(a),l=r(l)),l<a&&(d=a,a=l,l=d),a==o[0]&&l==o[1]||(o=[a,l])),i&&(u=n[0],c=n[1],r&&(u=u[1],c=c[1]),t=[u,c],i.invert&&(u=i(u),c=i(c)),c<u&&(d=u,u=c,c=d),u==s[0]&&c==s[1]||(s=[u,c])),p):(r&&(e?(a=e[0],l=e[1]):(a=o[0],l=o[1],r.invert&&(a=r.invert(a),l=r.invert(l)),l<a&&(d=a,a=l,l=d))),i&&(t?(u=t[0],c=t[1]):(u=s[0],c=s[1],i.invert&&(u=i.invert(u),c=i.invert(c)),c<u&&(d=u,u=c,c=d))),r&&i?[[a,u],[l,c]]:r?[a,l]:i&&[u,c])},p.clear=function(){return p.empty()||(o=[0,0],s=[0,0],e=t=null),p},p.empty=function(){return!!r&&o[0]==o[1]||!!i&&s[0]==s[1]},a.rebind(p,n,"on")};var Ks={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Zs=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Qs=Dt.format=hn.timeFormat,el=Qs.utc,tl=el("%Y-%m-%dT%H:%M:%S.%LZ");function nl(e){return e.toISOString()}function rl(e,t,n){function r(t){return e(t)}function i(e,n){var r=(e[1]-e[0])/n,i=a.bisect(al,r);return i==al.length?[t.year,zo(e.map((function(e){return e/31536e6})),n)[2]]:i?t[r/al[i-1]<al[i]/r?i-1:i]:[ll,zo(e,n)[2]]}return r.invert=function(t){return il(e.invert(t))},r.domain=function(t){return arguments.length?(e.domain(t),r):e.domain().map(il)},r.nice=function(e,t){var n=r.domain(),a=Mo(n),o=null==e?i(a,10):"number"==typeof e&&i(a,e);function s(n){return!isNaN(n)&&!e.range(n,il(+n+1),t).length}return o&&(e=o[0],t=o[1]),r.domain(Co(n,t>1?{floor:function(t){for(;s(t=e.floor(t));)t=il(t-1);return t},ceil:function(t){for(;s(t=e.ceil(t));)t=il(+t+1);return t}}:e))},r.ticks=function(e,t){var n=Mo(r.domain()),a=null==e?i(n,10):"number"==typeof e?i(n,e):!e.range&&[{range:e},t];return a&&(e=a[0],t=a[1]),e.range(n[0],il(+n[1]+1),t<1?1:t)},r.tickFormat=function(){return n},r.copy=function(){return rl(e.copy(),t,n)},Lo(r,e)}function il(e){return new Date(e)}Qs.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?nl:tl,nl.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},nl.toString=tl.toString,Dt.second=Ht((function(e){return new At(1e3*Math.floor(e/1e3))}),(function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))}),(function(e){return e.getSeconds()})),Dt.seconds=Dt.second.range,Dt.seconds.utc=Dt.second.utc.range,Dt.minute=Ht((function(e){return new At(6e4*Math.floor(e/6e4))}),(function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))}),(function(e){return e.getMinutes()})),Dt.minutes=Dt.minute.range,Dt.minutes.utc=Dt.minute.utc.range,Dt.hour=Ht((function(e){var t=e.getTimezoneOffset()/60;return new At(36e5*(Math.floor(e/36e5-t)+t))}),(function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))}),(function(e){return e.getHours()})),Dt.hours=Dt.hour.range,Dt.hours.utc=Dt.hour.utc.range,Dt.month=Ht((function(e){return(e=Dt.day(e)).setDate(1),e}),(function(e,t){e.setMonth(e.getMonth()+t)}),(function(e){return e.getMonth()})),Dt.months=Dt.month.range,Dt.months.utc=Dt.month.utc.range;var al=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],ol=[[Dt.second,1],[Dt.second,5],[Dt.second,15],[Dt.second,30],[Dt.minute,1],[Dt.minute,5],[Dt.minute,15],[Dt.minute,30],[Dt.hour,1],[Dt.hour,3],[Dt.hour,6],[Dt.hour,12],[Dt.day,1],[Dt.day,2],[Dt.week,1],[Dt.month,1],[Dt.month,3],[Dt.year,1]],sl=Qs.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",Qn]]),ll={range:function(e,t,n){return a.range(Math.ceil(e/n)*n,+t,n).map(il)},floor:L,ceil:L};ol.year=Dt.year,Dt.scale=function(){return rl(a.scale.linear(),ol,sl)};var ul=ol.map((function(e){return[e[0].utc,e[1]]})),cl=el.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",Qn]]);function dl(e){return JSON.parse(e.responseText)}function pl(e){var t=l.createRange();return t.selectNode(l.body),t.createContextualFragment(e.responseText)}ul.year=Dt.year.utc,Dt.scale.utc=function(){return rl(a.scale.linear(),ul,cl)},a.text=wt((function(e){return e.responseText})),a.json=function(e,t){return jt(e,"application/json",dl,t)},a.html=function(e,t){return jt(e,"text/html",pl,t)},a.xml=wt((function(e){return e.responseXML})),this.d3=a,void 0===(i="function"==typeof(r=a)?r.call(t,n,t,e):r)||(e.exports=i)}()},function(e,t,n){switch(window.__kbnThemeTag__){case"v7dark":return n(95);case"v7light":return n(97);case"v8dark":return n(99);case"v8light":return n(101)}},function(e,t,n){var r=n(39),i=n(96);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1};r(i,a);e.exports=i.locals||{}},function(e,t,n){(t=n(40)(!1)).push([e.i,".dataGridChart__histogram{width:100%}.dataGridChart__column-chart{width:100%}.dataGridChart__legend{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;color:#535966;display:block;overflow-x:hidden;font-style:italic;font-weight:normal;text-align:left;line-height:1.1;font-size:10px}.dataGridChart__legend--numeric{text-align:right}.dataGridChart__legendBoolean{width:10px}.dataGrid .euiDataGridHeaderCell__content{margin-top:auto}\n",""]),e.exports=t},function(e,t,n){var r=n(39),i=n(98);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1};r(i,a);e.exports=i.locals||{}},function(e,t,n){(t=n(40)(!1)).push([e.i,".dataGridChart__histogram{width:100%}.dataGridChart__column-chart{width:100%}.dataGridChart__legend{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;color:#98A2B3;display:block;overflow-x:hidden;font-style:italic;font-weight:normal;text-align:left;line-height:1.1;font-size:10px}.dataGridChart__legend--numeric{text-align:right}.dataGridChart__legendBoolean{width:10px}.dataGrid .euiDataGridHeaderCell__content{margin-top:auto}\n",""]),e.exports=t},function(e,t,n){var r=n(39),i=n(100);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1};r(i,a);e.exports=i.locals||{}},function(e,t,n){(t=n(40)(!1)).push([e.i,".dataGridChart__histogram{width:100%}.dataGridChart__column-chart{width:100%}.dataGridChart__legend{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;color:#535966;display:block;overflow-x:hidden;font-style:italic;font-weight:normal;text-align:left;line-height:1.1;font-size:11px}.dataGridChart__legend--numeric{text-align:right}.dataGridChart__legendBoolean{width:10px}.dataGrid .euiDataGridHeaderCell__content{margin-top:auto}\n",""]),e.exports=t},function(e,t,n){var r=n(39),i=n(102);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1};r(i,a);e.exports=i.locals||{}},function(e,t,n){(t=n(40)(!1)).push([e.i,".dataGridChart__histogram{width:100%}.dataGridChart__column-chart{width:100%}.dataGridChart__legend{max-width:100%;overflow:hidden !important;text-overflow:ellipsis !important;white-space:nowrap !important;word-wrap:normal !important;color:#98A2B3;display:block;overflow-x:hidden;font-style:italic;font-weight:normal;text-align:left;line-height:1.1;font-size:11px}.dataGridChart__legend--numeric{text-align:right}.dataGridChart__legendBoolean{width:10px}.dataGrid .euiDataGridHeaderCell__content{margin-top:auto}\n",""]),e.exports=t},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(31),i=n(4),a=r.__importDefault(n(104));t.default=function(e,t){var n=i.useState(t),r=n[0],o=n[1];return a.default((function(){var t=e.subscribe(o);return function(){return t.unsubscribe()}}),[e]),r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i="undefined"!=typeof window?r.useLayoutEffect:r.useEffect;t.default=i},function(e,t,n){switch(window.__kbnThemeTag__){case"v7dark":return n(106);case"v7light":return n(108);case"v8dark":return n(110);case"v8light":return n(112)}},function(e,t,n){var r=n(39),i=n(107);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1};r(i,a);e.exports=i.locals||{}},function(e,t,n){(t=n(40)(!1)).push([e.i,".dvFieldTypeIcon__anchor{display:flex;align-items:center}\n",""]),e.exports=t},function(e,t,n){var r=n(39),i=n(109);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1};r(i,a);e.exports=i.locals||{}},function(e,t,n){(t=n(40)(!1)).push([e.i,".dvFieldTypeIcon__anchor{display:flex;align-items:center}\n",""]),e.exports=t},function(e,t,n){var r=n(39),i=n(111);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1};r(i,a);e.exports=i.locals||{}},function(e,t,n){(t=n(40)(!1)).push([e.i,".dvFieldTypeIcon__anchor{display:flex;align-items:center}\n",""]),e.exports=t},function(e,t,n){var r=n(39),i=n(113);"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var a={insert:"head",singleton:!1};r(i,a);e.exports=i.locals||{}},function(e,t,n){(t=n(40)(!1)).push([e.i,".dvFieldTypeIcon__anchor{display:flex;align-items:center}\n",""]),e.exports=t},function(e,t,n){var r=n(115),i=n(116);e.exports=function(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t)for(var s=0;s<16;++s)t[a+s]=o[s];return t||i(o)}},function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}}])]);