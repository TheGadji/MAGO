/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.dataVisualizer_bundle_jsonpfunction=window.dataVisualizer_bundle_jsonpfunction||[]).push([[2],Array(38).concat([function(e,t,r){"use strict";r.r(t),r.d(t,"FileDataVisualizer",(function(){return h.FileDataVisualizer})),r.d(t,"IndexDataVisualizer",(function(){return Hr}));var n={};r.r(n),r.d(n,"buildNode",(function(){return Ye})),r.d(n,"toElasticsearchQuery",(function(){return We}));var a={};r.r(a),r.d(a,"wildcardSymbol",(function(){return Ke})),r.d(a,"buildNode",(function(){return et})),r.d(a,"test",(function(){return tt})),r.d(a,"toElasticsearchQuery",(function(){return rt})),r.d(a,"toQueryStringQuery",(function(){return nt})),r.d(a,"hasLeadingWildcard",(function(){return at}));var i={};r.r(i),r.d(i,"buildNodeParams",(function(){return dt})),r.d(i,"toElasticsearchQuery",(function(){return ft}));var s={};r.r(s),r.d(s,"buildNodeParams",(function(){return pt})),r.d(s,"toElasticsearchQuery",(function(){return mt}));var o={};r.r(o),r.d(o,"buildNodeParams",(function(){return gt})),r.d(o,"toElasticsearchQuery",(function(){return ht}));var l={};r.r(l),r.d(l,"buildNodeParams",(function(){return bt})),r.d(l,"toElasticsearchQuery",(function(){return xt}));var u={};r.r(u),r.d(u,"buildNodeParams",(function(){return jt})),r.d(u,"toElasticsearchQuery",(function(){return Ot}));var c={};r.r(c),r.d(c,"buildNodeParams",(function(){return _t})),r.d(c,"toElasticsearchQuery",(function(){return Et}));var d={};r.r(d),r.d(d,"buildNodeParams",(function(){return Ft})),r.d(d,"toElasticsearchQuery",(function(){return wt}));var f={};r.r(f),r.d(f,"buildNodeParams",(function(){return Tt})),r.d(f,"toElasticsearchQuery",(function(){return Pt}));var p={};r.r(p),r.d(p,"buildNodeParams",(function(){return Nt})),r.d(p,"toElasticsearchQuery",(function(){return It}));var m={};r.r(m),r.d(m,"buildNode",(function(){return Mt})),r.d(m,"buildNodeWithArgumentNodes",(function(){return kt})),r.d(m,"toElasticsearchQuery",(function(){return Ct}));var g={};r.r(g),r.d(g,"buildNode",(function(){return zt})),r.d(g,"toElasticsearchQuery",(function(){return Vt}));var h=r(71),b=(r(62),r(4)),x=r.n(b),y=r(35),v=r(68),j=r(16),O=r.n(j),S=r(27),_=r(2),E=r(19),F=r(1),w=r(21),T=r(14),P=r(15),N=r(23),I=r(18),A=r.n(I),M=r(57),k=r.n(M),C=r(9),z=r(6);async function V(e,t,r){const n=t.getComputedFields().runtimeFields,a=await async function({index:e,timeFieldName:t,query:r,runtimeMappings:n}){const a=JSON.stringify({index:e,timeFieldName:t,query:r,runtimeMappings:n}),i=await Object(z.a)();return await i.getHttp().fetch({path:"/internal/file_upload/time_field_range",method:"POST",body:a})}({index:t.title,timeFieldName:t.timeFieldName,query:r,...Object(C.a)(n)?{runtimeMappings:n}:{}});return e.setTime({from:A()(a.start.epoch).toISOString(),to:A()(a.end.epoch).toISOString()}),a}var L=r(42),B=r(3);const q=({timefilter:e,indexPattern:t,query:r,disabled:n,callback:a})=>{const{services:{notifications:{toasts:i}}}=Object(L.a)();return Object(B.jsx)(T.EuiButton,{isDisabled:n,onClick:()=>async function(t,r){try{const n=await V(e,t,r);"function"==typeof a&&a(n)}catch(e){i.addDanger(_.i18n.translate("xpack.dataVisualizer.index.fullTimeRangeSelector.errorSettingTimeRangeNotification",{defaultMessage:"An error occurred setting the time range."}))}}(t,r),"data-test-subj":"dataVisualizerButtonUseFullData"},Object(B.jsx)(P.FormattedMessage,{id:"xpack.dataVisualizer.index.fullTimeRangeSelector.useFullDataButtonLabel",defaultMessage:"Use full {indexPatternTitle} data",values:{indexPatternTitle:t.title}}))},R=new Set(["_a","_g"]);function D(e){return R.has(e)}function G(e){const t={},r=Object(v.parse)(e,{sort:!1});try{Object.keys(r).forEach((e=>{D(e)?t[e]=Object(S.decode)(r[e]):t[e]=r[e]}))}catch(e){console.error("Could not read url state",e)}return t}const Q=Object(b.createContext)({searchString:"",setUrlState:()=>{}}),{Provider:U}=Q,H=e=>{const{searchString:t,setUrlState:r}=Object(b.useContext)(Q);return[Object(b.useMemo)((()=>{const r=G(t);if("object"==typeof r)return r[e]}),[t]),Object(b.useCallback)(((t,n,a)=>{r(e,t,n,a)}),[e,r])]};var $=r(72),J=r(0);const Y=_.i18n.translate("xpack.dataVisualizer.index.lensChart.topValuesLabel",{defaultMessage:"Top values"}),W=_.i18n.translate("xpack.dataVisualizer.index.lensChart.countLabel",{defaultMessage:"Count"});function K(e,t,r){if(void 0!==t.fieldName)return e===J.JOB_FIELD_TYPES.DATE?function(e){return{columns:{col2:{dataType:"number",isBucketed:!1,label:W,operationType:"count",scale:"ratio",sourceField:"Records"},col1:{dataType:"date",isBucketed:!0,label:e.fieldName,operationType:"date_histogram",params:{interval:"auto"},scale:"interval",sourceField:e.fieldName}},layer:{accessors:["col2"],layerId:"layer1",layerType:"data",seriesType:"line",xAccessor:"col1"}}}(t):e===J.JOB_FIELD_TYPES.NUMBER?function(e,t){if(void 0===t.timeFieldName)return{columns:{col1:{label:e.fieldName,dataType:"number",isBucketed:!0,operationType:"range",params:{type:"histogram",maxBars:"auto",ranges:[]},sourceField:e.fieldName},col2:{label:W,dataType:"number",isBucketed:!1,sourceField:"Records",operationType:"count"}},layer:{accessors:["col2"],layerId:"layer1",layerType:"data",seriesType:"bar",xAccessor:"col1"}};return{columns:{col2:{dataType:"number",isBucketed:!1,label:_.i18n.translate("xpack.dataVisualizer.index.lensChart.averageOfLabel",{defaultMessage:"Average of {fieldName}",values:{fieldName:e.fieldName}}),operationType:"average",sourceField:e.fieldName},col1:{dataType:"date",isBucketed:!0,label:t.timeFieldName,operationType:"date_histogram",params:{interval:"auto"},scale:"interval",sourceField:t.timeFieldName}},layer:{accessors:["col2"],layerId:"layer1",layerType:"data",seriesType:"line",xAccessor:"col1"}}}(t,r):e===J.JOB_FIELD_TYPES.IP||e===J.JOB_FIELD_TYPES.KEYWORD?function(e){return{columns:{col1:{label:Y,dataType:"string",isBucketed:!0,operationType:"terms",params:{orderBy:{type:"column",columnId:"col2"},size:10,orderDirection:"desc"},sourceField:e.fieldName},col2:{label:W,dataType:"number",isBucketed:!1,sourceField:"Records",operationType:"count"}},layer:{accessors:["col2"],layerId:"layer1",layerType:"data",seriesType:"bar",xAccessor:"col1"}}}(t):e===J.JOB_FIELD_TYPES.BOOLEAN?function(e){return{columns:{col1:{label:Y,dataType:"string",isBucketed:!0,operationType:"terms",params:{orderBy:{type:"alphabetical"},size:2,orderDirection:"desc"},sourceField:e.fieldName},col2:{label:W,dataType:"number",isBucketed:!1,sourceField:"Records",operationType:"count"}},layer:{accessors:["col2"],layerId:"layer1",layerType:"data",seriesType:"bar",xAccessor:"col1"}}}(t):void 0}const Z=new w.Subject;function X(e,t,r,n){var a,i;const{lens:s,data:o}=t,l=[],u=null!==(a=null==o?void 0:o.query.filterManager.getFilters())&&void 0!==a?a:[],c=()=>{const e={lastRefresh:Date.now()};Z.next(e)};if(void 0!==s){const t=null==s?void 0:s.canUseEditor();l.push({name:_.i18n.translate("xpack.dataVisualizer.index.dataGrid.exploreInLensTitle",{defaultMessage:"Explore in Lens"}),description:_.i18n.translate("xpack.dataVisualizer.index.dataGrid.exploreInLensDescription",{defaultMessage:"Explore in Lens"}),type:"icon",icon:"lensApp",available:e=>void 0!==function(e){let t;switch(e){case J.JOB_FIELD_TYPES.KEYWORD:t="string";break;case J.JOB_FIELD_TYPES.DATE:t="date";break;case J.JOB_FIELD_TYPES.NUMBER:t="number";break;case J.JOB_FIELD_TYPES.IP:t="ip";break;case J.JOB_FIELD_TYPES.BOOLEAN:t="string";break;default:t=void 0}return t}(e.type)&&t,onClick:t=>{const n=function(e,t,r,n){if(void 0===e||void 0===n.type||void 0===n.fieldName)return;const a=K(n.type,n,e);return a?{visualizationType:"lnsXY",title:_.i18n.translate("xpack.dataVisualizer.index.lensChart.chartTitle",{defaultMessage:"Lens for {fieldName}",values:{fieldName:n.fieldName}}),references:[{id:e.id,name:"indexpattern-datasource-current-indexpattern",type:"index-pattern"},{id:e.id,name:"indexpattern-datasource-layer-layer1",type:"index-pattern"}],state:{datasourceStates:{indexpattern:{layers:{layer1:{columnOrder:["col1","col2"],columns:a.columns}}}},filters:r,query:{language:t.searchQueryLanguage,query:t.searchString},visualization:{axisTitlesVisibilitySettings:{x:!0,yLeft:!0,yRight:!0},fittingFunction:"None",gridlinesVisibilitySettings:{x:!0,yLeft:!0,yRight:!0},layers:[a.layer],legend:{isVisible:!0,position:"right"},preferredSeriesType:"line",tickLabelsVisibilitySettings:{x:!0,yLeft:!0,yRight:!0},valueLabels:"hide"}}}:void 0}(e,r,u,t);n&&s.navigateToPrefilledEditor({id:`dataVisualizer-${t.fieldName}`,attributes:n})},"data-test-subj":"dataVisualizerActionViewInLensButton"})}return null!==(i=t.indexPatternFieldEditor)&&void 0!==i&&i.userPermissions.editIndexPattern()&&(l.push({name:_.i18n.translate("xpack.dataVisualizer.index.dataGrid.editIndexPatternFieldTitle",{defaultMessage:"Edit index pattern field"}),description:_.i18n.translate("xpack.dataVisualizer.index.dataGrid.editIndexPatternFieldDescription",{defaultMessage:"Edit index pattern field"}),type:"icon",icon:"indexEdit",onClick:r=>{var a;n.current=null===(a=t.indexPatternFieldEditor)||void 0===a?void 0:a.openEditor({ctx:{indexPattern:e},fieldName:r.fieldName,onSave:c})},"data-test-subj":"dataVisualizerActionEditIndexPatternFieldButton"}),l.push({name:_.i18n.translate("xpack.dataVisualizer.index.dataGrid.deleteIndexPatternFieldTitle",{defaultMessage:"Delete index pattern field"}),description:_.i18n.translate("xpack.dataVisualizer.index.dataGrid.deleteIndexPatternFieldDescription",{defaultMessage:"Delete index pattern field"}),type:"icon",icon:"trash",available:e=>!0===e.deletable,onClick:r=>{var a;n.current=null===(a=t.indexPatternFieldEditor)||void 0===a?void 0:a.openDeleteModal({ctx:{indexPattern:e},fieldName:r.fieldName,onDelete:c})},"data-test-subj":"dataVisualizerActionDeleteIndexPatternFieldButton"})),l}var ee=r(46),te=r(47),re=r(54),ne=r(61),ae=r(45);const ie=({config:e,indexPattern:t,combinedQuery:r})=>{const{stats:n}=e,[a,i]=Object(b.useState)([]),{services:{maps:s,data:o}}=Object(L.a)();return Object(b.useEffect)((()=>{!async function(){if(void 0!==(null==t?void 0:t.id)&&void 0!==e&&void 0!==e.fieldName&&(e.type===J.JOB_FIELD_TYPES.GEO_POINT||e.type===J.JOB_FIELD_TYPES.GEO_SHAPE)){var n;const l={indexPatternId:t.id,geoFieldName:e.fieldName,geoFieldType:e.type,filters:null!==(n=o.query.filterManager.getFilters())&&void 0!==n?n:[],query:{query:r.searchString,language:r.searchQueryLanguage}},u=s?await s.createLayerDescriptors.createESSearchSourceLayerDescriptor(l):null;u&&i([...a,u])}}()}),[t,r,e,s,o.query]),void 0===(null==n?void 0:n.examples)?null:Object(B.jsx)(ee.a,{dataTestSubj:"dataVisualizerIndexBasedMapContent"},Object(B.jsx)(te.a,{config:e}),Object(B.jsx)(re.a,{examples:n.examples}),Object(B.jsx)(ae.a,{className:"dvPanel__wrapper dvMap__wrapper",grow:!0},Object(B.jsx)(ne.a,{layerList:a})))};var se=r(73);const oe=()=>Object(B.jsx)(b.Fragment,null,Object(B.jsx)(T.EuiText,{textAlign:"center"},Object(B.jsx)(T.EuiIcon,{type:"alert"})),Object(B.jsx)(T.EuiText,{textAlign:"center",size:"xs"},Object(B.jsx)(P.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.field.fieldNotInDocsLabel",defaultMessage:"This field does not appear in any documents for the selected time range"}))),le=()=>Object(B.jsx)(b.Fragment,null,Object(B.jsx)(T.EuiSpacer,{size:"xxl"}),Object(B.jsx)(T.EuiFlexGroup,{justifyContent:"spaceAround"},Object(B.jsx)(T.EuiFlexItem,{grow:!1},Object(B.jsx)(T.EuiLoadingSpinner,{size:"l"}))),Object(B.jsx)(T.EuiFlexGroup,{justifyContent:"spaceAround"},Object(B.jsx)(T.EuiFlexItem,{grow:!1},Object(B.jsx)(T.EuiText,{color:"subdued"},Object(B.jsx)(P.FormattedMessage,{id:"xpack.dataVisualizer.dataGrid.field.loadingLabel",defaultMessage:"Loading"}))))),ue=({item:e,indexPattern:t,combinedQuery:r,onAddFilter:n})=>{const a=e,{loading:i,type:s,existsInDocs:o,fieldName:l}=a;return Object(B.jsx)("div",{className:"dvExpandedRow","data-test-subj":`dataVisualizerFieldExpandedRow-${l}`},!0===i?Object(B.jsx)(le,null):function(){if(!1===o)return Object(B.jsx)(oe,null);switch(s){case J.JOB_FIELD_TYPES.NUMBER:return Object(B.jsx)(se.e,{config:a,onAddFilter:n});case J.JOB_FIELD_TYPES.BOOLEAN:return Object(B.jsx)(se.a,{config:a});case J.JOB_FIELD_TYPES.DATE:return Object(B.jsx)(se.b,{config:a});case J.JOB_FIELD_TYPES.GEO_POINT:case J.JOB_FIELD_TYPES.GEO_SHAPE:return Object(B.jsx)(ie,{config:a,indexPattern:t,combinedQuery:r});case J.JOB_FIELD_TYPES.IP:return Object(B.jsx)(se.c,{config:a,onAddFilter:n});case J.JOB_FIELD_TYPES.KEYWORD:return Object(B.jsx)(se.d,{config:a,onAddFilter:n});case J.JOB_FIELD_TYPES.TEXT:return Object(B.jsx)(se.g,{config:a});default:return Object(B.jsx)(se.f,{config:a})}}())},ce="kuery";var de=r(75);const fe=({metricsStats:e,fieldsCountStats:t,showEmptyFields:r,toggleShowEmptyFields:n})=>Object(B.jsx)(T.EuiFlexGroup,{alignItems:"center",gutterSize:"xs","data-test-subj":"dataVisualizerFieldCountPanel",responsive:!1,className:"dvFieldCount__panel"},Object(B.jsx)(de.b,{fieldsCountStats:t}),Object(B.jsx)(de.a,{metricsStats:e}),Object(B.jsx)(T.EuiFlexItem,{className:"dvFieldCount__item"},Object(B.jsx)(T.EuiSwitch,{"data-test-subj":"dataVisualizerShowEmptyFieldsSwitch",label:Object(B.jsx)(P.FormattedMessage,{id:"xpack.dataVisualizer.searchPanel.showEmptyFields",defaultMessage:"Show empty fields"}),checked:r,onChange:n})));var pe=r(20);const me=({width:e,chartPoints:t,timeRangeEarliest:r,timeRangeLatest:n,interval:a})=>{const{services:{data:i}}=Object(L.a)(),s=_.i18n.translate("xpack.dataVisualizer.dataGrid.field.documentCountChart.seriesLabel",{defaultMessage:"document count"}),o={min:r,max:n},l=Object(pe.niceTimeFormatter)([r,n]),u=Object(b.useMemo)((()=>t.length<1?[{time:r,value:0}]:1===t.length?[...t,{time:a?Number(t[0].time)+a:r,value:0}]:t),[t,r,n,a]),c=Object(b.useCallback)((e=>{i.query.timefilter.timefilter.setTime({from:A()(e.from).toISOString(),to:A()(e.to).toISOString(),mode:"absolute"})}),[i]);return Object(B.jsx)("div",{style:{width:null!=e?e:"100%"},"data-test-subj":"dataVisualizerDocumentCountChart"},Object(B.jsx)(pe.Chart,{size:{width:"100%",height:120}},Object(B.jsx)(pe.Settings,{xDomain:o,onBrushEnd:({x:e})=>{if(!e)return;const[t,r]=e;c({from:t,to:r})},onElementClick:([e])=>{const t=e[0].x;c({from:t,to:t+a})}}),Object(B.jsx)(pe.Axis,{id:"bottom",position:pe.Position.Bottom,showOverlappingTicks:!0,tickFormat:l}),Object(B.jsx)(pe.Axis,{id:"left",position:pe.Position.Left}),Object(B.jsx)(pe.BarSeries,{id:"document_count",name:s,xScaleType:pe.ScaleType.Time,yScaleType:pe.ScaleType.Linear,xAccessor:"time",yAccessors:["value"],data:u})))},ge=({totalCount:e})=>Object(B.jsx)(T.EuiFlexItem,null,Object(B.jsx)(T.EuiText,{size:"s","data-test-subj":"dataVisualizerTotalDocCountHeader"},Object(B.jsx)(P.FormattedMessage,{id:"xpack.dataVisualizer.searchPanel.totalDocCountLabel",defaultMessage:"Total documents: {strongTotalCount}",values:{strongTotalCount:Object(B.jsx)("strong",{"data-test-subj":"dataVisualizerTotalDocCount"},Object(B.jsx)(P.FormattedMessage,{id:"xpack.dataVisualizer.searchPanel.totalDocCountNumber",defaultMessage:"{totalCount, plural, one {#} other {#}}",values:{totalCount:e}}))}}))),he=({config:e,totalCount:t})=>{if(void 0===(null==e?void 0:e.stats))return void 0!==t?Object(B.jsx)(ge,{totalCount:t}):null;const{documentCounts:r,timeRangeEarliest:n,timeRangeLatest:a}=e.stats;if(void 0===r||void 0===n||void 0===a)return null;let i=[];if(void 0!==r.buckets){const e=null==r?void 0:r.buckets;i=Object.entries(e).map((([e,t])=>({time:+e,value:t})))}return Object(B.jsx)(x.a.Fragment,null,Object(B.jsx)(ge,{totalCount:t}),Object(B.jsx)(me,{chartPoints:i,timeRangeEarliest:n,timeRangeLatest:a,interval:r.interval}))};var be=r(41),xe=r.n(be),ye=r(7);class data_loader_DataLoader{constructor(e,t){xe()(this,"_indexPattern",void 0),xe()(this,"_runtimeMappings",void 0),xe()(this,"_indexPatternTitle",""),xe()(this,"_maxExamples",10),xe()(this,"_toastNotifications",void 0),this._indexPattern=e,this._runtimeMappings=this._indexPattern.getComputedFields().runtimeFields,this._indexPatternTitle=e.title,this._toastNotifications=t}async loadOverallData(e,t,r,n){const a=[],i=[];this._indexPattern.fields.forEach((e=>{const t=void 0!==e.displayName?e.displayName:e.name;!0===this.isDisplayField(t)&&(!0!==e.aggregatable||ye.i.has(e.type)?i.push(e.name):a.push(e.name))}));const s=await async function({indexPatternTitle:e,query:t,timeFieldName:r,earliest:n,latest:a,samplerShardSize:i,aggregatableFields:s,nonAggregatableFields:o,runtimeMappings:l}){const u=JSON.stringify({query:t,timeFieldName:r,earliest:n,latest:a,samplerShardSize:i,aggregatableFields:s,nonAggregatableFields:o,runtimeMappings:l}),c=await Object(z.a)();return await c.getHttp().fetch({path:`/internal/data_visualizer/get_overall_stats/${e}`,method:"POST",body:u})}({indexPatternTitle:this._indexPatternTitle,query:e,timeFieldName:this._indexPattern.timeFieldName,samplerShardSize:t,earliest:r,latest:n,aggregatableFields:a,nonAggregatableFields:i,runtimeMappings:this._runtimeMappings});return s}async loadFieldStats(e,t,r,n,a,i){const s=await async function({indexPatternTitle:e,query:t,timeFieldName:r,earliest:n,latest:a,samplerShardSize:i,interval:s,fields:o,maxExamples:l,runtimeMappings:u}){const c=JSON.stringify({query:t,timeFieldName:r,earliest:n,latest:a,samplerShardSize:i,interval:s,fields:o,maxExamples:l,runtimeMappings:u}),d=await Object(z.a)();return await d.getHttp().fetch({path:`/internal/data_visualizer/get_field_stats/${e}`,method:"POST",body:c})}({indexPatternTitle:this._indexPatternTitle,query:e,timeFieldName:this._indexPattern.timeFieldName,earliest:r,latest:n,samplerShardSize:t,interval:i,fields:a,maxExamples:this._maxExamples,runtimeMappings:this._runtimeMappings});return s}displayError(e){var t,r;500===e.statusCode?this._toastNotifications.addError(e,{title:_.i18n.translate("xpack.dataVisualizer.index.dataLoader.internalServerErrorMessage",{defaultMessage:"Error loading data in index {index}. {message}. The request may have timed out. Try using a smaller sample size or narrowing the time range.",values:{index:this._indexPattern.title,message:null!==(t=e.error)&&void 0!==t?t:e.message}})}):this._toastNotifications.addError(e,{title:_.i18n.translate("xpack.dataVisualizer.index.errorLoadingDataMessage",{defaultMessage:"Error loading data in index {index}. {message}.",values:{index:this._indexPattern.title,message:null!==(r=e.error)&&void 0!==r?r:e.message}})})}set maxExamples(e){this._maxExamples=e}get maxExamples(){return this._maxExamples}isDisplayField(e){return!ye.j.includes(e)}}var ve=r(52);const je=[1e3,5e3,1e4,1e5,-1].map((e=>({value:String(e),inputDisplay:e>0?Object(B.jsx)("span",{"data-test-subj":`dataVisualizerShardSizeOption ${e}`},Object(B.jsx)(P.FormattedMessage,{id:"xpack.dataVisualizer.searchPanel.sampleSizeOptionLabel",defaultMessage:"Sample size (per shard): {wrappedValue}",values:{wrappedValue:Object(B.jsx)("b",null,e)}})):Object(B.jsx)("span",{"data-test-subj":"dataVisualizerShardSizeOption all"},Object(B.jsx)(P.FormattedMessage,{id:"xpack.dataVisualizer.searchPanel.allOptionLabel",defaultMessage:"Search all"}))}))),Oe=({samplerShardSize:e,setSamplerShardSize:t})=>Object(B.jsx)(T.EuiFlexGroup,{alignItems:"center",gutterSize:"s",responsive:!1},Object(B.jsx)(T.EuiFlexItem,{grow:!1,style:{width:270}},Object(B.jsx)(T.EuiSuperSelect,{options:je,valueOfSelected:String(e),onChange:e=>t(+e),"aria-label":_.i18n.translate("xpack.dataVisualizer.searchPanel.sampleSizeAriaLabel",{defaultMessage:"Select number of documents to sample"}),"data-test-subj":"dataVisualizerShardSizeSelect"})),Object(B.jsx)(T.EuiFlexItem,{grow:!1},Object(B.jsx)(T.EuiIconTip,{content:_.i18n.translate("xpack.dataVisualizer.searchPanel.queryBarPlaceholder",{defaultMessage:"Selecting a smaller sample size will reduce query run times and the load on the cluster."}),position:"right"})));var Se=r(55);const _e=({overallStats:e,setVisibleFieldNames:t,visibleFieldNames:r,showEmptyFields:n})=>{const a=Object(b.useMemo)((()=>{const t=[];return e&&Object.keys(e).forEach((r=>{const a=e[r];Array.isArray(a)&&a.length>0&&a.forEach((e=>{!0!==e.existsInDocs&&!0!==n||void 0===e.fieldName||t.push({value:e.fieldName})}))})),t}),[e,n]),i=Object(b.useMemo)((()=>_.i18n.translate("xpack.dataVisualizer.index.fieldNameSelect",{defaultMessage:"Field name"})),[]);return Object(B.jsx)(Se.a,{title:i,options:a,onChange:t,checkedOptions:r,dataTestSubj:"dataVisualizerFieldNameSelect"})};var Ee=r(59);const Fe=({indexedFieldTypes:e,setVisibleFieldTypes:t,visibleFieldTypes:r})=>{const n=Object(b.useMemo)((()=>e.map((e=>{var t;const r=null!==(t=ve.b[e])&&void 0!==t?t:"";return{value:e,name:Object(B.jsx)(T.EuiFlexGroup,null,Object(B.jsx)(T.EuiFlexItem,{grow:!0}," ",r),e&&Object(B.jsx)(T.EuiFlexItem,{grow:!1},Object(B.jsx)(Ee.a,{type:e,tooltipEnabled:!1,needsAria:!0})))}}))),[e]),a=Object(b.useMemo)((()=>_.i18n.translate("xpack.dataVisualizer.index.fieldTypeSelect",{defaultMessage:"Field type"})),[]);return Object(B.jsx)(Se.a,{title:a,options:n,onChange:t,checkedOptions:r,dataTestSubj:"dataVisualizerFieldTypeSelect"})};r(120);var we,Te,Pe=r(43),Ne=r.n(Pe),Ie=r(69),Ae=r.n(Ie),Me=function(e,t){if("boolean"!=typeof t&&"boolean"===e.type){if([1,"true"].includes(t))return!0;if([0,"false"].includes(t))return!1;throw new Error("".concat(t," is not a valid boolean value for boolean field ").concat(e.name))}return"number"!=typeof t&&"number"===e.type?Number(t):t},ke=function(e){var t=Object(j.has)(e,"query.match_phrase"),r=Object(j.get)(e,"query.match",[]),n=void 0!==Object.values(r).find((function(e){return"phrase"===e.type}));return t||n},Ce=function(e,t){var r=Me(e,t);return{script:{source:ze(e),lang:e.lang,params:{value:r}}}},ze=function(e){return"painless"===e.lang?"boolean compare(Supplier s, def v) {return s.get() == v;}"+"compare(() -> { ".concat(e.script," }, params.value);"):"(".concat(e.script,") == value")};!function(e){e.CUSTOM="custom",e.PHRASES="phrases",e.PHRASE="phrase",e.EXISTS="exists",e.MATCH_ALL="match_all",e.QUERY_STRING="query_string",e.RANGE="range",e.RANGE_FROM_VALUE="range_from_value",e.SPATIAL_FILTER="spatial_filter"}(we||(we={})),function(e){e.APP_STATE="appState",e.GLOBAL_STATE="globalState"}(Te||(Te={}));var Ve={gt:">",gte:">=",lte:"<=",lt:"<"},Le={gt:"boolean gt(Supplier s, def v) {return s.get() > v}",gte:"boolean gte(Supplier s, def v) {return s.get() >= v}",lte:"boolean lte(Supplier s, def v) {return s.get() <= v}",lt:"boolean lt(Supplier s, def v) {return s.get() < v}"},Be={gt:"boolean gt(Supplier s, def v) {return s.get().toInstant().isAfter(Instant.parse(v))}",gte:"boolean gte(Supplier s, def v) {return !s.get().toInstant().isBefore(Instant.parse(v))}",lte:"boolean lte(Supplier s, def v) {return !s.get().toInstant().isAfter(Instant.parse(v))}",lt:"boolean lt(Supplier s, def v) {return s.get().toInstant().isBefore(Instant.parse(v))}"},qe=function(e,t){var r=Object(j.mapValues)(Object(j.pickBy)(t,(function(e,t){return t in Ve})),(function(t){return"number"===e.type&&"string"==typeof t?parseFloat(t):t})),n=Object(j.map)(r,(function(t,r){return"("+e.script+")"+Object(j.get)(Ve,r)+r})).join(" && ");if("painless"===e.lang){var a="date"===e.type?Be:Le,i=Object(j.reduce)(r,(function(e,t,r){return e.concat(Object(j.get)(a,r))}),[]).join(" "),s=Object(j.map)(r,(function(t,r){return"".concat(r,"(() -> { ").concat(e.script," }, params.").concat(r,")")})).join(" && ");n="".concat(i).concat(s)}return{script:{source:n,params:r,lang:e.lang}}};var Re=function(e){return function(e){return Object(j.has)(e,"query.exists")}(e)?function(e){return e.query.exists&&e.query.exists.field}(e):ke(e)?function(e){var t,r,n=null!==(t=null!==(r=e.query.match_phrase)&&void 0!==r?r:e.query.match)&&void 0!==t?t:{};return Object.keys(n)[0]}(e):function(e){var t;return(null==e||null===(t=e.meta)||void 0===t?void 0:t.type)===we.PHRASES}(e)?function(e){return e.meta.key}(e):function(e){return Object(j.has)(e,"query.range")}(e)?function(e){return e.query.range&&Object.keys(e.query.range)[0]}(e):void 0};var De=function(e){return Object(j.get)(e,"meta.disabled",!1)},Ge=function(e){return Object(j.omit)(e,["meta","$state"])};function Qe(e,t){if(function(e){var t,r,n=Object.keys(null!==(t=e.match||(null===(r=e.query)||void 0===r?void 0:r.match))&&void 0!==t?t:{})[0];return Boolean(n&&("phrase"===Object(j.get)(e,["query","match",n,"type"])||"phrase"===Object(j.get)(e,["match",n,"type"])))}(e)){var r=e.match||e.query.match,n=Object.keys(r)[0],a=Object(j.get)(r,[n]),i=a.query;if(t){var s=t.fields.find((function(e){return e.name===n}));s&&(i=Me(s,a.query))}return{meta:e.meta,$state:e.$state,query:{match_phrase:xe()({},n,Object(j.omit)(Ne()(Ne()({},a),{},{query:i}),"type"))}}}return e.query||(e.query={}),e.exists&&(e.query.exists=e.exists,delete e.exists),e.range&&(e.query.range=e.range,delete e.range),e.match_all&&(e.query.match_all=e.match_all,delete e.match_all),Object.keys(e).forEach((function(t){"meta"!==t&&"query"!==t&&"$state"!==t&&(e.query[t]=e[t],delete e[t])})),e}var Ue=r(48),He=r.n(Ue),$e=r(53),Je=r.n($e);function Ye(e){return{type:"literal",value:e}}function We(e){return e.value}var Ke="@kuery-wildcard@";function Ze(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Xe(e){return e.replace(/[+-=&|><!(){}[\]^"~*?:\\/]/g,"\\$&")}function et(e){return e.includes(Ke)?{type:"wildcard",value:e}:er(e)}function tt(e,t){var r=e.value.split(Ke).map(Ze).join("[\\s\\S]*");return new RegExp("^".concat(r,"$")).test(t)}function rt(e){return e.value.split(Ke).join("*")}function nt(e){return e.value.split(Ke).map(Xe).join("*")}function at(e){var t=e.value;return t.startsWith(Ke)&&t.replace(Ke,"").length>0}function it(e,t){if(!t)return[];if("literal"===e.type){var r=We(e),n=t.fields.find((function(e){return e.name===r}));return n?[n]:[]}return"wildcard"===e.type?t.fields.filter((function(t){return tt(e,t.name)})):void 0}var st=r(36),ot=r.n(st);function lt(e){var t=ot.a.tz.guess();return"Browser"===e?t:e}function ut(e){return function(e){var t,r=null==e?void 0:e.subType;return!(null==r||null===(t=r.nested)||void 0===t||!t.path)}(e)?e.subType:void 0}function ct(e,t,r){var n=Ne()(Ne()({},e),{},{value:r?"".concat(r,".").concat(e.value):e.value});if(!t||"wildcard"===n.type&&!r)return n;var a=it(n,t).reduce((function(e,t){var n=ut(t),a=null==n?void 0:n.nested.path;return r&&!a?[].concat(He()(e),["".concat(t.name,' is not a nested field but is in nested group "').concat(r,'" in the KQL expression.')]):a&&!r?[].concat(He()(e),["".concat(t.name," is a nested field, but is not in a nested group in the KQL expression.")]):a!==r?[].concat(He()(e),["Nested field ".concat(t.name," is being queried with the incorrect nested path. The correct path is ").concat(null==n?void 0:n.nested.path,".")]):e}),[]);if(a.length>0)throw new Error(a.join("\n"));return n}function dt(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Object(j.isUndefined)(e))throw new Error("fieldName is a required argument");if(Object(j.isUndefined)(t))throw new Error("value is a required argument");var n="string"==typeof e?er(e):Ye(e),a="string"==typeof t?er(t):Ye(t),i=Ye(r);return{arguments:[n,a,i]}}function ft(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=Je()(e.arguments,3),i=a[0],s=a[1],o=a[2],l="wildcard"===s.type&&s.value===Ke,u="wildcard"===i.type&&i.value===Ke,c=l&&u;if(c)return{match_all:{}};var d=ct(i,t,null!=n&&n.nested?n.nested.path:void 0),f=Object(j.isUndefined)(s)?s:rr(s),p=o.value?"phrase":"best_fields";if(null===d.value)return"wildcard"===s.type?{query_string:{query:nt(s)}}:{multi_match:{type:p,query:f,lenient:!0}};var m=t?it(d,t):[];if(m&&0===m.length&&m.push({name:rr(d),scripted:!1,type:""}),l&&(null==m||!m.length||(null==m?void 0:m.length)===(null==t?void 0:t.fields.length)))return{match_all:{}};var g=m.reduce((function(e,t){var a=function(e){var r=ut(t);return"wildcard"!==d.type||null==r||!r.nested||null!=n&&n.nested?e:{nested:{path:r.nested.path,query:e,score_mode:"none"}}};if(!t.scripted){if(l)return[].concat(He()(e),[a({exists:{field:t.name}})]);if("wildcard"===s.type)return[].concat(He()(e),[a({query_string:{fields:[t.name],query:nt(s)}})]);if("date"===t.type){var i=r.dateFormatTZ?{time_zone:lt(r.dateFormatTZ)}:{};return[].concat(He()(e),[a({range:xe()({},t.name,Ne()({gte:f,lte:f},i))})])}var o="phrase"===p?"match_phrase":"match";return[].concat(He()(e),[a(xe()({},o,xe()({},t.name,f)))])}if(!l)return[].concat(He()(e),[{script:Ne()({},Ce(t,f))}])}),[]);return{bool:{should:g||[],minimum_should_match:1}}}function pt(e){return{arguments:e}}function mt(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=r.filtersInMustClause,i=e.arguments||[],s=a?"must":"filter";return{bool:xe()({},s,i.map((function(e){return rr(e,t,r,n)})))}}function gt(e){return{arguments:e}}function ht(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=e.arguments||[];return{bool:{should:a.map((function(e){return rr(e,t,r,n)})),minimum_should_match:1}}}function bt(e){return{arguments:[e]}}function xt(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=Je()(e.arguments,1),i=a[0];return{bool:{must_not:rr(i,t,r,n)}}}var yt=r(58),vt=r.n(yt);function jt(e,t){var r=Object(j.pick)(t,"gt","lt","gte","lte","format"),n="string"==typeof e?er(e):Lt.literal.buildNode(e),a=Object(j.map)(r,(function(e,t){return Lt.namedArg.buildNode(t,e)}));return{arguments:[n].concat(He()(a))}}function Ot(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=vt()(e.arguments),i=a[0],s=a.slice(1),o=ct(i,t,null!=n&&n.nested?n.nested.path:void 0),l=t?it(o,t):[],u=St(s),c=Object(j.mapValues)(u,(function(e){return rr(e)}));l&&0===l.length&&l.push({name:rr(o),scripted:!1,type:""});var d=l.map((function(e){var t=function(t){var r=ut(e);return"wildcard"!==o.type||null==r||!r.nested||n.nested?t:{nested:{path:r.nested.path,query:t,score_mode:"none"}}};if(e.scripted)return{script:qe(e,c)};if("date"===e.type){var a=r.dateFormatTZ?{time_zone:lt(r.dateFormatTZ)}:{};return t({range:xe()({},e.name,Ne()(Ne()({},c),a))})}return t({range:xe()({},e.name,c)})}));return{bool:{should:d,minimum_should_match:1}}}function St(e){if(e.gt&&e.gte||e.lt&&e.lte)throw new Error("range ends cannot be both inclusive and exclusive");var t=["gte","lte","format"];return e.reduce((function(e,r,n){return"namedArg"===r.type?e[r.name]=r.value:e[t[n]]=r,e}),{})}function _t(e){return{arguments:[Ye(e)]}}function Et(e,t){var r,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=Je()(e.arguments,1),i=a[0],s=Ne()(Ne()({},i),{},{value:null!=n&&n.nested?"".concat(n.nested.path,".").concat(i.value):i.value}),o=We(s),l=null==t||null===(r=t.fields)||void 0===r?void 0:r.find((function(e){return e.name===o}));if(null!=l&&l.scripted)throw new Error("Exists query does not support scripted fields");return{exists:{field:o}}}function Ft(e,t){t=O.a.pick(t,"topLeft","bottomRight");var r=Lt.literal.buildNode(e),n=O.a.map(t,(function(e,t){var r="".concat(e.lat,", ").concat(e.lon);return Lt.namedArg.buildNode(t,r)}));return{arguments:[r].concat(He()(n))}}function wt(e,t){var r,n,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=vt()(e.arguments),s=i[0],o=i.slice(1),l=Ne()(Ne()({},s),{},{value:null!=a&&a.nested?"".concat(a.nested.path,".").concat(s.value):s.value}),u=Lt.literal.toElasticsearchQuery(l),c=null!==(r=null==t?void 0:t.fields)&&void 0!==r?r:[],d=c.find((function(e){return e.name===u})),f=o.reduce((function(e,t){var r=O.a.snakeCase(t.name);return Ne()(Ne()({},e),{},xe()({},r,rr(t)))}),{});if(null!=d&&d.scripted)throw new Error("Geo bounding box query does not support scripted fields");return{geo_bounding_box:(n={},xe()(n,u,f),xe()(n,"ignore_unmapped",!0),n)}}function Tt(e,t){var r=Lt.literal.buildNode(e),n=t.map((function(e){var t="".concat(e.lat,", ").concat(e.lon);return Lt.literal.buildNode(t)}));return{arguments:[r].concat(He()(n))}}function Pt(e,t){var r,n,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=vt()(e.arguments),o=s[0],l=s.slice(1),u=Ne()(Ne()({},o),{},{value:null!=i&&i.nested?"".concat(i.nested.path,".").concat(o.value):o.value}),c=Lt.literal.toElasticsearchQuery(u),d=null!==(r=null==t?void 0:t.fields)&&void 0!==r?r:[],f=d.find((function(e){return e.name===c})),p={points:l.map((function(e){return rr(e,t,a,i)}))};if(null!=f&&f.scripted)throw new Error("Geo polygon query does not support scripted fields");return{geo_polygon:(n={},xe()(n,c,p),xe()(n,"ignore_unmapped",!0),n)}}function Nt(e,t){return{arguments:["string"==typeof e?er(e):Ye(e),t]}}function It(e,t){var r,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=Je()(e.arguments,2),s=i[0],o=i[1],l=rr(s),u=null!=a&&null!==(r=a.nested)&&void 0!==r&&r.path?"".concat(a.nested.path,".").concat(l):l;return{nested:{path:u,query:rr(o,t,n,Ne()(Ne()({},a),{},{nested:{path:u}})),score_mode:"none"}}}var At={is:i,and:s,or:o,not:l,range:u,exists:c,geoBoundingBox:d,geoPolygon:f,nested:p};function Mt(e){var t=At[e];if(O.a.isUndefined(t))throw new Error('Unknown function "'.concat(e,'"'));for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return Ne()({type:"function",function:e},t.buildNodeParams.apply(t,n))}function kt(e,t){if(O.a.isUndefined(At[e]))throw new Error('Unknown function "'.concat(e,'"'));return{type:"function",function:e,arguments:t}}function Ct(e,t,r,n){return At[e.function].toElasticsearchQuery(e,t,r,n)}function zt(e,t){return{type:"namedArg",name:e,value:"literal"===O.a.get(t,"type")?t:Lt.literal.buildNode(t)}}function Vt(e){return rr(e.value)}var Lt={function:m,literal:n,namedArg:g,wildcard:a},Bt=r(129),qt=r.n(Bt),Rt=r(130),Dt=r.n(Rt),Gt=r(131),Qt=r.n(Gt),Ut=r(132),Ht=r.n(Ut),$t=r(133),Jt=r.n($t),Yt=_.i18n.translate("esQuery.kql.errors.endOfInputText",{defaultMessage:"end of input"}),Wt={fieldName:_.i18n.translate("esQuery.kql.errors.fieldNameText",{defaultMessage:"field name"}),value:_.i18n.translate("esQuery.kql.errors.valueText",{defaultMessage:"value"}),literal:_.i18n.translate("esQuery.kql.errors.literalText",{defaultMessage:"literal"}),whitespace:_.i18n.translate("esQuery.kql.errors.whitespaceText",{defaultMessage:"whitespace"})},Kt=function(e){Qt()(r,e);var t=Ht()(r);function r(e,n){var a;qt()(this,r);var i=e.message;if(e.expected){var s=e.expected.map((function(e){var t,r="other"===(t=e).type?t.description:"literal"===t.type?'"'.concat(t.text,'"'):"end"===t.type?"end of input":t.text||t.description||"";return Wt[r]||r})),o=Object(j.uniq)(s).filter((function(e){return void 0!==e})).sort().join(", ");i=_.i18n.translate("esQuery.kql.errors.syntaxError",{defaultMessage:"Expected {expectedList} but {foundInput} found.",values:{expectedList:o,foundInput:e.found?'"'.concat(e.found,'"'):Yt}})}var l=[i,n,Object(j.repeat)("-",e.location.start.offset)+"^"].join("\n");return a=t.call(this,l),xe()(Dt()(a),"shortMessage",void 0),a.name="KQLSyntaxError",a.shortMessage=i,a}return r}(Jt()(Error)),Zt=r(70),Xt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Zt.parse;if(void 0===e)throw new Error("expression must be a string, got undefined instead");return r(e,Ne()(Ne()({},t),{},{helpers:{nodeTypes:Lt}}))},er=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Xt(e,Ne()(Ne()({},t),{},{startRule:"Literal"}),Zt.parse)},tr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return Xt(e,t,Zt.parse)}catch(t){throw"SyntaxError"===t.name?new Kt(t,e):t}},rr=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!t||!t.type||!Lt[t.type])return e(Lt.function.buildNode("and",[]),r);var i=Lt[t.type];return i.toElasticsearchQuery(t,r,n,a)},nr=function(){return rr.apply(void 0,arguments)};function ar(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=t.map((function(e){return tr(e.query,{allowLeadingWildcards:r})}));return ir(e,i,{dateFormatTZ:n,filtersInMustClause:a})}function ir(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Lt.function.buildNode("and",t),a=nr(n,e,r);return Object.assign({must:[],filter:[],should:[],must_not:[]},a.bool)}function sr(e,t){var r,n;return null===(r=e.meta)||void 0===r||!r.key||!t||("custom"===(null===(n=e.meta)||void 0===n?void 0:n.type)?e.meta.index===t.id:t.fields.some((function(t){return t.name===e.meta.key})))}var or=function(e,t){if(!t)return e;var r=Re(e);if(!r)return e;var n=t.fields.find((function(e){return e.name===r})),a=n&&ut(n);if(!a)return e;var i=Ge(e);return{meta:e.meta,query:{nested:{path:a.nested.path,query:i.query||i}}}},lr=function(e){return function(t){return Object(j.isUndefined)(t.meta)||Object(j.isUndefined)(t.meta.negate)?!e:t.meta&&t.meta.negate===e}},ur=function(e){return e.query||e},cr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e=e.filter((function(e){return e&&!De(e)}));var n=function(n){return e.filter((function(e){return!!e})).filter(lr(n)).filter((function(e){return!r||sr(e,t)})).map((function(e){return Qe(e,t)})).map((function(e){return or(e,t)})).map(Ge).map(ur)};return{must:[],filter:n(!1),should:[],must_not:n(!0)}};function dr(e,t,r){return function(e){return Object(j.has)(e,"query_string.query")}(e)&&("string"==typeof t&&(t=JSON.parse(t)),Object(j.extend)(e.query_string,t),r&&Object(j.defaults)(e.query_string,{time_zone:lt(r)})),e}function fr(e,t,r){return{must:(e||[]).map((function(e){var n=function(e){return Object(j.isString)(e)?""===e.trim()?{match_all:{}}:{query_string:{query:e}}:e}(e.query);return dr(n,t,r)})),filter:[],should:[],must_not:[]}}function pr(e){return e.filter((function(e){return!e||"object"!==Ae()(e)||!Object(j.isEqual)(e,{match_all:{}})}))}var mr=r(8),gr=r(5);function hr(e,t,r,n){let a=Object(j.cloneDeep)(xr);if(e&&e.language===ce){const n=tr(e.query);""!==e.query&&(a=nr(n,r));const i=cr(t,r);!1===Array.isArray(a.bool.filter)&&(a.bool.filter=void 0===a.bool.filter?[]:[a.bool.filter]),!1===Array.isArray(a.bool.must_not)&&(a.bool.must_not=void 0===a.bool.must_not?[]:[a.bool.must_not]),a.bool.filter=[...a.bool.filter,...i.filter],a.bool.must_not=[...a.bool.must_not,...i.must_not]}else a=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{allowLeadingWildcards:!1,queryStringOptions:{},ignoreFilterIfFieldNotInIndex:!1};t=Array.isArray(t)?t:[t],r=Array.isArray(r)?r:[r];var a=t.filter((function(e){return Object(j.has)(e,"query")})),i=Object(j.groupBy)(a,"language"),s=ar(e,i.kuery,n.allowLeadingWildcards,n.dateFormatTZ,n.filtersInMustClause),o=fr(i.lucene,n.queryStringOptions,n.dateFormatTZ),l=cr(r,e,n.ignoreFilterIfFieldNotInIndex);return{bool:{must:pr([].concat(He()(s.must),He()(o.must),He()(l.must))),filter:pr([].concat(He()(s.filter),He()(o.filter),He()(l.filter))),should:pr([].concat(He()(s.should),He()(o.should),He()(l.should))),must_not:[].concat(He()(s.must_not),He()(o.must_not),He()(l.must_not))}}}(r,e?[e]:[],t||[],n?Object(gr.getEsQueryConfig)(n):void 0);return a}function br({indexPattern:e,uiSettings:t,savedSearch:r,query:n,filters:a,filterManager:i}){if(!e||!r)return;const s=function(e){var t;const r=Object(mr.a)(e)?null==e||null===(t=e.attributes)||void 0===t?void 0:t.kibanaSavedObjectMeta:null==e?void 0:e.kibanaSavedObjectMeta,n="string"==typeof(null==r?void 0:r.searchSourceJSON)?JSON.parse(r.searchSourceJSON):void 0;return n&&Array.isArray(n.filter)&&n.filter.forEach((e=>{e.meta.indexRefName=void 0})),n}(r),o=n,l=a;if(!s&&o){i&&l&&i.setFilters(l);return{searchQuery:hr(o,Array.isArray(l)?l:[],e,t),searchString:o.query,queryLanguage:o.language}}if(s){const r=null!=o?o:null==s?void 0:s.query,n=null!=l?l:null==s?void 0:s.filter;i&&i.setFilters(n);return{searchQuery:hr(r,Array.isArray(n)?n:[],e,t),searchString:r.query,queryLanguage:r.language}}}const xr={bool:{must:[{match_all:{}}]}};const yr=({indexPattern:e,searchString:t,searchQueryLanguage:r,samplerShardSize:n,setSamplerShardSize:a,overallStats:i,indexedFieldTypes:s,setVisibleFieldTypes:o,visibleFieldTypes:l,setVisibleFieldNames:u,visibleFieldNames:c,setSearchParams:d,showEmptyFields:f})=>{const{services:{uiSettings:p,notifications:{toasts:m},data:{query:g,ui:{SearchBar:h}}}}=Object(L.a)(),[x,y]=Object(b.useState)({query:t||"",language:r});Object(b.useEffect)((()=>{y({query:t||"",language:r})}),[r,t,g.filterManager]);const v=({query:t,filters:r})=>{const n=null!=t?t:x,a=null!=r?r:g.filterManager.getFilters();try{var i;a&&g.filterManager.setFilters(a);const t=hr(n,null!==(i=g.filterManager.getFilters())&&void 0!==i?i:[],e,p);d({searchQuery:t,searchString:n.query,queryLanguage:n.language,filters:a})}catch(e){console.log("Invalid syntax",JSON.stringify(e,null,2)),m.addError(e,{title:_.i18n.translate("xpack.dataVisualizer.searchPanel.invalidSyntax",{defaultMessage:"Invalid syntax"})})}};return Object(B.jsx)(T.EuiFlexGroup,{gutterSize:"s",alignItems:"flexStart","data-test-subj":"dataVisualizerSearchPanel",className:"dvSearchPanel__container",responsive:!1},Object(B.jsx)(T.EuiFlexItem,{grow:9,className:"dvSearchBar"},Object(B.jsx)(h,{dataTestSubj:"dataVisualizerQueryInput",appName:"dataVisualizer",showFilterBar:!0,showDatePicker:!1,showQueryInput:!0,query:x,onQuerySubmit:e=>v({query:e.query}),onFiltersUpdated:e=>v({filters:e}),indexPatterns:[e],placeholder:_.i18n.translate("xpack.dataVisualizer.searchPanel.queryBarPlaceholderText",{defaultMessage:'Search… (e.g. status:200 AND extension:"PHP")'}),displayStyle:"inPage",isClearable:!0,customSubmitButton:Object(B.jsx)("div",null)})),Object(B.jsx)(T.EuiFlexItem,{grow:2,className:"dvSearchPanel__controls"},Object(B.jsx)(Oe,{samplerShardSize:n,setSamplerShardSize:a}),Object(B.jsx)(_e,{overallStats:i,setVisibleFieldNames:u,visibleFieldNames:c,showEmptyFields:f}),Object(B.jsx)(Fe,{indexedFieldTypes:s,setVisibleFieldTypes:o,visibleFieldTypes:l})))};var vr=r(26),jr=r(67),Or=r.n(jr);const Sr=({icon:e,iconAreaLabel:t,title:r,description:n,onClick:a,href:i,isDisabled:s,"data-test-subj":o})=>{const l={...i?{href:i}:{},...a?{onClick:a}:{}};return Object(B.jsx)(T.EuiPanel,{style:{cursor:s?"not-allowed":void 0}},Object(B.jsx)(T.EuiLink,Or()({style:{display:"block",pointerEvents:s?"none":void 0,background:"transparent",outline:"none"},"data-test-subj":o,color:"subdued"},l),Object(B.jsx)(T.EuiFlexGroup,{gutterSize:"l",responsive:!0},Object(B.jsx)(T.EuiFlexItem,{grow:!1,style:{paddingTop:"8px"}},"string"==typeof e?Object(B.jsx)(T.EuiIcon,{size:"xl",type:e,"aria-label":t}):e),Object(B.jsx)(T.EuiFlexItem,null,Object(B.jsx)(T.EuiTitle,{size:"s"},Object(B.jsx)("h3",null,r)),Object(B.jsx)(T.EuiText,{color:"subdued"},Object(B.jsx)("p",null,n))))))},_r=({indexPattern:e,searchString:t,searchQueryLanguage:r,additionalLinks:n})=>{const[a]=H("_g"),[i,s]=Object(b.useState)(""),[o,l]=Object(b.useState)({}),{services:{data:u,application:{capabilities:c},share:{urlGenerators:{getUrlGenerator:d}}}}=Object(L.a)();return Object(b.useEffect)((()=>{let i=!1;const o=e.id;return Promise.all(n.map((async({canDisplay:e,getUrl:t})=>!1===await e({indexPatternId:o})?null:t({globalState:a,indexPatternId:o})))).then((e=>{const t=e.reduce(((e,t,r)=>(null!==t&&(e[n[r].id]=t),e)),{});l(t)})),(async()=>{var e,n,l;if(!(null!==(e=null===(n=c.discover)||void 0===n?void 0:n.show)&&void 0!==e&&e))return;const f={indexPatternId:o};let p;f.filters=null!==(l=u.query.filterManager.getFilters())&&void 0!==l?l:[],t&&void 0!==r&&(f.query={query:t,language:r}),null!=a&&a.time&&(f.timeRange=a.time),null!=a&&a.refreshInterval&&(f.refreshInterval=a.refreshInterval);try{p=d(vr.DISCOVER_APP_URL_GENERATOR)}catch(e){return}const m=await p.createUrl(f);i||s(m)})(),()=>{i=!0}}),[e,t,r,a,c,d,n,u.query]),Object(B.jsx)("div",{"data-test-subj":"dataVisualizerActionsPanel"},n.filter((({id:e})=>void 0!==o[e])).map((e=>Object(B.jsx)(x.a.Fragment,null,Object(B.jsx)(Sr,{href:o[e.id],icon:e.icon,description:e.description,title:e.title,"data-test-subj":e.dataTestSubj}),Object(B.jsx)(T.EuiSpacer,{size:"m"})))),i&&Object(B.jsx)(x.a.Fragment,null,Object(B.jsx)(T.EuiTitle,{size:"s"},Object(B.jsx)("h2",null,Object(B.jsx)(P.FormattedMessage,{id:"xpack.dataVisualizer.index.actionsPanel.exploreTitle",defaultMessage:"Explore your data"}))),Object(B.jsx)(T.EuiSpacer,{size:"m"}),Object(B.jsx)(Sr,{href:i,icon:"discoverApp",description:_.i18n.translate("xpack.dataVisualizer.index.actionsPanel.viewIndexInDiscoverDescription",{defaultMessage:"Explore the documents in your index."}),title:Object(B.jsx)(P.FormattedMessage,{id:"xpack.dataVisualizer.index.actionsPanel.discoverAppTitle",defaultMessage:"Discover"}),"data-test-subj":"dataVisualizerViewInDiscoverCard"})))};function Er(e){Z.next({lastRefresh:Date.now(),timeRange:e})}const Fr=()=>{var e;const{services:t}=Object(L.a)(),r=t.uiSettings,{timefilter:n,history:a}=t.data.query.timefilter,[i,s]=H("_g"),o=(l=a,function(){var e,t;return null!==(e=null===(t=l.get())||void 0===t?void 0:t.map((({from:e,to:t})=>({start:e,end:t}))))&&void 0!==e?e:[]});var l;const u=null!==(e=null==i?void 0:i.refreshInterval)&&void 0!==e?e:n.getRefreshInterval(),c=Object(b.useCallback)(Object(j.debounce)((e=>{s("refreshInterval",e,!0)}),200),[s]),[d,f]=Object(b.useState)(n.getTime()),[p,m]=Object(b.useState)(o()),[g,h]=Object(b.useState)(n.isAutoRefreshSelectorEnabled()),[x,y]=Object(b.useState)(n.isTimeRangeSelectorEnabled()),v=r.get("dateFormat"),O=r.get(N.UI_SETTINGS.TIMEPICKER_QUICK_RANGES),S=Object(b.useMemo)((()=>O.map((({from:e,to:t,display:r})=>({start:e,end:t,label:r})))),[O]);Object(b.useEffect)((()=>{const e=new w.Subscription,t=n.getRefreshIntervalUpdate$();void 0!==t&&e.add(t.subscribe((e=>{c(n.getRefreshInterval())})));const r=n.getTimeUpdate$();void 0!==r&&e.add(r.subscribe((e=>{f(n.getTime())})));const a=n.getEnabledUpdated$();return void 0!==a&&e.add(a.subscribe((e=>{h(n.isAutoRefreshSelectorEnabled()),y(n.isTimeRangeSelectorEnabled())}))),function(){e.unsubscribe()}}),[c,n]);const _=u.pause||!u.pause&&!u.value;return g||x?Object(B.jsx)("div",{className:"mlNavigationMenu__datePickerWrapper"},Object(B.jsx)(T.EuiSuperDatePicker,{start:d.from,end:d.to,isPaused:_,isAutoRefreshOnly:!x,refreshInterval:u.value,onTimeChange:function({start:e,end:t}){const r={from:e,to:t};n.setTime(r),f(r),m(o())},onRefresh:Er,onRefreshChange:function({isPaused:e,refreshInterval:t}){c({pause:e,value:t})},recentlyUsedRanges:p,dateFormat:v,commonlyUsedRanges:S})):null},wr=x.a.memo((({docLink:e})=>{const{chrome:t}=Object(L.a)().services;return Object(b.useEffect)((()=>{t.setHelpExtension({appName:_.i18n.translate("xpack.dataVisualizer.chrome.help.appName",{defaultMessage:"Data Visualizer"}),links:[{href:e,linkType:"documentation"}]})}),[t,e]),null}));wr.displayName="HelpMenu";var Tr=r(37);const Pr=new RegExp("^([0-9]*)\\s*("+k.a.units.join("|")+")$"),Nr=["ms","s","m","h"],Ir=["ms","s","m","h","d"];const{duration:Ar}=A.a;const Mr=k.a.unitsDesc,kr=Mr.indexOf("w"),Cr=function(){const e=[[Ar(500,"ms"),Ar(100,"ms")],[Ar(5,"second"),Ar(1,"second")],[Ar(10,"second"),Ar(5,"second")],[Ar(15,"second"),Ar(10,"second")],[Ar(30,"second"),Ar(15,"second")],[Ar(1,"minute"),Ar(30,"second")],[Ar(5,"minute"),Ar(1,"minute")],[Ar(10,"minute"),Ar(5,"minute")],[Ar(15,"minute"),Ar(10,"minute")],[Ar(30,"minute"),Ar(10,"minute")],[Ar(1,"hour"),Ar(30,"minute")],[Ar(2,"hour"),Ar(1,"hour")],[Ar(4,"hour"),Ar(2,"hour")],[Ar(6,"hour"),Ar(4,"hour")],[Ar(8,"hour"),Ar(6,"hour")],[Ar(12,"hour"),Ar(8,"hour")],[Ar(24,"hour"),Ar(12,"hour")],[Ar(2,"d"),Ar(1,"d")],[Ar(4,"d"),Ar(2,"d")],[Ar(1,"week"),Ar(4,"d")],[Ar(1,"month"),Ar(1,"week")],[Ar(1,"year"),Ar(1,"month")],[1/0,Ar(1,"year")]].slice(0).reverse();function t(e,t,r){return function(n,a){const i=function(n,a){const i=a/n;let s;for(let n=0;n<e.length;n++){const a=e[n],o=t(a[0],a[1],i);if(null==o){if(!r)continue;if(s)return s;break}if(!r)return o;s=o}const o=Math.max(Math.floor(i),1);return A.a.duration(o,"ms")}(n,a);if(i)return A.a.duration(i._data)}}return{near:t(e,(function(e,t,r){if(e>r){if(e===1/0)return t;const n=e.asMilliseconds(),a=t.asMilliseconds();return Math.abs(n-r)<=Math.abs(a)?e:t}}),!0),lessThan:t(e,(function(e,t,r){if(t<r)return e!==1/0?e:t})),atLeast:t(e,(function(e,t,r){if(t<=r)return t}))}}();function zr(e,t){this._timeBucketsConfig=e,this._fieldFormats=t,this.barTarget=this._timeBucketsConfig[gr.UI_SETTINGS.HISTOGRAM_BAR_TARGET],this.maxBars=this._timeBucketsConfig[gr.UI_SETTINGS.HISTOGRAM_MAX_BARS]}function Vr(e,t){const r=function(e){for(let t=0;t<Mr.length;t++){const r=Mr[t],n=e.as(r);if(n>=1&&Math.floor(n)===n){if(t<=kr)continue;return{value:n,unit:r,expression:n+r}}}const t=e.as("ms");return{value:t,unit:"ms",expression:t+"ms"}}(e);e.esValue=r.value,e.esUnit=r.unit,e.expression=r.expression,e.overflow=t>e&&A.a.duration(e-t);const n=A.a.normalizeUnits(r.unit);return 1===r.value?e.description=n:e.description=`${r.value} ${n}s`,e}function Lr(e){return e&&"isValid"in e&&e.isValid()}function Br(e){const{services:{indexPatternFieldEditor:t,application:r}}=Object(L.a)(),{useNewFieldsApi:n,currentIndexPattern:a}=e,i=!!(null==t?void 0:t.userPermissions.editIndexPattern())&&n,[s,o]=Object(b.useState)(!1),l=Object(b.useRef)();if(Object(b.useEffect)((()=>()=>{l.current&&l.current()}),[]),void 0===t||!a||!i)return null;return Object(B.jsx)(T.EuiPopover,{panelPaddingSize:"s",isOpen:s,closePopover:()=>{o(!1)},ownFocus:!0,"data-test-subj":"dataVisualizerIndexPatternManagementPopover",button:Object(B.jsx)(T.EuiButtonIcon,{color:"text",iconType:"boxesHorizontal","data-test-subj":"dataVisualizerIndexPatternManagementButton","aria-label":_.i18n.translate("xpack.dataVisualizer.index.indexPatternManagement.actionsPopoverLabel",{defaultMessage:"Index pattern settings"}),onClick:()=>{o(!s)}})},Object(B.jsx)(T.EuiContextMenuPanel,{"data-test-subj":"dataVisualizerIndexPatternManagementMenu",size:"s",items:[Object(B.jsx)(T.EuiContextMenuItem,{key:"add",icon:"indexOpen","data-test-subj":"dataVisualizerAddIndexPatternFieldAction",onClick:()=>{o(!1),l.current=t.openEditor({ctx:{indexPattern:a},onSave:()=>{const e={lastRefresh:Date.now()};Z.next(e)}})}},_.i18n.translate("xpack.dataVisualizer.index.indexPatternManagement.addFieldButton",{defaultMessage:"Add field to index pattern"})),Object(B.jsx)(T.EuiContextMenuItem,{key:"manage",icon:"indexSettings","data-test-subj":"dataVisualizerManageIndexPatternAction",onClick:()=>{var t;o(!1),r.navigateToApp("management",{path:`/kibana/indexPatterns/patterns/${null===(t=e.currentIndexPattern)||void 0===t?void 0:t.id}`})}},_.i18n.translate("xpack.dataVisualizer.index.indexPatternManagement.manageFieldButton",{defaultMessage:"Manage index pattern fields"}))]}))}function qr(e){return!0===e.isBoom}zr.prototype.setBarTarget=function(e){this.barTarget=e},zr.prototype.setMaxBars=function(e){this.maxBars=e},zr.prototype.setBounds=function(e){if(!e)return this.clearBounds();let t;t=Object(j.isPlainObject)(e)?[e.min,e.max]:Array.isArray(e)?e:[];const r=Object(j.sortBy)(t.map(Object(j.ary)(A.a,1)),Number);if(!(2===r.length&&r.every(Lr)))throw this.clearBounds(),new Error("invalid bounds set: "+e);if(this._lb=r.shift(),this._ub=r.pop(),this.getDuration().asSeconds()<0)throw new TypeError("Intervals must be positive")},zr.prototype.clearBounds=function(){this._lb=this._ub=null},zr.prototype.hasBounds=function(){return Lr(this._ub)&&Lr(this._lb)},zr.prototype.getBounds=function(){if(this.hasBounds())return{min:this._lb,max:this._ub}},zr.prototype.getDuration=function(){if(this.hasBounds())return A.a.duration(this._ub-this._lb,"ms")},zr.prototype.setInterval=function(e){this.originalInterval=e;let t=e;if(t&&"auto"!==t){if(Object(j.isString)(t)&&(e=t,t=function(e,t=!1){const r=String(e).trim().match(Pr);if(!Array.isArray(r)||r.length<3)return null;try{const e=parseInt(r[1],10),n=r[2];return isNaN(e)||e<1&&-1===Nr.indexOf(n)||!0===t&&-1===Ir.indexOf(n)?null:Object(I.duration)(e,n)}catch(e){return null}}(t),0==+t&&(t=null)),!A.a.isDuration(t))throw new TypeError('"'+e+'" is not a valid interval.');this._i=t}else this._i="auto"},zr.prototype.getInterval=function(){const e=this,t=e.getDuration();return Vr(function(r){if(!e.hasBounds())return r;const n=e.maxBars;let a;if(!(t/r>n))return r;a=Cr.lessThan(n,t);return+a==+r?r:(Vr(r,t),Object(j.assign)(a,{preScaled:r,scale:r/a,scaled:!0}))}(function(){const r=e._i;return A.a.isDuration(r)?r:Cr.near(e.barTarget,t)}()),t)},zr.prototype.getIntervalToNearestMultiple=function(e){const t=this.getInterval(),r=t.asSeconds(),n=r%e;if(0===n)return t;let a=n>e/2?r+e-n:r-n;a=0===a?e:a;const i=A.a.duration(a,"seconds");Vr(i,this.getDuration());const s=t.preScaled;return void 0!==s&&s<i&&(i.preScaled=s,i.scale=s/i,i.scaled=!0),i},zr.prototype.getScaledDateFormat=function(){const e=this.getInterval(),t=this._timeBucketsConfig["dateFormat:scaled"];for(let r=t.length-1;r>=0;r--){const n=t[r];if(!n[0]||e>=A.a.duration(n[0]))return n[1]}return this._timeBucketsConfig.dateFormat},zr.prototype.getScaledDateFormatter=function(){return new(this._fieldFormats.getType(Tr.FIELD_FORMAT_IDS.DATE))({pattern:this.getScaledDateFormat()},this._timeBucketsConfig)};const Rr=e=>{if(function(e){var t;return e&&void 0!==(null===(t=e.error)||void 0===t?void 0:t.reason)}(e))return{message:e.error.reason,statusCode:e.status,fullError:e};if(function(e){return"string"==typeof e}(e))return{message:e};var t,r;if(function(e){var t;return e&&!0===qr(null===(t=e.body)||void 0===t?void 0:t.message)}(e))return null===(t=e.body.message)||void 0===t||null===(r=t.output)||void 0===r?void 0:r.payload;if(qr(e))return{message:e.output.payload.message,statusCode:e.output.payload.statusCode};if(void 0===(null==e?void 0:e.body)&&(null==e||!e.message))return{message:""};if("string"==typeof e.body)return{message:e.body};if(function(e){return"object"==typeof e.body&&"message"in e.body}(e)){var n,a;if("object"==typeof e.body.attributes&&"string"==typeof(null===(n=e.body.attributes.body)||void 0===n||null===(a=n.error)||void 0===a?void 0:a.reason)){var i,s,o;const t={message:e.body.attributes.body.error.reason,statusCode:e.body.statusCode,fullError:e.body.attributes.body};var l,u,c;if("object"==typeof e.body.attributes.body.error.caused_by&&("string"==typeof(null===(i=e.body.attributes.body.error.caused_by)||void 0===i?void 0:i.reason)||"string"==typeof(null===(s=e.body.attributes.body.error.caused_by)||void 0===s||null===(o=s.caused_by)||void 0===o?void 0:o.reason)))t.causedBy=(null===(l=e.body.attributes.body.error.caused_by)||void 0===l||null===(u=l.caused_by)||void 0===u?void 0:u.reason)||(null===(c=e.body.attributes.body.error.caused_by)||void 0===c?void 0:c.reason);return Array.isArray(e.body.attributes.body.error.root_cause)&&"object"==typeof e.body.attributes.body.error.root_cause[0]&&Object(C.a)(e.body.attributes.body.error.root_cause[0],["script"])&&(t.causedBy=e.body.attributes.body.error.root_cause[0].script,t.message+=`: '${e.body.attributes.body.error.root_cause[0].script}'`),t}return{message:e.body.message,statusCode:e.body.statusCode}}return function(e){return e&&void 0!==e.message&&"string"==typeof e.message}(e)?{message:e.message}:{message:""}};r(134);const Dr={pageIndex:0,pageSize:25,sortField:"fieldName",sortDirection:"asc",visibleFieldTypes:[],visibleFieldNames:[],samplerShardSize:5e3,searchString:"",searchQuery:{match_all:{}},searchQueryLanguage:ce,filters:[],showDistributions:!0,showAllFields:!1,showEmptyFields:!1,...Gr};var Gr;const Qr=e=>{var t,r,n,a;const{services:i}=Object(L.a)(),{docLinks:s,notifications:o,uiSettings:l,data:u}=i,{toasts:c}=o,[d,f]=((e,t)=>{const[r,n]=H("_a"),a=null==r?void 0:r[e],i=Object(b.useMemo)((()=>({...null!=t?t:{},...null!=a?a:{}})),[a]),s=Object(b.useCallback)(((t,r)=>{n(e,{...i,...t},r)}),[e,i,n]);return Object(b.useMemo)((()=>[i,s]),[i,s])})("DATA_VISUALIZER_INDEX_VIEWER",Dr),[p,m]=H("_g"),[g,h]=Object(b.useState)(e.currentSavedSearch),{currentIndexPattern:x,additionalLinks:y}=e;Object(b.useEffect)((()=>{void 0!==(null==e?void 0:e.currentSavedSearch)&&h(null==e?void 0:e.currentSavedSearch)}),[null==e?void 0:e.currentSavedSearch]),Object(b.useEffect)((()=>()=>{u.query.filterManager.removeAll()}),[x.id,u.query.filterManager]);const v=Object(b.useCallback)((()=>new zr({[N.UI_SETTINGS.HISTOGRAM_MAX_BARS]:l.get(N.UI_SETTINGS.HISTOGRAM_MAX_BARS),[N.UI_SETTINGS.HISTOGRAM_BAR_TARGET]:l.get(N.UI_SETTINGS.HISTOGRAM_BAR_TARGET),dateFormat:l.get("dateFormat"),"dateFormat:scaled":l.get("dateFormat:scaled")})),[l]),j=(({timeRangeSelector:e,autoRefreshSelector:t}={})=>{const{services:r}=Object(L.a)(),{timefilter:n}=r.data.query.timefilter;return Object(b.useEffect)((()=>{!0===e?n.enableTimeRangeSelector():!1===e&&n.disableTimeRangeSelector(),!0===t?n.enableAutoRefreshSelector():!1===t&&n.disableAutoRefreshSelector()}),[e,t,n]),n})({timeRangeSelector:void 0!==(null==x?void 0:x.timeFieldName),autoRefreshSelector:!0}),O=Object(b.useMemo)((()=>new data_loader_DataLoader(x,c)),[x,c]);Object(b.useEffect)((()=>{void 0!==(null==p?void 0:p.time)&&(j.setTime({from:p.time.from,to:p.time.to}),E(Date.now()))}),[p,j]),Object(b.useEffect)((()=>{void 0!==(null==p?void 0:p.refreshInterval)&&(j.setRefreshInterval(p.refreshInterval),E(Date.now()))}),[p,j]);const[S,E]=Object(b.useState)(0);Object(b.useEffect)((()=>{x.isTimeBased()||c.addWarning({title:_.i18n.translate("xpack.dataVisualizer.index.indexPatternNotBasedOnTimeSeriesNotificationTitle",{defaultMessage:"The index pattern {indexPatternTitle} is not based on a time series",values:{indexPatternTitle:x.title}}),text:_.i18n.translate("xpack.dataVisualizer.index.indexPatternNotBasedOnTimeSeriesNotificationDescription",{defaultMessage:"Anomaly detection only runs over time-based indices"})})}),[x,c]);const F=x.fields,I=Object(b.useMemo)((()=>{const e=[];return F.forEach((t=>{if(!J.OMIT_FIELDS.includes(t.name)&&!0!==t.scripted){const r=Object(ve.c)(t);void 0===r||e.includes(r)||e.push(r)}})),e.sort()}),[F]),A={overallStats:{totalCount:0,aggregatableExistsFields:[],aggregatableNotExistsFields:[],nonAggregatableExistsFields:[],nonAggregatableNotExistsFields:[]},metricConfigs:[],totalMetricFieldCount:0,populatedMetricFieldCount:0,metricsLoaded:!1,nonMetricConfigs:[],nonMetricsLoaded:!1,documentCountStats:void 0},{searchQueryLanguage:M,searchString:k,searchQuery:C}=Object(b.useMemo)((()=>{const e=br({indexPattern:x,uiSettings:l,savedSearch:g,filterManager:u.query.filterManager});return void 0===e||""!==d.searchString?(d.filters&&u.query.filterManager.setFilters(d.filters),{searchQuery:d.searchQuery,searchString:d.searchString,searchQueryLanguage:d.searchQueryLanguage}):{searchQuery:e.searchQuery,searchString:e.searchString,searchQueryLanguage:e.queryLanguage}}),[g,x,d,u.query]),z=Object(b.useCallback)((e=>{null!==g&&h(null),f({...d,searchQuery:e.searchQuery,searchString:e.searchString,searchQueryLanguage:e.queryLanguage,filters:e.filters})}),[g,d,f]),V=null!==(t=d.samplerShardSize)&&void 0!==t?t:Dr.samplerShardSize,R=null!==(r=d.visibleFieldTypes)&&void 0!==r?r:Dr.visibleFieldTypes,D=null!==(n=d.visibleFieldNames)&&void 0!==n?n:Dr.visibleFieldNames,G=null!==(a=d.showEmptyFields)&&void 0!==a?a:Dr.showEmptyFields,[Q,U]=Object(b.useState)(A.overallStats),[Y,W]=Object(b.useState)(A.documentCountStats),[K,ee]=Object(b.useState)(A.metricConfigs),[te,re]=Object(b.useState)(A.metricsLoaded),[ne,ae]=Object(b.useState)(),[ie,se]=Object(b.useState)(A.nonMetricConfigs),[oe,le]=Object(b.useState)(A.nonMetricsLoaded),ce=Object(b.useCallback)(((e,t,r)=>{var n;const a=Object(N.generateFilters)(u.query.filterManager,e,t,r,String(x.id));a&&u.query.filterManager.addFilters(a);const i={query:k||"",language:M},s=hr({query:k||"",language:M},null!==(n=u.query.filterManager.getFilters())&&void 0!==n?n:[],x,l);z({searchQuery:s,searchString:i.query,queryLanguage:i.language,filters:u.query.filterManager.getFilters()})}),[x,u.query.filterManager,M,k,z,l]);Object(b.useEffect)((()=>{const e=Object(w.merge)(j.getTimeUpdate$(),Z).subscribe((()=>{m({time:j.getTime(),refreshInterval:j.getRefreshInterval()}),E(Date.now())}));return()=>{e.unsubscribe()}})),Object(b.useEffect)((()=>{!async function(){let e,t;const r=j.getActiveBounds();if(void 0!==x.timeFieldName&&void 0===r)return;void 0!==x.timeFieldName&&(e=r.min.valueOf(),t=r.max.valueOf());try{const r=await O.loadOverallData(C,V,e,t);Array.isArray(r.errors)&&r.errors.length>0&&r.errors.forEach((e=>{O.displayError(Rr(e))})),U(r)}catch(e){var n;O.displayError(null!==(n=e.body)&&void 0!==n?n:e)}}()}),[C,V,S]),Object(b.useEffect)((()=>{de(),pe()}),[Q,G]),Object(b.useEffect)((()=>{!async function(){if(0===K.length)return;const e=K.filter((e=>!0===e.existsInDocs&&!0===e.loading));if(0===e.length)return;const t=e.map((e=>{const t={fieldName:e.fieldName,type:e.type,cardinality:0};return void 0!==e.stats&&void 0!==e.stats.cardinality&&(t.cardinality=e.stats.cardinality),t})),r=v(),n=j;let a,i;void 0!==x.timeFieldName&&(a=n.getActiveBounds().min.valueOf(),i=n.getActiveBounds().max.valueOf());const s=n.getActiveBounds(),o=75;r.setInterval("auto"),r.setBounds(s),r.setBarTarget(o);const l=r.getInterval();try{const e=await O.loadFieldStats(C,V,a,i,t,l.asMilliseconds()),r=[];K.forEach((t=>{const n={...t};void 0!==t.fieldName?(n.stats={...n.stats,...e.find((e=>e.fieldName===t.fieldName))},n.loading=!1,r.push(n)):(n.stats=e.find((e=>void 0===e.fieldName)),void 0!==n.stats&&(n.stats.timeRangeEarliest=a,n.stats.timeRangeLatest=i),W(n))})),ee(r)}catch(e){O.displayError(e)}}()}),[K]),Object(b.useEffect)((()=>{!async function(){if(0===ie.length)return;const e=ie.filter((e=>!0===e.existsInDocs&&!0===e.loading));if(0===e.length)return;const t=e.map((e=>{const t={fieldName:e.fieldName,type:e.type,cardinality:0};return void 0!==e.stats&&void 0!==e.stats.cardinality&&(t.cardinality=e.stats.cardinality),t})),r=j;let n,a;void 0!==x.timeFieldName&&(n=r.getActiveBounds().min.valueOf(),a=r.getActiveBounds().max.valueOf());try{const e=await O.loadFieldStats(C,V,n,a,t),r=[];ie.forEach((t=>{const n={...t};void 0!==t.fieldName&&(n.stats={...n.stats,...e.find((e=>e.fieldName===t.fieldName))}),n.loading=!1,r.push(n)})),se(r)}catch(e){O.displayError(e)}}()}),[ie]),Object(b.useEffect)((()=>{de()}),[te]),Object(b.useEffect)((()=>{pe()}),[oe]);const de=Object(b.useCallback)((()=>{const e=[],t=Q.aggregatableExistsFields||[],r=F.filter((e=>e.type===N.KBN_FIELD_TYPES.NUMBER&&void 0!==e.displayName&&!0===O.isDisplayField(e.displayName))),n=r.filter((e=>t.find((t=>t.fieldName===e.spec.name))));if(void 0!==x.timeFieldName&&e.push({type:J.JOB_FIELD_TYPES.NUMBER,existsInDocs:!0,loading:!0,aggregatable:!0}),!1===te)return void re(!0);let a=Q.aggregatableExistsFields;r.length!==n.length&&!0===te&&(a=a.concat(Q.aggregatableNotExistsFields));const i=!0===te&&!0===G?r:n;i.forEach((t=>{const r=a.find((e=>e.fieldName===t.spec.name)),n={...r||{},fieldFormat:x.getFormatterForField(t),type:J.JOB_FIELD_TYPES.NUMBER,loading:!0,aggregatable:!0,deletable:void 0!==t.runtimeField};t.displayName!==n.fieldName&&(n.displayName=t.displayName),e.push(n)})),ae({totalMetricFieldsCount:r.length,visibleMetricsCount:i.length}),ee(e)}),[x,O,F,te,Q,G]),pe=Object(b.useCallback)((()=>{const e=F.filter((e=>e.type!==N.KBN_FIELD_TYPES.NUMBER&&void 0!==e.displayName&&!0===O.isDisplayField(e.displayName))),t=[];let r=[];const n=Q.aggregatableExistsFields||[],a=Q.nonAggregatableExistsFields||[];if(e.forEach((e=>{const i=n.find((t=>t.fieldName===e.spec.name));if(void 0!==i)t.push(e),r.push(i);else{const n=a.find((t=>t.fieldName===e.spec.name));void 0!==n&&(t.push(e),r.push(n))}})),!1===oe)return void le(!0);e.length!==r.length&&!0===G&&(r=r.concat(Q.aggregatableNotExistsFields,Q.nonAggregatableNotExistsFields));const i=[];(G?e:t).forEach((e=>{const t=r.find((t=>t.fieldName===e.spec.name)),n={...t||{},fieldFormat:x.getFormatterForField(e),aggregatable:e.aggregatable,scripted:e.scripted,loading:null==t?void 0:t.existsInDocs,deletable:void 0!==e.runtimeField},a=Object(ve.c)(e);void 0!==a?n.type=a:(n.type=e.type,n.isUnsupportedType=!0),e.displayName!==n.fieldName&&(n.displayName=e.displayName),i.push(n)})),se(i)}),[x,O,F,oe,Q,G]),me=Object(b.useMemo)((()=>{let e=[...ie,...K];return R&&R.length>0&&(e=e.filter((e=>R.findIndex((t=>t===e.type))>-1))),D&&D.length>0&&(e=e.filter((e=>D.findIndex((t=>t===e.fieldName))>-1))),e}),[ie,K,R,D]),ge=Object(b.useMemo)((()=>{let e=0,t=0;return Object.keys(Q).forEach((e=>{const r=Q[e];Array.isArray(r)&&r.length>0&&(t+=r.length)})),e=!0===G?t:Q.aggregatableExistsFields.length+Q.nonAggregatableExistsFields.length,{visibleFieldsCount:e,totalFieldsCount:t}}),[Q,G]),be=Object(b.useCallback)((function(e,t){return e.reduce(((e,r)=>{const n=t.find((e=>e.fieldName===r));return void 0!==n&&(e[r]=Object(B.jsx)(ue,{item:n,indexPattern:x,combinedQuery:{searchQueryLanguage:M,searchString:k},onAddFilter:ce})),e}),{})}),[x,M,k,ce]),xe=Object(b.useRef)();Object(b.useEffect)((()=>{const e=xe;return()=>{e.current&&e.current()}}),[]);const ye=Object(b.useMemo)((()=>{const e=X(x,i,{searchQueryLanguage:M,searchString:k},xe);if(!Array.isArray(e)||e.length<1)return;return[{name:Object(B.jsx)(P.FormattedMessage,{id:"xpack.dataVisualizer.index.dataGrid.actionsColumnLabel",defaultMessage:"Actions"}),actions:e,width:"100px"}]}),[x,i,M,k]),je=s.links.ml.guide;return Object(B.jsx)(b.Fragment,null,Object(B.jsx)(T.EuiPage,{"data-test-subj":"dataVisualizerIndexPage"},Object(B.jsx)(T.EuiPageBody,null,Object(B.jsx)(T.EuiFlexGroup,{gutterSize:"m"},Object(B.jsx)(T.EuiFlexItem,null,Object(B.jsx)(T.EuiPageContentHeader,{className:"dataVisualizerPageHeader"},Object(B.jsx)(T.EuiPageContentHeaderSection,null,Object(B.jsx)("div",{className:"dataViewTitleHeader"},Object(B.jsx)(T.EuiTitle,null,Object(B.jsx)("h1",null,x.title)),Object(B.jsx)(Br,{currentIndexPattern:x,useNewFieldsApi:!0}))),Object(B.jsx)(T.EuiFlexGroup,{alignItems:"center",justifyContent:"flexEnd",gutterSize:"s","data-test-subj":"dataVisualizerTimeRangeSelectorSection"},void 0!==x.timeFieldName&&Object(B.jsx)(T.EuiFlexItem,{grow:!1},Object(B.jsx)(q,{indexPattern:x,query:void 0,disabled:!1,timefilter:j})),Object(B.jsx)(T.EuiFlexItem,{grow:!1},Object(B.jsx)(Fr,null)))))),Object(B.jsx)(T.EuiSpacer,{size:"m"}),Object(B.jsx)(T.EuiPageContentBody,null,Object(B.jsx)(T.EuiFlexGroup,{gutterSize:"m"},Object(B.jsx)(T.EuiFlexItem,null,Object(B.jsx)(T.EuiPanel,null,void 0!==(null==Q?void 0:Q.totalCount)&&Object(B.jsx)(T.EuiFlexItem,{grow:!0},Object(B.jsx)(he,{config:Y,totalCount:Q.totalCount})),Object(B.jsx)(yr,{indexPattern:x,searchString:k,searchQuery:C,searchQueryLanguage:M,setSearchParams:z,samplerShardSize:V,setSamplerShardSize:e=>{f({...d,samplerShardSize:e})},overallStats:Q,indexedFieldTypes:I,setVisibleFieldTypes:e=>{f({...d,visibleFieldTypes:e})},visibleFieldTypes:R,visibleFieldNames:D,setVisibleFieldNames:e=>{f({...d,visibleFieldNames:e})},showEmptyFields:G,onAddFilter:ce}),Object(B.jsx)(T.EuiSpacer,{size:"m"}),Object(B.jsx)(fe,{showEmptyFields:G,toggleShowEmptyFields:()=>{f({...d,showEmptyFields:!d.showEmptyFields})},fieldsCountStats:ge,metricsStats:ne}),Object(B.jsx)(T.EuiSpacer,{size:"m"}),Object(B.jsx)($.a,{items:me,pageState:d,updatePageState:f,getItemIdToExpandedRowMap:be,extendedColumns:ye}))),Object(B.jsx)(T.EuiFlexItem,{grow:!1,style:{width:"280px"}},Object(B.jsx)(_r,{indexPattern:x,searchQueryLanguage:M,searchString:k,additionalLinks:null!=y?y:[]})))))),Object(B.jsx)(wr,{docLink:je}))},Ur=({IndexDataVisualizerComponent:e,additionalLinks:t})=>{const{services:{data:{indexPatterns:r},savedObjects:{client:n},notifications:{toasts:a}}}=Object(L.a)(),i=Object(y.useHistory)(),{search:s}=Object(y.useLocation)(),[o,l]=Object(b.useState)(void 0),[u,c]=Object(b.useState)(null);Object(b.useEffect)((()=>{const e=s,t=Object(v.parse)(e,{sort:!1});(async()=>{if("string"==typeof(null==t?void 0:t.savedSearchId)){const i=t.savedSearchId;try{var e;const t=await n.get("search",i),s=null===(e=t.references.find((e=>"index-pattern"===e.type)))||void 0===e?void 0:e.id;if(void 0!==s&&t)try{const e=await r.get(s);c(t),l(e)}catch(e){a.addError(e,{title:_.i18n.translate("xpack.dataVisualizer.index.indexPatternErrorMessage",{defaultMessage:"Error finding index pattern"})})}}catch(e){a.addError(e,{title:_.i18n.translate("xpack.dataVisualizer.index.savedSearchErrorMessage",{defaultMessage:"Error retrieving saved search {savedSearchId}",values:{savedSearchId:i}})})}}if("string"==typeof(null==t?void 0:t.index)){const e=await r.get(t.index);l(e)}})()}),[n,a,r]);const d=Object(b.useCallback)(((e,t,r,n)=>{const a=s,o=G(a),l=Object(v.parse)(a,{sort:!1});if(Object.prototype.hasOwnProperty.call(o,e)||(o[e]={}),"string"==typeof t){if(Object(j.isEqual)(((e,t,r)=>{const n=t.split(".").reduce(((e,t)=>null==e?void 0:e[t]),e);return void 0===n?r:n})(o,`${e}.${t}`),r))return a;o[e][t]=r}else{const r=t;Object.keys(r).forEach((t=>{o[e][t]=r[t]}))}try{const e=Object(v.stringify)(l,{sort:!1,encode:!1});Object.keys(o).forEach((e=>{D(e)?l[e]=Object(S.encode)(o[e]):l[e]=o[e]}));if(e!==Object(v.stringify)(l,{sort:!1,encode:!1})){const e=Object(v.stringify)(l,{sort:!1});n?i.replace({search:e}):i.push({search:e})}}catch(e){console.error("Could not save url state",e)}}),[i,s]);return Object(B.jsx)(U,{value:{searchString:s,setUrlState:d}},o?Object(B.jsx)(e,{currentIndexPattern:o,currentSavedSearch:u,additionalLinks:t}):Object(B.jsx)("div",null))},Hr=({additionalLinks:e})=>{const t=Object(F.a)(),{data:r,maps:n,embeddable:a,share:i,security:s,fileUpload:o,lens:l,indexPatternFieldEditor:u}=Object(F.b)(),c={data:r,maps:n,embeddable:a,share:i,security:s,fileUpload:o,lens:l,indexPatternFieldEditor:u,...t};return Object(B.jsx)(E.KibanaContextProvider,{services:{...c}},Object(B.jsx)(Ur,{IndexDataVisualizerComponent:Qr,additionalLinks:e}))}},,,,,function(e,t,r){e.exports=r(17)(2393)},,,,,function(e,t,r){e.exports=r(17)(2398)},,,,,function(e,t,r){e.exports=r(17)(2395)},,,,function(e,t,r){e.exports=r(17)(114)},function(e,t,r){e.exports=r(17)(2397)},,,,,,,,,,function(e,t,r){"use strict";const n=r(117),a=r(118),i=r(119);function s(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function o(e,t){return t.encode?t.strict?n(e):encodeURIComponent(e):e}function l(e,t){return t.decode?a(e):e}function u(e){return Array.isArray(e)?e.sort():"object"==typeof e?u(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function c(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function d(e){const t=(e=c(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function f(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function p(e,t){s((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const r=function(e){let t;switch(e.arrayFormat){case"index":return(e,r,n)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===n[e]&&(n[e]={}),n[e][t[1]]=r):n[e]=r};case"bracket":return(e,r,n)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==n[e]?n[e]=[].concat(n[e],r):n[e]=[r]:n[e]=r};case"comma":case"separator":return(t,r,n)=>{const a="string"==typeof r&&r.split("").indexOf(e.arrayFormatSeparator)>-1?r.split(e.arrayFormatSeparator).map((t=>l(t,e))):null===r?r:l(r,e);n[t]=a};default:return(e,t,r)=>{void 0!==r[e]?r[e]=[].concat(r[e],t):r[e]=t}}}(t),n=Object.create(null);if("string"!=typeof e)return n;if(!(e=e.trim().replace(/^[?#&]/,"")))return n;for(const a of e.split("&")){let[e,s]=i(t.decode?a.replace(/\+/g," "):a,"=");s=void 0===s?null:["comma","separator"].includes(t.arrayFormat)?s:l(s,t),r(l(e,t),s,n)}for(const e of Object.keys(n)){const r=n[e];if("object"==typeof r&&null!==r)for(const e of Object.keys(r))r[e]=f(r[e],t);else n[e]=f(r,t)}return!1===t.sort?n:(!0===t.sort?Object.keys(n).sort():Object.keys(n).sort(t.sort)).reduce(((e,t)=>{const r=n[t];return Boolean(r)&&"object"==typeof r&&!Array.isArray(r)?e[t]=u(r):e[t]=r,e}),Object.create(null))}t.extract=d,t.parse=p,t.stringify=(e,t)=>{if(!e)return"";s((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const r=r=>t.skipNull&&null==e[r]||t.skipEmptyString&&""===e[r],n=function(e){switch(e.arrayFormat){case"index":return t=>(r,n)=>{const a=r.length;return void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[o(t,e),"[",a,"]"].join("")]:[...r,[o(t,e),"[",o(a,e),"]=",o(n,e)].join("")]};case"bracket":return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,[o(t,e),"[]"].join("")]:[...r,[o(t,e),"[]=",o(n,e)].join("")];case"comma":case"separator":return t=>(r,n)=>null==n||0===n.length?r:0===r.length?[[o(t,e),"=",o(n,e)].join("")]:[[r,o(n,e)].join(e.arrayFormatSeparator)];default:return t=>(r,n)=>void 0===n||e.skipNull&&null===n||e.skipEmptyString&&""===n?r:null===n?[...r,o(t,e)]:[...r,[o(t,e),"=",o(n,e)].join("")]}}(t),a={};for(const t of Object.keys(e))r(t)||(a[t]=e[t]);const i=Object.keys(a);return!1!==t.sort&&i.sort(t.sort),i.map((r=>{const a=e[r];return void 0===a?"":null===a?o(r,t):Array.isArray(a)?a.reduce(n(r),[]).join("&"):o(r,t)+"="+o(a,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[r,n]=i(e,"#");return Object.assign({url:r.split("?")[0]||"",query:p(d(e),t)},t&&t.parseFragmentIdentifier&&n?{fragmentIdentifier:l(n,t)}:{})},t.stringifyUrl=(e,r)=>{r=Object.assign({encode:!0,strict:!0},r);const n=c(e.url).split("?")[0]||"",a=t.extract(e.url),i=t.parse(a,{sort:!1}),s=Object.assign(i,e.query);let l=t.stringify(s,r);l&&(l=`?${l}`);let u=function(e){let t="";const r=e.indexOf("#");return-1!==r&&(t=e.slice(r)),t}(e.url);return e.fragmentIdentifier&&(u=`#${o(e.fragmentIdentifier,r)}`),`${n}${l}${u}`}},function(e,t,r){e.exports=r(17)(833)},function(e,t,r){"use strict";function n(e,t,r,a){var i=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(i,n.prototype),i.expected=t,i.found=r,i.location=a,i.name="SyntaxError",i}function a(e,t,r){return r=r||" ",e.length>t?e:(t-=e.length,e+(r+=r.repeat(t)).slice(0,t))}!function(e,t){function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r}(n,Error),n.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var r,n=null;for(r=0;r<e.length;r++)if(e[r].source===this.location.source){n=e[r].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,s=this.location.source+":"+i.line+":"+i.column;if(n){var o=this.location.end,l=a("",i.line.toString().length),u=n[i.line-1],c=i.line===o.line?o.column:u.length+1;t+="\n --\x3e "+s+"\n"+l+" |\n"+i.line+" | "+u+"\n"+l+" | "+a("",i.column-1)+a("",c-i.column,"^")}else t+="\n at "+s}return t},n.buildMessage=function(e,t){var r={literal:function(e){return'"'+a(e.text)+'"'},class:function(e){var t=e.parts.map((function(e){return Array.isArray(e)?i(e[0])+"-"+i(e[1]):i(e)}));return"["+(e.inverted?"^":"")+t+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(e){return e.description}};function n(e){return e.charCodeAt(0).toString(16).toUpperCase()}function a(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}function i(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+n(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+n(e)}))}function s(e){return r[e.type](e)}return"Expected "+function(e){var t,r,n=e.map(s);if(n.sort(),n.length>0){for(t=1,r=1;t<n.length;t++)n[t-1]!==n[t]&&(n[r]=n[t],r++);n.length=r}switch(n.length){case 1:return n[0];case 2:return n[0]+" or "+n[1];default:return n.slice(0,-1).join(", ")+", or "+n[n.length-1]}}(e)+" but "+function(e){return e?'"'+a(e)+'"':"end of input"}(t)+" found."},e.exports={SyntaxError:n,parse:function(e,t){var r,a={},i=(t=void 0!==t?t:{}).grammarSource,s={start:ye,Literal:Ae},o=ye,l=":",u="or",c="and",d="not",f='"',p="\\",m="<=",g=">=",h="@kuery-cursor@",b=/^[\\"]/,x=/^[^"]/,y=/^[\\():<>"*{}]/,v=/^[0-9a-f]/i,j=/^[ \t\r\n\xA0]/,O=fe("(",!1),S=fe(")",!1),_=fe(":",!1),E=fe("{",!1),F=fe("}",!1),w=me("fieldName"),T=me("value"),P=me("OR"),N=fe("or",!0),I=me("AND"),A=fe("and",!0),M=me("NOT"),k=fe("not",!0),C=me("literal"),z=fe('"',!1),V=fe("\\",!1),L=pe(["\\",'"'],!1,!1),B=pe(['"'],!0,!1),q={type:"any"},R=fe("*",!1),D=fe("\\t",!1),G=fe("\\r",!1),Q=fe("\\n",!1),U=pe(["\\","(",")",":","<",">",'"',"*","{","}"],!1,!1),H=fe("u",!1),$=pe([["0","9"],["a","f"]],!1,!0),J=fe("<=",!1),Y=fe(">=",!1),W=fe("<",!1),K=fe(">",!1),Z=me("whitespace"),X=pe([" ","\t","\r","\n"," "],!1,!1),ee=fe("@kuery-cursor@",!1),te=function(e,t){return t},re=function(e,t){return t},ne=function(e){if("cursor"===e.type)return e;!He&&"wildcard"===e.type&&$e.wildcard.hasLeadingWildcard(e)&&function(e,t){throw t=void 0!==t?t:he(oe,se),function(e,t){return new n(e,null,null,t)}(e,t)}("Leading wildcards are disabled. See query:allowLeadingWildcards in Advanced Settings.");const t=Ye(!1);return r=>Je("is",[r,e,t])},ae=function(){return Qe},ie=function(t,r,n){const{start:a,end:i}=he(oe,se);return{type:"cursor",start:a.offset,end:i.offset-r.length,prefix:t.join(""),suffix:n.join(""),text:e.substring(oe,se).replace(r,"")}},se=0,oe=0,le=[{line:1,column:1}],ue=0,ce=[],de=0;if("startRule"in t){if(!(t.startRule in s))throw new Error("Can't start parsing from rule \""+t.startRule+'".');o=s[t.startRule]}function fe(e,t){return{type:"literal",text:e,ignoreCase:t}}function pe(e,t,r){return{type:"class",parts:e,inverted:t,ignoreCase:r}}function me(e){return{type:"other",description:e}}function ge(t){var r,n=le[t];if(n)return n;for(r=t-1;!le[r];)r--;for(n={line:(n=le[r]).line,column:n.column};r<t;)10===e.charCodeAt(r)?(n.line++,n.column=1):n.column++,r++;return le[t]=n,n}function he(e,t){var r=ge(e),n=ge(t);return{source:i,start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:n.line,column:n.column}}}function be(e){se<ue||(se>ue&&(ue=se,ce=[]),ce.push(e))}function xe(e,t,r){return new n(n.buildMessage(e,t),e,t,r)}function ye(){var e,t,r,n,i,s;for(e=se,t=[],r=De();r!==a;)t.push(r),r=De();return(r=ve())===a&&(r=null),(n=Ve())!==a?(oe=e,i=r,e="cursor"===(s=n).type?{...s,suggestionTypes:["conjunction"]}:null!==i?i:$e.function.buildNode("is","*","*")):(se=e,e=a),e}function ve(){var e,t,r,n,i;if(e=se,(t=je())!==a){if(r=[],n=se,Pe()!==a&&(i=je())!==a?(oe=n,n=te(0,i)):(se=n,n=a),n!==a)for(;n!==a;)r.push(n),n=se,Pe()!==a&&(i=je())!==a?(oe=n,n=te(0,i)):(se=n,n=a);else r=a;r!==a?(oe=e,e=function(e,t){const r=[e,...t];return Qe&&r.find((e=>"cursor"===e.type))||Je("or",r)}(t,r)):(se=e,e=a)}else se=e,e=a;return e===a&&(e=je()),e}function je(){var e,t,r,n,i;if(e=se,(t=Oe())!==a){if(r=[],n=se,Ne()!==a&&(i=Oe())!==a?(oe=n,n=te(0,i)):(se=n,n=a),n!==a)for(;n!==a;)r.push(n),n=se,Ne()!==a&&(i=Oe())!==a?(oe=n,n=te(0,i)):(se=n,n=a);else r=a;r!==a?(oe=e,e=function(e,t){const r=[e,...t];return Qe&&r.find((e=>"cursor"===e.type))||Je("and",r)}(t,r)):(se=e,e=a)}else se=e,e=a;return e===a&&(e=Oe()),e}function Oe(){var e,t,r;return e=se,Ie()!==a&&(t=Se())!==a?(oe=e,e="cursor"===(r=t).type?r:Je("not",[r])):(se=e,e=a),e===a&&(e=Se()),e}function Se(){var t,r,n,i,s,o,u,c;if(t=se,40===e.charCodeAt(se)?(r="(",se++):(r=a,0===de&&be(O)),r!==a){for(n=[],i=De();i!==a;)n.push(i),i=De();(i=ve())!==a&&(s=Ve())!==a?(41===e.charCodeAt(se)?(o=")",se++):(o=a,0===de&&be(S)),o!==a?(oe=t,u=i,t="cursor"===(c=s).type?{...c,suggestionTypes:["conjunction"]}:u):(se=t,t=a)):(se=t,t=a)}else se=t,t=a;return t===a&&(t=function(){var t,r,n,i,s,o,u,c,d,f;if(t=se,(r=_e())!==a){for(n=[],i=De();i!==a;)n.push(i),i=De();if(58===e.charCodeAt(se)?(i=":",se++):(i=a,0===de&&be(_)),i!==a){for(s=[],o=De();o!==a;)s.push(o),o=De();if(123===e.charCodeAt(se)?(o="{",se++):(o=a,0===de&&be(E)),o!==a){for(u=[],c=De();c!==a;)u.push(c),c=De();(c=ve())!==a&&(d=Ve())!==a?(125===e.charCodeAt(se)?(f="}",se++):(f=a,0===de&&be(F)),f!==a?(oe=t,t=function(e,t,r){return"cursor"===t.type?{...t,nestedPath:t.nestedPath?`${e.value}.${t.nestedPath}`:e.value}:"cursor"===r.type?{...r,suggestionTypes:["conjunction"]}:Je("nested",[e,t])}(r,c,d)):(se=t,t=a)):(se=t,t=a)}else se=t,t=a}else se=t,t=a}else se=t,t=a;t===a&&(t=function(){var t;t=function(){var t,r,n,i,s,o;if(t=se,(r=_e())!==a){for(n=[],i=De();i!==a;)n.push(i),i=De();if(i=function(){var t,r;t=se,e.substr(se,2)===m?(r=m,se+=2):(r=a,0===de&&be(J));r!==a&&(oe=t,r="lte");(t=r)===a&&(t=se,e.substr(se,2)===g?(r=g,se+=2):(r=a,0===de&&be(Y)),r!==a&&(oe=t,r="gte"),(t=r)===a&&(t=se,60===e.charCodeAt(se)?(r="<",se++):(r=a,0===de&&be(W)),r!==a&&(oe=t,r="lt"),(t=r)===a&&(t=se,62===e.charCodeAt(se)?(r=">",se++):(r=a,0===de&&be(K)),r!==a&&(oe=t,r="gt"),t=r)));return t}(),i!==a){for(s=[],o=De();o!==a;)s.push(o),o=De();(o=Ae())!==a?(oe=t,t=function(e,t,r){if("cursor"===r.type)return{...r,suggestionTypes:["conjunction"]};const n=Ke(t,r);return Je("range",[e,n])}(r,i,o)):(se=t,t=a)}else se=t,t=a}else se=t,t=a;return t}(),t===a&&(t=function(){var t,r,n,i,s,o;if(t=se,(r=_e())!==a){for(n=[],i=De();i!==a;)n.push(i),i=De();if(58===e.charCodeAt(se)?(i=l,se++):(i=a,0===de&&be(_)),i!==a){for(s=[],o=De();o!==a;)s.push(o),o=De();(o=Ee())!==a?(oe=t,u=r,t="cursor"===(c=o).type?{...c,fieldName:u.value,suggestionTypes:["value","conjunction"]}:c(u)):(se=t,t=a)}else se=t,t=a}else se=t,t=a;var u,c;return t}(),t===a&&(t=function(){var e,t;e=se,(t=Te())!==a&&(oe=e,t=function(e){if("cursor"===e.type){const t=`${e.prefix}${e.suffix}`.trim();return{...e,fieldName:t,suggestionTypes:["field","operator","conjunction"]}}return e(Ye(null))}(t));return e=t}()));return t}());return t}()),t}function _e(){var e;return de++,e=Ae(),de--,e===a&&(a,0===de&&be(w)),e}function Ee(){var t,r,n,i,s,o,l,u;if(t=se,40===e.charCodeAt(se)?(r="(",se++):(r=a,0===de&&be(O)),r!==a){for(n=[],i=De();i!==a;)n.push(i),i=De();i=function(){var e,t,r,n,i;if(e=se,(t=Fe())!==a){if(r=[],n=se,Pe()!==a&&(i=Fe())!==a?(oe=n,n=re(0,i)):(se=n,n=a),n!==a)for(;n!==a;)r.push(n),n=se,Pe()!==a&&(i=Fe())!==a?(oe=n,n=re(0,i)):(se=n,n=a);else r=a;r!==a?(oe=e,e=function(e,t){const r=[e,...t],n=Qe&&r.find((e=>"cursor"===e.type));return n?{...n,suggestionTypes:["value"]}:e=>Je("or",r.map((t=>t(e))))}(t,r)):(se=e,e=a)}else se=e,e=a;e===a&&(e=Fe());return e}(),i!==a&&(s=Ve())!==a?(41===e.charCodeAt(se)?(o=")",se++):(o=a,0===de&&be(S)),o!==a?(oe=t,l=i,t="cursor"===(u=s).type?{...u,suggestionTypes:["conjunction"]}:l):(se=t,t=a)):(se=t,t=a)}else se=t,t=a;return t===a&&(t=Te()),t}function Fe(){var e,t,r,n,i;if(e=se,(t=we())!==a){if(r=[],n=se,Ne()!==a&&(i=we())!==a?(oe=n,n=re(0,i)):(se=n,n=a),n!==a)for(;n!==a;)r.push(n),n=se,Ne()!==a&&(i=we())!==a?(oe=n,n=re(0,i)):(se=n,n=a);else r=a;r!==a?(oe=e,e=function(e,t){const r=[e,...t],n=Qe&&r.find((e=>"cursor"===e.type));return n?{...n,suggestionTypes:["value"]}:e=>Je("and",r.map((t=>t(e))))}(t,r)):(se=e,e=a)}else se=e,e=a;return e===a&&(e=we()),e}function we(){var e,t,r;return e=se,Ie()!==a&&(t=Ee())!==a?(oe=e,e="cursor"===(r=t).type?{...list,suggestionTypes:["value"]}:e=>Je("not",[r(e)])):(se=e,e=a),e===a&&(e=Ee()),e}function Te(){var e,t;return de++,e=se,(t=Me())!==a&&(oe=e,t=function(e){if("cursor"===e.type)return e;const t=Ye(!0);return r=>Je("is",[r,e,t])}(t)),(e=t)===a&&(e=se,(t=Ce())!==a&&(oe=e,t=ne(t)),e=t),de--,e===a&&(t=a,0===de&&be(T)),e}function Pe(){var t,r,n,i,s;if(de++,t=se,r=[],(n=De())!==a)for(;n!==a;)r.push(n),n=De();else r=a;if(r!==a)if("or"===e.substr(se,2).toLowerCase()?(n=e.substr(se,2),se+=2):(n=a,0===de&&be(N)),n!==a){if(i=[],(s=De())!==a)for(;s!==a;)i.push(s),s=De();else i=a;i!==a?t=r=[r,n,i]:(se=t,t=a)}else se=t,t=a;else se=t,t=a;return de--,t===a&&(r=a,0===de&&be(P)),t}function Ne(){var t,r,n,i,s;if(de++,t=se,r=[],(n=De())!==a)for(;n!==a;)r.push(n),n=De();else r=a;if(r!==a)if("and"===e.substr(se,3).toLowerCase()?(n=e.substr(se,3),se+=3):(n=a,0===de&&be(A)),n!==a){if(i=[],(s=De())!==a)for(;s!==a;)i.push(s),s=De();else i=a;i!==a?t=r=[r,n,i]:(se=t,t=a)}else se=t,t=a;else se=t,t=a;return de--,t===a&&(r=a,0===de&&be(I)),t}function Ie(){var t,r,n,i;if(de++,t=se,"not"===e.substr(se,3).toLowerCase()?(r=e.substr(se,3),se+=3):(r=a,0===de&&be(k)),r!==a){if(n=[],(i=De())!==a)for(;i!==a;)n.push(i),i=De();else n=a;n!==a?t=r=[r,n]:(se=t,t=a)}else se=t,t=a;return de--,t===a&&(r=a,0===de&&be(M)),t}function Ae(){var e;return de++,(e=Me())===a&&(e=Ce()),de--,e===a&&(a,0===de&&be(C)),e}function Me(){var t,r,n,i,s,o,l;if(t=se,oe=se,(r=(r=ae())?void 0:a)!==a)if(34===e.charCodeAt(se)?(n=f,se++):(n=a,0===de&&be(z)),n!==a){for(i=[],s=ke();s!==a;)i.push(s),s=ke();if((s=Ge())!==a){for(o=[],l=ke();l!==a;)o.push(l),l=ke();34===e.charCodeAt(se)?(l=f,se++):(l=a,0===de&&be(z)),l!==a?(oe=t,t=ie(i,s,o)):(se=t,t=a)}else se=t,t=a}else se=t,t=a;else se=t,t=a;if(t===a)if(t=se,34===e.charCodeAt(se)?(r=f,se++):(r=a,0===de&&be(z)),r!==a){for(n=[],i=ke();i!==a;)n.push(i),i=ke();34===e.charCodeAt(se)?(i=f,se++):(i=a,0===de&&be(z)),i!==a?(oe=t,t=Ye(n.join(""))):(se=t,t=a)}else se=t,t=a;return t}function ke(){var t,r,n;return(t=Le())===a&&(t=qe())===a&&(t=se,92===e.charCodeAt(se)?(r=p,se++):(r=a,0===de&&be(V)),r!==a?(b.test(e.charAt(se))?(n=e.charAt(se),se++):(n=a,0===de&&be(L)),n!==a?(oe=t,t=n):(se=t,t=a)):(se=t,t=a),t===a&&(t=se,r=se,de++,n=Ge(),de--,n===a?r=void 0:(se=r,r=a),r!==a?(x.test(e.charAt(se))?(n=e.charAt(se),se++):(n=a,0===de&&be(B)),n!==a?(oe=t,t=n):(se=t,t=a)):(se=t,t=a))),t}function Ce(){var e,t,r,n,i,s;if(e=se,oe=se,(t=(t=ae())?void 0:a)!==a){for(r=[],n=ze();n!==a;)r.push(n),n=ze();if((n=Ge())!==a){for(i=[],s=ze();s!==a;)i.push(s),s=ze();oe=e,e=ie(r,n,i)}else se=e,e=a}else se=e,e=a;if(e===a){if(e=se,t=[],(r=ze())!==a)for(;r!==a;)t.push(r),r=ze();else t=a;t!==a&&(oe=e,t=function(e){const t=e.join("").trim();return"null"===t?Ye(null):"true"===t?Ye(!0):"false"===t?Ye(!1):e.includes(Ze)?We(t):Ye(t)}(t)),e=t}return e}function ze(){var t,r,n,i,s;return(t=Le())===a&&(t=function(){var t,r,n;t=se,92===e.charCodeAt(se)?(r=p,se++):(r=a,0===de&&be(V));r!==a&&(n=Be())!==a?(oe=t,t=n):(se=t,t=a);return t}(),t===a&&(t=qe())===a&&(t=function(){var t,r,n;t=se,92===e.charCodeAt(se)?(r=p,se++):(r=a,0===de&&be(V));r!==a?(e.substr(se,2).toLowerCase()===u?(n=e.substr(se,2),se+=2):(n=a,0===de&&be(N)),n===a&&(e.substr(se,3).toLowerCase()===c?(n=e.substr(se,3),se+=3):(n=a,0===de&&be(A)),n===a&&(e.substr(se,3).toLowerCase()===d?(n=e.substr(se,3),se+=3):(n=a,0===de&&be(k)))),n!==a?(oe=t,t=n):(se=t,t=a)):(se=t,t=a);return t}(),t===a&&(t=function(){var t,r;t=se,42===e.charCodeAt(se)?(r="*",se++):(r=a,0===de&&be(R));r!==a&&(oe=t,r=Ze);return t=r}(),t===a&&(t=se,r=se,de++,n=Be(),de--,n===a?r=void 0:(se=r,r=a),r!==a?(n=se,de++,i=function(){var e;(e=Pe())===a&&(e=Ne())===a&&(e=Ie());return e}(),de--,i===a?n=void 0:(se=n,n=a),n!==a?(i=se,de++,s=Ge(),de--,s===a?i=void 0:(se=i,i=a),i!==a?(e.length>se?(s=e.charAt(se),se++):(s=a,0===de&&be(q)),s!==a?(oe=t,t=s):(se=t,t=a)):(se=t,t=a)):(se=t,t=a)):(se=t,t=a))))),t}function Ve(){var e,t,r,n,i,s;if(e=se,oe=se,(t=(t=ae())?void 0:a)!==a){for(r=[],n=De();n!==a;)r.push(n),n=De();if((n=Ge())!==a){for(i=[],s=De();s!==a;)i.push(s),s=De();oe=e,e=ie(r,n,i)}else se=e,e=a}else se=e,e=a;if(e===a)for(e=[],t=De();t!==a;)e.push(t),t=De();return e}function Le(){var t,r;return t=se,"\\t"===e.substr(se,2)?(r="\\t",se+=2):(r=a,0===de&&be(D)),r!==a&&(oe=t,r="\t"),(t=r)===a&&(t=se,"\\r"===e.substr(se,2)?(r="\\r",se+=2):(r=a,0===de&&be(G)),r!==a&&(oe=t,r="\r"),(t=r)===a&&(t=se,"\\n"===e.substr(se,2)?(r="\\n",se+=2):(r=a,0===de&&be(Q)),r!==a&&(oe=t,r="\n"),t=r)),t}function Be(){var t;return y.test(e.charAt(se))?(t=e.charAt(se),se++):(t=a,0===de&&be(U)),t}function qe(){var t,r,n;return t=se,92===e.charCodeAt(se)?(r=p,se++):(r=a,0===de&&be(V)),r!==a?(n=function(){var t,r,n,i,s,o,l,u;t=se,117===e.charCodeAt(se)?(r="u",se++):(r=a,0===de&&be(H));r!==a?(n=se,i=se,(s=Re())!==a&&(o=Re())!==a&&(l=Re())!==a&&(u=Re())!==a?i=s=[s,o,l,u]:(se=i,i=a),(n=i!==a?e.substring(n,se):i)!==a?(oe=t,c=n,t=String.fromCharCode(parseInt(c,16))):(se=t,t=a)):(se=t,t=a);var c;return t}(),n!==a?(oe=t,t=n):(se=t,t=a)):(se=t,t=a),t}function Re(){var t;return v.test(e.charAt(se))?(t=e.charAt(se),se++):(t=a,0===de&&be($)),t}function De(){var t;return de++,j.test(e.charAt(se))?(t=e.charAt(se),se++):(t=a,0===de&&be(X)),de--,t===a&&(a,0===de&&be(Z)),t}function Ge(){var t,r;return t=se,oe=se,(ae()?void 0:a)!==a?(e.substr(se,14)===h?(r=h,se+=14):(r=a,0===de&&be(ee)),r!==a?(oe=t,t=Ue):(se=t,t=a)):(se=t,t=a),t}const{parseCursor:Qe,cursorSymbol:Ue,allowLeadingWildcards:He=!0,helpers:{nodeTypes:$e}}=t,Je=$e.function.buildNodeWithArgumentNodes,Ye=$e.literal.buildNode,We=$e.wildcard.buildNode,Ke=$e.namedArg.buildNode,{wildcardSymbol:Ze}=$e.wildcard;if((r=o())!==a&&se===e.length)return r;throw r!==a&&se<e.length&&be({type:"end"}),xe(ce,ue<e.length?e.charAt(ue):null,ue<e.length?he(ue,ue+1):he(ue,ue))}}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,r){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},function(e,t,r){"use strict";var n="%[a-f0-9]{2}",a=new RegExp(n,"gi"),i=new RegExp("("+n+")+","gi");function s(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var r=e.slice(0,t),n=e.slice(t);return Array.prototype.concat.call([],s(r),s(n))}function o(e){try{return decodeURIComponent(e)}catch(n){for(var t=e.match(a),r=1;r<t.length;r++)t=(e=s(t,r).join("")).match(a);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},r=i.exec(e);r;){try{t[r[0]]=decodeURIComponent(r[0])}catch(e){var n=o(r[0]);n!==r[0]&&(t[r[0]]=n)}r=i.exec(e)}t["%C2"]="�";for(var a=Object.keys(t),s=0;s<a.length;s++){var l=a[s];e=e.replace(new RegExp(l,"g"),t[l])}return e}(e)}}},function(e,t,r){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const r=e.indexOf(t);return-1===r?[e]:[e.slice(0,r),e.slice(r+t.length)]}},function(e,t,r){switch(window.__kbnThemeTag__){case"v7dark":return r(121);case"v7light":return r(123);case"v8dark":return r(125);case"v8light":return r(127)}},function(e,t,r){var n=r(39),a=r(122);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1};n(a,i);e.exports=a.locals||{}},function(e,t,r){(t=r(40)(!1)).push([e.i,".dvSearchPanel__controls{flex-direction:row;padding:8px}@media only screen and (max-width: 574px){.dvSearchPanel__container{flex-direction:column}.dvSearchBar{min-width:max(100%, 500px)}.dvSearchPanel__controls{padding:0}.globalFilterGroup__wrapper-isVisible{margin:0 !important}}@media only screen and (min-width: 575px) and (max-width: 767px){.dvSearchPanel__container{flex-direction:column}.dvSearchBar{min-width:max(100%, 500px)}.dvSearchPanel__controls{padding:0}.globalFilterGroup__wrapper-isVisible{margin:0 !important}}@media only screen and (min-width: 768px) and (max-width: 991px){.dvSearchPanel__container{flex-direction:column}.dvSearchBar{min-width:max(100%, 500px)}.dvSearchPanel__controls{padding:0}.globalFilterGroup__wrapper-isVisible{margin:0 !important}}@media only screen and (min-width: 992px) and (max-width: 1199px){.dvSearchPanel__container{flex-direction:column}.dvSearchBar{min-width:max(100%, 500px)}.dvSearchPanel__controls{padding:0}.globalFilterGroup__wrapper-isVisible{margin:0 !important}}\n",""]),e.exports=t},function(e,t,r){var n=r(39),a=r(124);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1};n(a,i);e.exports=a.locals||{}},function(e,t,r){(t=r(40)(!1)).push([e.i,".dvSearchPanel__controls{flex-direction:row;padding:8px}@media only screen and (max-width: 574px){.dvSearchPanel__container{flex-direction:column}.dvSearchBar{min-width:max(100%, 500px)}.dvSearchPanel__controls{padding:0}.globalFilterGroup__wrapper-isVisible{margin:0 !important}}@media only screen and (min-width: 575px) and (max-width: 767px){.dvSearchPanel__container{flex-direction:column}.dvSearchBar{min-width:max(100%, 500px)}.dvSearchPanel__controls{padding:0}.globalFilterGroup__wrapper-isVisible{margin:0 !important}}@media only screen and (min-width: 768px) and (max-width: 991px){.dvSearchPanel__container{flex-direction:column}.dvSearchBar{min-width:max(100%, 500px)}.dvSearchPanel__controls{padding:0}.globalFilterGroup__wrapper-isVisible{margin:0 !important}}@media only screen and (min-width: 992px) and (max-width: 1199px){.dvSearchPanel__container{flex-direction:column}.dvSearchBar{min-width:max(100%, 500px)}.dvSearchPanel__controls{padding:0}.globalFilterGroup__wrapper-isVisible{margin:0 !important}}\n",""]),e.exports=t},function(e,t,r){var n=r(39),a=r(126);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1};n(a,i);e.exports=a.locals||{}},function(e,t,r){(t=r(40)(!1)).push([e.i,".dvSearchPanel__controls{flex-direction:row;padding:8px}@media only screen and (max-width: 574px){.dvSearchPanel__container{flex-direction:column}.dvSearchBar{min-width:max(100%, 500px)}.dvSearchPanel__controls{padding:0}.globalFilterGroup__wrapper-isVisible{margin:0 !important}}@media only screen and (min-width: 575px) and (max-width: 767px){.dvSearchPanel__container{flex-direction:column}.dvSearchBar{min-width:max(100%, 500px)}.dvSearchPanel__controls{padding:0}.globalFilterGroup__wrapper-isVisible{margin:0 !important}}@media only screen and (min-width: 768px) and (max-width: 991px){.dvSearchPanel__container{flex-direction:column}.dvSearchBar{min-width:max(100%, 500px)}.dvSearchPanel__controls{padding:0}.globalFilterGroup__wrapper-isVisible{margin:0 !important}}@media only screen and (min-width: 992px) and (max-width: 1199px){.dvSearchPanel__container{flex-direction:column}.dvSearchBar{min-width:max(100%, 500px)}.dvSearchPanel__controls{padding:0}.globalFilterGroup__wrapper-isVisible{margin:0 !important}}\n",""]),e.exports=t},function(e,t,r){var n=r(39),a=r(128);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1};n(a,i);e.exports=a.locals||{}},function(e,t,r){(t=r(40)(!1)).push([e.i,".dvSearchPanel__controls{flex-direction:row;padding:8px}@media only screen and (max-width: 574px){.dvSearchPanel__container{flex-direction:column}.dvSearchBar{min-width:max(100%, 500px)}.dvSearchPanel__controls{padding:0}.globalFilterGroup__wrapper-isVisible{margin:0 !important}}@media only screen and (min-width: 575px) and (max-width: 767px){.dvSearchPanel__container{flex-direction:column}.dvSearchBar{min-width:max(100%, 500px)}.dvSearchPanel__controls{padding:0}.globalFilterGroup__wrapper-isVisible{margin:0 !important}}@media only screen and (min-width: 768px) and (max-width: 991px){.dvSearchPanel__container{flex-direction:column}.dvSearchBar{min-width:max(100%, 500px)}.dvSearchPanel__controls{padding:0}.globalFilterGroup__wrapper-isVisible{margin:0 !important}}@media only screen and (min-width: 992px) and (max-width: 1199px){.dvSearchPanel__container{flex-direction:column}.dvSearchBar{min-width:max(100%, 500px)}.dvSearchPanel__controls{padding:0}.globalFilterGroup__wrapper-isVisible{margin:0 !important}}\n",""]),e.exports=t},function(e,t,r){e.exports=r(17)(2384)},function(e,t,r){e.exports=r(17)(1070)},function(e,t,r){e.exports=r(17)(2391)},function(e,t,r){e.exports=r(17)(2389)},function(e,t,r){e.exports=r(17)(2401)},function(e,t,r){switch(window.__kbnThemeTag__){case"v7dark":return r(135);case"v7light":return r(137);case"v8dark":return r(139);case"v8light":return r(141)}},function(e,t,r){var n=r(39),a=r(136);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1};n(a,i);e.exports=a.locals||{}},function(e,t,r){(t=r(40)(!1)).push([e.i,".dataViewTitleHeader{min-width:300px;display:flex;flex-direction:row;align-items:center}@media only screen and (max-width: 574px){.dataVisualizerPageHeader{flex-direction:column;align-items:flex-start}}@media only screen and (min-width: 575px) and (max-width: 767px){.dataVisualizerPageHeader{flex-direction:column;align-items:flex-start}}@media only screen and (min-width: 768px) and (max-width: 991px){.dataVisualizerPageHeader{flex-direction:column;align-items:flex-start}}@media only screen and (min-width: 992px) and (max-width: 1199px){.dataVisualizerPageHeader{flex-direction:column;align-items:flex-start}}\n",""]),e.exports=t},function(e,t,r){var n=r(39),a=r(138);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1};n(a,i);e.exports=a.locals||{}},function(e,t,r){(t=r(40)(!1)).push([e.i,".dataViewTitleHeader{min-width:300px;display:flex;flex-direction:row;align-items:center}@media only screen and (max-width: 574px){.dataVisualizerPageHeader{flex-direction:column;align-items:flex-start}}@media only screen and (min-width: 575px) and (max-width: 767px){.dataVisualizerPageHeader{flex-direction:column;align-items:flex-start}}@media only screen and (min-width: 768px) and (max-width: 991px){.dataVisualizerPageHeader{flex-direction:column;align-items:flex-start}}@media only screen and (min-width: 992px) and (max-width: 1199px){.dataVisualizerPageHeader{flex-direction:column;align-items:flex-start}}\n",""]),e.exports=t},function(e,t,r){var n=r(39),a=r(140);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1};n(a,i);e.exports=a.locals||{}},function(e,t,r){(t=r(40)(!1)).push([e.i,".dataViewTitleHeader{min-width:300px;display:flex;flex-direction:row;align-items:center}@media only screen and (max-width: 574px){.dataVisualizerPageHeader{flex-direction:column;align-items:flex-start}}@media only screen and (min-width: 575px) and (max-width: 767px){.dataVisualizerPageHeader{flex-direction:column;align-items:flex-start}}@media only screen and (min-width: 768px) and (max-width: 991px){.dataVisualizerPageHeader{flex-direction:column;align-items:flex-start}}@media only screen and (min-width: 992px) and (max-width: 1199px){.dataVisualizerPageHeader{flex-direction:column;align-items:flex-start}}\n",""]),e.exports=t},function(e,t,r){var n=r(39),a=r(142);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var i={insert:"head",singleton:!1};n(a,i);e.exports=a.locals||{}},function(e,t,r){(t=r(40)(!1)).push([e.i,".dataViewTitleHeader{min-width:300px;display:flex;flex-direction:row;align-items:center}@media only screen and (max-width: 574px){.dataVisualizerPageHeader{flex-direction:column;align-items:flex-start}}@media only screen and (min-width: 575px) and (max-width: 767px){.dataVisualizerPageHeader{flex-direction:column;align-items:flex-start}}@media only screen and (min-width: 768px) and (max-width: 991px){.dataVisualizerPageHeader{flex-direction:column;align-items:flex-start}}@media only screen and (min-width: 992px) and (max-width: 1199px){.dataVisualizerPageHeader{flex-direction:column;align-items:flex-start}}\n",""]),e.exports=t}])]);