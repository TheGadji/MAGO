/*! Copyright Elasticsearch B.V. and/or licensed to Elasticsearch B.V. under one or more contributor license agreements. 
 * Licensed under the Elastic License 2.0; you may not use this file except in compliance with the Elastic License 2.0. */
(window.uptime_bundle_jsonpfunction=window.uptime_bundle_jsonpfunction||[]).push([[3],{102:function(e,t,n){e.exports=n(24)(2397)},104:function(e,t,n){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,(e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`))},105:function(e,t,n){"use strict";var r="%[a-f0-9]{2}",a=new RegExp(r,"gi"),i=new RegExp("("+r+")+","gi");function s(e,t){try{return decodeURIComponent(e.join(""))}catch(e){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],s(n),s(r))}function o(e){try{return decodeURIComponent(e)}catch(r){for(var t=e.match(a),n=1;n<t.length;n++)t=(e=s(t,n).join("")).match(a);return e}}e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var t={"%FE%FF":"��","%FF%FE":"��"},n=i.exec(e);n;){try{t[n[0]]=decodeURIComponent(n[0])}catch(e){var r=o(n[0]);r!==n[0]&&(t[n[0]]=r)}n=i.exec(e)}t["%C2"]="�";for(var a=Object.keys(t),s=0;s<a.length;s++){var u=a[s];e=e.replace(new RegExp(u,"g"),t[u])}return e}(e)}}},106:function(e,t,n){"use strict";e.exports=(e,t)=>{if("string"!=typeof e||"string"!=typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},112:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(29),a=n(1),i=r.__importDefault(n(199)),s=n(202);t.default=function(e,t){void 0===e&&(e=1/0),void 0===t&&(t=1/0);var n=i.default({width:s.isClient?window.innerWidth:e,height:s.isClient?window.innerHeight:t}),r=n[0],o=n[1];return a.useEffect((function(){if(s.isClient){var e=function(){o({width:window.innerWidth,height:window.innerHeight})};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}}),[]),r}},113:function(e,t,n){"use strict";n.d(t,"a",(function(){return U}));var r=n(1),a=n.n(r),i=n(19),s=n(20),o=n(84),u=n(65);const l=({"aria-label":e,"data-test-subj":t,disabled:n,fieldValue:s,setFieldValue:o})=>{const[u,l]=Object(r.useState)(!1);return a.a.createElement(i.EuiFieldNumber,{"aria-label":e,compressed:!0,"data-test-subj":t,min:1,onChange:e=>((e,t,n,r)=>{const a=parseInt(e.target.value,10);isNaN(a)||a<1?n(!0):(t&&n(!1),r(a))})(e,u,l,o),disabled:n,value:s,isInvalid:u})},c=({defaultNumTimes:e,hasFilters:t,isEnabled:n,setAlertParams:i})=>{const[s,c]=Object(r.useState)(null!=e?e:5);return Object(r.useEffect)((()=>{i("numTimes",s)}),[s,i]),a.a.createElement(o.a,{"aria-label":u.B,content:a.a.createElement(l,{"aria-label":u.p,"data-test-subj":"xpack.uptime.alerts.monitorStatus.numTimesField",disabled:!1,fieldValue:s,setFieldValue:c}),"data-test-subj":"xpack.uptime.alerts.monitorStatus.numTimesExpression",description:t?u.w:u.c,id:"ping-count",isEnabled:n,value:`${s} times`})};var d=n(143),f=n(0);const p={USING:f.i18n.translate("xpack.uptime.alerts.monitorStatus.filters.using",{defaultMessage:"Using"}),USING_PORT:f.i18n.translate("xpack.uptime.alerts.monitorStatus.filters.usingPort",{defaultMessage:"Using port"}),ANY_PORT:f.i18n.translate("xpack.uptime.alerts.monitorStatus.filters.anyPort",{defaultMessage:"any port"}),WITH:f.i18n.translate("xpack.uptime.alerts.monitorStatus.filters.with",{defaultMessage:"Using"}),WITH_TAG:f.i18n.translate("xpack.uptime.alerts.monitorStatus.filters.withTag",{defaultMessage:"With tag"}),ANY_TAG:f.i18n.translate("xpack.uptime.alerts.monitorStatus.filters.anyTag",{defaultMessage:"any tag"}),OF:f.i18n.translate("xpack.uptime.alerts.monitorStatus.filters.of",{defaultMessage:"Of"}),OF_TYPE:f.i18n.translate("xpack.uptime.alerts.monitorStatus.filters.ofType",{defaultMessage:"Of type"}),ANY_TYPE:f.i18n.translate("xpack.uptime.alerts.monitorStatus.filters.anyType",{defaultMessage:"any type"}),FROM:f.i18n.translate("xpack.uptime.alerts.monitorStatus.filters.from",{defaultMessage:"From"}),FROM_LOCATION:f.i18n.translate("xpack.uptime.alerts.monitorStatus.filters.fromLocation",{defaultMessage:"From location"}),ANY_LOCATION:f.i18n.translate("xpack.uptime.alerts.monitorStatus.filters.anyLocation",{defaultMessage:"any location"}),REMOVE_FILTER_LABEL:e=>f.i18n.translate("xpack.uptime.alerts.monitorExpression.label",{defaultMessage:"Remove filter {title}",values:{title:e}})},m={ENABLED_CHECKBOX:f.i18n.translate("xpack.uptime.alerts.monitorStatus.statusEnabledCheck.label",{defaultMessage:"Status check"})},g={OPEN_TIME_POPOVER:f.i18n.translate("xpack.uptime.alerts.monitorStatus.timerangeUnitExpression.ariaLabel",{defaultMessage:"Open the popover for time range unit select field"}),SELECT_TIME_RANGE_ARIA:f.i18n.translate("xpack.uptime.alerts.monitorStatus.timerangeUnitSelectable",{defaultMessage:"Selectable field for the time range units alerts should use"}),SELECT_TIME_RANGE_HEADLINE:f.i18n.translate("xpack.uptime.alerts.monitorStatus.timerangeSelectionHeader",{defaultMessage:"Select time range unit"})},h={PORT:f.i18n.translate("xpack.uptime.alerts.monitorStatus.filters.port.label",{defaultMessage:"Select port filters to apply to the alert's query."}),TAG:f.i18n.translate("xpack.uptime.alerts.monitorStatus.filters.tag.label",{defaultMessage:"Select tag filters to apply to the alert's query."}),SCHEME:f.i18n.translate("xpack.uptime.alerts.monitorStatus.filters.scheme.label",{defaultMessage:"Select protocol scheme filters to apply to the alert's query."}),LOCATION:f.i18n.translate("xpack.uptime.alerts.monitorStatus.filters.location.label",{defaultMessage:"Select location filters to apply to the alert's query."})};var v=n(22),b=n(64),y=n(45),E=n(43);const{TYPE:x,TAGS:O,LOCATION:S,PORT:k}=y.j,A=({alertParams:e,newFilters:t,onRemoveFilter:n,setAlertParams:s})=>{var o,u,l,c;const f=null==e?void 0:e.filters,m=null!==(o=null==f?void 0:f[k])&&void 0!==o?o:[],g=null!==(u=null==f?void 0:f[S])&&void 0!==u?u:[],y=null!==(l=null==f?void 0:f[x])&&void 0!==l?l:[],A=null!==(c=null==f?void 0:f[O])&&void 0!==c?c:[],{dateRangeStart:j,dateRangeEnd:T}=Object(E.f)(),C=(t,n)=>{e.filters&&"string"!=typeof e.filters?s("filters",{...e.filters,[t]:n}):s("filters",Object.assign({},{[O]:[],[k]:[],[S]:[],[x]:[]},{[t]:null!=n?n:[]}))},w=[{ariaLabel:h.PORT,onFilterFieldChange:C,loading:!1,fieldName:"url.port",id:"filter_port",selectedItems:m,title:d.a.PORT,description:0===m.length?p.USING:p.USING_PORT,value:0===m.length?p.ANY_PORT:null==m?void 0:m.join(",")},{ariaLabel:h.TAG,onFilterFieldChange:C,loading:!1,fieldName:"tags",id:"filter_tags",selectedItems:A,title:d.a.TAG,description:0===A.length?p.WITH:p.WITH_TAG,value:0===A.length?p.ANY_TAG:null==A?void 0:A.join(",")},{ariaLabel:h.SCHEME,onFilterFieldChange:C,loading:!1,fieldName:"monitor.type",id:"filter_scheme",selectedItems:y,title:d.a.SCHEME,description:0===y.length?p.OF:p.OF_TYPE,value:0===y.length?p.ANY_TYPE:null==y?void 0:y.join(",")},{ariaLabel:h.LOCATION,onFilterFieldChange:C,loading:!1,fieldName:"observer.geo.name",id:"filter_location",selectedItems:g,title:d.a.LOCATION,description:0===g.length?p.FROM:p.FROM_LOCATION,value:0===g.length?p.ANY_LOCATION:null==g?void 0:g.join(",")}],[M,_]=Object(r.useState)({filter_port:!1,filter_tags:!1,filter_scheme:!1,filter_location:!1}),I=w.filter((e=>e.selectedItems.length>0||(null==t?void 0:t.includes(e.fieldName)))),L=Object(b.b)();return a.a.createElement(a.a.Fragment,null,I.map((({description:e,id:t,title:r,value:s,fieldName:o,ariaLabel:u,selectedItems:l})=>a.a.createElement(i.EuiFlexGroup,{key:t},a.a.createElement(i.EuiFlexItem,null,L&&a.a.createElement(v.FieldValueSuggestions,{filters:[],key:o,indexPatternTitle:L.title,sourceField:o,label:r,onChange:e=>{C(o,e)},selectedValue:l,button:a.a.createElement(i.EuiExpression,{"aria-label":u,color:"secondary","data-test-subj":"uptimeCreateStatusAlert."+t,description:e,value:s,onClick:()=>_({...M,[t]:!M[t]})}),forceOpen:M[t],setForceOpen:()=>{_({...M,[t]:!M[t]})},asCombobox:!1,cardinalityField:"monitor.id",time:{from:j,to:T},allowExclusions:!1})),a.a.createElement(i.EuiFlexItem,{grow:!1},a.a.createElement(i.EuiButtonIcon,{"aria-label":p.REMOVE_FILTER_LABEL(r),iconType:"trash",color:"danger",onClick:()=>{n(o),C(o,[])}})),a.a.createElement(i.EuiSpacer,{size:"xs"})))))},j=({"aria-label":e,"data-test-subj":t,headlineText:n,onChange:r,timeRangeOptions:s})=>a.a.createElement(a.a.Fragment,null,a.a.createElement(i.EuiTitle,{size:"xxs"},a.a.createElement("h5",null,n)),a.a.createElement(i.EuiSelectable,{"aria-label":e,"data-test-subj":t,options:s,onChange:r,singleSelection:!0,listProps:{showIcons:!0}},(e=>e))),T=[{"aria-label":u.F,"data-test-subj":"xpack.uptime.alerts.monitorStatus.timerangeUnitSelectable.secondsOption",key:"s",label:u.E},{"aria-label":u.y,"data-test-subj":"xpack.uptime.alerts.monitorStatus.timerangeUnitSelectable.minutesOption",key:"m",label:u.x},{"aria-label":u.u,"data-test-subj":"xpack.uptime.alerts.monitorStatus.timerangeUnitSelectable.hoursOption",key:"h",label:u.t},{"aria-label":u.e,"data-test-subj":"xpack.uptime.alerts.monitorStatus.timerangeUnitSelectable.daysOption",key:"d",label:u.d}],C=({defaultTimerangeCount:e,defaultTimerangeUnit:t,isEnabled:n,setAlertParams:s})=>{var c,d;const[f,p]=Object(r.useState)(null!=e?e:15),[m,h]=Object(r.useState)(T.map((e=>e.key===(null!=t?t:"m")?{...e,checked:"on"}:e)));return Object(r.useEffect)((()=>{var e,t;const n=null!==(e=null===(t=m.find((({checked:e})=>"on"===e)))||void 0===t?void 0:t.key)&&void 0!==e?e:"m";s("timerangeUnit",n),s("timerangeCount",f)}),[f,m,s]),a.a.createElement(i.EuiFlexGroup,{gutterSize:"s"},a.a.createElement(i.EuiFlexItem,{grow:!1},a.a.createElement(o.a,{"aria-label":u.C,content:a.a.createElement(l,{"aria-label":u.q,"data-test-subj":"xpack.uptime.alerts.monitorStatus.timerangeValueField",disabled:!1,fieldValue:f,setFieldValue:p}),"data-test-subj":"xpack.uptime.alerts.monitorStatus.timerangeValueExpression",description:u.r,id:"timerange",isEnabled:n,value:u.s(f)})),a.a.createElement(i.EuiFlexItem,null,a.a.createElement(o.a,{"aria-label":g.OPEN_TIME_POPOVER,content:a.a.createElement(j,{"aria-label":g.SELECT_TIME_RANGE_ARIA,"data-test-subj":"xpack.uptime.alerts.monitorStatus.timerangeUnitSelectable",headlineText:g.SELECT_TIME_RANGE_HEADLINE,onChange:e=>{e.reduce(((e,{checked:t})=>e||"on"===t),!1)&&h(e)},timeRangeOptions:m}),"data-test-subj":"xpack.uptime.alerts.monitorStatus.timerangeUnitExpression",description:"",id:"timerange-unit",isEnabled:n,value:null!==(c=null===(d=m.find((({checked:e})=>"on"===e)))||void 0===d?void 0:d.label.toLowerCase())&&void 0!==c?c:""})))},w=({alertParams:e,hasFilters:t,setAlertParams:n})=>{var s;const[o,u]=Object(r.useState)(null===(s=e.shouldCheckStatus)||void 0===s||s);return Object(r.useEffect)((()=>{n("shouldCheckStatus",o)}),[o,n]),a.a.createElement(i.EuiFlexGroup,{direction:"column",gutterSize:"s"},a.a.createElement(i.EuiFlexItem,null,a.a.createElement(i.EuiCheckbox,{id:"statusEnabled",label:m.ENABLED_CHECKBOX,checked:o,onChange:()=>u(!o)})),a.a.createElement(i.EuiFlexItem,null,a.a.createElement(c,{defaultNumTimes:e.numTimes,hasFilters:t,isEnabled:o,setAlertParams:n})),a.a.createElement(i.EuiFlexItem,null,a.a.createElement(C,{defaultTimerangeUnit:e.timerangeUnit,defaultTimerangeCount:e.timerangeCount,isEnabled:o,setAlertParams:n})))},M=({newFilters:e,onNewFilter:t,alertFilters:n})=>{const[s,o]=Object(r.useState)(!1),l=Object(b.b)(),c=()=>{o(!1)},d=[];[{id:"observer.geo.name",label:u.v},{id:"tags",label:u.G},{id:"url.port",label:u.D},{id:"monitor.type",label:u.H}].forEach((r=>{var s,o,u;0!==(null===(o=r.id,s=null!==(u=null==n?void 0:n[o])&&void 0!==u?u:[])||void 0===s?void 0:s.length)||e.includes(r.id)||d.push(a.a.createElement(i.EuiContextMenuItem,{"data-test-subj":"uptimeAlertAddFilter."+r.id,key:r.id,onClick:()=>{c(),t(r.id)}},r.label))}));const f=a.a.createElement(i.EuiButtonEmpty,{"data-test-subj":"uptimeCreateAlertAddFilter",disabled:0===d.length,iconType:"plusInCircleFilled",onClick:()=>{o(!s)},size:"s",flush:"left",isLoading:!l},u.a);return a.a.createElement(i.EuiPopover,{id:"singlePanel",button:f,isOpen:s,closePopover:c,panelPaddingSize:"none",anchorPosition:"downLeft"},a.a.createElement(i.EuiContextMenuPanel,{items:d}))},_=({isOldAlert:e})=>e?a.a.createElement(a.a.Fragment,null,a.a.createElement(i.EuiSpacer,{size:"m"}),a.a.createElement(i.EuiCallOut,{size:"s",title:a.a.createElement(s.FormattedMessage,{id:"xpack.uptime.alerts.monitorStatus.oldAlertCallout.title",defaultMessage:"You may be editing an older alert, some fields may not auto-populate."}),iconType:"alert"})):null,I=[{"aria-label":u.e,"data-test-subj":"xpack.uptime.alerts.monitorStatus.availability.timerangeUnit.daysOption",key:"d",label:u.d},{"aria-label":u.L,"data-test-subj":"xpack.uptime.alerts.monitorStatus.availability.timerangeUnit.weeksOption",key:"w",label:u.K},{"aria-label":u.A,"data-test-subj":"xpack.uptime.alerts.monitorStatus.availability.timerangeUnit.monthsOption",key:"M",label:u.z},{"aria-label":u.N,"data-test-subj":"xpack.uptime.alerts.monitorStatus.availability.timerangeUnit.yearsOption",key:"y",label:u.M}],L=({alertParams:e,isOldAlert:t,setAlertParams:n,hasFilters:s})=>{var c,d,f,p,m,g,h,v,b;const[y,E]=Object(r.useState)(null!==(c=null==e||null===(d=e.availability)||void 0===d?void 0:d.range)&&void 0!==c?c:30),[x,O]=Object(r.useState)(null!==(f=null==e||null===(p=e.availability)||void 0===p?void 0:p.rangeUnit)&&void 0!==f?f:"d"),[S,k]=Object(r.useState)(null!==(m=null==e||null===(g=e.availability)||void 0===g?void 0:g.threshold)&&void 0!==m?m:"99"),[A,T]=Object(r.useState)(null!==(h=null==e?void 0:e.shouldCheckAvailability)&&void 0!==h?h:!t),[C,w]=Object(r.useState)(I.map((e=>"d"===e.key?{...e,checked:"on"}:e))),M=(_=Number(S),isNaN(_)||_<=0||_>100);var _;return Object(r.useEffect)((()=>{M?(n("availability",void 0),n("shouldCheckAvailability",!1)):A?(n("shouldCheckAvailability",!0),n("availability",{range:y,rangeUnit:x,threshold:S})):n("shouldCheckAvailability",!1)}),[A,y,x,n,S,M]),a.a.createElement(i.EuiFlexGroup,{direction:"column",gutterSize:"s"},a.a.createElement(i.EuiFlexItem,null,a.a.createElement(i.EuiCheckbox,{id:"availabilityRangeEnabled",label:u.g,checked:A,onChange:()=>T(!A)})),a.a.createElement(i.EuiFlexItem,null,a.a.createElement(o.a,{"aria-label":u.m,content:a.a.createElement(i.EuiFieldText,{isInvalid:M,value:S,onChange:e=>{k(e.target.value)}}),"data-test-subj":"xpack.uptime.alerts.monitorStatus.availability.threshold",description:s?u.n:u.f,id:"threshold",isEnabled:A,isInvalid:M,value:u.o(S)})),a.a.createElement(i.EuiFlexItem,null,a.a.createElement(i.EuiFlexGroup,{gutterSize:"s"},a.a.createElement(i.EuiFlexItem,{grow:!1},a.a.createElement(o.a,{"aria-label":u.h,content:a.a.createElement(l,{"aria-label":u.k,"data-test-subj":"xpack.uptime.alerts.monitorStatus.availability.timerangeValueField",disabled:!1,fieldValue:y,setFieldValue:E}),"data-test-subj":"xpack.uptime.alerts.monitorStatus.availability.timerangeExpression",description:u.l,id:"range",isEnabled:A,value:`${y}`})),a.a.createElement(i.EuiFlexItem,null,a.a.createElement(o.a,{"aria-label":"xpack.uptime.alerts.monitorStatus.availability.timerangeUnit",content:a.a.createElement(j,{"aria-label":u.i,"data-test-subj":"xpack.uptime.alerts.monitorStatus.availability.timerangeUnit.select",headlineText:u.j,onChange:e=>{const t=e.find((({checked:e})=>"on"===e));t&&(w(e),O(t.key))},timeRangeOptions:C}),"data-test-subj":"xpack.uptime.alerts.monitorStatus.availability.timerangeUnit",description:"",id:"availability-unit",isEnabled:A,value:null!==(v=null===(b=C.find((({checked:e})=>"on"===e)))||void 0===b?void 0:b.label.toLowerCase())&&void 0!==v?v:""})))))};var F=n(33),R=n(153);const N=({query:e="",onChange:t})=>{const n=Object(E.g)(),[s,o]=Object(r.useState)(e);return Object(r.useEffect)((()=>{t(e),o(e)}),[t,e]),a.a.createElement(i.EuiFlexItem,{grow:1,style:{flexBasis:485}},a.a.createElement(F.QueryStringInput,{indexPatterns:n?[n]:[],iconType:"search",isClearable:!0,onChange:e=>{o(null==e?void 0:e.query),Object(R.b)(null==e?void 0:e.query)&&t(e.query)},onSubmit:e=>{e&&t(e.query)},query:{query:s,language:"kuery"},"aria-label":u.b,dataTestSubj:"xpack.uptime.alerts.monitorStatus.filterBar",autoSubmit:!0,disableLanguageSwitcher:!0,isInvalid:!(!s||e),placeholder:f.i18n.translate("xpack.uptime.alerts.searchPlaceholder.kql",{defaultMessage:"Filter using kql syntax"})}))},P=e=>!(!e||0===Object.keys(e).length)&&Object.values(y.j).some((t=>e[t].length)),U=e=>{var t;const{alertParams:n,isOldAlert:o,setAlertParams:u,snapshotCount:l,snapshotLoading:c}=e,d=null!==(t=null==n?void 0:n.filters)&&void 0!==t?t:{},[f,p]=Object(r.useState)(Object.keys(d).filter((e=>d[e].length))),{search:m=""}=Object(E.f)();Object(r.useEffect)((()=>{m&&u("search",m)}),[]);const g=Object(r.useCallback)((e=>{u("search",e)}),[u]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(_,{isOldAlert:o}),a.a.createElement(i.EuiCallOut,{size:"s",title:a.a.createElement("span",null,a.a.createElement(s.FormattedMessage,{id:"xpack.uptime.alerts.monitorStatus.monitorCallOut.title",defaultMessage:"This alert will apply to approximately {snapshotCount} monitors.",values:{snapshotCount:c?"...":l}})," ",c&&a.a.createElement(i.EuiLoadingSpinner,null)),iconType:"iInCircle"}),a.a.createElement(i.EuiSpacer,{size:"s"}),a.a.createElement(N,{query:n.search||"",onChange:g}),a.a.createElement(i.EuiSpacer,{size:"s"}),a.a.createElement(M,{alertFilters:n.filters,newFilters:f,onNewFilter:e=>{p([...f,e])}}),a.a.createElement(A,{alertParams:n,newFilters:f,onRemoveFilter:e=>{f.includes(e)&&p(f.filter((t=>t!==e)))},setAlertParams:u,shouldUpdateUrl:!1}),a.a.createElement(i.EuiHorizontalRule,null),a.a.createElement(w,{alertParams:n,setAlertParams:u,hasFilters:P(null==n?void 0:n.filters)}),a.a.createElement(i.EuiHorizontalRule,null),a.a.createElement(L,{alertParams:n,isOldAlert:o,setAlertParams:u,hasFilters:P(null==n?void 0:n.filters)}),a.a.createElement(i.EuiSpacer,{size:"m"}))}},115:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(42),a=n(1),i=n.n(a),s=n(76);var o=n(98),u=n(46);function l(e,t,n,r){return function(e,t){for(const n of t)if(!e[n]||Object(o.b)(e[n]))return!1;return!0}(r,t.ref.screenshotRef.screenshot_ref.blocks.map((({hash:e})=>e)))&&(void 0===e||(({ref:{screenshotRef:{synthetics:{step:{index:e}},monitor:{check_group:t}}}},{ref:{screenshotRef:{synthetics:{step:{index:n}},monitor:{check_group:r}}}})=>e!==n||t!==r)(t,n))}const c=(e,t,n)=>{const a=Object(r.useDispatch)(),{blocks:c}=Object(r.useSelector)(u.D);i.a.useEffect((()=>{a(Object(o.a)(e.ref.screenshotRef.screenshot_ref.blocks.map((({hash:e})=>e))))}),[a,e.ref.screenshotRef.screenshot_ref.blocks]);const[d,f]=i.a.useState(e);i.a.useEffect((()=>{const r=document.createElement("canvas");return l(n,e,d,c)&&(!async function(){await async function(e,t,n){const{ref:{screenshotRef:r}}=e,a=t.getContext("2d",{alpha:!1});t.width=r.screenshot_ref.width,t.height=r.screenshot_ref.height;const i=[];for(const{hash:e,top:t,left:o,width:u,height:l}of r.screenshot_ref.blocks)i.push(new Promise(((r,i)=>{const c=new Image,d=n[e];d&&Object(s.d)(d)?(c.onload=()=>{null==a||a.drawImage(c,o,t,u,l),r()},c.src=`data:image/jpg;base64,${d.synthetics.blob}`):i(Error(`Error processing image. Expected image data with hash ${e} is missing`))})));return Promise.all(i)}(e,r,c);const n=r.toDataURL("image/jpg",1);t(n)}(),f(e)),()=>{var e;null===(e=r.parentElement)||void 0===e||e.removeChild(r)}}),[c,d,n,e,t])}},135:function(e,t,n){e.exports=n(24)(833)},136:function(e,t,n){e.exports=n(24)(1070)},137:function(e,t,n){e.exports=n(24)(2401)},138:function(e,t,n){"use strict";function r(e,t,n,a){var i=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(i,r.prototype),i.expected=t,i.found=n,i.location=a,i.name="SyntaxError",i}function a(e,t,n){return n=n||" ",e.length>t?e:(t-=e.length,e+(n+=n.repeat(t)).slice(0,t))}!function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(r,Error),r.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var n,r=null;for(n=0;n<e.length;n++)if(e[n].source===this.location.source){r=e[n].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,s=this.location.source+":"+i.line+":"+i.column;if(r){var o=this.location.end,u=a("",i.line.toString().length),l=r[i.line-1],c=i.line===o.line?o.column:l.length+1;t+="\n --\x3e "+s+"\n"+u+" |\n"+i.line+" | "+l+"\n"+u+" | "+a("",i.column-1)+a("",c-i.column,"^")}else t+="\n at "+s}return t},r.buildMessage=function(e,t){var n={literal:function(e){return'"'+a(e.text)+'"'},class:function(e){var t=e.parts.map((function(e){return Array.isArray(e)?i(e[0])+"-"+i(e[1]):i(e)}));return"["+(e.inverted?"^":"")+t+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function a(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function i(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(e){return"\\x0"+r(e)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(e){return"\\x"+r(e)}))}function s(e){return n[e.type](e)}return"Expected "+function(e){var t,n,r=e.map(s);if(r.sort(),r.length>0){for(t=1,n=1;t<r.length;t++)r[t-1]!==r[t]&&(r[n]=r[t],n++);r.length=n}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}(e)+" but "+function(e){return e?'"'+a(e)+'"':"end of input"}(t)+" found."},e.exports={SyntaxError:r,parse:function(e,t){var n,a={},i=(t=void 0!==t?t:{}).grammarSource,s={start:ye,Literal:Ie},o=ye,u=":",l="or",c="and",d="not",f='"',p="\\",m="<=",g=">=",h="@kuery-cursor@",v=/^[\\"]/,b=/^[^"]/,y=/^[\\():<>"*{}]/,E=/^[0-9a-f]/i,x=/^[ \t\r\n\xA0]/,O=fe("(",!1),S=fe(")",!1),k=fe(":",!1),A=fe("{",!1),j=fe("}",!1),T=me("fieldName"),C=me("value"),w=me("OR"),M=fe("or",!0),_=me("AND"),I=fe("and",!0),L=me("NOT"),F=fe("not",!0),R=me("literal"),N=fe('"',!1),P=fe("\\",!1),U=pe(["\\",'"'],!1,!1),q=pe(['"'],!0,!1),D={type:"any"},$=fe("*",!1),V=fe("\\t",!1),H=fe("\\r",!1),B=fe("\\n",!1),G=pe(["\\","(",")",":","<",">",'"',"*","{","}"],!1,!1),Q=fe("u",!1),Y=pe([["0","9"],["a","f"]],!1,!0),z=fe("<=",!1),W=fe(">=",!1),K=fe("<",!1),X=fe(">",!1),J=me("whitespace"),Z=pe([" ","\t","\r","\n"," "],!1,!1),ee=fe("@kuery-cursor@",!1),te=function(e,t){return t},ne=function(e,t){return t},re=function(e){if("cursor"===e.type)return e;!Qe&&"wildcard"===e.type&&Ye.wildcard.hasLeadingWildcard(e)&&function(e,t){throw t=void 0!==t?t:he(oe,se),function(e,t){return new r(e,null,null,t)}(e,t)}("Leading wildcards are disabled. See query:allowLeadingWildcards in Advanced Settings.");const t=We(!1);return n=>ze("is",[n,e,t])},ae=function(){return Be},ie=function(t,n,r){const{start:a,end:i}=he(oe,se);return{type:"cursor",start:a.offset,end:i.offset-n.length,prefix:t.join(""),suffix:r.join(""),text:e.substring(oe,se).replace(n,"")}},se=0,oe=0,ue=[{line:1,column:1}],le=0,ce=[],de=0;if("startRule"in t){if(!(t.startRule in s))throw new Error("Can't start parsing from rule \""+t.startRule+'".');o=s[t.startRule]}function fe(e,t){return{type:"literal",text:e,ignoreCase:t}}function pe(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function me(e){return{type:"other",description:e}}function ge(t){var n,r=ue[t];if(r)return r;for(n=t-1;!ue[n];)n--;for(r={line:(r=ue[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return ue[t]=r,r}function he(e,t){var n=ge(e),r=ge(t);return{source:i,start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function ve(e){se<le||(se>le&&(le=se,ce=[]),ce.push(e))}function be(e,t,n){return new r(r.buildMessage(e,t),e,t,n)}function ye(){var e,t,n,r,i,s;for(e=se,t=[],n=Ve();n!==a;)t.push(n),n=Ve();return(n=Ee())===a&&(n=null),(r=Pe())!==a?(oe=e,i=n,e="cursor"===(s=r).type?{...s,suggestionTypes:["conjunction"]}:null!==i?i:Ye.function.buildNode("is","*","*")):(se=e,e=a),e}function Ee(){var e,t,n,r,i;if(e=se,(t=xe())!==a){if(n=[],r=se,we()!==a&&(i=xe())!==a?(oe=r,r=te(0,i)):(se=r,r=a),r!==a)for(;r!==a;)n.push(r),r=se,we()!==a&&(i=xe())!==a?(oe=r,r=te(0,i)):(se=r,r=a);else n=a;n!==a?(oe=e,e=function(e,t){const n=[e,...t];return Be&&n.find((e=>"cursor"===e.type))||ze("or",n)}(t,n)):(se=e,e=a)}else se=e,e=a;return e===a&&(e=xe()),e}function xe(){var e,t,n,r,i;if(e=se,(t=Oe())!==a){if(n=[],r=se,Me()!==a&&(i=Oe())!==a?(oe=r,r=te(0,i)):(se=r,r=a),r!==a)for(;r!==a;)n.push(r),r=se,Me()!==a&&(i=Oe())!==a?(oe=r,r=te(0,i)):(se=r,r=a);else n=a;n!==a?(oe=e,e=function(e,t){const n=[e,...t];return Be&&n.find((e=>"cursor"===e.type))||ze("and",n)}(t,n)):(se=e,e=a)}else se=e,e=a;return e===a&&(e=Oe()),e}function Oe(){var e,t,n;return e=se,_e()!==a&&(t=Se())!==a?(oe=e,e="cursor"===(n=t).type?n:ze("not",[n])):(se=e,e=a),e===a&&(e=Se()),e}function Se(){var t,n,r,i,s,o,l,c;if(t=se,40===e.charCodeAt(se)?(n="(",se++):(n=a,0===de&&ve(O)),n!==a){for(r=[],i=Ve();i!==a;)r.push(i),i=Ve();(i=Ee())!==a&&(s=Pe())!==a?(41===e.charCodeAt(se)?(o=")",se++):(o=a,0===de&&ve(S)),o!==a?(oe=t,l=i,t="cursor"===(c=s).type?{...c,suggestionTypes:["conjunction"]}:l):(se=t,t=a)):(se=t,t=a)}else se=t,t=a;return t===a&&(t=function(){var t,n,r,i,s,o,l,c,d,f;if(t=se,(n=ke())!==a){for(r=[],i=Ve();i!==a;)r.push(i),i=Ve();if(58===e.charCodeAt(se)?(i=":",se++):(i=a,0===de&&ve(k)),i!==a){for(s=[],o=Ve();o!==a;)s.push(o),o=Ve();if(123===e.charCodeAt(se)?(o="{",se++):(o=a,0===de&&ve(A)),o!==a){for(l=[],c=Ve();c!==a;)l.push(c),c=Ve();(c=Ee())!==a&&(d=Pe())!==a?(125===e.charCodeAt(se)?(f="}",se++):(f=a,0===de&&ve(j)),f!==a?(oe=t,t=function(e,t,n){return"cursor"===t.type?{...t,nestedPath:t.nestedPath?`${e.value}.${t.nestedPath}`:e.value}:"cursor"===n.type?{...n,suggestionTypes:["conjunction"]}:ze("nested",[e,t])}(n,c,d)):(se=t,t=a)):(se=t,t=a)}else se=t,t=a}else se=t,t=a}else se=t,t=a;t===a&&(t=function(){var t;t=function(){var t,n,r,i,s,o;if(t=se,(n=ke())!==a){for(r=[],i=Ve();i!==a;)r.push(i),i=Ve();if(i=function(){var t,n;t=se,e.substr(se,2)===m?(n=m,se+=2):(n=a,0===de&&ve(z));n!==a&&(oe=t,n="lte");(t=n)===a&&(t=se,e.substr(se,2)===g?(n=g,se+=2):(n=a,0===de&&ve(W)),n!==a&&(oe=t,n="gte"),(t=n)===a&&(t=se,60===e.charCodeAt(se)?(n="<",se++):(n=a,0===de&&ve(K)),n!==a&&(oe=t,n="lt"),(t=n)===a&&(t=se,62===e.charCodeAt(se)?(n=">",se++):(n=a,0===de&&ve(X)),n!==a&&(oe=t,n="gt"),t=n)));return t}(),i!==a){for(s=[],o=Ve();o!==a;)s.push(o),o=Ve();(o=Ie())!==a?(oe=t,t=function(e,t,n){if("cursor"===n.type)return{...n,suggestionTypes:["conjunction"]};const r=Xe(t,n);return ze("range",[e,r])}(n,i,o)):(se=t,t=a)}else se=t,t=a}else se=t,t=a;return t}(),t===a&&(t=function(){var t,n,r,i,s,o;if(t=se,(n=ke())!==a){for(r=[],i=Ve();i!==a;)r.push(i),i=Ve();if(58===e.charCodeAt(se)?(i=u,se++):(i=a,0===de&&ve(k)),i!==a){for(s=[],o=Ve();o!==a;)s.push(o),o=Ve();(o=Ae())!==a?(oe=t,l=n,t="cursor"===(c=o).type?{...c,fieldName:l.value,suggestionTypes:["value","conjunction"]}:c(l)):(se=t,t=a)}else se=t,t=a}else se=t,t=a;var l,c;return t}(),t===a&&(t=function(){var e,t;e=se,(t=Ce())!==a&&(oe=e,t=function(e){if("cursor"===e.type){const t=`${e.prefix}${e.suffix}`.trim();return{...e,fieldName:t,suggestionTypes:["field","operator","conjunction"]}}return e(We(null))}(t));return e=t}()));return t}());return t}()),t}function ke(){var e;return de++,e=Ie(),de--,e===a&&(a,0===de&&ve(T)),e}function Ae(){var t,n,r,i,s,o,u,l;if(t=se,40===e.charCodeAt(se)?(n="(",se++):(n=a,0===de&&ve(O)),n!==a){for(r=[],i=Ve();i!==a;)r.push(i),i=Ve();i=function(){var e,t,n,r,i;if(e=se,(t=je())!==a){if(n=[],r=se,we()!==a&&(i=je())!==a?(oe=r,r=ne(0,i)):(se=r,r=a),r!==a)for(;r!==a;)n.push(r),r=se,we()!==a&&(i=je())!==a?(oe=r,r=ne(0,i)):(se=r,r=a);else n=a;n!==a?(oe=e,e=function(e,t){const n=[e,...t],r=Be&&n.find((e=>"cursor"===e.type));return r?{...r,suggestionTypes:["value"]}:e=>ze("or",n.map((t=>t(e))))}(t,n)):(se=e,e=a)}else se=e,e=a;e===a&&(e=je());return e}(),i!==a&&(s=Pe())!==a?(41===e.charCodeAt(se)?(o=")",se++):(o=a,0===de&&ve(S)),o!==a?(oe=t,u=i,t="cursor"===(l=s).type?{...l,suggestionTypes:["conjunction"]}:u):(se=t,t=a)):(se=t,t=a)}else se=t,t=a;return t===a&&(t=Ce()),t}function je(){var e,t,n,r,i;if(e=se,(t=Te())!==a){if(n=[],r=se,Me()!==a&&(i=Te())!==a?(oe=r,r=ne(0,i)):(se=r,r=a),r!==a)for(;r!==a;)n.push(r),r=se,Me()!==a&&(i=Te())!==a?(oe=r,r=ne(0,i)):(se=r,r=a);else n=a;n!==a?(oe=e,e=function(e,t){const n=[e,...t],r=Be&&n.find((e=>"cursor"===e.type));return r?{...r,suggestionTypes:["value"]}:e=>ze("and",n.map((t=>t(e))))}(t,n)):(se=e,e=a)}else se=e,e=a;return e===a&&(e=Te()),e}function Te(){var e,t,n;return e=se,_e()!==a&&(t=Ae())!==a?(oe=e,e="cursor"===(n=t).type?{...list,suggestionTypes:["value"]}:e=>ze("not",[n(e)])):(se=e,e=a),e===a&&(e=Ae()),e}function Ce(){var e,t;return de++,e=se,(t=Le())!==a&&(oe=e,t=function(e){if("cursor"===e.type)return e;const t=We(!0);return n=>ze("is",[n,e,t])}(t)),(e=t)===a&&(e=se,(t=Re())!==a&&(oe=e,t=re(t)),e=t),de--,e===a&&(t=a,0===de&&ve(C)),e}function we(){var t,n,r,i,s;if(de++,t=se,n=[],(r=Ve())!==a)for(;r!==a;)n.push(r),r=Ve();else n=a;if(n!==a)if("or"===e.substr(se,2).toLowerCase()?(r=e.substr(se,2),se+=2):(r=a,0===de&&ve(M)),r!==a){if(i=[],(s=Ve())!==a)for(;s!==a;)i.push(s),s=Ve();else i=a;i!==a?t=n=[n,r,i]:(se=t,t=a)}else se=t,t=a;else se=t,t=a;return de--,t===a&&(n=a,0===de&&ve(w)),t}function Me(){var t,n,r,i,s;if(de++,t=se,n=[],(r=Ve())!==a)for(;r!==a;)n.push(r),r=Ve();else n=a;if(n!==a)if("and"===e.substr(se,3).toLowerCase()?(r=e.substr(se,3),se+=3):(r=a,0===de&&ve(I)),r!==a){if(i=[],(s=Ve())!==a)for(;s!==a;)i.push(s),s=Ve();else i=a;i!==a?t=n=[n,r,i]:(se=t,t=a)}else se=t,t=a;else se=t,t=a;return de--,t===a&&(n=a,0===de&&ve(_)),t}function _e(){var t,n,r,i;if(de++,t=se,"not"===e.substr(se,3).toLowerCase()?(n=e.substr(se,3),se+=3):(n=a,0===de&&ve(F)),n!==a){if(r=[],(i=Ve())!==a)for(;i!==a;)r.push(i),i=Ve();else r=a;r!==a?t=n=[n,r]:(se=t,t=a)}else se=t,t=a;return de--,t===a&&(n=a,0===de&&ve(L)),t}function Ie(){var e;return de++,(e=Le())===a&&(e=Re()),de--,e===a&&(a,0===de&&ve(R)),e}function Le(){var t,n,r,i,s,o,u;if(t=se,oe=se,(n=(n=ae())?void 0:a)!==a)if(34===e.charCodeAt(se)?(r=f,se++):(r=a,0===de&&ve(N)),r!==a){for(i=[],s=Fe();s!==a;)i.push(s),s=Fe();if((s=He())!==a){for(o=[],u=Fe();u!==a;)o.push(u),u=Fe();34===e.charCodeAt(se)?(u=f,se++):(u=a,0===de&&ve(N)),u!==a?(oe=t,t=ie(i,s,o)):(se=t,t=a)}else se=t,t=a}else se=t,t=a;else se=t,t=a;if(t===a)if(t=se,34===e.charCodeAt(se)?(n=f,se++):(n=a,0===de&&ve(N)),n!==a){for(r=[],i=Fe();i!==a;)r.push(i),i=Fe();34===e.charCodeAt(se)?(i=f,se++):(i=a,0===de&&ve(N)),i!==a?(oe=t,t=We(r.join(""))):(se=t,t=a)}else se=t,t=a;return t}function Fe(){var t,n,r;return(t=Ue())===a&&(t=De())===a&&(t=se,92===e.charCodeAt(se)?(n=p,se++):(n=a,0===de&&ve(P)),n!==a?(v.test(e.charAt(se))?(r=e.charAt(se),se++):(r=a,0===de&&ve(U)),r!==a?(oe=t,t=r):(se=t,t=a)):(se=t,t=a),t===a&&(t=se,n=se,de++,r=He(),de--,r===a?n=void 0:(se=n,n=a),n!==a?(b.test(e.charAt(se))?(r=e.charAt(se),se++):(r=a,0===de&&ve(q)),r!==a?(oe=t,t=r):(se=t,t=a)):(se=t,t=a))),t}function Re(){var e,t,n,r,i,s;if(e=se,oe=se,(t=(t=ae())?void 0:a)!==a){for(n=[],r=Ne();r!==a;)n.push(r),r=Ne();if((r=He())!==a){for(i=[],s=Ne();s!==a;)i.push(s),s=Ne();oe=e,e=ie(n,r,i)}else se=e,e=a}else se=e,e=a;if(e===a){if(e=se,t=[],(n=Ne())!==a)for(;n!==a;)t.push(n),n=Ne();else t=a;t!==a&&(oe=e,t=function(e){const t=e.join("").trim();return"null"===t?We(null):"true"===t?We(!0):"false"===t?We(!1):e.includes(Je)?Ke(t):We(t)}(t)),e=t}return e}function Ne(){var t,n,r,i,s;return(t=Ue())===a&&(t=function(){var t,n,r;t=se,92===e.charCodeAt(se)?(n=p,se++):(n=a,0===de&&ve(P));n!==a&&(r=qe())!==a?(oe=t,t=r):(se=t,t=a);return t}(),t===a&&(t=De())===a&&(t=function(){var t,n,r;t=se,92===e.charCodeAt(se)?(n=p,se++):(n=a,0===de&&ve(P));n!==a?(e.substr(se,2).toLowerCase()===l?(r=e.substr(se,2),se+=2):(r=a,0===de&&ve(M)),r===a&&(e.substr(se,3).toLowerCase()===c?(r=e.substr(se,3),se+=3):(r=a,0===de&&ve(I)),r===a&&(e.substr(se,3).toLowerCase()===d?(r=e.substr(se,3),se+=3):(r=a,0===de&&ve(F)))),r!==a?(oe=t,t=r):(se=t,t=a)):(se=t,t=a);return t}(),t===a&&(t=function(){var t,n;t=se,42===e.charCodeAt(se)?(n="*",se++):(n=a,0===de&&ve($));n!==a&&(oe=t,n=Je);return t=n}(),t===a&&(t=se,n=se,de++,r=qe(),de--,r===a?n=void 0:(se=n,n=a),n!==a?(r=se,de++,i=function(){var e;(e=we())===a&&(e=Me())===a&&(e=_e());return e}(),de--,i===a?r=void 0:(se=r,r=a),r!==a?(i=se,de++,s=He(),de--,s===a?i=void 0:(se=i,i=a),i!==a?(e.length>se?(s=e.charAt(se),se++):(s=a,0===de&&ve(D)),s!==a?(oe=t,t=s):(se=t,t=a)):(se=t,t=a)):(se=t,t=a)):(se=t,t=a))))),t}function Pe(){var e,t,n,r,i,s;if(e=se,oe=se,(t=(t=ae())?void 0:a)!==a){for(n=[],r=Ve();r!==a;)n.push(r),r=Ve();if((r=He())!==a){for(i=[],s=Ve();s!==a;)i.push(s),s=Ve();oe=e,e=ie(n,r,i)}else se=e,e=a}else se=e,e=a;if(e===a)for(e=[],t=Ve();t!==a;)e.push(t),t=Ve();return e}function Ue(){var t,n;return t=se,"\\t"===e.substr(se,2)?(n="\\t",se+=2):(n=a,0===de&&ve(V)),n!==a&&(oe=t,n="\t"),(t=n)===a&&(t=se,"\\r"===e.substr(se,2)?(n="\\r",se+=2):(n=a,0===de&&ve(H)),n!==a&&(oe=t,n="\r"),(t=n)===a&&(t=se,"\\n"===e.substr(se,2)?(n="\\n",se+=2):(n=a,0===de&&ve(B)),n!==a&&(oe=t,n="\n"),t=n)),t}function qe(){var t;return y.test(e.charAt(se))?(t=e.charAt(se),se++):(t=a,0===de&&ve(G)),t}function De(){var t,n,r;return t=se,92===e.charCodeAt(se)?(n=p,se++):(n=a,0===de&&ve(P)),n!==a?(r=function(){var t,n,r,i,s,o,u,l;t=se,117===e.charCodeAt(se)?(n="u",se++):(n=a,0===de&&ve(Q));n!==a?(r=se,i=se,(s=$e())!==a&&(o=$e())!==a&&(u=$e())!==a&&(l=$e())!==a?i=s=[s,o,u,l]:(se=i,i=a),(r=i!==a?e.substring(r,se):i)!==a?(oe=t,c=r,t=String.fromCharCode(parseInt(c,16))):(se=t,t=a)):(se=t,t=a);var c;return t}(),r!==a?(oe=t,t=r):(se=t,t=a)):(se=t,t=a),t}function $e(){var t;return E.test(e.charAt(se))?(t=e.charAt(se),se++):(t=a,0===de&&ve(Y)),t}function Ve(){var t;return de++,x.test(e.charAt(se))?(t=e.charAt(se),se++):(t=a,0===de&&ve(Z)),de--,t===a&&(a,0===de&&ve(J)),t}function He(){var t,n;return t=se,oe=se,(ae()?void 0:a)!==a?(e.substr(se,14)===h?(n=h,se+=14):(n=a,0===de&&ve(ee)),n!==a?(oe=t,t=Ge):(se=t,t=a)):(se=t,t=a),t}const{parseCursor:Be,cursorSymbol:Ge,allowLeadingWildcards:Qe=!0,helpers:{nodeTypes:Ye}}=t,ze=Ye.function.buildNodeWithArgumentNodes,We=Ye.literal.buildNode,Ke=Ye.wildcard.buildNode,Xe=Ye.namedArg.buildNode,{wildcardSymbol:Je}=Ye.wildcard;if((n=o())!==a&&se===e.length)return n;throw n!==a&&se<e.length&&ve({type:"end"}),be(ce,le<e.length?e.charAt(le):null,le<e.length?he(le,le+1):he(le,le))}}},139:function(e,t,n){e.exports=n(24)(114)},143:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0);const a={LOCATION:r.i18n.translate("xpack.uptime.filterBar.options.location.name",{defaultMessage:"Location"}),PORT:r.i18n.translate("xpack.uptime.filterBar.options.portLabel",{defaultMessage:"Port"}),SCHEME:r.i18n.translate("xpack.uptime.filterBar.options.schemeLabel",{defaultMessage:"Scheme"}),TAG:r.i18n.translate("xpack.uptime.filterBar.options.tagsLabel",{defaultMessage:"Tag"})}},144:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(81);function a(e){return e?Object(r.parse)("?"===e[0]?e.slice(1):e,{sort:!1}):{}}},145:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n(1),a=n(42),i=n(48),s=n(46),o=n(47),u=n(60);const l=()=>{const{loading:e,error:t,data:n}=Object(a.useSelector)(s.h),{lastRefresh:l}=Object(r.useContext)(o.a),{settings:c}=Object(a.useSelector)(s.z),d=Object(a.useDispatch)();return Object(r.useEffect)((()=>{d(i.t.get())}),[d,l]),Object(r.useEffect)((()=>{d(Object(u.a)())}),[d]),{data:n,error:t,loading:e,settings:c}}},153:function(e,t,n){"use strict";n.d(t,"b",(function(){return v})),n.d(t,"a",(function(){return b}));var r=n(1),a=n.n(r),i=n(0),s=n(19),o=n(33),u=n(83),l=n.n(u),c=n(42),d=n(43),f=n(48),p=n(23);let m;!function(e){e.text="text",e.kuery="kuery"}(m||(m={}));const g=i.i18n.translate("xpack.uptime.kueryBar.searchPlaceholder.kql",{defaultMessage:'Search using kql syntax for monitor IDs, names and type etc (E.g monitor.type: "http" AND tags: "dev")'}),h=i.i18n.translate("xpack.uptime.kueryBar.searchPlaceholder.simple",{defaultMessage:"Search by monitor ID, name, or url (E.g. http:// )"}),v=e=>{if(""===e)return!0;const t=[":",">=","=>",">","<"];for(let n=0;n<t.length;n++){const r=t[n],a=e.trim().split(r);if(e.includes(r)&&a.length>1&&a[1])return!0}return!1},b=()=>{const{search:e}=Object(d.f)(),{query:t,setQuery:n,submitImmediately:u}=(()=>{var e;const t=Object(c.useDispatch)(),{absoluteDateRangeStart:n,absoluteDateRangeEnd:a,...i}=Object(d.f)(),{search:s,query:o,filters:u,excludedFilters:g}=i,{services:{storage:h}}=Object(p.useKibana)(),[v,b]=Object(r.useState)(o?{query:o,language:m.text}:s?{query:s,language:m.kuery}:{query:"",language:null!==(e=h.get("uptime:queryBarSyntax"))&&void 0!==e?e:m.text}),y=Object(d.g)(),[,E]=Object(d.j)(),[x,O]=Object(d.b)(y,v.language===m.kuery?v.query:void 0,u,g),S=Object(r.useCallback)((e=>t(Object(f.y)(e))),[t]),k=Object(r.useCallback)((()=>S(null!=x?x:"")),[x,S]),[,A]=l()(k,800,[x,S]),j=Object(r.useCallback)((()=>{v.language===m.text&&o!==v.query&&E({query:v.query}),v.language===m.kuery&&""!==o&&E({query:""})}),[v.language,v.query,o,E]),[,T]=l()(j,800,[v]),C=Object(r.useCallback)((()=>{T(),A(),j(),k()}),[A,T,j,k]);return l()((()=>{v.language===m.kuery&&!O&&x&&s!==v.query&&E({search:v.query}),v.language===m.text&&""!==s&&E({search:""}),v.language===m.kuery&&""===v.query&&""!==s&&E({search:""})}),250,[x,O]),{query:v,setQuery:b,submitImmediately:C}})(),b=Object(d.g)(),[y,E]=Object(r.useState)(t.query);return a.a.createElement(s.EuiFlexItem,{grow:1,style:{flexBasis:485}},a.a.createElement(o.QueryStringInput,{indexPatterns:b?[b]:[],nonKqlMode:"text",iconType:"search",isClearable:!0,onChange:e=>{(null==e?void 0:e.language)===m.text&&n({query:e.query,language:e.language}),(null==e?void 0:e.language)===m.kuery&&v(null==e?void 0:e.query)&&n({query:e.query,language:e.language}),E(null==e?void 0:e.query)},onSubmit:e=>{e&&n({query:e.query,language:e.language}),u()},query:{...t,query:y},"aria-label":i.i18n.translate("xpack.uptime.filterBar.ariaLabel",{defaultMessage:"Input filter criteria for the overview page"}),"data-test-subj":"uptimeSearchBarInput",autoSubmit:!0,storageKey:"uptime:queryBarSyntax",placeholder:t.language===m.kuery?g:h,isInvalid:t.language!==m.text&&(null==y?void 0:y.trim())!==(null==e?void 0:e.trim())}))}},191:function(e,t,n){e.exports=n(24)(2384)},192:function(e,t,n){e.exports=n(24)(2391)},193:function(e,t,n){e.exports=n(24)(2389)},199:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(29),a=n(1),i=r.__importDefault(n(200));t.default=function(e){var t=a.useRef(0),n=a.useState(e),r=n[0],s=n[1],o=a.useCallback((function(e){cancelAnimationFrame(t.current),t.current=requestAnimationFrame((function(){s(e)}))}),[]);return i.default((function(){cancelAnimationFrame(t.current)})),[r,o]}},200:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(29),a=n(1),i=r.__importDefault(n(201));t.default=function(e){var t=a.useRef(e);t.current=e,i.default((function(){return function(){return t.current()}}))}},201:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.default=function(e){r.useEffect(e,[])}},202:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDeepEqual=t.off=t.on=t.isClient=void 0;var r=n(29).__importDefault(n(203));t.isClient="object"==typeof window,t.on=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.addEventListener.apply(e,t)},t.off=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.removeEventListener.apply(e,t)},t.isDeepEqual=r.default},203:function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,a,i;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(a=r;0!=a--;)if(!e(t[a],n[a]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(i=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(a=r;0!=a--;)if(!Object.prototype.hasOwnProperty.call(n,i[a]))return!1;for(a=r;0!=a--;){var s=i[a];if(("_owner"!==s||!t.$$typeof)&&!e(t[s],n[s]))return!1}return!0}return t!=t&&n!=n}},204:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1);t.default=function(e,t){void 0===t&&(t=0);var n=r.useRef(!1),a=r.useRef(),i=r.useRef(e),s=r.useCallback((function(){return n.current}),[]),o=r.useCallback((function(){n.current=!1,a.current&&clearTimeout(a.current),a.current=setTimeout((function(){n.current=!0,i.current()}),t)}),[t]),u=r.useCallback((function(){n.current=null,a.current&&clearTimeout(a.current)}),[]);return r.useEffect((function(){i.current=e}),[e]),r.useEffect((function(){return o(),u}),[t]),[s,u,o]}},43:function(e,t,n){"use strict";n.d(t,"e",(function(){return b.a})),n.d(t,"b",(function(){return Ye})),n.d(t,"h",(function(){return We})),n.d(t,"d",(function(){return nt})),n.d(t,"a",(function(){return it})),n.d(t,"i",(function(){return st})),n.d(t,"f",(function(){return rt.a})),n.d(t,"j",(function(){return rt.b})),n.d(t,"c",(function(){return ft})),n.d(t,"g",(function(){return ht.b}));var r={};n.r(r),n.d(r,"buildNode",(function(){return N})),n.d(r,"toElasticsearchQuery",(function(){return P}));var a={};n.r(a),n.d(a,"wildcardSymbol",(function(){return U})),n.d(a,"buildNode",(function(){return $})),n.d(a,"test",(function(){return V})),n.d(a,"toElasticsearchQuery",(function(){return H})),n.d(a,"toQueryStringQuery",(function(){return B})),n.d(a,"hasLeadingWildcard",(function(){return G}));var i={};n.r(i),n.d(i,"buildNodeParams",(function(){return J})),n.d(i,"toElasticsearchQuery",(function(){return Z}));var s={};n.r(s),n.d(s,"buildNodeParams",(function(){return ee})),n.d(s,"toElasticsearchQuery",(function(){return te}));var o={};n.r(o),n.d(o,"buildNodeParams",(function(){return ne})),n.d(o,"toElasticsearchQuery",(function(){return re}));var u={};n.r(u),n.d(u,"buildNodeParams",(function(){return ae})),n.d(u,"toElasticsearchQuery",(function(){return ie}));var l={};n.r(l),n.d(l,"buildNodeParams",(function(){return ue})),n.d(l,"toElasticsearchQuery",(function(){return le}));var c={};n.r(c),n.d(c,"buildNodeParams",(function(){return de})),n.d(c,"toElasticsearchQuery",(function(){return fe}));var d={};n.r(d),n.d(d,"buildNodeParams",(function(){return pe})),n.d(d,"toElasticsearchQuery",(function(){return me}));var f={};n.r(f),n.d(f,"buildNodeParams",(function(){return ge})),n.d(f,"toElasticsearchQuery",(function(){return he}));var p={};n.r(p),n.d(p,"buildNodeParams",(function(){return ve})),n.d(p,"toElasticsearchQuery",(function(){return be}));var m={};n.r(m),n.d(m,"buildNode",(function(){return Ee})),n.d(m,"buildNodeWithArgumentNodes",(function(){return xe})),n.d(m,"toElasticsearchQuery",(function(){return Oe}));var g={};n.r(g),n.d(g,"buildNode",(function(){return Se})),n.d(g,"toElasticsearchQuery",(function(){return ke}));var h,v,b=n(115),y=n(56),E=n.n(y),x=n(53),O=n.n(x),S=n(25),k=n.n(S),A=(n(135),function(e,t){if("boolean"!=typeof t&&"boolean"===e.type){if([1,"true"].includes(t))return!0;if([0,"false"].includes(t))return!1;throw new Error("".concat(t," is not a valid boolean value for boolean field ").concat(e.name))}return"number"!=typeof t&&"number"===e.type?Number(t):t}),j=function(e,t){var n=A(e,t);return{script:{source:T(e),lang:e.lang,params:{value:n}}}},T=function(e){return"painless"===e.lang?"boolean compare(Supplier s, def v) {return s.get() == v;}"+"compare(() -> { ".concat(e.script," }, params.value);"):"(".concat(e.script,") == value")};!function(e){e.CUSTOM="custom",e.PHRASES="phrases",e.PHRASE="phrase",e.EXISTS="exists",e.MATCH_ALL="match_all",e.QUERY_STRING="query_string",e.RANGE="range",e.RANGE_FROM_VALUE="range_from_value",e.SPATIAL_FILTER="spatial_filter"}(h||(h={})),function(e){e.APP_STATE="appState",e.GLOBAL_STATE="globalState"}(v||(v={}));var C={gt:">",gte:">=",lte:"<=",lt:"<"},w={gt:"boolean gt(Supplier s, def v) {return s.get() > v}",gte:"boolean gte(Supplier s, def v) {return s.get() >= v}",lte:"boolean lte(Supplier s, def v) {return s.get() <= v}",lt:"boolean lt(Supplier s, def v) {return s.get() < v}"},M={gt:"boolean gt(Supplier s, def v) {return s.get().toInstant().isAfter(Instant.parse(v))}",gte:"boolean gte(Supplier s, def v) {return !s.get().toInstant().isBefore(Instant.parse(v))}",lte:"boolean lte(Supplier s, def v) {return !s.get().toInstant().isAfter(Instant.parse(v))}",lt:"boolean lt(Supplier s, def v) {return s.get().toInstant().isBefore(Instant.parse(v))}"},_=function(e,t){var n=Object(S.mapValues)(Object(S.pickBy)(t,(function(e,t){return t in C})),(function(t){return"number"===e.type&&"string"==typeof t?parseFloat(t):t})),r=Object(S.map)(n,(function(t,n){return"("+e.script+")"+Object(S.get)(C,n)+n})).join(" && ");if("painless"===e.lang){var a="date"===e.type?M:w,i=Object(S.reduce)(n,(function(e,t,n){return e.concat(Object(S.get)(a,n))}),[]).join(" "),s=Object(S.map)(n,(function(t,n){return"".concat(n,"(() -> { ").concat(e.script," }, params.").concat(n,")")})).join(" && ");r="".concat(i).concat(s)}return{script:{source:r,params:n,lang:e.lang}}};var I=n(70),L=n.n(I),F=n(89),R=n.n(F);function N(e){return{type:"literal",value:e}}function P(e){return e.value}var U="@kuery-wildcard@";function q(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function D(e){return e.replace(/[+-=&|><!(){}[\]^"~*?:\\/]/g,"\\$&")}function $(e){return e.includes(U)?{type:"wildcard",value:e}:Ve(e)}function V(e,t){var n=e.value.split(U).map(q).join("[\\s\\S]*");return new RegExp("^".concat(n,"$")).test(t)}function H(e){return e.value.split(U).join("*")}function B(e){return e.value.split(U).map(D).join("*")}function G(e){var t=e.value;return t.startsWith(U)&&t.replace(U,"").length>0}function Q(e,t){if(!t)return[];if("literal"===e.type){var n=P(e),r=t.fields.find((function(e){return e.name===n}));return r?[r]:[]}return"wildcard"===e.type?t.fields.filter((function(t){return V(e,t.name)})):void 0}var Y=n(34),z=n.n(Y);function W(e){var t=z.a.tz.guess();return"Browser"===e?t:e}function K(e){return function(e){var t,n=null==e?void 0:e.subType;return!(null==n||null===(t=n.nested)||void 0===t||!t.path)}(e)?e.subType:void 0}function X(e,t,n){var r=O()(O()({},e),{},{value:n?"".concat(n,".").concat(e.value):e.value});if(!t||"wildcard"===r.type&&!n)return r;var a=Q(r,t).reduce((function(e,t){var r=K(t),a=null==r?void 0:r.nested.path;return n&&!a?[].concat(L()(e),["".concat(t.name,' is not a nested field but is in nested group "').concat(n,'" in the KQL expression.')]):a&&!n?[].concat(L()(e),["".concat(t.name," is a nested field, but is not in a nested group in the KQL expression.")]):a!==n?[].concat(L()(e),["Nested field ".concat(t.name," is being queried with the incorrect nested path. The correct path is ").concat(null==r?void 0:r.nested.path,".")]):e}),[]);if(a.length>0)throw new Error(a.join("\n"));return r}function J(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Object(S.isUndefined)(e))throw new Error("fieldName is a required argument");if(Object(S.isUndefined)(t))throw new Error("value is a required argument");var r="string"==typeof e?Ve(e):N(e),a="string"==typeof t?Ve(t):N(t),i=N(n);return{arguments:[r,a,i]}}function Z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=R()(e.arguments,3),i=a[0],s=a[1],o=a[2],u="wildcard"===s.type&&s.value===U,l="wildcard"===i.type&&i.value===U,c=u&&l;if(c)return{match_all:{}};var d=X(i,t,null!=r&&r.nested?r.nested.path:void 0),f=Object(S.isUndefined)(s)?s:Be(s),p=o.value?"phrase":"best_fields";if(null===d.value)return"wildcard"===s.type?{query_string:{query:B(s)}}:{multi_match:{type:p,query:f,lenient:!0}};var m=t?Q(d,t):[];if(m&&0===m.length&&m.push({name:Be(d),scripted:!1,type:""}),u&&(null==m||!m.length||(null==m?void 0:m.length)===(null==t?void 0:t.fields.length)))return{match_all:{}};var g=m.reduce((function(e,t){var a=function(e){var n=K(t);return"wildcard"!==d.type||null==n||!n.nested||null!=r&&r.nested?e:{nested:{path:n.nested.path,query:e,score_mode:"none"}}};if(!t.scripted){if(u)return[].concat(L()(e),[a({exists:{field:t.name}})]);if("wildcard"===s.type)return[].concat(L()(e),[a({query_string:{fields:[t.name],query:B(s)}})]);if("date"===t.type){var i=n.dateFormatTZ?{time_zone:W(n.dateFormatTZ)}:{};return[].concat(L()(e),[a({range:E()({},t.name,O()({gte:f,lte:f},i))})])}var o="phrase"===p?"match_phrase":"match";return[].concat(L()(e),[a(E()({},o,E()({},t.name,f)))])}if(!u)return[].concat(L()(e),[{script:O()({},j(t,f))}])}),[]);return{bool:{should:g||[],minimum_should_match:1}}}function ee(e){return{arguments:e}}function te(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=n.filtersInMustClause,i=e.arguments||[],s=a?"must":"filter";return{bool:E()({},s,i.map((function(e){return Be(e,t,n,r)})))}}function ne(e){return{arguments:e}}function re(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=e.arguments||[];return{bool:{should:a.map((function(e){return Be(e,t,n,r)})),minimum_should_match:1}}}function ae(e){return{arguments:[e]}}function ie(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=R()(e.arguments,1),i=a[0];return{bool:{must_not:Be(i,t,n,r)}}}var se=n(102),oe=n.n(se);function ue(e,t){var n=Object(S.pick)(t,"gt","lt","gte","lte","format"),r="string"==typeof e?Ve(e):Ae.literal.buildNode(e),a=Object(S.map)(n,(function(e,t){return Ae.namedArg.buildNode(t,e)}));return{arguments:[r].concat(L()(a))}}function le(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=oe()(e.arguments),i=a[0],s=a.slice(1),o=X(i,t,null!=r&&r.nested?r.nested.path:void 0),u=t?Q(o,t):[],l=ce(s),c=Object(S.mapValues)(l,(function(e){return Be(e)}));u&&0===u.length&&u.push({name:Be(o),scripted:!1,type:""});var d=u.map((function(e){var t=function(t){var n=K(e);return"wildcard"!==o.type||null==n||!n.nested||r.nested?t:{nested:{path:n.nested.path,query:t,score_mode:"none"}}};if(e.scripted)return{script:_(e,c)};if("date"===e.type){var a=n.dateFormatTZ?{time_zone:W(n.dateFormatTZ)}:{};return t({range:E()({},e.name,O()(O()({},c),a))})}return t({range:E()({},e.name,c)})}));return{bool:{should:d,minimum_should_match:1}}}function ce(e){if(e.gt&&e.gte||e.lt&&e.lte)throw new Error("range ends cannot be both inclusive and exclusive");var t=["gte","lte","format"];return e.reduce((function(e,n,r){return"namedArg"===n.type?e[n.name]=n.value:e[t[r]]=n,e}),{})}function de(e){return{arguments:[N(e)]}}function fe(e,t){var n,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=R()(e.arguments,1),i=a[0],s=O()(O()({},i),{},{value:null!=r&&r.nested?"".concat(r.nested.path,".").concat(i.value):i.value}),o=P(s),u=null==t||null===(n=t.fields)||void 0===n?void 0:n.find((function(e){return e.name===o}));if(null!=u&&u.scripted)throw new Error("Exists query does not support scripted fields");return{exists:{field:o}}}function pe(e,t){t=k.a.pick(t,"topLeft","bottomRight");var n=Ae.literal.buildNode(e),r=k.a.map(t,(function(e,t){var n="".concat(e.lat,", ").concat(e.lon);return Ae.namedArg.buildNode(t,n)}));return{arguments:[n].concat(L()(r))}}function me(e,t){var n,r,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=oe()(e.arguments),s=i[0],o=i.slice(1),u=O()(O()({},s),{},{value:null!=a&&a.nested?"".concat(a.nested.path,".").concat(s.value):s.value}),l=Ae.literal.toElasticsearchQuery(u),c=null!==(n=null==t?void 0:t.fields)&&void 0!==n?n:[],d=c.find((function(e){return e.name===l})),f=o.reduce((function(e,t){var n=k.a.snakeCase(t.name);return O()(O()({},e),{},E()({},n,Be(t)))}),{});if(null!=d&&d.scripted)throw new Error("Geo bounding box query does not support scripted fields");return{geo_bounding_box:(r={},E()(r,l,f),E()(r,"ignore_unmapped",!0),r)}}function ge(e,t){var n=Ae.literal.buildNode(e),r=t.map((function(e){var t="".concat(e.lat,", ").concat(e.lon);return Ae.literal.buildNode(t)}));return{arguments:[n].concat(L()(r))}}function he(e,t){var n,r,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=oe()(e.arguments),o=s[0],u=s.slice(1),l=O()(O()({},o),{},{value:null!=i&&i.nested?"".concat(i.nested.path,".").concat(o.value):o.value}),c=Ae.literal.toElasticsearchQuery(l),d=null!==(n=null==t?void 0:t.fields)&&void 0!==n?n:[],f=d.find((function(e){return e.name===c})),p={points:u.map((function(e){return Be(e,t,a,i)}))};if(null!=f&&f.scripted)throw new Error("Geo polygon query does not support scripted fields");return{geo_polygon:(r={},E()(r,c,p),E()(r,"ignore_unmapped",!0),r)}}function ve(e,t){return{arguments:["string"==typeof e?Ve(e):N(e),t]}}function be(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=R()(e.arguments,2),s=i[0],o=i[1],u=Be(s),l=null!=a&&null!==(n=a.nested)&&void 0!==n&&n.path?"".concat(a.nested.path,".").concat(u):u;return{nested:{path:l,query:Be(o,t,r,O()(O()({},a),{},{nested:{path:l}})),score_mode:"none"}}}var ye={is:i,and:s,or:o,not:u,range:l,exists:c,geoBoundingBox:d,geoPolygon:f,nested:p};function Ee(e){var t=ye[e];if(k.a.isUndefined(t))throw new Error('Unknown function "'.concat(e,'"'));for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return O()({type:"function",function:e},t.buildNodeParams.apply(t,r))}function xe(e,t){if(k.a.isUndefined(ye[e]))throw new Error('Unknown function "'.concat(e,'"'));return{type:"function",function:e,arguments:t}}function Oe(e,t,n,r){return ye[e.function].toElasticsearchQuery(e,t,n,r)}function Se(e,t){return{type:"namedArg",name:e,value:"literal"===k.a.get(t,"type")?t:Ae.literal.buildNode(t)}}function ke(e){return Be(e.value)}var Ae={function:m,literal:r,namedArg:g,wildcard:a},je=n(191),Te=n.n(je),Ce=n(136),we=n.n(Ce),Me=n(192),_e=n.n(Me),Ie=n(193),Le=n.n(Ie),Fe=n(137),Re=n.n(Fe),Ne=n(0),Pe=Ne.i18n.translate("esQuery.kql.errors.endOfInputText",{defaultMessage:"end of input"}),Ue={fieldName:Ne.i18n.translate("esQuery.kql.errors.fieldNameText",{defaultMessage:"field name"}),value:Ne.i18n.translate("esQuery.kql.errors.valueText",{defaultMessage:"value"}),literal:Ne.i18n.translate("esQuery.kql.errors.literalText",{defaultMessage:"literal"}),whitespace:Ne.i18n.translate("esQuery.kql.errors.whitespaceText",{defaultMessage:"whitespace"})},qe=function(e){_e()(n,e);var t=Le()(n);function n(e,r){var a;Te()(this,n);var i=e.message;if(e.expected){var s=e.expected.map((function(e){var t,n="other"===(t=e).type?t.description:"literal"===t.type?'"'.concat(t.text,'"'):"end"===t.type?"end of input":t.text||t.description||"";return Ue[n]||n})),o=Object(S.uniq)(s).filter((function(e){return void 0!==e})).sort().join(", ");i=Ne.i18n.translate("esQuery.kql.errors.syntaxError",{defaultMessage:"Expected {expectedList} but {foundInput} found.",values:{expectedList:o,foundInput:e.found?'"'.concat(e.found,'"'):Pe}})}var u=[i,r,Object(S.repeat)("-",e.location.start.offset)+"^"].join("\n");return a=t.call(this,u),E()(we()(a),"shortMessage",void 0),a.name="KQLSyntaxError",a.shortMessage=i,a}return n}(Re()(Error)),De=n(138),$e=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:De.parse;if(void 0===e)throw new Error("expression must be a string, got undefined instead");return n(e,O()(O()({},t),{},{helpers:{nodeTypes:Ae}}))},Ve=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return $e(e,O()(O()({},t),{},{startRule:"Literal"}),De.parse)},He=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return $e(e,t,De.parse)}catch(t){throw"SyntaxError"===t.name?new qe(t,e):t}},Be=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!t||!t.type||!Ae[t.type])return e(Ae.function.buildNode("and",[]),n);var i=Ae[t.type];return i.toElasticsearchQuery(t,n,r,a)},Ge=function(){return Be.apply(void 0,arguments)};var Qe=n(95);const Ye=(e,t="",n,r)=>{const a=((e,t)=>{let n="",r="";try{if(""!==e){const t=new Map(JSON.parse(e));n=Object(Qe.c)(t)}}catch{n=""}try{if(!t)return n;{const e=new Map(JSON.parse(t));if(r=Object(Qe.c)(e),n)return`${n} and NOT (${r})`}}catch{r=""}return`NOT (${r})`})(n,r),i=Object(Qe.a)(t,a);let s;try{if((t||n||r)&&e){const t=He(i),n=Ge(t,e);s=JSON.stringify(n)}return[s]}catch(e){return[n,e]}};var ze=n(26);const We=()=>{const{monitorId:e}=Object(ze.useParams)();return atob(e||"")};var Ke=n(1),Xe=n(42),Je=(n(48),n(46));var Ze=n(6),et=n.n(Ze),tt=n(45);const nt=(e,t)=>{var n,r;const a=Object(Xe.useSelector)(Je.z),i=null===(n=a.settings)||void 0===n?void 0:n.certExpirationThreshold,s=null===(r=a.settings)||void 0===r?void 0:r.certAgeThreshold,o=new Date(null!=e?e:"");if(!!isNaN(o.valueOf()))return!1;const u=et()(o).diff(et()(),"days")<i,l=et()().diff(et()(t),"days")>s;return et()(o)<et()()?tt.c.EXPIRED:u?tt.c.EXPIRING_SOON:l?tt.c.TOO_OLD:tt.c.OK};var rt=n(80),at=n(52);let it;!function(e){e.Overview="Overview",e.MappingError="MappingError",e.Monitor="Monitor",e.Settings="Settings",e.Certificates="Certificates",e.StepDetail="StepDetail",e.SyntheticCheckStepsPage="SyntheticCheckStepsPage",e.NotFound="__not-found__"}(it||(it={}));const st=e=>{const{dateRangeStart:t,dateRangeEnd:n,autorefreshInterval:r,autorefreshIsPaused:a}=Object(rt.a)();Object(Ke.useEffect)((()=>{if(!at.a.http)throw new Error("Core http services are not defined");const i={page:e,autorefreshInterval:r/1e3,dateStart:t,dateEnd:n,autoRefreshEnabled:!a};setTimeout((()=>{at.a.post(tt.a.LOG_PAGE_VIEW,i)}),100)}),[r,a,n,t,e])};var ot=n(112),ut=n.n(ot),lt=n(83),ct=n.n(lt),dt=n(19);function ft(e=50){const{width:t}=ut()(),[n,r]=Object(Ke.useState)(t),a=Object(Ke.useCallback)((e=>mt(n,e)),[n]),i=Object(Ke.useCallback)((e=>gt(n,e)),[n]),s=Object(Ke.useCallback)(((e,t)=>function(e,t,n){return mt(e,t)&&gt(e,n)}(n,e,t)),[n]);return ct()((()=>{r(t)}),e,[t]),{up:a,down:i,between:s,debouncedWidth:n}}function pt(e){switch(e){case"xxxl":return 2e3;case"xxl":case"xl":return 1599;case"l":return dt.BREAKPOINTS.l;case"m":return dt.BREAKPOINTS.m;case"s":return dt.BREAKPOINTS.s}return dt.BREAKPOINTS.xs}function mt(e,t){return e>=pt(t)}function gt(e,t){return e<pt(t)}var ht=n(64)},47:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return u.a})),n.d(t,"d",(function(){return u.b})),n.d(t,"h",(function(){return m})),n.d(t,"g",(function(){return p})),n.d(t,"e",(function(){return g.a})),n.d(t,"f",(function(){return g.b}));var r=n(1),a=n.n(r);const i={lastRefresh:0,refreshApp:()=>{throw new Error("App refresh was not initialized, set it when you invoke the context")}},s=Object(r.createContext)(i),o=({children:e})=>{const[t,n]=Object(r.useState)(Date.now()),i=()=>{const e=Date.now();n(e)},o=Object(r.useMemo)((()=>({lastRefresh:t,refreshApp:i})),[t]);return a.a.createElement(s.Provider,{value:o,children:e})};var u=n(69),l=n(36),c=n(32),d=n(28);const f={colors:{danger:l.euiLightVars.euiColorDanger,dangerBehindText:l.euiDarkVars.euiColorVis9_behindText,mean:l.euiLightVars.euiColorPrimary,range:l.euiLightVars.euiFocusBackgroundColor,success:l.euiLightVars.euiColorSuccess,warning:l.euiLightVars.euiColorWarning,gray:l.euiLightVars.euiColorLightShade,lightestShade:l.euiLightVars.euiColorLightestShade},chartTheme:{baseTheme:d.LIGHT_THEME,theme:c.EUI_CHARTS_THEME_LIGHT.theme}},p=Object(r.createContext)(f),m=({darkMode:e,children:t})=>{let n;n=e?{danger:l.euiDarkVars.euiColorVis9,dangerBehindText:l.euiDarkVars.euiColorVis9_behindText,mean:l.euiDarkVars.euiColorPrimary,gray:l.euiDarkVars.euiColorLightShade,range:l.euiDarkVars.euiFocusBackgroundColor,success:l.euiDarkVars.euiColorSuccess,warning:l.euiDarkVars.euiColorWarning,lightestShade:l.euiDarkVars.euiColorLightestShade}:{danger:l.euiLightVars.euiColorVis9,dangerBehindText:l.euiLightVars.euiColorVis9_behindText,mean:l.euiLightVars.euiColorPrimary,gray:l.euiLightVars.euiColorLightShade,range:l.euiLightVars.euiFocusBackgroundColor,success:l.euiLightVars.euiColorSuccess,warning:l.euiLightVars.euiColorWarning,lightestShade:l.euiLightVars.euiColorLightestShade};const i=Object(r.useMemo)((()=>({colors:n,chartTheme:{baseTheme:e?d.DARK_THEME:d.LIGHT_THEME,theme:e?c.EUI_CHARTS_THEME_DARK.theme:c.EUI_CHARTS_THEME_LIGHT.theme}})),[n,e]);return a.a.createElement(p.Provider,{value:i,children:t})};var g=n(93)},64:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));var r=n(1),a=n.n(r),i=n(22),s=n(145);const o=Object(r.createContext)({}),u=({children:e,data:{indexPatterns:t}})=>{const{settings:n,data:r}=Object(s.a)(),u=(null==n?void 0:n.heartbeatIndices)||"",{data:l}=Object(i.useFetcher)((async()=>{if(u&&null!=r&&r.indexExists)return t.create({title:u})}),[u,null==r?void 0:r.indexExists]);return a.a.createElement(o.Provider,{value:l,children:e})},l=()=>Object(r.useContext)(o)},65:function(e,t,n){"use strict";n.d(t,"F",(function(){return a})),n.d(t,"E",(function(){return i})),n.d(t,"y",(function(){return s})),n.d(t,"x",(function(){return o})),n.d(t,"u",(function(){return u})),n.d(t,"t",(function(){return l})),n.d(t,"e",(function(){return c})),n.d(t,"d",(function(){return d})),n.d(t,"L",(function(){return f})),n.d(t,"K",(function(){return p})),n.d(t,"A",(function(){return m})),n.d(t,"z",(function(){return g})),n.d(t,"N",(function(){return h})),n.d(t,"M",(function(){return v})),n.d(t,"b",(function(){return b})),n.d(t,"B",(function(){return y})),n.d(t,"p",(function(){return E})),n.d(t,"w",(function(){return x})),n.d(t,"c",(function(){return O})),n.d(t,"C",(function(){return S})),n.d(t,"q",(function(){return k})),n.d(t,"r",(function(){return A})),n.d(t,"s",(function(){return j})),n.d(t,"g",(function(){return T})),n.d(t,"h",(function(){return C})),n.d(t,"k",(function(){return w})),n.d(t,"l",(function(){return M})),n.d(t,"m",(function(){return _})),n.d(t,"n",(function(){return I})),n.d(t,"f",(function(){return L})),n.d(t,"o",(function(){return F})),n.d(t,"i",(function(){return R})),n.d(t,"j",(function(){return N})),n.d(t,"a",(function(){return P})),n.d(t,"v",(function(){return U})),n.d(t,"G",(function(){return q})),n.d(t,"D",(function(){return D})),n.d(t,"H",(function(){return $})),n.d(t,"I",(function(){return V})),n.d(t,"J",(function(){return H}));var r=n(0);const a=r.i18n.translate("xpack.uptime.alerts.timerangeUnitSelectable.secondsOption.ariaLabel",{defaultMessage:'"Seconds" time range select item'}),i=r.i18n.translate("xpack.uptime.alerts.monitorStatus.timerangeOption.seconds",{defaultMessage:"seconds"}),s=r.i18n.translate("xpack.uptime.alerts.timerangeUnitSelectable.minutesOption.ariaLabel",{defaultMessage:'"Minutes" time range select item'}),o=r.i18n.translate("xpack.uptime.alerts.monitorStatus.timerangeOption.minutes",{defaultMessage:"minutes"}),u=r.i18n.translate("xpack.uptime.alerts.timerangeUnitSelectable.hoursOption.ariaLabel",{defaultMessage:'"Hours" time range select item'}),l=r.i18n.translate("xpack.uptime.alerts.monitorStatus.timerangeOption.hours",{defaultMessage:"hours"}),c=r.i18n.translate("xpack.uptime.alerts.timerangeUnitSelectable.daysOption.ariaLabel",{defaultMessage:'"Days" time range select item'}),d=r.i18n.translate("xpack.uptime.alerts.monitorStatus.timerangeOption.days",{defaultMessage:"days"}),f=r.i18n.translate("xpack.uptime.alerts.timerangeUnitSelectable.weeksOption.ariaLabel",{defaultMessage:'"Weeks" time range select item'}),p=r.i18n.translate("xpack.uptime.alerts.monitorStatus.timerangeOption.weeks",{defaultMessage:"weeks"}),m=r.i18n.translate("xpack.uptime.alerts.timerangeUnitSelectable.monthsOption.ariaLabel",{defaultMessage:'"Months" time range select item'}),g=r.i18n.translate("xpack.uptime.alerts.monitorStatus.timerangeOption.months",{defaultMessage:"months"}),h=r.i18n.translate("xpack.uptime.alerts.timerangeUnitSelectable.yearsOption.ariaLabel",{defaultMessage:'"Years" time range select item'}),v=r.i18n.translate("xpack.uptime.alerts.monitorStatus.timerangeOption.years",{defaultMessage:"years"}),b=r.i18n.translate("xpack.uptime.alerts.monitorStatus.filterBar.ariaLabel",{defaultMessage:"Input that allows filtering criteria for the monitor status alert"}),y=r.i18n.translate("xpack.uptime.alerts.monitorStatus.numTimesExpression.ariaLabel",{defaultMessage:"Open the popover for down count input"}),E=r.i18n.translate("xpack.uptime.alerts.monitorStatus.numTimesField.ariaLabel",{defaultMessage:"Enter number of down counts required to trigger the alert"}),x=r.i18n.translate("xpack.uptime.alerts.monitorStatus.numTimesExpression.matchingMonitors.description",{defaultMessage:"matching monitors are down >"}),O=r.i18n.translate("xpack.uptime.alerts.monitorStatus.numTimesExpression.anyMonitors.description",{defaultMessage:"any monitor is down >"}),S=r.i18n.translate("xpack.uptime.alerts.monitorStatus.timerangeValueExpression.ariaLabel",{defaultMessage:"Open the popover for time range value field"}),k=r.i18n.translate("xpack.uptime.alerts.monitorStatus.timerangeValueField.ariaLabel",{defaultMessage:"Enter the number of time units for the alert's range"}),A=r.i18n.translate("xpack.uptime.alerts.monitorStatus.timerangeValueField.expression",{defaultMessage:"within"}),j=e=>r.i18n.translate("xpack.uptime.alerts.monitorStatus.timerangeValueField.value",{defaultMessage:"last {value}",values:{value:e}}),T=r.i18n.translate("xpack.uptime.alerts.monitorStatus.availability.isEnabledCheckbox.label",{defaultMessage:"Availability"}),C=r.i18n.translate("xpack.uptime.alerts.monitorStatus.availability.timerangeValueField.popover.ariaLabel",{defaultMessage:"Specify availability tracking time range"}),w=r.i18n.translate("xpack.uptime.alerts.monitorStatus.availability.timerangeValueField.ariaLabel",{defaultMessage:"Enter the number of units for the alert's availability check."}),M=r.i18n.translate("xpack.uptime.alerts.monitorStatus.availability.timerangeValueField.expression",{defaultMessage:"within the last"}),_=r.i18n.translate("xpack.uptime.alerts.monitorStatus.availability.threshold.ariaLabel",{defaultMessage:"Specify availability thresholds for this alert"}),I=(r.i18n.translate("xpack.uptime.alerts.monitorStatus.availability.threshold.input.ariaLabel",{defaultMessage:"Input an availability threshold to check for this alert"}),r.i18n.translate("xpack.uptime.alerts.monitorStatus.availability.threshold.description",{defaultMessage:"matching monitors are up in",description:"This fragment explains that an alert will fire for monitors matching user-specified criteria"})),L=r.i18n.translate("xpack.uptime.alerts.monitorStatus.availability.threshold.anyMonitorDescription",{defaultMessage:"any monitor is up in",description:"This fragment explains that an alert will fire for monitors matching user-specified criteria"}),F=e=>r.i18n.translate("xpack.uptime.alerts.monitorStatus.availability.threshold.value",{defaultMessage:"< {value}% of checks",description:"This fragment specifies criteria that will cause an alert to fire for uptime monitors",values:{value:e}}),R=r.i18n.translate("xpack.uptime.alerts.monitorStatus.availability.unit.selectable",{defaultMessage:"Use this select to set the availability range units for this alert"}),N=r.i18n.translate("xpack.uptime.alerts.monitorStatus.availability.unit.headline",{defaultMessage:"Select time range unit"}),P=r.i18n.translate("xpack.uptime.alerts.monitorStatus.addFilter",{defaultMessage:"Add filter"}),U=r.i18n.translate("xpack.uptime.alerts.monitorStatus.addFilter.location",{defaultMessage:"Location"}),q=r.i18n.translate("xpack.uptime.alerts.monitorStatus.addFilter.tag",{defaultMessage:"Tag"}),D=r.i18n.translate("xpack.uptime.alerts.monitorStatus.addFilter.port",{defaultMessage:"Port"}),$=r.i18n.translate("xpack.uptime.alerts.monitorStatus.addFilter.type",{defaultMessage:"Type"}),V={criteriaAriaLabel:r.i18n.translate("xpack.uptime.alerts.tls.criteriaExpression.ariaLabel",{defaultMessage:"An expression displaying the criteria for monitor that are watched by this alert"}),criteriaDescription:r.i18n.translate("xpack.uptime.alerts.tls.criteriaExpression.description",{defaultMessage:"when",description:'The context of this `when` is in the conditional sense, like "when there are three cookies, eat them all".'}),criteriaValue:r.i18n.translate("xpack.uptime.alerts.tls.criteriaExpression.value",{defaultMessage:"any monitor"}),expirationAriaLabel:r.i18n.translate("xpack.uptime.alerts.tls.expirationExpression.ariaLabel",{defaultMessage:"An expression displaying the threshold that will trigger the TLS alert for certificate expiration"}),expirationDescription:r.i18n.translate("xpack.uptime.alerts.tls.expirationExpression.description",{defaultMessage:"has a certificate expiring within"}),expirationValue:e=>r.i18n.translate("xpack.uptime.alerts.tls.expirationExpression.value",{defaultMessage:"{value} days",values:{value:e}}),ageAriaLabel:r.i18n.translate("xpack.uptime.alerts.tls.ageExpression.ariaLabel",{defaultMessage:"An expressing displaying the threshold that will trigger the TLS alert for old certificates"}),ageDescription:r.i18n.translate("xpack.uptime.alerts.tls.ageExpression.description",{defaultMessage:"or older than"}),ageValue:e=>r.i18n.translate("xpack.uptime.alerts.tls.ageExpression.value",{defaultMessage:"{value} days",values:{value:e}})},H={toggleButtonAriaLabel:r.i18n.translate("xpack.uptime.alertsPopover.toggleButton.ariaLabel",{defaultMessage:"Open alerts and rules context menu"}),openAlertContextPanelAriaLabel:r.i18n.translate("xpack.uptime.openAlertContextPanel.ariaLabel",{defaultMessage:"Open the rule context panel so you can choose a rule type"}),openAlertContextPanelLabel:r.i18n.translate("xpack.uptime.openAlertContextPanel.label",{defaultMessage:"Create rule"}),toggleTlsAriaLabel:r.i18n.translate("xpack.uptime.toggleTlsAlertButton.ariaLabel",{defaultMessage:"Open TLS rule flyout"}),toggleTlsContent:r.i18n.translate("xpack.uptime.toggleTlsAlertButton.content",{defaultMessage:"TLS rule"}),toggleMonitorStatusAriaLabel:r.i18n.translate("xpack.uptime.toggleAlertFlyout.ariaLabel",{defaultMessage:"Open add rule flyout"}),toggleMonitorStatusContent:r.i18n.translate("xpack.uptime.toggleAlertButton.content",{defaultMessage:"Monitor status rule"}),navigateToAlertingUIAriaLabel:r.i18n.translate("xpack.uptime.navigateToAlertingUi",{defaultMessage:"Leave Uptime and go to Alerting Management page"}),navigateToAlertingButtonContent:r.i18n.translate("xpack.uptime.navigateToAlertingButton.content",{defaultMessage:"Manage rules"}),toggleAlertFlyoutButtonLabel:r.i18n.translate("xpack.uptime.alerts.createRulesPanel.title",{defaultMessage:"Create rules"})}},69:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"c",(function(){return p}));var r=n(1),a=n.n(r),i=n(45),s=n(43);const{BASE_PATH:o}=i.f,{DATE_RANGE_START:u,DATE_RANGE_END:l}=i.e,c={basePath:o,dateRangeStart:u,dateRangeEnd:l,isApmAvailable:!0,isInfraAvailable:!0,isLogsAvailable:!0},d=Object(r.createContext)(c),f=({children:e,...t})=>{const{basePath:n,isApmAvailable:i,isInfraAvailable:o,isLogsAvailable:c,commonlyUsedRanges:f}=t,{dateRangeStart:p,dateRangeEnd:m}=Object(s.f)(),g=Object(r.useMemo)((()=>({basePath:n,isApmAvailable:i,isInfraAvailable:o,isLogsAvailable:c,commonlyUsedRanges:f,dateRangeStart:null!=p?p:u,dateRangeEnd:null!=m?m:l})),[n,i,o,c,p,m,f]);return a.a.createElement(d.Provider,{value:g,children:e})},p=()=>Object(r.useContext)(d)},70:function(e,t,n){e.exports=n(24)(2398)},75:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return c})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return d})),n.d(t,"c",(function(){return x})),n.d(t,"k",(function(){return O})),n.d(t,"j",(function(){return N}));const r=e=>e||0===e?Math.floor(e/1e3):null,a=(e,t)=>`${e.length>0?`${e}`:""}${t}`,i=(e,t,n,r)=>{var i,s,o;const u=null!=e&&null!==(i=e.state)&&void 0!==i&&null!==(s=i.service)&&void 0!==s&&s.name?`service.name: "${e.state.service.name}"`:`url.domain: "${null===(o=e.state.url)||void 0===o?void 0:o.domain}"`;return a(t,`/app/apm#/services?kuery=${encodeURI(u)}&rangeFrom=${n}&rangeTo=${r}`)},s=(e,t,n)=>{const r=e.map((e=>t(e))).filter((e=>void 0!==e));return 0===r.length?n(void 0):1===r.length?n(r[0]):n(r)},o=(e,t)=>s(e.state.summaryPings||[],(e=>{var t;return null==e||null===(t=e.container)||void 0===t?void 0:t.id}),(e=>{if(!e)return;const n=Array.isArray(e)?e[0]:e;return a(t,`/app/metrics/link-to/container-detail/${encodeURIComponent(n)}`)})),u=(e,t)=>s(e.state.summaryPings||[],(e=>{var t,n;return null==e||null===(t=e.kubernetes)||void 0===t||null===(n=t.pod)||void 0===n?void 0:n.uid}),(e=>{if(!e)return;const n=Array.isArray(e)?e[0]:e;return a(t,`/app/metrics/link-to/pod-detail/${encodeURIComponent(n)}`)})),l=(e,t)=>s(e.state.summaryPings||[],(e=>{var t;return null==e||null===(t=e.monitor)||void 0===t?void 0:t.ip}),(e=>{if(!e)return;if(!Array.isArray(e)){const n=encodeURIComponent(`host.ip : ${e}`);return a(t,`/app/metrics/inventory?waffleFilter=(expression:'${n}',kind:kuery)`)}const n=e.reduce(((e,t)=>e?e+` or host.ip : ${t}`:`host.ip : ${t}`),"");return""===n?void 0:a(t,`/app/metrics/inventory?waffleFilter=(expression:'${encodeURIComponent(n)}',kind:kuery)`)})),c=(e,t)=>s(e.state.summaryPings||[],(e=>{var t;return null==e||null===(t=e.container)||void 0===t?void 0:t.id}),(e=>{if(!e)return;const n=Array.isArray(e)?e[0]:e;return a(t,`/app/logs?logFilter=${encodeURI(`(expression:'container.id : ${n}',kind:kuery)`)}`)})),d=(e,t)=>s(e.state.summaryPings||[],(e=>{var t,n;return null==e||null===(t=e.kubernetes)||void 0===t||null===(n=t.pod)||void 0===n?void 0:n.uid}),(e=>{if(!e)return;const n=Array.isArray(e)?e[0]:e;return a(t,`/app/logs?logFilter=${encodeURI(`(expression:'pod.uid : ${n}',kind:kuery)`)}`)})),f=(e,t)=>s(e.state.summaryPings||[],(e=>{var t;return null==e||null===(t=e.monitor)||void 0===t?void 0:t.ip}),(e=>{if(!e)return;const n=Array.isArray(e)?e[0]:e;return a(t,`/app/logs?logFilter=(expression:'${encodeURIComponent(`host.ip : ${n}`)}',kind:kuery)`)}));var p=n(45);const{EIGHT_MINUTES:m,FOUR_YEARS:g,THIRTY_SIX_HOURS:h,THREE_WEEKS:v,SIX_MONTHS:b,NINE_DAYS:y}=p.d,E=[{key:m,value:"HH:mm:ss"},{key:h,value:"HH:mm"},{key:y,value:"MM-DD HH:mm"},{key:v,value:"MM-DD"},{key:b,value:"YYYY-MM-DD"},{key:g,value:"YYYY-MM"}],x=(e,t)=>{if(e>t)throw Error(`Invalid date range. Received start value of ${e} and end value of ${t}.`);const n=t-e;let r="";return n<p.d.THIRTY_SIX_HOURS&&!((e,t)=>{const n=new Date(Date.now()),r=n.setHours(0,0,0,0).valueOf(),a=n.setHours(23,59,59,999).valueOf();return e>r&&e<a&&t<a})(e,t)&&(r="MM-DD "),r+(e=>{for(let t=0;t<E.length;t+=1){const{key:n,value:r}=E[t];if(e<n)return r}return"yyyy"})(n)},O=e=>!!e&&e.some((e=>!!e.down)),S=(e,t)=>{const n=parseInt(e||"",10);return isNaN(n)?t:n};var k=n(139),A=n.n(k);const j=(e,t,n={})=>{const r=A.a.parse(e,n);return r?r.valueOf():t},{ABSOLUTE_DATE_RANGE_START:T,ABSOLUTE_DATE_RANGE_END:C,AUTOREFRESH_INTERVAL:w,AUTOREFRESH_IS_PAUSED:M,DATE_RANGE_START:_,DATE_RANGE_END:I,SEARCH:L,FILTERS:F,STATUS_FILTER:R}=p.e,N=e=>{const t={};Object.keys(e).forEach((n=>{let r;r=void 0===e[n]?void 0:Array.isArray(e[n])?e[n][0]:e[n],t[n]=r}));const{autorefreshInterval:n,autorefreshIsPaused:r,dateRangeStart:a,dateRangeEnd:i,filters:s,excludedFilters:o,search:u,statusFilter:l,pagination:c,focusConnectorField:d,query:f}=t;return{pagination:c,absoluteDateRangeStart:j(a||_,T),absoluteDateRangeEnd:j(i||I,C,{roundUp:!0}),autorefreshInterval:S(n,w),autorefreshIsPaused:(p=r,m=M,"true"===p||"false"!==p&&m),dateRangeStart:a||_,dateRangeEnd:i||I,filters:s||F,excludedFilters:o||"",search:u||L,statusFilter:l||R,focusConnectorField:!!d,query:f||""};var p,m};n(1),n(68),n(42),n(140),n(150),n(151)},80:function(e,t,n){"use strict";n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return m}));var r=n(1),a=n(81),i=n(26),s=n(42),o=n(75),u=n(46),l=n(142),c=n(91),d=n(144);const f=()=>{const{search:e}=Object(i.useLocation)();return Object(o.j)(Object(d.a)(e))},p=e=>{try{return new Map(JSON.parse(e))}catch{return}},m=()=>{const{pathname:e,search:t}=Object(i.useLocation)(),n=Object(i.useHistory)(),o=Object(s.useDispatch)(),m=Object(s.useSelector)(u.C),{filters:g}=f();Object(r.useEffect)((()=>{if(null===m){const e=p(g);e&&o(Object(l.b)(Object(c.a)(e)))}}),[o,g,m]);const h=Object(r.useCallback)((r=>{const i={...Object(d.a)(t),...r},s=Object(a.stringify)(Object.keys(i).reduce(((e,t)=>{const n=i[t];return void 0===n||""===n?e:{...e,[t]:n}}),{}));t!==s&&n.push({pathname:e,search:s});const u=p(i.filters);o(u?Object(l.b)(Object(c.a)(u)):Object(l.b)(null))}),[o,n,e,t]);return[f,h]}},81:function(e,t,n){"use strict";const r=n(104),a=n(105),i=n(106);function s(e){if("string"!=typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function o(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function u(e,t){return t.decode?a(e):e}function l(e){return Array.isArray(e)?e.sort():"object"==typeof e?l(Object.keys(e)).sort(((e,t)=>Number(e)-Number(t))).map((t=>e[t])):e}function c(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function d(e){const t=(e=c(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function f(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"==typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function p(e,t){s((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const a="string"==typeof n&&n.split("").indexOf(e.arrayFormatSeparator)>-1?n.split(e.arrayFormatSeparator).map((t=>u(t,e))):null===n?n:u(n,e);r[t]=a};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),r=Object.create(null);if("string"!=typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const a of e.split("&")){let[e,s]=i(t.decode?a.replace(/\+/g," "):a,"=");s=void 0===s?null:["comma","separator"].includes(t.arrayFormat)?s:u(s,t),n(u(e,t),s,r)}for(const e of Object.keys(r)){const n=r[e];if("object"==typeof n&&null!==n)for(const e of Object.keys(n))n[e]=f(n[e],t);else r[e]=f(n,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce(((e,t)=>{const n=r[t];return Boolean(n)&&"object"==typeof n&&!Array.isArray(n)?e[t]=l(n):e[t]=n,e}),Object.create(null))}t.extract=d,t.parse=p,t.stringify=(e,t)=>{if(!e)return"";s((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>t.skipNull&&null==e[n]||t.skipEmptyString&&""===e[n],r=function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const a=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[o(t,e),"[",a,"]"].join("")]:[...n,[o(t,e),"[",o(a,e),"]=",o(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[o(t,e),"[]"].join("")]:[...n,[o(t,e),"[]=",o(r,e)].join("")];case"comma":case"separator":return t=>(n,r)=>null==r||0===r.length?n:0===n.length?[[o(t,e),"=",o(r,e)].join("")]:[[n,o(r,e)].join(e.arrayFormatSeparator)];default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,o(t,e)]:[...n,[o(t,e),"=",o(r,e)].join("")]}}(t),a={};for(const t of Object.keys(e))n(t)||(a[t]=e[t]);const i=Object.keys(a);return!1!==t.sort&&i.sort(t.sort),i.map((n=>{const a=e[n];return void 0===a?"":null===a?o(n,t):Array.isArray(a)?a.reduce(r(n),[]).join("&"):o(n,t)+"="+o(a,t)})).filter((e=>e.length>0)).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,r]=i(e,"#");return Object.assign({url:n.split("?")[0]||"",query:p(d(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:u(r,t)}:{})},t.stringifyUrl=(e,n)=>{n=Object.assign({encode:!0,strict:!0},n);const r=c(e.url).split("?")[0]||"",a=t.extract(e.url),i=t.parse(a,{sort:!1}),s=Object.assign(i,e.query);let u=t.stringify(s,n);u&&(u=`?${u}`);let l=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(l=`#${o(e.fragmentIdentifier,n)}`),`${r}${u}${l}`}},83:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(29),a=n(1),i=r.__importDefault(n(204));t.default=function(e,t,n){void 0===t&&(t=0),void 0===n&&(n=[]);var r=i.default(e,t),s=r[0],o=r[1],u=r[2];return a.useEffect(u,n),[s,o]}},84:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(1),a=n.n(r),i=n(19);const s=(e,t,n)=>!0===n?"danger":!1===t?"subdued":e?"primary":"secondary",o=({"aria-label":e,content:t,"data-test-subj":n,description:o,isEnabled:u,isInvalid:l,id:c,value:d})=>{const[f,p]=Object(r.useState)(!1);return a.a.createElement(i.EuiPopover,{id:c,anchorPosition:"downLeft",button:a.a.createElement(i.EuiExpression,{"aria-label":e,color:s(f,u,l),"data-test-subj":n,description:o,isActive:f,onClick:u?()=>p(!f):void 0,value:d}),isOpen:f,closePopover:()=>p(!1)},t)}},89:function(e,t,n){e.exports=n(24)(2395)},91:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var r=n(1),a=n(26),i=n(80),s=n(143),o=n(45),u=n(92);const l=e=>{var t,n,r,a;if(void 0===e)return{locations:[],ports:[],schemes:[],tags:[]};const{LOCATION:i,TAGS:s,TYPE:u,PORT:l}=o.j;return{locations:null!==(t=e.get(i))&&void 0!==t?t:[],ports:null!==(n=e.get(l))&&void 0!==n?n:[],schemes:null!==(r=e.get(u))&&void 0!==r?r:[],tags:null!==(a=e.get(s))&&void 0!==a?a:[]}},c=()=>{const{filters:e,excludedFilters:t}=Object(i.a)(),n=Object(a.useRouteMatch)(o.o);return Object(r.useMemo)((()=>{const r=Object(u.a)(e),a=Object(u.a)(t),{TAG:i,SCHEME:o,PORT:c,LOCATION:d}=s.a,{locations:f,ports:p,schemes:m,tags:g}=l(r),{locations:h,ports:v,schemes:b,tags:y}=l(a);return{excludedLocations:h,selectedTags:g,selectedPorts:p,selectedSchemes:m,selectedLocations:f,filtersList:[{field:"observer.geo.name",label:d,selectedItems:f,excludedItems:h},...n?[]:[{field:"url.port",label:c,selectedItems:p,excludedItems:v},{field:"monitor.type",label:o,selectedItems:m,excludedItems:b},{field:"tags",label:i,selectedItems:g,excludedItems:y}]]}}),[t,e,n])}},92:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u}));var r=n(1),a=n(80);const i=e=>{try{return new Map(JSON.parse(e))}catch{return new Map}},s=(e,t,n)=>{const r=new Map(e);r.set(t,null!=n?n:[]),r.forEach(((e,t)=>{void 0!==e&&0===e.length&&r.delete(t)}));const a=Array.from(r);return 0===a.length?"":JSON.stringify(a)};function o(e,t,n,r){e===n&&""===e||(r[t]=n)}const u=(e,t,n,u=!0)=>{const[l,c]=Object(a.b)(),{filters:d,excludedFilters:f}=l();Object(r.useEffect)((()=>{const r=i(d),a=i(f),l=s(r,e,t),p=s(a,e,n),m={};o(d,"filters",l,m),o(f,"excludedFilters",p,m),u&&Object.keys(m).length>0&&c({...m,pagination:""})}),[e,t,n])}},93:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return o}));var r=n(1),a=n.n(r);const i=Object(r.createContext)({}),s=({children:e,...t})=>a.a.createElement(i.Provider,{value:{...t},children:e}),o=()=>Object(r.useContext)(i)},95:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return i.b}));const r=(e,t)=>e||t?e?t?`(${e}) and (${t})`:e:t:"",a=e=>Array.from(e.keys()).map((t=>{const n=e.get(t);return n&&0!==n.length?n.reduce(((e,n,r,a)=>{let i=`${t}:${n}`;return"number"!=typeof n&&(n.indexOf(" ")>=0||n.indexOf(":")>=0)&&(i=`${t}:"${n}"`),1===a.length?i:a.length>1&&0===r?`(${i}`:r+1===a.length?`${e} or ${i})`:`${e} or ${i}`}),""):""})).reduce(((e,t,n,r)=>1===r.length||0===n?t:""===t?e:""===e&&t?t:`${e} and ${t}`),"");var i=n(103)}}]);